var Ow=Object.defineProperty;var Mw=(t,e,n)=>e in t?Ow(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Q=(t,e,n)=>Mw(t,typeof e!="symbol"?e+"":e,n);function Vw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function jw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var by={exports:{}},Gl={},Oy={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=Symbol.for("react.element"),Lw=Symbol.for("react.portal"),Fw=Symbol.for("react.fragment"),$w=Symbol.for("react.strict_mode"),Uw=Symbol.for("react.profiler"),Bw=Symbol.for("react.provider"),zw=Symbol.for("react.context"),Hw=Symbol.for("react.forward_ref"),Ww=Symbol.for("react.suspense"),Gw=Symbol.for("react.memo"),Qw=Symbol.for("react.lazy"),Jp=Symbol.iterator;function Kw(t){return t===null||typeof t!="object"?null:(t=Jp&&t[Jp]||t["@@iterator"],typeof t=="function"?t:null)}var My={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vy=Object.assign,jy={};function Xi(t,e,n){this.props=t,this.context=e,this.refs=jy,this.updater=n||My}Xi.prototype.isReactComponent={};Xi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ly(){}Ly.prototype=Xi.prototype;function gd(t,e,n){this.props=t,this.context=e,this.refs=jy,this.updater=n||My}var yd=gd.prototype=new Ly;yd.constructor=gd;Vy(yd,Xi.prototype);yd.isPureReactComponent=!0;var Zp=Array.isArray,Fy=Object.prototype.hasOwnProperty,vd={current:null},$y={key:!0,ref:!0,__self:!0,__source:!0};function Uy(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Fy.call(e,r)&&!$y.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Rs,type:t,key:o,ref:s,props:i,_owner:vd.current}}function qw(t,e){return{$$typeof:Rs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _d(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rs}function Yw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var em=/\/+/g;function Yu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yw(""+t.key):e.toString(36)}function Da(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Rs:case Lw:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Yu(s,0):r,Zp(i)?(n="",t!=null&&(n=t.replace(em,"$&/")+"/"),Da(i,e,n,"",function(h){return h})):i!=null&&(_d(i)&&(i=qw(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(em,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Zp(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+Yu(o,l);s+=Da(o,e,n,u,i)}else if(u=Kw(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+Yu(o,l++),s+=Da(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ia(t,e,n){if(t==null)return t;var r=[],i=0;return Da(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Xw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ft={current:null},ba={transition:null},Jw={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:ba,ReactCurrentOwner:vd};function By(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:ia,forEach:function(t,e,n){ia(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ia(t,function(){e++}),e},toArray:function(t){return ia(t,function(e){return e})||[]},only:function(t){if(!_d(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=Xi;X.Fragment=Fw;X.Profiler=Uw;X.PureComponent=gd;X.StrictMode=$w;X.Suspense=Ww;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jw;X.act=By;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Vy({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=vd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Fy.call(e,u)&&!$y.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Rs,type:t.type,key:i,ref:o,props:r,_owner:s}};X.createContext=function(t){return t={$$typeof:zw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bw,_context:t},t.Consumer=t};X.createElement=Uy;X.createFactory=function(t){var e=Uy.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Hw,render:t}};X.isValidElement=_d;X.lazy=function(t){return{$$typeof:Qw,_payload:{_status:-1,_result:t},_init:Xw}};X.memo=function(t,e){return{$$typeof:Gw,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=ba.transition;ba.transition={};try{t()}finally{ba.transition=e}};X.unstable_act=By;X.useCallback=function(t,e){return ft.current.useCallback(t,e)};X.useContext=function(t){return ft.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return ft.current.useDeferredValue(t)};X.useEffect=function(t,e){return ft.current.useEffect(t,e)};X.useId=function(){return ft.current.useId()};X.useImperativeHandle=function(t,e,n){return ft.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return ft.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return ft.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return ft.current.useMemo(t,e)};X.useReducer=function(t,e,n){return ft.current.useReducer(t,e,n)};X.useRef=function(t){return ft.current.useRef(t)};X.useState=function(t){return ft.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return ft.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return ft.current.useTransition()};X.version="18.3.1";Oy.exports=X;var M=Oy.exports;const en=jw(M),Zw=Vw({__proto__:null,default:en},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE=M,tE=Symbol.for("react.element"),nE=Symbol.for("react.fragment"),rE=Object.prototype.hasOwnProperty,iE=eE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oE={key:!0,ref:!0,__self:!0,__source:!0};function zy(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)rE.call(e,r)&&!oE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tE,type:t,key:o,ref:s,props:i,_owner:iE.current}}Gl.Fragment=nE;Gl.jsx=zy;Gl.jsxs=zy;by.exports=Gl;var y=by.exports,it=function(){return it=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},it.apply(this,arguments)};function Jo(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var de="-ms-",Vo="-moz-",ie="-webkit-",Hy="comm",Ql="rule",wd="decl",sE="@import",Wy="@keyframes",aE="@layer",Gy=Math.abs,Ed=String.fromCharCode,$c=Object.assign;function lE(t,e){return Ve(t,0)^45?(((e<<2^Ve(t,0))<<2^Ve(t,1))<<2^Ve(t,2))<<2^Ve(t,3):0}function Qy(t){return t.trim()}function wn(t,e){return(t=e.exec(t))?t[0]:t}function q(t,e,n){return t.replace(e,n)}function Oa(t,e,n){return t.indexOf(e,n)}function Ve(t,e){return t.charCodeAt(e)|0}function Oi(t,e,n){return t.slice(e,n)}function ln(t){return t.length}function Ky(t){return t.length}function Ro(t,e){return e.push(t),t}function uE(t,e){return t.map(e).join("")}function tm(t,e){return t.filter(function(n){return!wn(n,e)})}var Kl=1,Mi=1,qy=0,Wt=0,Pe=0,Ji="";function ql(t,e,n,r,i,o,s,l){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Kl,column:Mi,length:s,return:"",siblings:l}}function $n(t,e){return $c(ql("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function si(t){for(;t.root;)t=$n(t.root,{children:[t]});Ro(t,t.siblings)}function cE(){return Pe}function hE(){return Pe=Wt>0?Ve(Ji,--Wt):0,Mi--,Pe===10&&(Mi=1,Kl--),Pe}function tn(){return Pe=Wt<qy?Ve(Ji,Wt++):0,Mi++,Pe===10&&(Mi=1,Kl++),Pe}function Mr(){return Ve(Ji,Wt)}function Ma(){return Wt}function Yl(t,e){return Oi(Ji,t,e)}function Uc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dE(t){return Kl=Mi=1,qy=ln(Ji=t),Wt=0,[]}function fE(t){return Ji="",t}function Xu(t){return Qy(Yl(Wt-1,Bc(t===91?t+2:t===40?t+1:t)))}function pE(t){for(;(Pe=Mr())&&Pe<33;)tn();return Uc(t)>2||Uc(Pe)>3?"":" "}function mE(t,e){for(;--e&&tn()&&!(Pe<48||Pe>102||Pe>57&&Pe<65||Pe>70&&Pe<97););return Yl(t,Ma()+(e<6&&Mr()==32&&tn()==32))}function Bc(t){for(;tn();)switch(Pe){case t:return Wt;case 34:case 39:t!==34&&t!==39&&Bc(Pe);break;case 40:t===41&&Bc(t);break;case 92:tn();break}return Wt}function gE(t,e){for(;tn()&&t+Pe!==57;)if(t+Pe===84&&Mr()===47)break;return"/*"+Yl(e,Wt-1)+"*"+Ed(t===47?t:tn())}function yE(t){for(;!Uc(Mr());)tn();return Yl(t,Wt)}function vE(t){return fE(Va("",null,null,null,[""],t=dE(t),0,[0],t))}function Va(t,e,n,r,i,o,s,l,u){for(var h=0,p=0,f=s,m=0,_=0,x=0,P=1,D=1,S=1,E=0,A="",b=i,L=o,j=r,w=A;D;)switch(x=E,E=tn()){case 40:if(x!=108&&Ve(w,f-1)==58){Oa(w+=q(Xu(E),"&","&\f"),"&\f",Gy(h?l[h-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:w+=Xu(E);break;case 9:case 10:case 13:case 32:w+=pE(x);break;case 92:w+=mE(Ma()-1,7);continue;case 47:switch(Mr()){case 42:case 47:Ro(_E(gE(tn(),Ma()),e,n,u),u);break;default:w+="/"}break;case 123*P:l[h++]=ln(w)*S;case 125*P:case 59:case 0:switch(E){case 0:case 125:D=0;case 59+p:S==-1&&(w=q(w,/\f/g,"")),_>0&&ln(w)-f&&Ro(_>32?rm(w+";",r,n,f-1,u):rm(q(w," ","")+";",r,n,f-2,u),u);break;case 59:w+=";";default:if(Ro(j=nm(w,e,n,h,p,i,l,A,b=[],L=[],f,o),o),E===123)if(p===0)Va(w,e,j,j,b,o,f,l,L);else switch(m===99&&Ve(w,3)===110?100:m){case 100:case 108:case 109:case 115:Va(t,j,j,r&&Ro(nm(t,j,j,0,0,i,l,A,i,b=[],f,L),L),i,L,f,l,r?b:L);break;default:Va(w,j,j,j,[""],L,0,l,L)}}h=p=_=0,P=S=1,A=w="",f=s;break;case 58:f=1+ln(w),_=x;default:if(P<1){if(E==123)--P;else if(E==125&&P++==0&&hE()==125)continue}switch(w+=Ed(E),E*P){case 38:S=p>0?1:(w+="\f",-1);break;case 44:l[h++]=(ln(w)-1)*S,S=1;break;case 64:Mr()===45&&(w+=Xu(tn())),m=Mr(),p=f=ln(A=w+=yE(Ma())),E++;break;case 45:x===45&&ln(w)==2&&(P=0)}}return o}function nm(t,e,n,r,i,o,s,l,u,h,p,f){for(var m=i-1,_=i===0?o:[""],x=Ky(_),P=0,D=0,S=0;P<r;++P)for(var E=0,A=Oi(t,m+1,m=Gy(D=s[P])),b=t;E<x;++E)(b=Qy(D>0?_[E]+" "+A:q(A,/&\f/g,_[E])))&&(u[S++]=b);return ql(t,e,n,i===0?Ql:l,u,h,p,f)}function _E(t,e,n,r){return ql(t,e,n,Hy,Ed(cE()),Oi(t,2,-2),0,r)}function rm(t,e,n,r,i){return ql(t,e,n,wd,Oi(t,0,r),Oi(t,r+1,-1),r,i)}function Yy(t,e,n){switch(lE(t,e)){case 5103:return ie+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ie+t+t;case 4789:return Vo+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ie+t+Vo+t+de+t+t;case 5936:switch(Ve(t,e+11)){case 114:return ie+t+de+q(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ie+t+de+q(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ie+t+de+q(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ie+t+de+t+t;case 6165:return ie+t+de+"flex-"+t+t;case 5187:return ie+t+q(t,/(\w+).+(:[^]+)/,ie+"box-$1$2"+de+"flex-$1$2")+t;case 5443:return ie+t+de+"flex-item-"+q(t,/flex-|-self/g,"")+(wn(t,/flex-|baseline/)?"":de+"grid-row-"+q(t,/flex-|-self/g,""))+t;case 4675:return ie+t+de+"flex-line-pack"+q(t,/align-content|flex-|-self/g,"")+t;case 5548:return ie+t+de+q(t,"shrink","negative")+t;case 5292:return ie+t+de+q(t,"basis","preferred-size")+t;case 6060:return ie+"box-"+q(t,"-grow","")+ie+t+de+q(t,"grow","positive")+t;case 4554:return ie+q(t,/([^-])(transform)/g,"$1"+ie+"$2")+t;case 6187:return q(q(q(t,/(zoom-|grab)/,ie+"$1"),/(image-set)/,ie+"$1"),t,"")+t;case 5495:case 3959:return q(t,/(image-set\([^]*)/,ie+"$1$`$1");case 4968:return q(q(t,/(.+:)(flex-)?(.*)/,ie+"box-pack:$3"+de+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ie+t+t;case 4200:if(!wn(t,/flex-|baseline/))return de+"grid-column-align"+Oi(t,e)+t;break;case 2592:case 3360:return de+q(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,wn(r.props,/grid-\w+-end/)})?~Oa(t+(n=n[e].value),"span",0)?t:de+q(t,"-start","")+t+de+"grid-row-span:"+(~Oa(n,"span",0)?wn(n,/\d+/):+wn(n,/\d+/)-+wn(t,/\d+/))+";":de+q(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return wn(r.props,/grid-\w+-start/)})?t:de+q(q(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return q(t,/(.+)-inline(.+)/,ie+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ln(t)-1-e>6)switch(Ve(t,e+1)){case 109:if(Ve(t,e+4)!==45)break;case 102:return q(t,/(.+:)(.+)-([^]+)/,"$1"+ie+"$2-$3$1"+Vo+(Ve(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Oa(t,"stretch",0)?Yy(q(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return q(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,l,u,h){return de+i+":"+o+h+(s?de+i+"-span:"+(l?u:+u-+o)+h:"")+t});case 4949:if(Ve(t,e+6)===121)return q(t,":",":"+ie)+t;break;case 6444:switch(Ve(t,Ve(t,14)===45?18:11)){case 120:return q(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ie+(Ve(t,14)===45?"inline-":"")+"box$3$1"+ie+"$2$3$1"+de+"$2box$3")+t;case 100:return q(t,":",":"+de)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return q(t,"scroll-","scroll-snap-")+t}return t}function el(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function wE(t,e,n,r){switch(t.type){case aE:if(t.children.length)break;case sE:case wd:return t.return=t.return||t.value;case Hy:return"";case Wy:return t.return=t.value+"{"+el(t.children,r)+"}";case Ql:if(!ln(t.value=t.props.join(",")))return""}return ln(n=el(t.children,r))?t.return=t.value+"{"+n+"}":""}function EE(t){var e=Ky(t);return function(n,r,i,o){for(var s="",l=0;l<e;l++)s+=t[l](n,r,i,o)||"";return s}}function SE(t){return function(e){e.root||(e=e.return)&&t(e)}}function TE(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case wd:t.return=Yy(t.value,t.length,n);return;case Wy:return el([$n(t,{value:q(t.value,"@","@"+ie)})],r);case Ql:if(t.length)return uE(n=t.props,function(i){switch(wn(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":si($n(t,{props:[q(i,/:(read-\w+)/,":"+Vo+"$1")]})),si($n(t,{props:[i]})),$c(t,{props:tm(n,r)});break;case"::placeholder":si($n(t,{props:[q(i,/:(plac\w+)/,":"+ie+"input-$1")]})),si($n(t,{props:[q(i,/:(plac\w+)/,":"+Vo+"$1")]})),si($n(t,{props:[q(i,/:(plac\w+)/,de+"input-$1")]})),si($n(t,{props:[i]})),$c(t,{props:tm(n,r)});break}return""})}}var xE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},It={},Vi=typeof process<"u"&&It!==void 0&&(It.REACT_APP_SC_ATTR||It.SC_ATTR)||"data-styled",Xy="active",Jy="data-styled-version",Xl="6.1.13",Sd=`/*!sc*/
`,tl=typeof window<"u"&&"HTMLElement"in window,CE=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&It!==void 0&&It.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&It.REACT_APP_SC_DISABLE_SPEEDY!==""?It.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&It.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&It!==void 0&&It.SC_DISABLE_SPEEDY!==void 0&&It.SC_DISABLE_SPEEDY!==""&&It.SC_DISABLE_SPEEDY!=="false"&&It.SC_DISABLE_SPEEDY),AE={},Jl=Object.freeze([]),ji=Object.freeze({});function Zy(t,e,n){return n===void 0&&(n=ji),t.theme!==n.theme&&t.theme||e||n.theme}var ev=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),IE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,PE=/(^-|-$)/g;function im(t){return t.replace(IE,"-").replace(PE,"")}var kE=/(a)(d)/gi,oa=52,om=function(t){return String.fromCharCode(t+(t>25?39:97))};function zc(t){var e,n="";for(e=Math.abs(t);e>oa;e=e/oa|0)n=om(e%oa)+n;return(om(e%oa)+n).replace(kE,"$1-$2")}var Ju,tv=5381,di=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},nv=function(t){return di(tv,t)};function rv(t){return zc(nv(t)>>>0)}function RE(t){return t.displayName||t.name||"Component"}function Zu(t){return typeof t=="string"&&!0}var iv=typeof Symbol=="function"&&Symbol.for,ov=iv?Symbol.for("react.memo"):60115,NE=iv?Symbol.for("react.forward_ref"):60112,DE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OE=((Ju={})[NE]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ju[ov]=sv,Ju);function sm(t){return("type"in(e=t)&&e.type.$$typeof)===ov?sv:"$$typeof"in t?OE[t.$$typeof]:DE;var e}var ME=Object.defineProperty,VE=Object.getOwnPropertyNames,am=Object.getOwnPropertySymbols,jE=Object.getOwnPropertyDescriptor,LE=Object.getPrototypeOf,lm=Object.prototype;function av(t,e,n){if(typeof e!="string"){if(lm){var r=LE(e);r&&r!==lm&&av(t,r,n)}var i=VE(e);am&&(i=i.concat(am(e)));for(var o=sm(t),s=sm(e),l=0;l<i.length;++l){var u=i[l];if(!(u in bE||n&&n[u]||s&&u in s||o&&u in o)){var h=jE(e,u);try{ME(t,u,h)}catch{}}}}return t}function Li(t){return typeof t=="function"}function Td(t){return typeof t=="object"&&"styledComponentId"in t}function kr(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Hc(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Zo(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Wc(t,e,n){if(n===void 0&&(n=!1),!n&&!Zo(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Wc(t[r],e[r]);else if(Zo(e))for(var r in e)t[r]=Wc(t[r],e[r]);return t}function xd(t,e){Object.defineProperty(t,"toString",{value:e})}function Ns(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var FE=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw Ns(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var l=this.indexOfGroup(e+1),u=(s=0,n.length);s<u;s++)this.tag.insertRule(l,n[s])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(Sd);return n},t}(),ja=new Map,nl=new Map,La=1,sa=function(t){if(ja.has(t))return ja.get(t);for(;nl.has(La);)La++;var e=La++;return ja.set(t,e),nl.set(e,t),e},$E=function(t,e){La=e+1,ja.set(t,e),nl.set(e,t)},UE="style[".concat(Vi,"][").concat(Jy,'="').concat(Xl,'"]'),BE=new RegExp("^".concat(Vi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),zE=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},HE=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Sd),i=[],o=0,s=r.length;o<s;o++){var l=r[o].trim();if(l){var u=l.match(BE);if(u){var h=0|parseInt(u[1],10),p=u[2];h!==0&&($E(p,h),zE(t,p,u[3]),t.getTag().insertRules(h,i)),i.length=0}else i.push(l)}}},um=function(t){for(var e=document.querySelectorAll(UE),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Vi)!==Xy&&(HE(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function WE(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var lv=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){var u=Array.from(l.querySelectorAll("style[".concat(Vi,"]")));return u[u.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Vi,Xy),r.setAttribute(Jy,Xl);var s=WE();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},GE=function(){function t(e){this.element=lv(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw Ns(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),QE=function(){function t(e){this.element=lv(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),KE=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),cm=tl,qE={isServer:!tl,useCSSOMInjection:!CE},rl=function(){function t(e,n,r){e===void 0&&(e=ji),n===void 0&&(n={});var i=this;this.options=it(it({},qE),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&tl&&cm&&(cm=!1,um(this)),xd(this,function(){return function(o){for(var s=o.getTag(),l=s.length,u="",h=function(f){var m=function(S){return nl.get(S)}(f);if(m===void 0)return"continue";var _=o.names.get(m),x=s.getGroup(f);if(_===void 0||!_.size||x.length===0)return"continue";var P="".concat(Vi,".g").concat(f,'[id="').concat(m,'"]'),D="";_!==void 0&&_.forEach(function(S){S.length>0&&(D+="".concat(S,","))}),u+="".concat(x).concat(P,'{content:"').concat(D,'"}').concat(Sd)},p=0;p<l;p++)h(p);return u}(i)})}return t.registerId=function(e){return sa(e)},t.prototype.rehydrate=function(){!this.server&&tl&&um(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(it(it({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new KE(i):r?new GE(i):new QE(i)}(this.options),new FE(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(sa(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(sa(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(sa(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),YE=/&/g,XE=/^\s*\/\/.*$/gm;function uv(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=uv(n.children,e)),n})}function JE(t){var e,n,r,i=ji,o=i.options,s=o===void 0?ji:o,l=i.plugins,u=l===void 0?Jl:l,h=function(m,_,x){return x.startsWith(n)&&x.endsWith(n)&&x.replaceAll(n,"").length>0?".".concat(e):m},p=u.slice();p.push(function(m){m.type===Ql&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(YE,n).replace(r,h))}),s.prefix&&p.push(TE),p.push(wE);var f=function(m,_,x,P){_===void 0&&(_=""),x===void 0&&(x=""),P===void 0&&(P="&"),e=P,n=_,r=new RegExp("\\".concat(n,"\\b"),"g");var D=m.replace(XE,""),S=vE(x||_?"".concat(x," ").concat(_," { ").concat(D," }"):D);s.namespace&&(S=uv(S,s.namespace));var E=[];return el(S,EE(p.concat(SE(function(A){return E.push(A)})))),E};return f.hash=u.length?u.reduce(function(m,_){return _.name||Ns(15),di(m,_.name)},tv).toString():"",f}var ZE=new rl,Gc=JE(),cv=en.createContext({shouldForwardProp:void 0,styleSheet:ZE,stylis:Gc});cv.Consumer;en.createContext(void 0);function Qc(){return M.useContext(cv)}var eS=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=Gc);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,xd(this,function(){throw Ns(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Gc),this.name+e.hash},t}(),tS=function(t){return t>="A"&&t<="Z"};function hm(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;tS(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var hv=function(t){return t==null||t===!1||t===""},dv=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!hv(o)&&(Array.isArray(o)&&o.isCss||Li(o)?r.push("".concat(hm(i),":"),o,";"):Zo(o)?r.push.apply(r,Jo(Jo(["".concat(i," {")],dv(o),!1),["}"],!1)):r.push("".concat(hm(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in xE||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Kn(t,e,n,r){if(hv(t))return[];if(Td(t))return[".".concat(t.styledComponentId)];if(Li(t)){if(!Li(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return Kn(i,e,n,r)}var o;return t instanceof eS?n?(t.inject(n,r),[t.getName(r)]):[t]:Zo(t)?dv(t):Array.isArray(t)?Array.prototype.concat.apply(Jl,t.map(function(s){return Kn(s,e,n,r)})):[t.toString()]}function fv(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Li(n)&&!Td(n))return!1}return!0}var nS=nv(Xl),rS=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&fv(e),this.componentId=n,this.baseHash=di(nS,n),this.baseStyle=r,rl.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=kr(i,this.staticRulesId);else{var o=Hc(Kn(this.rules,e,n,r)),s=zc(di(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var l=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,l)}i=kr(i,s),this.staticRulesId=s}else{for(var u=di(this.baseHash,r.hash),h="",p=0;p<this.rules.length;p++){var f=this.rules[p];if(typeof f=="string")h+=f;else if(f){var m=Hc(Kn(f,e,n,r));u=di(u,m+p),h+=m}}if(h){var _=zc(u>>>0);n.hasNameForId(this.componentId,_)||n.insertRules(this.componentId,_,r(h,".".concat(_),void 0,this.componentId)),i=kr(i,_)}}return i},t}(),Cd=en.createContext(void 0);Cd.Consumer;var ec={};function iS(t,e,n){var r=Td(t),i=t,o=!Zu(t),s=e.attrs,l=s===void 0?Jl:s,u=e.componentId,h=u===void 0?function(b,L){var j=typeof b!="string"?"sc":im(b);ec[j]=(ec[j]||0)+1;var w="".concat(j,"-").concat(rv(Xl+j+ec[j]));return L?"".concat(L,"-").concat(w):w}(e.displayName,e.parentComponentId):u,p=e.displayName,f=p===void 0?function(b){return Zu(b)?"styled.".concat(b):"Styled(".concat(RE(b),")")}(t):p,m=e.displayName&&e.componentId?"".concat(im(e.displayName),"-").concat(e.componentId):e.componentId||h,_=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,x=e.shouldForwardProp;if(r&&i.shouldForwardProp){var P=i.shouldForwardProp;if(e.shouldForwardProp){var D=e.shouldForwardProp;x=function(b,L){return P(b,L)&&D(b,L)}}else x=P}var S=new rS(n,m,r?i.componentStyle:void 0);function E(b,L){return function(j,w,g){var T=j.attrs,I=j.componentStyle,k=j.defaultProps,R=j.foldedComponentIds,C=j.styledComponentId,at=j.target,mn=en.useContext(Cd),vr=Qc(),xt=j.shouldForwardProp||vr.shouldForwardProp,B=Zy(w,mn,k)||ji,W=function(mt,lt,gt){for(var _r,gn=it(it({},lt),{className:void 0,theme:gt}),On=0;On<mt.length;On+=1){var yn=Li(_r=mt[On])?_r(gn):_r;for(var Lt in yn)gn[Lt]=Lt==="className"?kr(gn[Lt],yn[Lt]):Lt==="style"?it(it({},gn[Lt]),yn[Lt]):yn[Lt]}return lt.className&&(gn.className=kr(gn.className,lt.className)),gn}(T,w,B),K=W.as||at,oe={};for(var J in W)W[J]===void 0||J[0]==="$"||J==="as"||J==="theme"&&W.theme===B||(J==="forwardedAs"?oe.as=W.forwardedAs:xt&&!xt(J,K)||(oe[J]=W[J]));var me=function(mt,lt){var gt=Qc(),_r=mt.generateAndInjectStyles(lt,gt.styleSheet,gt.stylis);return _r}(I,W),Ct=kr(R,C);return me&&(Ct+=" "+me),W.className&&(Ct+=" "+W.className),oe[Zu(K)&&!ev.has(K)?"class":"className"]=Ct,oe.ref=g,M.createElement(K,oe)}(A,b,L)}E.displayName=f;var A=en.forwardRef(E);return A.attrs=_,A.componentStyle=S,A.displayName=f,A.shouldForwardProp=x,A.foldedComponentIds=r?kr(i.foldedComponentIds,i.styledComponentId):"",A.styledComponentId=m,A.target=r?i.target:t,Object.defineProperty(A,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?function(L){for(var j=[],w=1;w<arguments.length;w++)j[w-1]=arguments[w];for(var g=0,T=j;g<T.length;g++)Wc(L,T[g],!0);return L}({},i.defaultProps,b):b}}),xd(A,function(){return".".concat(A.styledComponentId)}),o&&av(A,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),A}function dm(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var fm=function(t){return Object.assign(t,{isCss:!0})};function pv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Li(t)||Zo(t))return fm(Kn(dm(Jl,Jo([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Kn(r):fm(Kn(dm(r,e)))}function Kc(t,e,n){if(n===void 0&&(n=ji),!e)throw Ns(1,e);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,pv.apply(void 0,Jo([i],o,!1)))};return r.attrs=function(i){return Kc(t,e,it(it({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Kc(t,e,it(it({},n),i))},r}var mv=function(t){return Kc(iS,t)},Mt=mv;ev.forEach(function(t){Mt[t]=mv(t)});var oS=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=fv(e),rl.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var o=i(Hc(Kn(this.rules,n,r,i)),""),s=this.componentId+e;r.insertRules(s,s,o)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&rl.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function sS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=pv.apply(void 0,Jo([t],e,!1)),i="sc-global-".concat(rv(JSON.stringify(r))),o=new oS(r,i),s=function(u){var h=Qc(),p=en.useContext(Cd),f=en.useRef(h.styleSheet.allocateGSInstance(i)).current;return h.styleSheet.server&&l(f,u,h.styleSheet,p,h.stylis),en.useLayoutEffect(function(){if(!h.styleSheet.server)return l(f,u,h.styleSheet,p,h.stylis),function(){return o.removeStyles(f,h.styleSheet)}},[f,u,h.styleSheet,p,h.stylis]),null};function l(u,h,p,f,m){if(o.isStatic)o.renderStyles(u,AE,p,m);else{var _=it(it({},h),{theme:Zy(h,f,s.defaultProps)});o.renderStyles(u,_,p,m)}}return en.memo(s)}const $r=Mt.div`
  margin: 0 0.5rem;
`;var qc=function(t,e){return qc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},qc(t,e)};function Zi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qc(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Yc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Jc(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function cn(t){return typeof t=="function"}function Ad(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tc=Ad(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Zc(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Zl=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var l=Yc(s),u=l.next();!u.done;u=l.next()){var h=u.value;h.remove(this)}}catch(P){e={error:P}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}else s.remove(this);var p=this.initialTeardown;if(cn(p))try{p()}catch(P){o=P instanceof tc?P.errors:[P]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var m=Yc(f),_=m.next();!_.done;_=m.next()){var x=_.value;try{pm(x)}catch(P){o=o??[],P instanceof tc?o=Jc(Jc([],Xc(o)),Xc(P.errors)):o.push(P)}}}catch(P){r={error:P}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}}if(o)throw new tc(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)pm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Zc(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Zc(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),gv=Zl.EMPTY;function yv(t){return t instanceof Zl||t&&"closed"in t&&cn(t.remove)&&cn(t.add)&&cn(t.unsubscribe)}function pm(t){cn(t)?t():t.unsubscribe()}var vv={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},aS={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Jc([t,e],Xc(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function lS(t){aS.setTimeout(function(){throw t})}function mm(){}function Fa(t){t()}var Id=function(t){Zi(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,yv(n)&&n.add(r)):r.destination=dS,r}return e.create=function(n,r,i){return new eh(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Zl),uS=Function.prototype.bind;function nc(t,e){return uS.call(t,e)}var cS=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){aa(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){aa(r)}else aa(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){aa(n)}},t}(),eh=function(t){Zi(e,t);function e(n,r,i){var o=t.call(this)||this,s;if(cn(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var l;o&&vv.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=function(){return o.unsubscribe()},s={next:n.next&&nc(n.next,l),error:n.error&&nc(n.error,l),complete:n.complete&&nc(n.complete,l)}):s=n}return o.destination=new cS(s),o}return e}(Id);function aa(t){lS(t)}function hS(t){throw t}var dS={closed:!0,next:mm,error:hS,complete:mm},fS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function _v(t){return t}function pS(t){return t.length===0?_v:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var th=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,o=gS(e)?e:new eh(e,n,r);return Fa(function(){var s=i,l=s.operator,u=s.source;o.add(l?l.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=gm(n),new n(function(i,o){var s=new eh({next:function(l){try{e(l)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[fS]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return pS(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=gm(e),new e(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function gm(t){var e;return(e=t??vv.Promise)!==null&&e!==void 0?e:Promise}function mS(t){return t&&cn(t.next)&&cn(t.error)&&cn(t.complete)}function gS(t){return t&&t instanceof Id||mS(t)&&yv(t)}function yS(t){return cn(t==null?void 0:t.lift)}function Pd(t){return function(e){if(yS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function kd(t,e,n,r,i){return new vS(t,e,n,r,i)}var vS=function(t){Zi(e,t);function e(n,r,i,o,s,l){var u=t.call(this,n)||this;return u.onFinalize=s,u.shouldUnsubscribe=l,u._next=r?function(h){try{r(h)}catch(p){n.error(p)}}:t.prototype._next,u._error=o?function(h){try{o(h)}catch(p){n.error(p)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(h){n.error(h)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Id),_S=Ad(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),eo=function(t){Zi(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new ym(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new _S},e.prototype.next=function(n){var r=this;Fa(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Yc(r.currentObservers),l=s.next();!l.done;l=s.next()){var u=l.value;u.next(n)}}catch(h){i={error:h}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Fa(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Fa(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,s=i.isStopped,l=i.observers;return o||s?gv:(this.currentObservers=null,l.push(n),new Zl(function(){r.currentObservers=null,Zc(l,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?n.error(o):s&&n.complete()},e.prototype.asObservable=function(){var n=new th;return n.source=this,n},e.create=function(n,r){return new ym(n,r)},e}(th),ym=function(t){Zi(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:gv},e}(eo),vm=function(t){Zi(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(eo),wS=new th(function(t){return t.complete()}),wv=Ad(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function ES(t){return Pd(function(e,n){var r=!1;e.subscribe(kd(n,function(i){r=!0,n.next(i)},function(){r||n.next(t),n.complete()}))})}function SS(t){return t<=0?function(){return wS}:Pd(function(e,n){var r=0;e.subscribe(kd(n,function(i){++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function TS(t){return t===void 0&&(t=xS),Pd(function(e,n){var r=!1;e.subscribe(kd(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(t())}))})}function xS(){return new wv}function CS(t,e){var n=arguments.length>=2;return function(r){return r.pipe(_v,SS(1),n?ES(e):TS(function(){return new wv}))}}class AS{constructor(){Q(this,"errorsFeed$");Q(this,"lastError$");this.errorsFeed$=new vm([]),this.lastError$=new vm(void 0)}add(e){let n=[];this.errorsFeed$.subscribe(o=>{n=o}).unsubscribe();const i=[...n,e];console.error(i),this.errorsFeed$.next(i),this.lastError$.next(e)}deleteAll(){this.errorsFeed$.next([]),this.lastError$.next(void 0)}}const es=new AS,In=t=>t?new Error(`This code path should have never been executed: ${t}`):new Error("This code path should have never been executed"),IS="small",ai={fill:"currentColor"};function PS({icon:t}){switch(t){case"arrow-left":return["0 0 512 512",y.jsx("path",{...ai,d:"M 475,219.46 H 125 L 245,99 A 36.7,36.7 0 0 0 193.33,47.33 L 10.6,230 a 37.1,37.1 0 0 0 0,52 L 193.3,464.7 a 36.7,36.7 0 0 0 51.9,-51.9 L 125,292 h 350.47 c 20.1,0 36.55,-16.45 36.55,-36.55 0,-20.1 -16.8,-36.55 -36.9,-36.55 z"})];case"bin":return["0 0 16 16",[y.jsx("path",{...ai,d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.8824zM2.53h11V2h-11z"},"bin-1"),y.jsx("path",{...ai,d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},"bin-2")]];case"pencil":return["0 0 16 16",y.jsx("path",{...ai,d:"M3.25 10.26l2.47 2.47 6.69-6.69-2.46-2.48-6.7 6.7zM.99 14.99l3.86-1.39-2.46-2.44-1.4 3.83zm12.25-14c-.48 0-.92.2-1.24.51l-1.44 1.44 2.47 2.47 1.44-1.44c.32-.32.51-.75.51-1.24.01-.95-.77-1.74-1.74-1.74z"})];case"gear":return["0 0 512 512",y.jsx("path",{...ai,d:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"})];case"rotate":return["0 0 512 512",y.jsx("path",{...ai,d:"M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"})];default:throw In(`unsupported icon '${t}'`)}}function kS({size:t}){switch(t){case"small":return{width:"0.9rem",height:"0.9rem"};case"large":return{width:"1.2rem",height:"1.2rem"};case"extralarge":return{width:"1.5rem",height:"1.5rem"};default:throw In(`unsupported size '${t}'`)}}function RS({icon:t,size:e}){const{width:n,height:r}=kS({size:e||IS}),[i,o]=PS({icon:t});return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"fill-current","aria-hidden":"true",focusable:"false",viewBox:i,width:n,height:r,role:"icon",children:o})}function we({text:t,active:e,disabled:n,icon:r,iconSize:i,onClick:o}){const s="text-sm py-2 px-3 rounded inline-flex items-center gap-2 focus:outline-none",l=" bg-gray-300  dark:bg-gray-600  text-gray-700  dark:text-gray-300",u=" bg-gray-400  dark:bg-gray-400  text-gray-100  dark:text-gray-800",h=" opacity-50 cursor-not-allowed";let p=s;n?p+=h:e?p+=u:p+=l;let f={};return i&&(f={size:i}),y.jsxs("button",{className:p,disabled:n,onClick:o,children:[r&&y.jsx(RS,{icon:r,...f}),t!==void 0&&y.jsx("span",{children:t})]})}function NS(){const[t,e]=M.useState([]);return M.useEffect(()=>{const n=es.errorsFeed$.subscribe(e);return()=>{n.unsubscribe()}},[]),!t||t.length===0?null:y.jsxs("div",{className:"p-3",children:[y.jsx("div",{className:"flex flex-row justify-end pb-3",children:y.jsx(we,{text:"Clear all error messages",onClick:()=>es.deleteAll()})}),y.jsx("div",{className:"flex flex-col gap-2",role:"error-list",children:t.map((n,r)=>y.jsx(DS,{error:n},`error-${r}`))})]})}function DS({error:{header:t,description:e}}){return y.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-red-800",role:"error",children:[y.jsx("div",{className:"font-bold",role:"error-header",children:t}),y.jsx("div",{className:"",role:"error-description",children:e})]})}function bS({children:t,className:e}){return y.jsx("div",{className:`h-screen ${e}`,children:t})}function OS({children:t,className:e}){return y.jsx("div",{className:e,children:t})}function MS({children:t,className:e}){return y.jsx("div",{className:`h-screen flex flex-col flex-nowrap justify-center ${e}`,children:t})}const la={Parent:bS,Content:OS,ContentFullyCentered:MS};var Ut=(t=>(t.root="/",t.expenseEditor="/expenses/:expenseId",t.paymentAccounts="/payment-accounts",t.settings="/settings",t.notFound="/*",t))(Ut||{});function Rd(t,e){throw new Error(e||`BUG: please make sure this value never reaches here: ${t}`)}const nh="dark",Ev=M.createContext({theme:nh,setTheme:t=>{}});function VS(){const{theme:t,setTheme:e}=M.useContext(Ev);function n(){switch(t){case"light":return e("dark");case"dark":return e("light");default:Rd(t,`unsupported theme: ${t}`)}}return y.jsx("div",{className:"cursor-pointer hover:text-blue-300",onClick:n,children:t})}var Sv={exports:{}},Vt={},Tv={exports:{}},xv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var K=B.length;B.push(W);e:for(;0<K;){var oe=K-1>>>1,J=B[oe];if(0<i(J,W))B[oe]=W,B[K]=J,K=oe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],K=B.pop();if(K!==W){B[0]=K;e:for(var oe=0,J=B.length,me=J>>>1;oe<me;){var Ct=2*(oe+1)-1,mt=B[Ct],lt=Ct+1,gt=B[lt];if(0>i(mt,K))lt<J&&0>i(gt,mt)?(B[oe]=gt,B[lt]=K,oe=lt):(B[oe]=mt,B[Ct]=K,oe=Ct);else if(lt<J&&0>i(gt,K))B[oe]=gt,B[lt]=K,oe=lt;else break e}}return W}function i(B,W){var K=B.sortIndex-W.sortIndex;return K!==0?K:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],h=[],p=1,f=null,m=3,_=!1,x=!1,P=!1,D=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(B){for(var W=n(h);W!==null;){if(W.callback===null)r(h);else if(W.startTime<=B)r(h),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(h)}}function b(B){if(P=!1,A(B),!x)if(n(u)!==null)x=!0,vr(L);else{var W=n(h);W!==null&&xt(b,W.startTime-B)}}function L(B,W){x=!1,P&&(P=!1,S(g),g=-1),_=!0;var K=m;try{for(A(W),f=n(u);f!==null&&(!(f.expirationTime>W)||B&&!k());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,m=f.priorityLevel;var J=oe(f.expirationTime<=W);W=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(u)&&r(u),A(W)}else r(u);f=n(u)}if(f!==null)var me=!0;else{var Ct=n(h);Ct!==null&&xt(b,Ct.startTime-W),me=!1}return me}finally{f=null,m=K,_=!1}}var j=!1,w=null,g=-1,T=5,I=-1;function k(){return!(t.unstable_now()-I<T)}function R(){if(w!==null){var B=t.unstable_now();I=B;var W=!0;try{W=w(!0,B)}finally{W?C():(j=!1,w=null)}}else j=!1}var C;if(typeof E=="function")C=function(){E(R)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,mn=at.port2;at.port1.onmessage=R,C=function(){mn.postMessage(null)}}else C=function(){D(R,0)};function vr(B){w=B,j||(j=!0,C())}function xt(B,W){g=D(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,vr(L))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var K=m;m=W;try{return B()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=m;m=B;try{return W()}finally{m=K}},t.unstable_scheduleCallback=function(B,W,K){var oe=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?oe+K:oe):K=oe,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=K+J,B={id:p++,callback:W,priorityLevel:B,startTime:K,expirationTime:J,sortIndex:-1},K>oe?(B.sortIndex=K,e(h,B),n(u)===null&&B===n(h)&&(P?(S(g),g=-1):P=!0,xt(b,K-oe))):(B.sortIndex=J,e(u,B),x||_||(x=!0,vr(L))),B},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(B){var W=m;return function(){var K=m;m=W;try{return B.apply(this,arguments)}finally{m=K}}}})(xv);Tv.exports=xv;var jS=Tv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS=M,Ot=jS;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cv=new Set,ts={};function Xr(t,e){Fi(t,e),Fi(t+"Capture",e)}function Fi(t,e){for(ts[t]=e,t=0;t<e.length;t++)Cv.add(e[t])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=Object.prototype.hasOwnProperty,FS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_m={},wm={};function $S(t){return rh.call(wm,t)?!0:rh.call(_m,t)?!1:FS.test(t)?wm[t]=!0:(_m[t]=!0,!1)}function US(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BS(t,e,n,r){if(e===null||typeof e>"u"||US(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nd=/[\-:]([a-z])/g;function Dd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nd,Dd);Ke[e]=new pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nd,Dd);Ke[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nd,Dd);Ke[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new pt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function bd(t,e,n,r){var i=Ke.hasOwnProperty(e)?Ke[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BS(e,n,i,r)&&(n=null),r||i===null?$S(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bn=LS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ua=Symbol.for("react.element"),fi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),Od=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),Av=Symbol.for("react.provider"),Iv=Symbol.for("react.context"),Md=Symbol.for("react.forward_ref"),oh=Symbol.for("react.suspense"),sh=Symbol.for("react.suspense_list"),Vd=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),Pv=Symbol.for("react.offscreen"),Em=Symbol.iterator;function wo(t){return t===null||typeof t!="object"?null:(t=Em&&t[Em]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,rc;function No(t){if(rc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rc=e&&e[1]||""}return`
`+rc+t}var ic=!1;function oc(t,e){if(!t||ic)return"";ic=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{ic=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?No(t):""}function zS(t){switch(t.tag){case 5:return No(t.type);case 16:return No("Lazy");case 13:return No("Suspense");case 19:return No("SuspenseList");case 0:case 2:case 15:return t=oc(t.type,!1),t;case 11:return t=oc(t.type.render,!1),t;case 1:return t=oc(t.type,!0),t;default:return""}}function ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pi:return"Fragment";case fi:return"Portal";case ih:return"Profiler";case Od:return"StrictMode";case oh:return"Suspense";case sh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Iv:return(t.displayName||"Context")+".Consumer";case Av:return(t._context.displayName||"Context")+".Provider";case Md:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vd:return e=t.displayName||null,e!==null?e:ah(t.type)||"Memo";case Un:e=t._payload,t=t._init;try{return ah(t(e))}catch{}}return null}function HS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ah(e);case 8:return e===Od?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WS(t){var e=kv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ca(t){t._valueTracker||(t._valueTracker=WS(t))}function Rv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lh(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nv(t,e){e=e.checked,e!=null&&bd(t,"checked",e,!1)}function uh(t,e){Nv(t,e);var n=ar(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ch(t,e.type,n):e.hasOwnProperty("defaultValue")&&ch(t,e.type,ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ch(t,e,n){(e!=="number"||il(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Do=Array.isArray;function Ai(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ar(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Do(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ar(n)}}function Dv(t,e){var n=ar(e.value),r=ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ha,Ov=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ha.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ns(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GS=["Webkit","ms","Moz","O"];Object.keys(jo).forEach(function(t){GS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jo[e]=jo[t]})});function Mv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jo.hasOwnProperty(t)&&jo[t]?(""+e).trim():e+"px"}function Vv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QS=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fh(t,e){if(e){if(QS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function ph(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=null;function jd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gh=null,Ii=null,Pi=null;function Am(t){if(t=Os(t)){if(typeof gh!="function")throw Error(F(280));var e=t.stateNode;e&&(e=iu(e),gh(t.stateNode,t.type,e))}}function jv(t){Ii?Pi?Pi.push(t):Pi=[t]:Ii=t}function Lv(){if(Ii){var t=Ii,e=Pi;if(Pi=Ii=null,Am(t),e)for(t=0;t<e.length;t++)Am(e[t])}}function Fv(t,e){return t(e)}function $v(){}var sc=!1;function Uv(t,e,n){if(sc)return t(e,n);sc=!0;try{return Fv(t,e,n)}finally{sc=!1,(Ii!==null||Pi!==null)&&($v(),Lv())}}function rs(t,e){var n=t.stateNode;if(n===null)return null;var r=iu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var yh=!1;if(Pn)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){yh=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{yh=!1}function KS(t,e,n,r,i,o,s,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Lo=!1,ol=null,sl=!1,vh=null,qS={onError:function(t){Lo=!0,ol=t}};function YS(t,e,n,r,i,o,s,l,u){Lo=!1,ol=null,KS.apply(qS,arguments)}function XS(t,e,n,r,i,o,s,l,u){if(YS.apply(this,arguments),Lo){if(Lo){var h=ol;Lo=!1,ol=null}else throw Error(F(198));sl||(sl=!0,vh=h)}}function Jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Im(t){if(Jr(t)!==t)throw Error(F(188))}function JS(t){var e=t.alternate;if(!e){if(e=Jr(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Im(i),t;if(o===r)return Im(i),e;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function zv(t){return t=JS(t),t!==null?Hv(t):null}function Hv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hv(t);if(e!==null)return e;t=t.sibling}return null}var Wv=Ot.unstable_scheduleCallback,Pm=Ot.unstable_cancelCallback,ZS=Ot.unstable_shouldYield,eT=Ot.unstable_requestPaint,Ae=Ot.unstable_now,tT=Ot.unstable_getCurrentPriorityLevel,Ld=Ot.unstable_ImmediatePriority,Gv=Ot.unstable_UserBlockingPriority,al=Ot.unstable_NormalPriority,nT=Ot.unstable_LowPriority,Qv=Ot.unstable_IdlePriority,eu=null,hn=null;function rT(t){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(eu,t,void 0,(t.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:sT,iT=Math.log,oT=Math.LN2;function sT(t){return t>>>=0,t===0?32:31-(iT(t)/oT|0)|0}var da=64,fa=4194304;function bo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ll(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=bo(l):(o&=s,o!==0&&(r=bo(o)))}else s=n&~i,s!==0?r=bo(s):o!==0&&(r=bo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nn(e),i=1<<n,r|=t[n],e&=~i;return r}function aT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-nn(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=aT(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function _h(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kv(){var t=da;return da<<=1,!(da&4194240)&&(da=64),t}function ac(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ds(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nn(e),t[e]=n}function uT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Fd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function qv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yv,$d,Xv,Jv,Zv,wh=!1,pa=[],qn=null,Yn=null,Xn=null,is=new Map,os=new Map,zn=[],cT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function km(t,e){switch(t){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(e.pointerId)}}function So(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Os(e),e!==null&&$d(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hT(t,e,n,r,i){switch(e){case"focusin":return qn=So(qn,t,e,n,r,i),!0;case"dragenter":return Yn=So(Yn,t,e,n,r,i),!0;case"mouseover":return Xn=So(Xn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return is.set(o,So(is.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,os.set(o,So(os.get(o)||null,t,e,n,r,i)),!0}return!1}function e0(t){var e=Rr(t.target);if(e!==null){var n=Jr(e);if(n!==null){if(e=n.tag,e===13){if(e=Bv(n),e!==null){t.blockedOn=e,Zv(t.priority,function(){Xv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $a(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Eh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mh=r,n.target.dispatchEvent(r),mh=null}else return e=Os(n),e!==null&&$d(e),t.blockedOn=n,!1;e.shift()}return!0}function Rm(t,e,n){$a(t)&&n.delete(e)}function dT(){wh=!1,qn!==null&&$a(qn)&&(qn=null),Yn!==null&&$a(Yn)&&(Yn=null),Xn!==null&&$a(Xn)&&(Xn=null),is.forEach(Rm),os.forEach(Rm)}function To(t,e){t.blockedOn===e&&(t.blockedOn=null,wh||(wh=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,dT)))}function ss(t){function e(i){return To(i,t)}if(0<pa.length){To(pa[0],t);for(var n=1;n<pa.length;n++){var r=pa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qn!==null&&To(qn,t),Yn!==null&&To(Yn,t),Xn!==null&&To(Xn,t),is.forEach(e),os.forEach(e),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)e0(n),n.blockedOn===null&&zn.shift()}var ki=bn.ReactCurrentBatchConfig,ul=!0;function fT(t,e,n,r){var i=ae,o=ki.transition;ki.transition=null;try{ae=1,Ud(t,e,n,r)}finally{ae=i,ki.transition=o}}function pT(t,e,n,r){var i=ae,o=ki.transition;ki.transition=null;try{ae=4,Ud(t,e,n,r)}finally{ae=i,ki.transition=o}}function Ud(t,e,n,r){if(ul){var i=Eh(t,e,n,r);if(i===null)yc(t,e,r,cl,n),km(t,r);else if(hT(i,t,e,n,r))r.stopPropagation();else if(km(t,r),e&4&&-1<cT.indexOf(t)){for(;i!==null;){var o=Os(i);if(o!==null&&Yv(o),o=Eh(t,e,n,r),o===null&&yc(t,e,r,cl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else yc(t,e,r,null,n)}}var cl=null;function Eh(t,e,n,r){if(cl=null,t=jd(r),t=Rr(t),t!==null)if(e=Jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cl=t,null}function t0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tT()){case Ld:return 1;case Gv:return 4;case al:case nT:return 16;case Qv:return 536870912;default:return 16}default:return 16}}var Wn=null,Bd=null,Ua=null;function n0(){if(Ua)return Ua;var t,e=Bd,n=e.length,r,i="value"in Wn?Wn.value:Wn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ua=i.slice(t,1<r?1-r:void 0)}function Ba(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ma(){return!0}function Nm(){return!1}function jt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ma:Nm,this.isPropagationStopped=Nm,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),e}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=jt(to),bs=Se({},to,{view:0,detail:0}),mT=jt(bs),lc,uc,xo,tu=Se({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xo&&(xo&&t.type==="mousemove"?(lc=t.screenX-xo.screenX,uc=t.screenY-xo.screenY):uc=lc=0,xo=t),lc)},movementY:function(t){return"movementY"in t?t.movementY:uc}}),Dm=jt(tu),gT=Se({},tu,{dataTransfer:0}),yT=jt(gT),vT=Se({},bs,{relatedTarget:0}),cc=jt(vT),_T=Se({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),wT=jt(_T),ET=Se({},to,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ST=jt(ET),TT=Se({},to,{data:0}),bm=jt(TT),xT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AT[t])?!!e[t]:!1}function Hd(){return IT}var PT=Se({},bs,{key:function(t){if(t.key){var e=xT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ba(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hd,charCode:function(t){return t.type==="keypress"?Ba(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ba(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kT=jt(PT),RT=Se({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Om=jt(RT),NT=Se({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hd}),DT=jt(NT),bT=Se({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),OT=jt(bT),MT=Se({},tu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VT=jt(MT),jT=[9,13,27,32],Wd=Pn&&"CompositionEvent"in window,Fo=null;Pn&&"documentMode"in document&&(Fo=document.documentMode);var LT=Pn&&"TextEvent"in window&&!Fo,r0=Pn&&(!Wd||Fo&&8<Fo&&11>=Fo),Mm=" ",Vm=!1;function i0(t,e){switch(t){case"keyup":return jT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mi=!1;function FT(t,e){switch(t){case"compositionend":return o0(e);case"keypress":return e.which!==32?null:(Vm=!0,Mm);case"textInput":return t=e.data,t===Mm&&Vm?null:t;default:return null}}function $T(t,e){if(mi)return t==="compositionend"||!Wd&&i0(t,e)?(t=n0(),Ua=Bd=Wn=null,mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return r0&&e.locale!=="ko"?null:e.data;default:return null}}var UT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UT[t.type]:e==="textarea"}function s0(t,e,n,r){jv(r),e=hl(e,"onChange"),0<e.length&&(n=new zd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $o=null,as=null;function BT(t){y0(t,0)}function nu(t){var e=vi(t);if(Rv(e))return t}function zT(t,e){if(t==="change")return e}var a0=!1;if(Pn){var hc;if(Pn){var dc="oninput"in document;if(!dc){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),dc=typeof Lm.oninput=="function"}hc=dc}else hc=!1;a0=hc&&(!document.documentMode||9<document.documentMode)}function Fm(){$o&&($o.detachEvent("onpropertychange",l0),as=$o=null)}function l0(t){if(t.propertyName==="value"&&nu(as)){var e=[];s0(e,as,t,jd(t)),Uv(BT,e)}}function HT(t,e,n){t==="focusin"?(Fm(),$o=e,as=n,$o.attachEvent("onpropertychange",l0)):t==="focusout"&&Fm()}function WT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nu(as)}function GT(t,e){if(t==="click")return nu(e)}function QT(t,e){if(t==="input"||t==="change")return nu(e)}function KT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:KT;function ls(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rh.call(e,i)||!on(t[i],e[i]))return!1}return!0}function $m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Um(t,e){var n=$m(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$m(n)}}function u0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function c0(){for(var t=window,e=il();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=il(t.document)}return e}function Gd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qT(t){var e=c0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u0(n.ownerDocument.documentElement,n)){if(r!==null&&Gd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Um(n,o);var s=Um(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YT=Pn&&"documentMode"in document&&11>=document.documentMode,gi=null,Sh=null,Uo=null,Th=!1;function Bm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Th||gi==null||gi!==il(r)||(r=gi,"selectionStart"in r&&Gd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uo&&ls(Uo,r)||(Uo=r,r=hl(Sh,"onSelect"),0<r.length&&(e=new zd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gi)))}function ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yi={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},fc={},h0={};Pn&&(h0=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function ru(t){if(fc[t])return fc[t];if(!yi[t])return t;var e=yi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h0)return fc[t]=e[n];return t}var d0=ru("animationend"),f0=ru("animationiteration"),p0=ru("animationstart"),m0=ru("transitionend"),g0=new Map,zm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(t,e){g0.set(t,e),Xr(e,[t])}for(var pc=0;pc<zm.length;pc++){var mc=zm[pc],XT=mc.toLowerCase(),JT=mc[0].toUpperCase()+mc.slice(1);fr(XT,"on"+JT)}fr(d0,"onAnimationEnd");fr(f0,"onAnimationIteration");fr(p0,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(m0,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function Hm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XS(r,e,void 0,t),t.currentTarget=null}function y0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;Hm(i,l,h),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,h=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;Hm(i,l,h),o=u}}}if(sl)throw t=vh,sl=!1,vh=null,t}function fe(t,e){var n=e[Ph];n===void 0&&(n=e[Ph]=new Set);var r=t+"__bubble";n.has(r)||(v0(e,t,2,!1),n.add(r))}function gc(t,e,n){var r=0;e&&(r|=4),v0(n,t,r,e)}var ya="_reactListening"+Math.random().toString(36).slice(2);function us(t){if(!t[ya]){t[ya]=!0,Cv.forEach(function(n){n!=="selectionchange"&&(ZT.has(n)||gc(n,!1,t),gc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ya]||(e[ya]=!0,gc("selectionchange",!1,e))}}function v0(t,e,n,r){switch(t0(e)){case 1:var i=fT;break;case 4:i=pT;break;default:i=Ud}n=i.bind(null,e,n,t),i=void 0,!yh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Rr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Uv(function(){var h=o,p=jd(n),f=[];e:{var m=g0.get(t);if(m!==void 0){var _=zd,x=t;switch(t){case"keypress":if(Ba(n)===0)break e;case"keydown":case"keyup":_=kT;break;case"focusin":x="focus",_=cc;break;case"focusout":x="blur",_=cc;break;case"beforeblur":case"afterblur":_=cc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=yT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=DT;break;case d0:case f0:case p0:_=wT;break;case m0:_=OT;break;case"scroll":_=mT;break;case"wheel":_=VT;break;case"copy":case"cut":case"paste":_=ST;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Om}var P=(e&4)!==0,D=!P&&t==="scroll",S=P?m!==null?m+"Capture":null:m;P=[];for(var E=h,A;E!==null;){A=E;var b=A.stateNode;if(A.tag===5&&b!==null&&(A=b,S!==null&&(b=rs(E,S),b!=null&&P.push(cs(E,b,A)))),D)break;E=E.return}0<P.length&&(m=new _(m,x,null,n,p),f.push({event:m,listeners:P}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==mh&&(x=n.relatedTarget||n.fromElement)&&(Rr(x)||x[kn]))break e;if((_||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=h,x=x?Rr(x):null,x!==null&&(D=Jr(x),x!==D||x.tag!==5&&x.tag!==6)&&(x=null)):(_=null,x=h),_!==x)){if(P=Dm,b="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(P=Om,b="onPointerLeave",S="onPointerEnter",E="pointer"),D=_==null?m:vi(_),A=x==null?m:vi(x),m=new P(b,E+"leave",_,n,p),m.target=D,m.relatedTarget=A,b=null,Rr(p)===h&&(P=new P(S,E+"enter",x,n,p),P.target=A,P.relatedTarget=D,b=P),D=b,_&&x)t:{for(P=_,S=x,E=0,A=P;A;A=li(A))E++;for(A=0,b=S;b;b=li(b))A++;for(;0<E-A;)P=li(P),E--;for(;0<A-E;)S=li(S),A--;for(;E--;){if(P===S||S!==null&&P===S.alternate)break t;P=li(P),S=li(S)}P=null}else P=null;_!==null&&Wm(f,m,_,P,!1),x!==null&&D!==null&&Wm(f,D,x,P,!0)}}e:{if(m=h?vi(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var L=zT;else if(jm(m))if(a0)L=QT;else{L=WT;var j=HT}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=GT);if(L&&(L=L(t,h))){s0(f,L,n,p);break e}j&&j(t,m,h),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&ch(m,"number",m.value)}switch(j=h?vi(h):window,t){case"focusin":(jm(j)||j.contentEditable==="true")&&(gi=j,Sh=h,Uo=null);break;case"focusout":Uo=Sh=gi=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,Bm(f,n,p);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":Bm(f,n,p)}var w;if(Wd)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else mi?i0(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(r0&&n.locale!=="ko"&&(mi||g!=="onCompositionStart"?g==="onCompositionEnd"&&mi&&(w=n0()):(Wn=p,Bd="value"in Wn?Wn.value:Wn.textContent,mi=!0)),j=hl(h,g),0<j.length&&(g=new bm(g,t,null,n,p),f.push({event:g,listeners:j}),w?g.data=w:(w=o0(n),w!==null&&(g.data=w)))),(w=LT?FT(t,n):$T(t,n))&&(h=hl(h,"onBeforeInput"),0<h.length&&(p=new bm("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:h}),p.data=w))}y0(f,e)})}function cs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=rs(t,n),o!=null&&r.unshift(cs(t,o,i)),o=rs(t,e),o!=null&&r.push(cs(t,o,i))),t=t.return}return r}function li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wm(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=rs(n,o),u!=null&&s.unshift(cs(n,u,l))):i||(u=rs(n,o),u!=null&&s.push(cs(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var ex=/\r\n?/g,tx=/\u0000|\uFFFD/g;function Gm(t){return(typeof t=="string"?t:""+t).replace(ex,`
`).replace(tx,"")}function va(t,e,n){if(e=Gm(e),Gm(t)!==e&&n)throw Error(F(425))}function dl(){}var xh=null,Ch=null;function Ah(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,nx=typeof clearTimeout=="function"?clearTimeout:void 0,Qm=typeof Promise=="function"?Promise:void 0,rx=typeof queueMicrotask=="function"?queueMicrotask:typeof Qm<"u"?function(t){return Qm.resolve(null).then(t).catch(ix)}:Ih;function ix(t){setTimeout(function(){throw t})}function vc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ss(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ss(e)}function Jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Km(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var no=Math.random().toString(36).slice(2),un="__reactFiber$"+no,hs="__reactProps$"+no,kn="__reactContainer$"+no,Ph="__reactEvents$"+no,ox="__reactListeners$"+no,sx="__reactHandles$"+no;function Rr(t){var e=t[un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kn]||n[un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Km(t);t!==null;){if(n=t[un])return n;t=Km(t)}return e}t=n,n=t.parentNode}return null}function Os(t){return t=t[un]||t[kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function iu(t){return t[hs]||null}var kh=[],_i=-1;function pr(t){return{current:t}}function pe(t){0>_i||(t.current=kh[_i],kh[_i]=null,_i--)}function ue(t,e){_i++,kh[_i]=t.current,t.current=e}var lr={},st=pr(lr),wt=pr(!1),Ur=lr;function $i(t,e){var n=t.type.contextTypes;if(!n)return lr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Et(t){return t=t.childContextTypes,t!=null}function fl(){pe(wt),pe(st)}function qm(t,e,n){if(st.current!==lr)throw Error(F(168));ue(st,e),ue(wt,n)}function _0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,HS(t)||"Unknown",i));return Se({},n,r)}function pl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lr,Ur=st.current,ue(st,t),ue(wt,wt.current),!0}function Ym(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=_0(t,e,Ur),r.__reactInternalMemoizedMergedChildContext=t,pe(wt),pe(st),ue(st,t)):pe(wt),ue(wt,n)}var Sn=null,ou=!1,_c=!1;function w0(t){Sn===null?Sn=[t]:Sn.push(t)}function ax(t){ou=!0,w0(t)}function mr(){if(!_c&&Sn!==null){_c=!0;var t=0,e=ae;try{var n=Sn;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sn=null,ou=!1}catch(i){throw Sn!==null&&(Sn=Sn.slice(t+1)),Wv(Ld,mr),i}finally{ae=e,_c=!1}}return null}var wi=[],Ei=0,ml=null,gl=0,Ft=[],$t=0,Br=null,Tn=1,xn="";function Ar(t,e){wi[Ei++]=gl,wi[Ei++]=ml,ml=t,gl=e}function E0(t,e,n){Ft[$t++]=Tn,Ft[$t++]=xn,Ft[$t++]=Br,Br=t;var r=Tn;t=xn;var i=32-nn(r)-1;r&=~(1<<i),n+=1;var o=32-nn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Tn=1<<32-nn(e)+i|n<<i|r,xn=o+t}else Tn=1<<o|n<<i|r,xn=t}function Qd(t){t.return!==null&&(Ar(t,1),E0(t,1,0))}function Kd(t){for(;t===ml;)ml=wi[--Ei],wi[Ei]=null,gl=wi[--Ei],wi[Ei]=null;for(;t===Br;)Br=Ft[--$t],Ft[$t]=null,xn=Ft[--$t],Ft[$t]=null,Tn=Ft[--$t],Ft[$t]=null}var Dt=null,Rt=null,ye=!1,Jt=null;function S0(t,e){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dt=t,Rt=Jn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dt=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Br!==null?{id:Tn,overflow:xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dt=t,Rt=null,!0):!1;default:return!1}}function Rh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nh(t){if(ye){var e=Rt;if(e){var n=e;if(!Xm(t,e)){if(Rh(t))throw Error(F(418));e=Jn(n.nextSibling);var r=Dt;e&&Xm(t,e)?S0(r,n):(t.flags=t.flags&-4097|2,ye=!1,Dt=t)}}else{if(Rh(t))throw Error(F(418));t.flags=t.flags&-4097|2,ye=!1,Dt=t}}}function Jm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function _a(t){if(t!==Dt)return!1;if(!ye)return Jm(t),ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ah(t.type,t.memoizedProps)),e&&(e=Rt)){if(Rh(t))throw T0(),Error(F(418));for(;e;)S0(t,e),e=Jn(e.nextSibling)}if(Jm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rt=Jn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=Dt?Jn(t.stateNode.nextSibling):null;return!0}function T0(){for(var t=Rt;t;)t=Jn(t.nextSibling)}function Ui(){Rt=Dt=null,ye=!1}function qd(t){Jt===null?Jt=[t]:Jt.push(t)}var lx=bn.ReactCurrentBatchConfig;function Co(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function wa(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zm(t){var e=t._init;return e(t._payload)}function x0(t){function e(S,E){if(t){var A=S.deletions;A===null?(S.deletions=[E],S.flags|=16):A.push(E)}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function r(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=nr(S,E),S.index=0,S.sibling=null,S}function o(S,E,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<E?(S.flags|=2,E):A):(S.flags|=2,E)):(S.flags|=1048576,E)}function s(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,E,A,b){return E===null||E.tag!==6?(E=Ac(A,S.mode,b),E.return=S,E):(E=i(E,A),E.return=S,E)}function u(S,E,A,b){var L=A.type;return L===pi?p(S,E,A.props.children,b,A.key):E!==null&&(E.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Un&&Zm(L)===E.type)?(b=i(E,A.props),b.ref=Co(S,E,A),b.return=S,b):(b=qa(A.type,A.key,A.props,null,S.mode,b),b.ref=Co(S,E,A),b.return=S,b)}function h(S,E,A,b){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Ic(A,S.mode,b),E.return=S,E):(E=i(E,A.children||[]),E.return=S,E)}function p(S,E,A,b,L){return E===null||E.tag!==7?(E=jr(A,S.mode,b,L),E.return=S,E):(E=i(E,A),E.return=S,E)}function f(S,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ac(""+E,S.mode,A),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ua:return A=qa(E.type,E.key,E.props,null,S.mode,A),A.ref=Co(S,null,E),A.return=S,A;case fi:return E=Ic(E,S.mode,A),E.return=S,E;case Un:var b=E._init;return f(S,b(E._payload),A)}if(Do(E)||wo(E))return E=jr(E,S.mode,A,null),E.return=S,E;wa(S,E)}return null}function m(S,E,A,b){var L=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return L!==null?null:l(S,E,""+A,b);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ua:return A.key===L?u(S,E,A,b):null;case fi:return A.key===L?h(S,E,A,b):null;case Un:return L=A._init,m(S,E,L(A._payload),b)}if(Do(A)||wo(A))return L!==null?null:p(S,E,A,b,null);wa(S,A)}return null}function _(S,E,A,b,L){if(typeof b=="string"&&b!==""||typeof b=="number")return S=S.get(A)||null,l(E,S,""+b,L);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ua:return S=S.get(b.key===null?A:b.key)||null,u(E,S,b,L);case fi:return S=S.get(b.key===null?A:b.key)||null,h(E,S,b,L);case Un:var j=b._init;return _(S,E,A,j(b._payload),L)}if(Do(b)||wo(b))return S=S.get(A)||null,p(E,S,b,L,null);wa(E,b)}return null}function x(S,E,A,b){for(var L=null,j=null,w=E,g=E=0,T=null;w!==null&&g<A.length;g++){w.index>g?(T=w,w=null):T=w.sibling;var I=m(S,w,A[g],b);if(I===null){w===null&&(w=T);break}t&&w&&I.alternate===null&&e(S,w),E=o(I,E,g),j===null?L=I:j.sibling=I,j=I,w=T}if(g===A.length)return n(S,w),ye&&Ar(S,g),L;if(w===null){for(;g<A.length;g++)w=f(S,A[g],b),w!==null&&(E=o(w,E,g),j===null?L=w:j.sibling=w,j=w);return ye&&Ar(S,g),L}for(w=r(S,w);g<A.length;g++)T=_(w,S,g,A[g],b),T!==null&&(t&&T.alternate!==null&&w.delete(T.key===null?g:T.key),E=o(T,E,g),j===null?L=T:j.sibling=T,j=T);return t&&w.forEach(function(k){return e(S,k)}),ye&&Ar(S,g),L}function P(S,E,A,b){var L=wo(A);if(typeof L!="function")throw Error(F(150));if(A=L.call(A),A==null)throw Error(F(151));for(var j=L=null,w=E,g=E=0,T=null,I=A.next();w!==null&&!I.done;g++,I=A.next()){w.index>g?(T=w,w=null):T=w.sibling;var k=m(S,w,I.value,b);if(k===null){w===null&&(w=T);break}t&&w&&k.alternate===null&&e(S,w),E=o(k,E,g),j===null?L=k:j.sibling=k,j=k,w=T}if(I.done)return n(S,w),ye&&Ar(S,g),L;if(w===null){for(;!I.done;g++,I=A.next())I=f(S,I.value,b),I!==null&&(E=o(I,E,g),j===null?L=I:j.sibling=I,j=I);return ye&&Ar(S,g),L}for(w=r(S,w);!I.done;g++,I=A.next())I=_(w,S,g,I.value,b),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?g:I.key),E=o(I,E,g),j===null?L=I:j.sibling=I,j=I);return t&&w.forEach(function(R){return e(S,R)}),ye&&Ar(S,g),L}function D(S,E,A,b){if(typeof A=="object"&&A!==null&&A.type===pi&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ua:e:{for(var L=A.key,j=E;j!==null;){if(j.key===L){if(L=A.type,L===pi){if(j.tag===7){n(S,j.sibling),E=i(j,A.props.children),E.return=S,S=E;break e}}else if(j.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Un&&Zm(L)===j.type){n(S,j.sibling),E=i(j,A.props),E.ref=Co(S,j,A),E.return=S,S=E;break e}n(S,j);break}else e(S,j);j=j.sibling}A.type===pi?(E=jr(A.props.children,S.mode,b,A.key),E.return=S,S=E):(b=qa(A.type,A.key,A.props,null,S.mode,b),b.ref=Co(S,E,A),b.return=S,S=b)}return s(S);case fi:e:{for(j=A.key;E!==null;){if(E.key===j)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){n(S,E.sibling),E=i(E,A.children||[]),E.return=S,S=E;break e}else{n(S,E);break}else e(S,E);E=E.sibling}E=Ic(A,S.mode,b),E.return=S,S=E}return s(S);case Un:return j=A._init,D(S,E,j(A._payload),b)}if(Do(A))return x(S,E,A,b);if(wo(A))return P(S,E,A,b);wa(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(n(S,E.sibling),E=i(E,A),E.return=S,S=E):(n(S,E),E=Ac(A,S.mode,b),E.return=S,S=E),s(S)):n(S,E)}return D}var Bi=x0(!0),C0=x0(!1),yl=pr(null),vl=null,Si=null,Yd=null;function Xd(){Yd=Si=vl=null}function Jd(t){var e=yl.current;pe(yl),t._currentValue=e}function Dh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ri(t,e){vl=t,Yd=Si=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(Yd!==t)if(t={context:t,memoizedValue:e,next:null},Si===null){if(vl===null)throw Error(F(308));Si=t,vl.dependencies={lanes:0,firstContext:t}}else Si=Si.next=t;return e}var Nr=null;function Zd(t){Nr===null?Nr=[t]:Nr.push(t)}function A0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Zd(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rn(t,r)}function Rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bn=!1;function ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rn(t,n)}return i=r.interleaved,i===null?(e.next=e,Zd(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rn(t,n)}function za(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fd(t,n)}}function eg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _l(t,e,n,r){var i=t.updateQueue;Bn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,s===null?o=h:s.next=h,s=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==s&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,p=h=u=null,l=o;do{var m=l.lane,_=l.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,P=l;switch(m=e,_=n,P.tag){case 1:if(x=P.payload,typeof x=="function"){f=x.call(_,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=P.payload,m=typeof x=="function"?x.call(_,f,m):x,m==null)break e;f=Se({},f,m);break e;case 2:Bn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=_,u=f):p=p.next=_,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(p===null&&(u=f),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Hr|=s,t.lanes=s,t.memoizedState=f}}function tg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Ms={},dn=pr(Ms),ds=pr(Ms),fs=pr(Ms);function Dr(t){if(t===Ms)throw Error(F(174));return t}function tf(t,e){switch(ue(fs,e),ue(ds,t),ue(dn,Ms),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dh(e,t)}pe(dn),ue(dn,e)}function zi(){pe(dn),pe(ds),pe(fs)}function P0(t){Dr(fs.current);var e=Dr(dn.current),n=dh(e,t.type);e!==n&&(ue(ds,t),ue(dn,n))}function nf(t){ds.current===t&&(pe(dn),pe(ds))}var _e=pr(0);function wl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wc=[];function rf(){for(var t=0;t<wc.length;t++)wc[t]._workInProgressVersionPrimary=null;wc.length=0}var Ha=bn.ReactCurrentDispatcher,Ec=bn.ReactCurrentBatchConfig,zr=0,Ee=null,De=null,je=null,El=!1,Bo=!1,ps=0,ux=0;function Je(){throw Error(F(321))}function of(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!on(t[n],e[n]))return!1;return!0}function sf(t,e,n,r,i,o){if(zr=o,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ha.current=t===null||t.memoizedState===null?fx:px,t=n(r,i),Bo){o=0;do{if(Bo=!1,ps=0,25<=o)throw Error(F(301));o+=1,je=De=null,e.updateQueue=null,Ha.current=mx,t=n(r,i)}while(Bo)}if(Ha.current=Sl,e=De!==null&&De.next!==null,zr=0,je=De=Ee=null,El=!1,e)throw Error(F(300));return t}function af(){var t=ps!==0;return ps=0,t}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ee.memoizedState=je=t:je=je.next=t,je}function Qt(){if(De===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=je===null?Ee.memoizedState:je.next;if(e!==null)je=e,De=t;else{if(t===null)throw Error(F(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},je===null?Ee.memoizedState=je=t:je=je.next=t}return je}function ms(t,e){return typeof e=="function"?e(t):e}function Sc(t){var e=Qt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=De,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,h=o;do{var p=h.lane;if((zr&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var f={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=f,s=r):u=u.next=f,Ee.lanes|=p,Hr|=p}h=h.next}while(h!==null&&h!==o);u===null?s=r:u.next=l,on(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ee.lanes|=o,Hr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tc(t){var e=Qt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);on(o,e.memoizedState)||(_t=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function k0(){}function R0(t,e){var n=Ee,r=Qt(),i=e(),o=!on(r.memoizedState,i);if(o&&(r.memoizedState=i,_t=!0),r=r.queue,lf(b0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,gs(9,D0.bind(null,n,r,i,e),void 0,null),Fe===null)throw Error(F(349));zr&30||N0(n,e,i)}return i}function N0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function D0(t,e,n,r){e.value=n,e.getSnapshot=r,O0(e)&&M0(t)}function b0(t,e,n){return n(function(){O0(e)&&M0(t)})}function O0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!on(t,n)}catch{return!0}}function M0(t){var e=Rn(t,1);e!==null&&rn(e,t,1,-1)}function ng(t){var e=an();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:t},e.queue=t,t=t.dispatch=dx.bind(null,Ee,t),[e.memoizedState,t]}function gs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function V0(){return Qt().memoizedState}function Wa(t,e,n,r){var i=an();Ee.flags|=t,i.memoizedState=gs(1|e,n,void 0,r===void 0?null:r)}function su(t,e,n,r){var i=Qt();r=r===void 0?null:r;var o=void 0;if(De!==null){var s=De.memoizedState;if(o=s.destroy,r!==null&&of(r,s.deps)){i.memoizedState=gs(e,n,o,r);return}}Ee.flags|=t,i.memoizedState=gs(1|e,n,o,r)}function rg(t,e){return Wa(8390656,8,t,e)}function lf(t,e){return su(2048,8,t,e)}function j0(t,e){return su(4,2,t,e)}function L0(t,e){return su(4,4,t,e)}function F0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $0(t,e,n){return n=n!=null?n.concat([t]):null,su(4,4,F0.bind(null,e,t),n)}function uf(){}function U0(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&of(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function B0(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&of(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function z0(t,e,n){return zr&21?(on(n,e)||(n=Kv(),Ee.lanes|=n,Hr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function cx(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=Ec.transition;Ec.transition={};try{t(!1),e()}finally{ae=n,Ec.transition=r}}function H0(){return Qt().memoizedState}function hx(t,e,n){var r=tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W0(t))G0(e,n);else if(n=A0(t,e,n,r),n!==null){var i=dt();rn(n,t,r,i),Q0(n,e,r)}}function dx(t,e,n){var r=tr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W0(t))G0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,on(l,s)){var u=e.interleaved;u===null?(i.next=i,Zd(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=A0(t,e,i,r),n!==null&&(i=dt(),rn(n,t,r,i),Q0(n,e,r))}}function W0(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function G0(t,e){Bo=El=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Q0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fd(t,n)}}var Sl={readContext:Gt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},fx={readContext:Gt,useCallback:function(t,e){return an().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:rg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wa(4194308,4,F0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wa(4,2,t,e)},useMemo:function(t,e){var n=an();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=an();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hx.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=an();return t={current:t},e.memoizedState=t},useState:ng,useDebugValue:uf,useDeferredValue:function(t){return an().memoizedState=t},useTransition:function(){var t=ng(!1),e=t[0];return t=cx.bind(null,t[1]),an().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=an();if(ye){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Fe===null)throw Error(F(349));zr&30||N0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,rg(b0.bind(null,r,o,t),[t]),r.flags|=2048,gs(9,D0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=an(),e=Fe.identifierPrefix;if(ye){var n=xn,r=Tn;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ps++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ux++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},px={readContext:Gt,useCallback:U0,useContext:Gt,useEffect:lf,useImperativeHandle:$0,useInsertionEffect:j0,useLayoutEffect:L0,useMemo:B0,useReducer:Sc,useRef:V0,useState:function(){return Sc(ms)},useDebugValue:uf,useDeferredValue:function(t){var e=Qt();return z0(e,De.memoizedState,t)},useTransition:function(){var t=Sc(ms)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:k0,useSyncExternalStore:R0,useId:H0,unstable_isNewReconciler:!1},mx={readContext:Gt,useCallback:U0,useContext:Gt,useEffect:lf,useImperativeHandle:$0,useInsertionEffect:j0,useLayoutEffect:L0,useMemo:B0,useReducer:Tc,useRef:V0,useState:function(){return Tc(ms)},useDebugValue:uf,useDeferredValue:function(t){var e=Qt();return De===null?e.memoizedState=t:z0(e,De.memoizedState,t)},useTransition:function(){var t=Tc(ms)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:k0,useSyncExternalStore:R0,useId:H0,unstable_isNewReconciler:!1};function Yt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var au={isMounted:function(t){return(t=t._reactInternals)?Jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dt(),i=tr(t),o=Cn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Zn(t,o,i),e!==null&&(rn(e,t,i,r),za(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dt(),i=tr(t),o=Cn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zn(t,o,i),e!==null&&(rn(e,t,i,r),za(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dt(),r=tr(t),i=Cn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zn(t,i,r),e!==null&&(rn(e,t,r,n),za(e,t,r))}};function ig(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ls(n,r)||!ls(i,o):!0}function K0(t,e,n){var r=!1,i=lr,o=e.contextType;return typeof o=="object"&&o!==null?o=Gt(o):(i=Et(e)?Ur:st.current,r=e.contextTypes,o=(r=r!=null)?$i(t,i):lr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=au,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function og(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&au.enqueueReplaceState(e,e.state,null)}function Oh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ef(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Gt(o):(o=Et(e)?Ur:st.current,i.context=$i(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&au.enqueueReplaceState(i,i.state,null),_l(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hi(t,e){try{var n="",r=e;do n+=zS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function xc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gx=typeof WeakMap=="function"?WeakMap:Map;function q0(t,e,n){n=Cn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xl||(xl=!0,Wh=r),Mh(t,e)},n}function Y0(t,e,n){n=Cn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Mh(t,e),typeof r!="function"&&(er===null?er=new Set([this]):er.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function sg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gx;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Rx.bind(null,t,e,n),e.then(t,t))}function ag(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cn(-1,1),e.tag=2,Zn(n,e,1))),n.lanes|=1),t)}var yx=bn.ReactCurrentOwner,_t=!1;function ht(t,e,n,r){e.child=t===null?C0(e,null,n,r):Bi(e,t.child,n,r)}function ug(t,e,n,r,i){n=n.render;var o=e.ref;return Ri(e,i),r=sf(t,e,n,r,o,i),n=af(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nn(t,e,i)):(ye&&n&&Qd(e),e.flags|=1,ht(t,e,r,i),e.child)}function cg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!yf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,X0(t,e,o,r,i)):(t=qa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ls,n(s,r)&&t.ref===e.ref)return Nn(t,e,i)}return e.flags|=1,t=nr(o,r),t.ref=e.ref,t.return=e,e.child=t}function X0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ls(o,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Nn(t,e,i)}return Vh(t,e,n,r,i)}function J0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(xi,Pt),Pt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(xi,Pt),Pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ue(xi,Pt),Pt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ue(xi,Pt),Pt|=r;return ht(t,e,i,n),e.child}function Z0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vh(t,e,n,r,i){var o=Et(n)?Ur:st.current;return o=$i(e,o),Ri(e,i),n=sf(t,e,n,r,o,i),r=af(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nn(t,e,i)):(ye&&r&&Qd(e),e.flags|=1,ht(t,e,n,i),e.child)}function hg(t,e,n,r,i){if(Et(n)){var o=!0;pl(e)}else o=!1;if(Ri(e,i),e.stateNode===null)Ga(t,e),K0(e,n,r),Oh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=Gt(h):(h=Et(n)?Ur:st.current,h=$i(e,h));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==h)&&og(e,s,r,h),Bn=!1;var m=e.memoizedState;s.state=m,_l(e,r,s,i),u=e.memoizedState,l!==r||m!==u||wt.current||Bn?(typeof p=="function"&&(bh(e,n,p,r),u=e.memoizedState),(l=Bn||ig(e,n,l,r,m,u,h))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=h,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,I0(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Yt(e.type,l),s.props=h,f=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Gt(u):(u=Et(n)?Ur:st.current,u=$i(e,u));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||m!==u)&&og(e,s,r,u),Bn=!1,m=e.memoizedState,s.state=m,_l(e,r,s,i);var x=e.memoizedState;l!==f||m!==x||wt.current||Bn?(typeof _=="function"&&(bh(e,n,_,r),x=e.memoizedState),(h=Bn||ig(e,n,h,r,m,x,u)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=u,r=h):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return jh(t,e,n,r,o,i)}function jh(t,e,n,r,i,o){Z0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Ym(e,n,!1),Nn(t,e,o);r=e.stateNode,yx.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Bi(e,t.child,null,o),e.child=Bi(e,null,l,o)):ht(t,e,l,o),e.memoizedState=r.state,i&&Ym(e,n,!0),e.child}function e1(t){var e=t.stateNode;e.pendingContext?qm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qm(t,e.context,!1),tf(t,e.containerInfo)}function dg(t,e,n,r,i){return Ui(),qd(i),e.flags|=256,ht(t,e,n,r),e.child}var Lh={dehydrated:null,treeContext:null,retryLane:0};function Fh(t){return{baseLanes:t,cachePool:null,transitions:null}}function t1(t,e,n){var r=e.pendingProps,i=_e.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ue(_e,i&1),t===null)return Nh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=cu(s,r,0,null),t=jr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Fh(n),e.memoizedState=Lh,t):cf(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return vx(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=nr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=nr(l,o):(o=jr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Fh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Lh,r}return o=t.child,t=o.sibling,r=nr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cf(t,e){return e=cu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ea(t,e,n,r){return r!==null&&qd(r),Bi(e,t.child,null,n),t=cf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vx(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=xc(Error(F(422))),Ea(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=cu({mode:"visible",children:r.children},i,0,null),o=jr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Bi(e,t.child,null,s),e.child.memoizedState=Fh(s),e.memoizedState=Lh,o);if(!(e.mode&1))return Ea(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(F(419)),r=xc(o,r,void 0),Ea(t,e,s,r)}if(l=(s&t.childLanes)!==0,_t||l){if(r=Fe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Rn(t,i),rn(r,t,i,-1))}return gf(),r=xc(Error(F(421))),Ea(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Nx.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Rt=Jn(i.nextSibling),Dt=e,ye=!0,Jt=null,t!==null&&(Ft[$t++]=Tn,Ft[$t++]=xn,Ft[$t++]=Br,Tn=t.id,xn=t.overflow,Br=e),e=cf(e,r.children),e.flags|=4096,e)}function fg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dh(t.return,e,n)}function Cc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function n1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ht(t,e,r.children,n),r=_e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fg(t,n,e);else if(t.tag===19)fg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ue(_e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cc(e,!0,n,null,o);break;case"together":Cc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ga(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=nr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _x(t,e,n){switch(e.tag){case 3:e1(e),Ui();break;case 5:P0(e);break;case 1:Et(e.type)&&pl(e);break;case 4:tf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ue(yl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ue(_e,_e.current&1),e.flags|=128,null):n&e.child.childLanes?t1(t,e,n):(ue(_e,_e.current&1),t=Nn(t,e,n),t!==null?t.sibling:null);ue(_e,_e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return n1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(_e,_e.current),r)break;return null;case 22:case 23:return e.lanes=0,J0(t,e,n)}return Nn(t,e,n)}var r1,$h,i1,o1;r1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$h=function(){};i1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Dr(dn.current);var o=null;switch(n){case"input":i=lh(t,i),r=lh(t,r),o=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),o=[];break;case"textarea":i=hh(t,i),r=hh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dl)}fh(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ts.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ts.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&fe("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};o1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ao(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wx(t,e,n){var r=e.pendingProps;switch(Kd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return Et(e.type)&&fl(),Ze(e),null;case 3:return r=e.stateNode,zi(),pe(wt),pe(st),rf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_a(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jt!==null&&(Kh(Jt),Jt=null))),$h(t,e),Ze(e),null;case 5:nf(e);var i=Dr(fs.current);if(n=e.type,t!==null&&e.stateNode!=null)i1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Ze(e),null}if(t=Dr(dn.current),_a(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[un]=e,r[hs]=o,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(i=0;i<Oo.length;i++)fe(Oo[i],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Sm(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":xm(r,o),fe("invalid",r)}fh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&va(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&va(r.textContent,l,t),i=["children",""+l]):ts.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&fe("scroll",r)}switch(n){case"input":ca(r),Tm(r,o,!0);break;case"textarea":ca(r),Cm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=dl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[un]=e,t[hs]=r,r1(t,e,!1,!1),e.stateNode=t;e:{switch(s=ph(n,r),n){case"dialog":fe("cancel",t),fe("close",t),i=r;break;case"iframe":case"object":case"embed":fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Oo.length;i++)fe(Oo[i],t);i=r;break;case"source":fe("error",t),i=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),i=r;break;case"details":fe("toggle",t),i=r;break;case"input":Sm(t,r),i=lh(t,r),fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),fe("invalid",t);break;case"textarea":xm(t,r),i=hh(t,r),fe("invalid",t);break;default:i=r}fh(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Vv(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ov(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ns(t,u):typeof u=="number"&&ns(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ts.hasOwnProperty(o)?u!=null&&o==="onScroll"&&fe("scroll",t):u!=null&&bd(t,o,u,s))}switch(n){case"input":ca(t),Tm(t,r,!1);break;case"textarea":ca(t),Cm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ar(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ai(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ai(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ze(e),null;case 6:if(t&&e.stateNode!=null)o1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Dr(fs.current),Dr(dn.current),_a(e)){if(r=e.stateNode,n=e.memoizedProps,r[un]=e,(o=r.nodeValue!==n)&&(t=Dt,t!==null))switch(t.tag){case 3:va(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&va(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[un]=e,e.stateNode=r}return Ze(e),null;case 13:if(pe(_e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ye&&Rt!==null&&e.mode&1&&!(e.flags&128))T0(),Ui(),e.flags|=98560,o=!1;else if(o=_a(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(F(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[un]=e}else Ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),o=!1}else Jt!==null&&(Kh(Jt),Jt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?be===0&&(be=3):gf())),e.updateQueue!==null&&(e.flags|=4),Ze(e),null);case 4:return zi(),$h(t,e),t===null&&us(e.stateNode.containerInfo),Ze(e),null;case 10:return Jd(e.type._context),Ze(e),null;case 17:return Et(e.type)&&fl(),Ze(e),null;case 19:if(pe(_e),o=e.memoizedState,o===null)return Ze(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ao(o,!1);else{if(be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=wl(t),s!==null){for(e.flags|=128,Ao(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ue(_e,_e.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ae()>Wi&&(e.flags|=128,r=!0,Ao(o,!1),e.lanes=4194304)}else{if(!r)if(t=wl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ao(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ye)return Ze(e),null}else 2*Ae()-o.renderingStartTime>Wi&&n!==1073741824&&(e.flags|=128,r=!0,Ao(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ae(),e.sibling=null,n=_e.current,ue(_e,r?n&1|2:n&1),e):(Ze(e),null);case 22:case 23:return mf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pt&1073741824&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function Ex(t,e){switch(Kd(e),e.tag){case 1:return Et(e.type)&&fl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zi(),pe(wt),pe(st),rf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nf(e),null;case 13:if(pe(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(_e),null;case 4:return zi(),null;case 10:return Jd(e.type._context),null;case 22:case 23:return mf(),null;case 24:return null;default:return null}}var Sa=!1,nt=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ti(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(t,e,r)}else n.current=null}function Uh(t,e,n){try{n()}catch(r){xe(t,e,r)}}var pg=!1;function Tx(t,e){if(xh=ul,t=c0(),Gd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,h=0,p=0,f=t,m=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(_=f.firstChild)!==null;)m=f,f=_;for(;;){if(f===t)break t;if(m===n&&++h===i&&(l=s),m===o&&++p===r&&(u=s),(_=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ch={focusedElem:t,selectionRange:n},ul=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var P=x.memoizedProps,D=x.memoizedState,S=e.stateNode,E=S.getSnapshotBeforeUpdate(e.elementType===e.type?P:Yt(e.type,P),D);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){xe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return x=pg,pg=!1,x}function zo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Uh(e,n,o)}i=i.next}while(i!==r)}}function lu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function s1(t){var e=t.alternate;e!==null&&(t.alternate=null,s1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[un],delete e[hs],delete e[Ph],delete e[ox],delete e[sx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a1(t){return t.tag===5||t.tag===3||t.tag===4}function mg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dl));else if(r!==4&&(t=t.child,t!==null))for(zh(t,e,n),t=t.sibling;t!==null;)zh(t,e,n),t=t.sibling}function Hh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hh(t,e,n),t=t.sibling;t!==null;)Hh(t,e,n),t=t.sibling}var Be=null,Xt=!1;function Ln(t,e,n){for(n=n.child;n!==null;)l1(t,e,n),n=n.sibling}function l1(t,e,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(eu,n)}catch{}switch(n.tag){case 5:nt||Ti(n,e);case 6:var r=Be,i=Xt;Be=null,Ln(t,e,n),Be=r,Xt=i,Be!==null&&(Xt?(t=Be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Xt?(t=Be,n=n.stateNode,t.nodeType===8?vc(t.parentNode,n):t.nodeType===1&&vc(t,n),ss(t)):vc(Be,n.stateNode));break;case 4:r=Be,i=Xt,Be=n.stateNode.containerInfo,Xt=!0,Ln(t,e,n),Be=r,Xt=i;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Uh(n,e,s),i=i.next}while(i!==r)}Ln(t,e,n);break;case 1:if(!nt&&(Ti(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){xe(n,e,l)}Ln(t,e,n);break;case 21:Ln(t,e,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,Ln(t,e,n),nt=r):Ln(t,e,n);break;default:Ln(t,e,n)}}function gg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Sx),e.forEach(function(r){var i=Dx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Be=l.stateNode,Xt=!1;break e;case 3:Be=l.stateNode.containerInfo,Xt=!0;break e;case 4:Be=l.stateNode.containerInfo,Xt=!0;break e}l=l.return}if(Be===null)throw Error(F(160));l1(o,s,i),Be=null,Xt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){xe(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)u1(e,t),e=e.sibling}function u1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(e,t),sn(t),r&4){try{zo(3,t,t.return),lu(3,t)}catch(P){xe(t,t.return,P)}try{zo(5,t,t.return)}catch(P){xe(t,t.return,P)}}break;case 1:qt(e,t),sn(t),r&512&&n!==null&&Ti(n,n.return);break;case 5:if(qt(e,t),sn(t),r&512&&n!==null&&Ti(n,n.return),t.flags&32){var i=t.stateNode;try{ns(i,"")}catch(P){xe(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Nv(i,o),ph(l,s);var h=ph(l,o);for(s=0;s<u.length;s+=2){var p=u[s],f=u[s+1];p==="style"?Vv(i,f):p==="dangerouslySetInnerHTML"?Ov(i,f):p==="children"?ns(i,f):bd(i,p,f,h)}switch(l){case"input":uh(i,o);break;case"textarea":Dv(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?Ai(i,!!o.multiple,_,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ai(i,!!o.multiple,o.defaultValue,!0):Ai(i,!!o.multiple,o.multiple?[]:"",!1))}i[hs]=o}catch(P){xe(t,t.return,P)}}break;case 6:if(qt(e,t),sn(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(P){xe(t,t.return,P)}}break;case 3:if(qt(e,t),sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ss(e.containerInfo)}catch(P){xe(t,t.return,P)}break;case 4:qt(e,t),sn(t);break;case 13:qt(e,t),sn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ff=Ae())),r&4&&gg(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(nt=(h=nt)||p,qt(e,t),nt=h):qt(e,t),sn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(z=t,p=t.child;p!==null;){for(f=z=p;z!==null;){switch(m=z,_=m.child,m.tag){case 0:case 11:case 14:case 15:zo(4,m,m.return);break;case 1:Ti(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(P){xe(r,n,P)}}break;case 5:Ti(m,m.return);break;case 22:if(m.memoizedState!==null){vg(f);continue}}_!==null?(_.return=m,z=_):vg(f)}p=p.sibling}e:for(p=null,f=t;;){if(f.tag===5){if(p===null){p=f;try{i=f.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Mv("display",s))}catch(P){xe(t,t.return,P)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(P){xe(t,t.return,P)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qt(e,t),sn(t),r&4&&gg(t);break;case 21:break;default:qt(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(a1(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ns(i,""),r.flags&=-33);var o=mg(t);Hh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=mg(t);zh(t,l,s);break;default:throw Error(F(161))}}catch(u){xe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xx(t,e,n){z=t,c1(t)}function c1(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Sa;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||nt;l=Sa;var h=nt;if(Sa=s,(nt=u)&&!h)for(z=i;z!==null;)s=z,u=s.child,s.tag===22&&s.memoizedState!==null?_g(i):u!==null?(u.return=s,z=u):_g(i);for(;o!==null;)z=o,c1(o),o=o.sibling;z=i,Sa=l,nt=h}yg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,z=o):yg(t)}}function yg(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nt||lu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&tg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tg(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&ss(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}nt||e.flags&512&&Bh(e)}catch(m){xe(e,e.return,m)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function vg(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function _g(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lu(4,e)}catch(u){xe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){xe(e,i,u)}}var o=e.return;try{Bh(e)}catch(u){xe(e,o,u)}break;case 5:var s=e.return;try{Bh(e)}catch(u){xe(e,s,u)}}}catch(u){xe(e,e.return,u)}if(e===t){z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,z=l;break}z=e.return}}var Cx=Math.ceil,Tl=bn.ReactCurrentDispatcher,hf=bn.ReactCurrentOwner,Ht=bn.ReactCurrentBatchConfig,ne=0,Fe=null,Re=null,Ge=0,Pt=0,xi=pr(0),be=0,ys=null,Hr=0,uu=0,df=0,Ho=null,vt=null,ff=0,Wi=1/0,En=null,xl=!1,Wh=null,er=null,Ta=!1,Gn=null,Cl=0,Wo=0,Gh=null,Qa=-1,Ka=0;function dt(){return ne&6?Ae():Qa!==-1?Qa:Qa=Ae()}function tr(t){return t.mode&1?ne&2&&Ge!==0?Ge&-Ge:lx.transition!==null?(Ka===0&&(Ka=Kv()),Ka):(t=ae,t!==0||(t=window.event,t=t===void 0?16:t0(t.type)),t):1}function rn(t,e,n,r){if(50<Wo)throw Wo=0,Gh=null,Error(F(185));Ds(t,n,r),(!(ne&2)||t!==Fe)&&(t===Fe&&(!(ne&2)&&(uu|=n),be===4&&Hn(t,Ge)),St(t,r),n===1&&ne===0&&!(e.mode&1)&&(Wi=Ae()+500,ou&&mr()))}function St(t,e){var n=t.callbackNode;lT(t,e);var r=ll(t,t===Fe?Ge:0);if(r===0)n!==null&&Pm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pm(n),e===1)t.tag===0?ax(wg.bind(null,t)):w0(wg.bind(null,t)),rx(function(){!(ne&6)&&mr()}),n=null;else{switch(qv(r)){case 1:n=Ld;break;case 4:n=Gv;break;case 16:n=al;break;case 536870912:n=Qv;break;default:n=al}n=v1(n,h1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h1(t,e){if(Qa=-1,Ka=0,ne&6)throw Error(F(327));var n=t.callbackNode;if(Ni()&&t.callbackNode!==n)return null;var r=ll(t,t===Fe?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Al(t,r);else{e=r;var i=ne;ne|=2;var o=f1();(Fe!==t||Ge!==e)&&(En=null,Wi=Ae()+500,Vr(t,e));do try{Px();break}catch(l){d1(t,l)}while(!0);Xd(),Tl.current=o,ne=i,Re!==null?e=0:(Fe=null,Ge=0,e=be)}if(e!==0){if(e===2&&(i=_h(t),i!==0&&(r=i,e=Qh(t,i))),e===1)throw n=ys,Vr(t,0),Hn(t,r),St(t,Ae()),n;if(e===6)Hn(t,r);else{if(i=t.current.alternate,!(r&30)&&!Ax(i)&&(e=Al(t,r),e===2&&(o=_h(t),o!==0&&(r=o,e=Qh(t,o))),e===1))throw n=ys,Vr(t,0),Hn(t,r),St(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Ir(t,vt,En);break;case 3:if(Hn(t,r),(r&130023424)===r&&(e=ff+500-Ae(),10<e)){if(ll(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ih(Ir.bind(null,t,vt,En),e);break}Ir(t,vt,En);break;case 4:if(Hn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-nn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cx(r/1960))-r,10<r){t.timeoutHandle=Ih(Ir.bind(null,t,vt,En),r);break}Ir(t,vt,En);break;case 5:Ir(t,vt,En);break;default:throw Error(F(329))}}}return St(t,Ae()),t.callbackNode===n?h1.bind(null,t):null}function Qh(t,e){var n=Ho;return t.current.memoizedState.isDehydrated&&(Vr(t,e).flags|=256),t=Al(t,e),t!==2&&(e=vt,vt=n,e!==null&&Kh(e)),t}function Kh(t){vt===null?vt=t:vt.push.apply(vt,t)}function Ax(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!on(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hn(t,e){for(e&=~df,e&=~uu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nn(e),r=1<<n;t[n]=-1,e&=~r}}function wg(t){if(ne&6)throw Error(F(327));Ni();var e=ll(t,0);if(!(e&1))return St(t,Ae()),null;var n=Al(t,e);if(t.tag!==0&&n===2){var r=_h(t);r!==0&&(e=r,n=Qh(t,r))}if(n===1)throw n=ys,Vr(t,0),Hn(t,e),St(t,Ae()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ir(t,vt,En),St(t,Ae()),null}function pf(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(Wi=Ae()+500,ou&&mr())}}function Wr(t){Gn!==null&&Gn.tag===0&&!(ne&6)&&Ni();var e=ne;ne|=1;var n=Ht.transition,r=ae;try{if(Ht.transition=null,ae=1,t)return t()}finally{ae=r,Ht.transition=n,ne=e,!(ne&6)&&mr()}}function mf(){Pt=xi.current,pe(xi)}function Vr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nx(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Kd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fl();break;case 3:zi(),pe(wt),pe(st),rf();break;case 5:nf(r);break;case 4:zi();break;case 13:pe(_e);break;case 19:pe(_e);break;case 10:Jd(r.type._context);break;case 22:case 23:mf()}n=n.return}if(Fe=t,Re=t=nr(t.current,null),Ge=Pt=e,be=0,ys=null,df=uu=Hr=0,vt=Ho=null,Nr!==null){for(e=0;e<Nr.length;e++)if(n=Nr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Nr=null}return t}function d1(t,e){do{var n=Re;try{if(Xd(),Ha.current=Sl,El){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}El=!1}if(zr=0,je=De=Ee=null,Bo=!1,ps=0,hf.current=null,n===null||n.return===null){be=1,ys=e,Re=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=Ge,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,p=l,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=ag(s);if(_!==null){_.flags&=-257,lg(_,s,l,o,e),_.mode&1&&sg(o,h,e),e=_,u=h;var x=e.updateQueue;if(x===null){var P=new Set;P.add(u),e.updateQueue=P}else x.add(u);break e}else{if(!(e&1)){sg(o,h,e),gf();break e}u=Error(F(426))}}else if(ye&&l.mode&1){var D=ag(s);if(D!==null){!(D.flags&65536)&&(D.flags|=256),lg(D,s,l,o,e),qd(Hi(u,l));break e}}o=u=Hi(u,l),be!==4&&(be=2),Ho===null?Ho=[o]:Ho.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=q0(o,u,e);eg(o,S);break e;case 1:l=u;var E=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(er===null||!er.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=Y0(o,l,e);eg(o,b);break e}}o=o.return}while(o!==null)}m1(n)}catch(L){e=L,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function f1(){var t=Tl.current;return Tl.current=Sl,t===null?Sl:t}function gf(){(be===0||be===3||be===2)&&(be=4),Fe===null||!(Hr&268435455)&&!(uu&268435455)||Hn(Fe,Ge)}function Al(t,e){var n=ne;ne|=2;var r=f1();(Fe!==t||Ge!==e)&&(En=null,Vr(t,e));do try{Ix();break}catch(i){d1(t,i)}while(!0);if(Xd(),ne=n,Tl.current=r,Re!==null)throw Error(F(261));return Fe=null,Ge=0,be}function Ix(){for(;Re!==null;)p1(Re)}function Px(){for(;Re!==null&&!ZS();)p1(Re)}function p1(t){var e=y1(t.alternate,t,Pt);t.memoizedProps=t.pendingProps,e===null?m1(t):Re=e,hf.current=null}function m1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ex(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{be=6,Re=null;return}}else if(n=wx(n,e,Pt),n!==null){Re=n;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);be===0&&(be=5)}function Ir(t,e,n){var r=ae,i=Ht.transition;try{Ht.transition=null,ae=1,kx(t,e,n,r)}finally{Ht.transition=i,ae=r}return null}function kx(t,e,n,r){do Ni();while(Gn!==null);if(ne&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(uT(t,o),t===Fe&&(Re=Fe=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ta||(Ta=!0,v1(al,function(){return Ni(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ht.transition,Ht.transition=null;var s=ae;ae=1;var l=ne;ne|=4,hf.current=null,Tx(t,n),u1(n,t),qT(Ch),ul=!!xh,Ch=xh=null,t.current=n,xx(n),eT(),ne=l,ae=s,Ht.transition=o}else t.current=n;if(Ta&&(Ta=!1,Gn=t,Cl=i),o=t.pendingLanes,o===0&&(er=null),rT(n.stateNode),St(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xl)throw xl=!1,t=Wh,Wh=null,t;return Cl&1&&t.tag!==0&&Ni(),o=t.pendingLanes,o&1?t===Gh?Wo++:(Wo=0,Gh=t):Wo=0,mr(),null}function Ni(){if(Gn!==null){var t=qv(Cl),e=Ht.transition,n=ae;try{if(Ht.transition=null,ae=16>t?16:t,Gn===null)var r=!1;else{if(t=Gn,Gn=null,Cl=0,ne&6)throw Error(F(331));var i=ne;for(ne|=4,z=t.current;z!==null;){var o=z,s=o.child;if(z.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(z=h;z!==null;){var p=z;switch(p.tag){case 0:case 11:case 15:zo(8,p,o)}var f=p.child;if(f!==null)f.return=p,z=f;else for(;z!==null;){p=z;var m=p.sibling,_=p.return;if(s1(p),p===h){z=null;break}if(m!==null){m.return=_,z=m;break}z=_}}}var x=o.alternate;if(x!==null){var P=x.child;if(P!==null){x.child=null;do{var D=P.sibling;P.sibling=null,P=D}while(P!==null)}}z=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,z=s;else e:for(;z!==null;){if(o=z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:zo(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,z=S;break e}z=o.return}}var E=t.current;for(z=E;z!==null;){s=z;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,z=A;else e:for(s=E;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lu(9,l)}}catch(L){xe(l,l.return,L)}if(l===s){z=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,z=b;break e}z=l.return}}if(ne=i,mr(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(eu,t)}catch{}r=!0}return r}finally{ae=n,Ht.transition=e}}return!1}function Eg(t,e,n){e=Hi(n,e),e=q0(t,e,1),t=Zn(t,e,1),e=dt(),t!==null&&(Ds(t,1,e),St(t,e))}function xe(t,e,n){if(t.tag===3)Eg(t,t,n);else for(;e!==null;){if(e.tag===3){Eg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(er===null||!er.has(r))){t=Hi(n,t),t=Y0(e,t,1),e=Zn(e,t,1),t=dt(),e!==null&&(Ds(e,1,t),St(e,t));break}}e=e.return}}function Rx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dt(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&(Ge&n)===n&&(be===4||be===3&&(Ge&130023424)===Ge&&500>Ae()-ff?Vr(t,0):df|=n),St(t,e)}function g1(t,e){e===0&&(t.mode&1?(e=fa,fa<<=1,!(fa&130023424)&&(fa=4194304)):e=1);var n=dt();t=Rn(t,e),t!==null&&(Ds(t,e,n),St(t,n))}function Nx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),g1(t,n)}function Dx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),g1(t,n)}var y1;y1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wt.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,_x(t,e,n);_t=!!(t.flags&131072)}else _t=!1,ye&&e.flags&1048576&&E0(e,gl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ga(t,e),t=e.pendingProps;var i=$i(e,st.current);Ri(e,n),i=sf(null,e,r,t,i,n);var o=af();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Et(r)?(o=!0,pl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ef(e),i.updater=au,e.stateNode=i,i._reactInternals=e,Oh(e,r,t,n),e=jh(null,e,r,!0,o,n)):(e.tag=0,ye&&o&&Qd(e),ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ga(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ox(r),t=Yt(r,t),i){case 0:e=Vh(null,e,r,t,n);break e;case 1:e=hg(null,e,r,t,n);break e;case 11:e=ug(null,e,r,t,n);break e;case 14:e=cg(null,e,r,Yt(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Vh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),hg(t,e,r,i,n);case 3:e:{if(e1(e),t===null)throw Error(F(387));r=e.pendingProps,o=e.memoizedState,i=o.element,I0(t,e),_l(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Hi(Error(F(423)),e),e=dg(t,e,r,n,i);break e}else if(r!==i){i=Hi(Error(F(424)),e),e=dg(t,e,r,n,i);break e}else for(Rt=Jn(e.stateNode.containerInfo.firstChild),Dt=e,ye=!0,Jt=null,n=C0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ui(),r===i){e=Nn(t,e,n);break e}ht(t,e,r,n)}e=e.child}return e;case 5:return P0(e),t===null&&Nh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ah(r,i)?s=null:o!==null&&Ah(r,o)&&(e.flags|=32),Z0(t,e),ht(t,e,s,n),e.child;case 6:return t===null&&Nh(e),null;case 13:return t1(t,e,n);case 4:return tf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bi(e,null,r,n):ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),ug(t,e,r,i,n);case 7:return ht(t,e,e.pendingProps,n),e.child;case 8:return ht(t,e,e.pendingProps.children,n),e.child;case 12:return ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ue(yl,r._currentValue),r._currentValue=s,o!==null)if(on(o.value,s)){if(o.children===i.children&&!wt.current){e=Nn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Cn(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?u.next=u:(u.next=p.next,p.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Dh(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(F(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ri(e,n),i=Gt(i),r=r(i),e.flags|=1,ht(t,e,r,n),e.child;case 14:return r=e.type,i=Yt(r,e.pendingProps),i=Yt(r.type,i),cg(t,e,r,i,n);case 15:return X0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Ga(t,e),e.tag=1,Et(r)?(t=!0,pl(e)):t=!1,Ri(e,n),K0(e,r,i),Oh(e,r,i,n),jh(null,e,r,!0,t,n);case 19:return n1(t,e,n);case 22:return J0(t,e,n)}throw Error(F(156,e.tag))};function v1(t,e){return Wv(t,e)}function bx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,e,n,r){return new bx(t,e,n,r)}function yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ox(t){if(typeof t=="function")return yf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Md)return 11;if(t===Vd)return 14}return 2}function nr(t,e){var n=t.alternate;return n===null?(n=Bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qa(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")yf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case pi:return jr(n.children,i,o,e);case Od:s=8,i|=8;break;case ih:return t=Bt(12,n,e,i|2),t.elementType=ih,t.lanes=o,t;case oh:return t=Bt(13,n,e,i),t.elementType=oh,t.lanes=o,t;case sh:return t=Bt(19,n,e,i),t.elementType=sh,t.lanes=o,t;case Pv:return cu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Av:s=10;break e;case Iv:s=9;break e;case Md:s=11;break e;case Vd:s=14;break e;case Un:s=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Bt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function jr(t,e,n,r){return t=Bt(7,t,r,e),t.lanes=n,t}function cu(t,e,n,r){return t=Bt(22,t,r,e),t.elementType=Pv,t.lanes=n,t.stateNode={isHidden:!1},t}function Ac(t,e,n){return t=Bt(6,t,null,e),t.lanes=n,t}function Ic(t,e,n){return e=Bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mx(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ac(0),this.expirationTimes=ac(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ac(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vf(t,e,n,r,i,o,s,l,u){return t=new Mx(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ef(o),t}function Vx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _1(t){if(!t)return lr;t=t._reactInternals;e:{if(Jr(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Et(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(Et(n))return _0(t,n,e)}return e}function w1(t,e,n,r,i,o,s,l,u){return t=vf(n,r,!0,t,i,o,s,l,u),t.context=_1(null),n=t.current,r=dt(),i=tr(n),o=Cn(r,i),o.callback=e??null,Zn(n,o,i),t.current.lanes=i,Ds(t,i,r),St(t,r),t}function hu(t,e,n,r){var i=e.current,o=dt(),s=tr(i);return n=_1(n),e.context===null?e.context=n:e.pendingContext=n,e=Cn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zn(i,e,s),t!==null&&(rn(t,i,s,o),za(t,i,s)),s}function Il(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _f(t,e){Sg(t,e),(t=t.alternate)&&Sg(t,e)}function jx(){return null}var E1=typeof reportError=="function"?reportError:function(t){console.error(t)};function wf(t){this._internalRoot=t}du.prototype.render=wf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));hu(t,e,null,null)};du.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wr(function(){hu(null,t,null,null)}),e[kn]=null}};function du(t){this._internalRoot=t}du.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zn.length&&e!==0&&e<zn[n].priority;n++);zn.splice(n,0,t),n===0&&e0(t)}};function Ef(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tg(){}function Lx(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Il(s);o.call(h)}}var s=w1(e,r,t,0,null,!1,!1,"",Tg);return t._reactRootContainer=s,t[kn]=s.current,us(t.nodeType===8?t.parentNode:t),Wr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Il(u);l.call(h)}}var u=vf(t,0,!1,null,null,!1,!1,"",Tg);return t._reactRootContainer=u,t[kn]=u.current,us(t.nodeType===8?t.parentNode:t),Wr(function(){hu(e,u,n,r)}),u}function pu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Il(s);l.call(u)}}hu(e,s,t,i)}else s=Lx(n,e,t,i,r);return Il(s)}Yv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bo(e.pendingLanes);n!==0&&(Fd(e,n|1),St(e,Ae()),!(ne&6)&&(Wi=Ae()+500,mr()))}break;case 13:Wr(function(){var r=Rn(t,1);if(r!==null){var i=dt();rn(r,t,1,i)}}),_f(t,1)}};$d=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var n=dt();rn(e,t,134217728,n)}_f(t,134217728)}};Xv=function(t){if(t.tag===13){var e=tr(t),n=Rn(t,e);if(n!==null){var r=dt();rn(n,t,e,r)}_f(t,e)}};Jv=function(){return ae};Zv=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};gh=function(t,e,n){switch(e){case"input":if(uh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=iu(r);if(!i)throw Error(F(90));Rv(r),uh(r,i)}}}break;case"textarea":Dv(t,n);break;case"select":e=n.value,e!=null&&Ai(t,!!n.multiple,e,!1)}};Fv=pf;$v=Wr;var Fx={usingClientEntryPoint:!1,Events:[Os,vi,iu,jv,Lv,pf]},Io={findFiberByHostInstance:Rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$x={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zv(t),t===null?null:t.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||jx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{eu=xa.inject($x),hn=xa}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fx;Vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(e))throw Error(F(200));return Vx(t,e,null,n)};Vt.createRoot=function(t,e){if(!Ef(t))throw Error(F(299));var n=!1,r="",i=E1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vf(t,1,!1,null,null,n,!1,r,i),t[kn]=e.current,us(t.nodeType===8?t.parentNode:t),new wf(e)};Vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=zv(e),t=t===null?null:t.stateNode,t};Vt.flushSync=function(t){return Wr(t)};Vt.hydrate=function(t,e,n){if(!fu(e))throw Error(F(200));return pu(null,t,e,!0,n)};Vt.hydrateRoot=function(t,e,n){if(!Ef(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=E1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=w1(e,null,t,1,n??null,i,!1,o,s),t[kn]=e.current,us(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new du(e)};Vt.render=function(t,e,n){if(!fu(e))throw Error(F(200));return pu(null,t,e,!1,n)};Vt.unmountComponentAtNode=function(t){if(!fu(t))throw Error(F(40));return t._reactRootContainer?(Wr(function(){pu(null,null,t,!1,function(){t._reactRootContainer=null,t[kn]=null})}),!0):!1};Vt.unstable_batchedUpdates=pf;Vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fu(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return pu(t,e,n,!1,r)};Vt.version="18.3.1-next-f1338f8080-20240426";function S1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S1)}catch(t){console.error(t)}}S1(),Sv.exports=Vt;var Ux=Sv.exports;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}var Qn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qn||(Qn={}));const xg="popstate";function Bx(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return qh("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Pl(i)}return Hx(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function T1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zx(){return Math.random().toString(36).substr(2,8)}function Cg(t,e){return{usr:t.state,key:t.key,idx:e}}function qh(t,e,n,r){return n===void 0&&(n=null),vs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ro(e):e,{state:n,key:e&&e.key||r||zx()})}function Pl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Hx(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Qn.Pop,u=null,h=p();h==null&&(h=0,s.replaceState(vs({},s.state,{idx:h}),""));function p(){return(s.state||{idx:null}).idx}function f(){l=Qn.Pop;let D=p(),S=D==null?null:D-h;h=D,u&&u({action:l,location:P.location,delta:S})}function m(D,S){l=Qn.Push;let E=qh(P.location,D,S);h=p()+1;let A=Cg(E,h),b=P.createHref(E);try{s.pushState(A,"",b)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(b)}o&&u&&u({action:l,location:P.location,delta:1})}function _(D,S){l=Qn.Replace;let E=qh(P.location,D,S);h=p();let A=Cg(E,h),b=P.createHref(E);s.replaceState(A,"",b),o&&u&&u({action:l,location:P.location,delta:0})}function x(D){let S=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof D=="string"?D:Pl(D);return E=E.replace(/ $/,"%20"),Ne(S,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,S)}let P={get action(){return l},get location(){return t(i,s)},listen(D){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(xg,f),u=D,()=>{i.removeEventListener(xg,f),u=null}},createHref(D){return e(i,D)},createURL:x,encodeLocation(D){let S=x(D);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:_,go(D){return s.go(D)}};return P}var Ag;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ag||(Ag={}));function Wx(t,e,n){return n===void 0&&(n="/"),Gx(t,e,n,!1)}function Gx(t,e,n,r){let i=typeof e=="string"?ro(e):e,o=Sf(i.pathname||"/",n);if(o==null)return null;let s=x1(t);Qx(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let h=iC(o);l=nC(s[u],h,r)}return l}function x1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Ne(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=rr([r,u.relativePath]),p=n.concat(u);o.children&&o.children.length>0&&(Ne(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),x1(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:eC(h,o.index),routesMeta:p})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of C1(o.path))i(o,s,u)}),e}function C1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=C1(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Qx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Kx=/^:[\w-]+$/,qx=3,Yx=2,Xx=1,Jx=10,Zx=-2,Ig=t=>t==="*";function eC(t,e){let n=t.split("/"),r=n.length;return n.some(Ig)&&(r+=Zx),e&&(r+=Yx),n.filter(i=>!Ig(i)).reduce((i,o)=>i+(Kx.test(o)?qx:o===""?Xx:Jx),r)}function tC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function nC(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",f=Pg({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),m=u.route;if(!f&&h&&n&&!r[r.length-1].route.index&&(f=Pg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:rr([o,f.pathname]),pathnameBase:lC(rr([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=rr([o,f.pathnameBase]))}return s}function Pg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,f)=>{let{paramName:m,isOptional:_}=p;if(m==="*"){let P=l[f]||"";s=o.slice(0,o.length-P.length).replace(/(.)\/+$/,"$1")}const x=l[f];return _&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:s,pattern:t}}function rC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),T1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return T1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ro(t):t;return{pathname:n?n.startsWith("/")?n:sC(n,e):e,search:uC(r),hash:cC(i)}}function sC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function A1(t,e){let n=aC(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function I1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ro(t):(i=vs({},t),Ne(!i.pathname||!i.pathname.includes("?"),Pc("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),Pc("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),Pc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let u=oC(i,l),h=s&&s!=="/"&&s.endsWith("/"),p=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}const rr=t=>t.join("/").replace(/\/\/+/g,"/"),lC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const P1=["post","put","patch","delete"];new Set(P1);const dC=["get",...P1];new Set(dC);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _s(){return _s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_s.apply(this,arguments)}const Tf=M.createContext(null),fC=M.createContext(null),Zr=M.createContext(null),mu=M.createContext(null),gr=M.createContext({outlet:null,matches:[],isDataRoute:!1}),k1=M.createContext(null);function pC(t,e){let{relative:n}=e===void 0?{}:e;Vs()||Ne(!1);let{basename:r,navigator:i}=M.useContext(Zr),{hash:o,pathname:s,search:l}=N1(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:rr([r,s])),i.createHref({pathname:u,search:l,hash:o})}function Vs(){return M.useContext(mu)!=null}function js(){return Vs()||Ne(!1),M.useContext(mu).location}function R1(t){M.useContext(Zr).static||M.useLayoutEffect(t)}function gu(){let{isDataRoute:t}=M.useContext(gr);return t?PC():mC()}function mC(){Vs()||Ne(!1);let t=M.useContext(Tf),{basename:e,future:n,navigator:r}=M.useContext(Zr),{matches:i}=M.useContext(gr),{pathname:o}=js(),s=JSON.stringify(A1(i,n.v7_relativeSplatPath)),l=M.useRef(!1);return R1(()=>{l.current=!0}),M.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let f=I1(h,JSON.parse(s),o,p.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:rr([e,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[e,r,s,o,t])}function gC(){let{matches:t}=M.useContext(gr),e=t[t.length-1];return e?e.params:{}}function N1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(Zr),{matches:i}=M.useContext(gr),{pathname:o}=js(),s=JSON.stringify(A1(i,r.v7_relativeSplatPath));return M.useMemo(()=>I1(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function yC(t,e){return vC(t,e)}function vC(t,e,n,r){Vs()||Ne(!1);let{navigator:i}=M.useContext(Zr),{matches:o}=M.useContext(gr),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let h=js(),p;if(e){var f;let D=typeof e=="string"?ro(e):e;u==="/"||(f=D.pathname)!=null&&f.startsWith(u)||Ne(!1),p=D}else p=h;let m=p.pathname||"/",_=m;if(u!=="/"){let D=u.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(D.length).join("/")}let x=Wx(t,{pathname:_}),P=TC(x&&x.map(D=>Object.assign({},D,{params:Object.assign({},l,D.params),pathname:rr([u,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?u:rr([u,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,n,r);return e&&P?M.createElement(mu.Provider,{value:{location:_s({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Qn.Pop}},P):P}function _C(){let t=IC(),e=hC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const wC=M.createElement(_C,null);class EC extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(gr.Provider,{value:this.props.routeContext},M.createElement(k1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SC(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(Tf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(gr.Provider,{value:e},r)}function TC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);p>=0||Ne(!1),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<s.length;p++){let f=s[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=p),f.route.id){let{loaderData:m,errors:_}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!_||_[f.route.id]===void 0);if(f.route.lazy||x){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((p,f,m)=>{let _,x=!1,P=null,D=null;n&&(_=l&&f.route.id?l[f.route.id]:void 0,P=f.route.errorElement||wC,u&&(h<0&&m===0?(x=!0,D=null):h===m&&(x=!0,D=f.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,m+1)),E=()=>{let A;return _?A=P:x?A=D:f.route.Component?A=M.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=p,M.createElement(SC,{match:f,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?M.createElement(EC,{location:n.location,revalidation:n.revalidation,component:P,error:_,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}var D1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(D1||{}),kl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kl||{});function xC(t){let e=M.useContext(Tf);return e||Ne(!1),e}function CC(t){let e=M.useContext(fC);return e||Ne(!1),e}function AC(t){let e=M.useContext(gr);return e||Ne(!1),e}function b1(t){let e=AC(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function IC(){var t;let e=M.useContext(k1),n=CC(kl.UseRouteError),r=b1(kl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function PC(){let{router:t}=xC(D1.UseNavigateStable),e=b1(kl.UseNavigateStable),n=M.useRef(!1);return R1(()=>{n.current=!0}),M.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_s({fromRouteId:e},o)))},[t,e])}const kg={};function kC(t,e){kg[e]||(kg[e]=!0,console.warn(e))}const Rg=(t,e,n)=>kC(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function RC(t,e){t!=null&&t.v7_startTransition||Rg("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Rg("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function ui(t){Ne(!1)}function NC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qn.Pop,navigator:o,static:s=!1,future:l}=t;Vs()&&Ne(!1);let u=e.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:u,navigator:o,static:s,future:_s({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=ro(r));let{pathname:p="/",search:f="",hash:m="",state:_=null,key:x="default"}=r,P=M.useMemo(()=>{let D=Sf(p,u);return D==null?null:{location:{pathname:D,search:f,hash:m,state:_,key:x},navigationType:i}},[u,p,f,m,_,x,i]);return P==null?null:M.createElement(Zr.Provider,{value:h},M.createElement(mu.Provider,{children:n,value:P}))}function DC(t){let{children:e,location:n}=t;return yC(Yh(e),n)}new Promise(()=>{});function Yh(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let o=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Yh(r.props.children,o));return}r.type!==ui&&Ne(!1),!r.props.index||!r.props.children||Ne(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Yh(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}function bC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MC(t,e){return t.button===0&&(!e||e==="_self")&&!OC(t)}const VC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jC="6";try{window.__reactRouterVersion=jC}catch{}const LC="startTransition",Ng=Zw[LC];function FC(t){let{basename:e,children:n,future:r,window:i}=t,o=M.useRef();o.current==null&&(o.current=Bx({window:i,v5Compat:!0}));let s=o.current,[l,u]=M.useState({action:s.action,location:s.location}),{v7_startTransition:h}=r||{},p=M.useCallback(f=>{h&&Ng?Ng(()=>u(f)):u(f)},[u,h]);return M.useLayoutEffect(()=>s.listen(p),[s,p]),M.useEffect(()=>RC(r),[r]),M.createElement(NC,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const $C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BC=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:h,preventScrollReset:p,viewTransition:f}=e,m=bC(e,VC),{basename:_}=M.useContext(Zr),x,P=!1;if(typeof h=="string"&&UC.test(h)&&(x=h,$C))try{let A=new URL(window.location.href),b=h.startsWith("//")?new URL(A.protocol+h):new URL(h),L=Sf(b.pathname,_);b.origin===A.origin&&L!=null?h=L+b.search+b.hash:P=!0}catch{}let D=pC(h,{relative:i}),S=zC(h,{replace:s,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:f});function E(A){r&&r(A),A.defaultPrevented||S(A)}return M.createElement("a",Xh({},m,{href:x||D,onClick:P||o?r:E,ref:n,target:u}))});var Dg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Dg||(Dg={}));var bg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bg||(bg={}));function zC(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l}=e===void 0?{}:e,u=gu(),h=js(),p=N1(t,{relative:s});return M.useCallback(f=>{if(MC(f,n)){f.preventDefault();let m=r!==void 0?r:Pl(h)===Pl(p);u(t,{replace:m,state:i,preventScrollReset:o,relative:s,viewTransition:l})}},[h,u,p,r,i,n,t,o,s,l])}function kc({title:t,path:e}){let n=gu();const r=js();function i(l){n(l)}const o=r.pathname===e;let s="cursor-pointer hover:text-blue-300";return o&&(s+=" text-blue-800 dark:text-blue-300",s+=" underline underline-offset-8 decoration-2"),y.jsx("div",{className:s,onClick:()=>i(e),children:t})}function HC(){return y.jsxs("div",{className:"flex flex-row justify-between p-4 pr-6",children:[y.jsx("div",{className:"mr-6",children:"expenses"}),y.jsxs("div",{id:"nav-bar",className:"flex flex-row gap-5",children:[y.jsx(kc,{title:"Expenses",path:Ut.root}),y.jsx(kc,{title:"Accounts",path:Ut.paymentAccounts}),y.jsx(kc,{title:"Settings",path:Ut.settings}),y.jsx(VS,{})]})]})}const Og=[{id:1,buttonName:"Sainsbury's",main:"Groceries",people:["AngelaPerez"],seller:"Sainsburys",tags:["groceries"]},{id:2,buttonName:"Morrisons's",main:"Groceries",people:["AngelaPerez"],seller:"Morrisons",tags:["groceries"]},{id:3,buttonName:"Lidl",main:"Groceries",people:["AngelaPerez"],seller:"Lidl",tags:["groceries"]},{id:4,buttonName:"Tesco",main:"Groceries",people:["AngelaPerez"],seller:"Tesco",tags:["groceries"]},{id:5,buttonName:"TfL",main:"Transport",people:[],seller:"TfL",tags:["transport"]},{id:6,buttonName:"Move",main:"Move money between accounts",people:[],seller:"",tags:[]}],WC=["expenses","groceries","eatout","social","ocio","drinks","invite","transport","health","present","home"],GC="expenses-form",QC=2;function ws(){return new Date(new Date().setMilliseconds(0))}const KC="sv-SE",qC=new Intl.DateTimeFormat(KC,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format;function YC(t){const e=t.getTimezoneOffset(),n=e<=0?"+":"-",r=e%60,i=(e-r)/60,o=s=>String(Math.abs(s)).padStart(2,"0");return`${n}${o(i)}:${o(r)}`}function xf(t){const e=qC(t),n=YC(t);return`${e} ${n}`}function Cf(t){return xf(t).replace(" ","T").replace(" ","")}function Mg(t){return new Date(Date.parse(t))}function Vg({checked:t,label:e,onChange:n}){function r(o){n(o.target.checked)}const i=e.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","");return y.jsxs("label",{htmlFor:i,className:"relative inline-flex flex-row flex-nowrap justify-start items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",id:i,checked:t,onChange:r,className:"hidden peer"}),y.jsx("div",{role:"checkbox-icon-box",className:"w-5 h-5 rounded-sm border-2     border-gray-300       peer-checked:border-blue-500         dark:border-gray-600  dark:peer-checked:border-blue-600              bg-gray-100           peer-checked:bg-blue-500         dark:bg-gray-700      dark:peer-checked:bg-blue-700 transition-all",children:t&&y.jsx("svg",{role:"checkbox-icon-check",className:"w-4 h-4 absolute left-2.5 top-1/2 transform -translate-x-1/2 -translate-y-1/2      stroke-gray-100 dark:stroke-blue-200",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})})}),y.jsx("div",{role:"checkbox-label",className:"p-2 text-sm ",children:e})]})}function XC({data:t,select:e}){function n(r,i){r.preventDefault(),e(i)}return y.jsx("div",{className:"flex flex-row flex-wrap my-2 mb-2 gap-2",children:t.map((r,i)=>y.jsx(we,{text:r.buttonName,onClick:o=>n(o,r.id)},`shortcut-${i}`))})}class Fn{constructor(e,n){Q(this,"key");Q(this,"type");this.key=e,this.type=n}exists(){return!!window.localStorage.getItem(this.key)}read(){const e=window.localStorage.getItem(this.key);if(e!==null)switch(this.type){case"string":return e;case"number":return Number(e);case"object":return JSON.parse(e);default:throw new Error(`Type ${this.type} is not supported yet`)}}set(e){this.assertType(e);let n="";switch(this.type){case"string":n=e;break;case"number":n=e.toString();break;case"object":n=JSON.stringify(e);break;default:throw new Error(`Type ${this.type} is not supported yet`)}window.localStorage.setItem(this.key,n)}delete(){this.exists()&&window.localStorage.removeItem(this.key)}assertType(e){const n=typeof e,r=this.type;if(n!==r)throw new Error(`Expected ${r}, got ${n} instead`)}}class O1{constructor(){Q(this,"splitwiseApiToken");Q(this,"tripTags");Q(this,"people");Q(this,"expenses");Q(this,"paymentAccounts");Q(this,"defaultPaymentAccountId");Q(this,"firestoreConfig");Q(this,"currencies");this.splitwiseApiToken=new Fn("exp_splitwise_api_token","string"),this.tripTags=new Fn("exp__trip_tags","object"),this.people=new Fn("exp__people","object"),this.expenses=new Fn("exp__expenses","object"),this.paymentAccounts=new Fn("exp__payment_accounts","object"),this.defaultPaymentAccountId=new Fn("exp__default_payment_account_id","string"),this.firestoreConfig=new Fn("exp__firestore_config","object"),this.currencies=new Fn("exp__currencies","string")}}const Oe=new O1;function JC(t,e){return new Set([...t,...e])}function ZC(t,e){const n=new Set;if(t===void 0||e===void 0)return n;for(const r of t)e.has(r)&&n.add(r);return n}function eA({a:t,b:e}){const n=new Set,r=new Set([...e]);for(const i of t)e.has(i)?r.delete(i):n.add(i);return{inAButNotInB:n,inBButNotInA:r}}const xr="";function M1({id:t,value:e,placeholder:n,choices:r,onChange:i,allowChoiceCreation:o,className:s}){const l=o===void 0?!0:o,[u,h]=M.useState(xr),[p,f]=M.useState(!1),m=r.filter(R=>!e.includes(R)),_=m.filter(R=>R.toLowerCase().includes(u.toLowerCase())),[x,P]=M.useState(Ca({chosen:e,notChosen:m,toChoose:_,all:r})),D=M.useRef(null);let S="relative text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 p-3 has-[input:focus]:border-t  border-t-blue-300  dark:has-[input:focus]:border-t-blue-300 has-[input:focus]:border-l  border-l-blue-300  dark:has-[input:focus]:border-l-blue-300 has-[input:focus]:border-r  border-r-blue-300  dark:has-[input:focus]:border-r-blue-300 group rounded has-[input:focus]:rounded-b-none appearance-none leading-tight";s&&(S+=` ${s}`);const E=" text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";function A(){f(!0)}function b(){f(!1)}M.useEffect(()=>{function R(C){C.composedPath().includes(D.current)||b()}document.addEventListener("mousedown",R)},[]);function L(R){h(R)}function j(){const R=tA({choice:u,state:x});P(Ca(R)),i([...R.chosen]),h(xr)}function w(R){const C=nA({choice:R,state:x});P(Ca(C)),i([...C.chosen]),h(xr)}function g(R){const C=rA({choice:R,state:x});P(Ca(C)),i([...C.chosen]),h(xr)}const I=![xr,void 0].includes(u)&&_.length===0,k=e.length>0?void 0:n;return y.jsxs("div",{ref:D,className:S,role:"multi-choice-dropdown",onFocus:A,children:[y.jsxs("div",{className:"flex flex-row flex-wrap gap-2 overflow-x-hidden",role:"listbox-selected",children:[e.map((R,C)=>y.jsxs("div",{role:"choice",onClick:()=>g(R),className:"px-3 py-2 rounded text-gray-800 dark:text-gray-800   bg-gray-300   dark:bg-gray-400 cursor-pointer",children:[R,"   ❌"]},`${C}-${R}`)),y.jsx("input",{id:t,type:"search",className:E,value:u===void 0?xr:u,placeholder:k===void 0?xr:k,onChange:R=>L(R.target.value)})]}),p&&y.jsxs("div",{role:"listbox-selectable",className:"absolute top-full inset-x-0 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 group-focus-within:border-l  group-focus-within:border-l-blue-300  dark:group-focus-within:border-l-blue-300 group-focus-within:border-b  group-focus-within:border-b-blue-300  dark:group-focus-within:border-b-blue-300 group-focus-within:border-r  group-focus-within:border-r-blue-300  dark:group-focus-within:border-r-blue-300 rounded-b -m-px z-10 dark:z-10",children:[I?l?y.jsxs("div",{role:"create-choice",onClick:j,className:"px-3 py-3 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:["Add   ",y.jsx("b",{children:u})]}):y.jsx("div",{role:"choices-not-found",className:"px-3 py-3 text-gray-800  dark:text-gray-200    bg-red-200     dark:bg-red-500",children:"Not found"}):null,m.filter(R=>R.toLowerCase().includes(u.toLowerCase())).map((R,C)=>y.jsx("div",{role:"choice",onClick:()=>w(R),className:"py-3 px-5 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:R},`${C}-${R}`))]})]})}function Ca(t){const e=new Set(t.chosen),n=new Set(t.notChosen),r=new Set(t.all),i=ZC(e,n);if(i.size>0)throw In("invalid state: a choice must only appear in either 'chosen' or 'notChosen' collections, but the following choices appear in both: "+[...i].map(u=>`'${u}'`).sort().join(", "));const o=[],{inAButNotInB:s,inBButNotInA:l}=eA({a:r,b:JC(e,n)});if(s.size>0&&o.push("every choice in the 'all' collection must appear in either 'chosen' or, 'notChosen' collections but these do not: "+[...s].map(u=>`'${u}'`).sort().join(", ")),l.size>0&&o.push("every choice in the 'chosen' and 'notChosen' collections must appear in the 'all' collection, but these do not: "+[...l].map(u=>`'${u}'`).sort().join(", ")),o.length>0)throw In(`invalid state:
${o.join(`

`)}`);return t}function tA({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:[...e.chosen,t],notChosen:e.notChosen.filter(n=>n!==t),all:[...e.all,t]}}function nA({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:[...e.chosen,t],notChosen:e.notChosen.filter(n=>n!==t),all:e.all}}function rA({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:e.chosen.filter(n=>n!==t),notChosen:[...e.notChosen,t],all:e.all}}function zt({id:t,value:e,placeholder:n,onChange:r,className:i,isCode:o}){let s="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";i&&(s+=` ${i}`),o&&(s+=" font-mono");function l(u){let h=u.target.value;h===""&&(h=void 0),r(h)}return y.jsx("input",{id:t,className:s,value:e===void 0?"":e,placeholder:n===void 0?"":n,onChange:l})}function iA({name:t,selected:e,onClick:n}){const r=i=>{i.preventDefault(),n()};return y.jsx(we,{text:t,active:e,onClick:r})}const oA=Mt.div`
  display: flex;
  flex-flow: row wrap;
  justify-content: flex-start;
  align-items: stretch;
  align-content: flex-start;
  row-gap: 0.5rem;
  column-gap: 0.5rem;
`;function sA({tags:t,selected:e,onChange:n}){function r(i){const o=new Set([...e.values()]);e.has(i)?o.delete(i):o.add(i),n(o)}return y.jsx(oA,{children:t.map((i,o)=>y.jsx(iA,{name:i,selected:e.has(i),onClick:()=>r(i)},`${i}-${o}`))})}function Po({main:t,people:e,seller:n,tags:r}){const i=[];if(t&&i.push(t),e&&e.length>0){const o=e.map(s=>`@${s}`);i.push(`with ${o.join(",")}`)}if(n&&i.push(`at @${n}`),r.length>0){const o=r.map(s=>`#${s}`).join(" ");i.push(o)}return i.join(" ")}function V1({raw:t}){let e=t,n,r,i=[],o,s=[];return e.startsWith("#")?(i=e.split("#").map(u=>u.trim()).filter(u=>u!==""),{main:r,people:s,seller:n,tags:i}):([e,...i]=e.split(" #"),e.startsWith("at @")?(n=e.replace("at @","").trim(),{main:r,people:s,seller:n,tags:i}):([e,n]=e.split(" at @"),e.startsWith("with @")?(s=e.replace("with @","").split(",@"),{main:r,people:s,seller:n,tags:i}):([e,o]=e.split(" with @"),o&&(s=o.split(",@")),e.trim()!==""&&(r=e),{main:r,people:s,seller:n,tags:i})))}const aA=Oe.tripTags.read()||[],lA=uA([WC,aA]);function uA(t){const e=new Set([]),n=[];for(const r of t.flatMap(i=>i))e.has(r)||(e.add(r),n.push(r));return n}function cA({description:t,peopleInSettings:e,onChange:n}){const r=V1({raw:t}),[i,o]=M.useState([]),s=hA({inSettings:e,addedByUser:i,inExpense:r.people});function l(m){n(Po({...r,main:m}))}function u(m){n(Po({...r,seller:m}))}function h(m){const _=m;if(!_)return;const x=new Set(s),P=_.filter(S=>!x.has(S));P.length>0&&o([...i,...P]);const D=_.sort();n(Po({...r,people:D}))}function p(m){const _=[...m.values()];n(Po({...r,tags:_}))}function f(m){const _=Og.filter(x=>x.id===m)[0];n(Po({main:_.main,people:_.people,seller:_.seller,tags:_.tags}))}return y.jsxs("div",{role:"description-form",className:"mb-4",children:[y.jsx(XC,{data:Og.map(({id:m,buttonName:_})=>({id:m,buttonName:_})),select:f}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[y.jsx(zt,{value:r.main,placeholder:"description",className:"col-start-1 col-span-2",onChange:l}),y.jsx(zt,{value:r.seller,placeholder:"seller",className:"col-start-1 col-span-1",onChange:u}),y.jsx(M1,{placeholder:"people",value:r.people,choices:s,onChange:h,allowChoiceCreation:!0})]}),y.jsx(sA,{tags:lA,selected:new Set(r.tags),onChange:p})]})}function hA({inSettings:t,addedByUser:e,inExpense:n}){return[...new Set([...t,...e,...n]).values()].sort()}function dA(t){if(t==="")return{isNumber:!1};const e=Number(t);return isNaN(e)?{isNumber:!1}:{isNumber:!0,value:e}}function Go({value:t,placeholder:e,onChange:n,className:r}){let i="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";r&&(i+=` ${r}`);function o(s){if(s===""||s===void 0||s===null){n(void 0);return}const l=dA(s);l.isNumber&&n(l.value)}return y.jsx("input",{type:"number",pattern:"[0-9]*",className:i,value:t===void 0?"":t,placeholder:e===void 0?"":e,onChange:s=>o(s.target.value)})}var Gr=(t=>(t[t.KeepOrder=-1]="KeepOrder",t[t.SwapOrder=1]="SwapOrder",t))(Gr||{});let fA=t=>crypto.getRandomValues(new Uint8Array(t)),pA=(t,e,n)=>{let r=(2<<Math.log2(t.length-1))-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let s="";for(;;){let l=n(i),u=i;for(;u--;)if(s+=t[l[u]&r]||"",s.length===o)return s}}},mA=(t,e=21)=>pA(t,e,fA);function gA(){return mA("1234567890abcdef",10)()}function j1(t){return`${t}_${gA()}`}class br{constructor(){Q(this,"change$");Q(this,"accounts");Q(this,"changeSubject");Q(this,"defaultAccountId");this.accounts=new Map,this.changeSubject=new eo,this.change$=this.changeSubject.asObservable(),this.defaultAccountId=void 0,this.change$.subscribe(e=>console.debug(`${br.name}.change$:`,e))}initialize({accounts:e,defaultAccountId:n}){console.debug(`${br.name}.${this.initialize.name}::started`),console.debug(`${br.name}.${this.initialize.name}::defaultAccountId`,n);for(const r of e){const{id:i}=r;this.accounts.has(i)&&this.error(this.initialize,`same PaymentAccountId found at least twice: ${i}`),this.accounts.set(i,r)}n&&this.accounts.has(n)===!1&&this.error(this.initialize,`no account ID matches the defaultAccountId='${n}'`),this.defaultAccountId=n,this.changeSubject.next({kind:"PaymentAccountManagerInitialized"})}get({id:e}){return this.accounts.get(e)}setDefault({id:e}){this.accounts.has(e)===!1&&this.error(this.setDefault,`'${e}' must match an existing Payment Account ID`),this.defaultAccountId=e,this.changeSubject.next({kind:"DefaultPaymentAccountSet",id:e})}getDefault(){if(this.accounts.size!==0){if(this.accounts.size===1)return[...this.accounts.values()][0];if(this.defaultAccountId!==void 0)return this.accounts.get(this.defaultAccountId)}}getAll(){return[...this.accounts.values()].sort(yA)}add({draft:e}){const n=this.generatePaymentAccountId(),r={id:n,...e};this.accounts.set(n,r),this.changeSubject.next({kind:"PaymentAccountAdded",id:n})}update({account:e}){const{id:n}=e;this.accounts.has(n)===!1&&this.error(this.update,`Cannot update an account because it does not exist, id=${n}`),this.accounts.set(n,e),this.changeSubject.next({kind:"PaymentAccountUpdated",id:n})}delete({id:e}){this.accounts.has(e)===!1&&this.error(this.delete,`Cannot delete an account because it does not exist, id=${e}`),this.accounts.delete(e),this.changeSubject.next({kind:"PaymentAccountUpdated",id:e})}error(e,n){throw new Error(`${br.name}.${e.name}::${n}`)}generatePaymentAccountId(){for(;;){const e=j1("pay");if(this.accounts.has(e)===!1)return e}}}function yA(t,e){return t.name<=e.name?Gr.KeepOrder:Gr.SwapOrder}function ot({htmlFor:t,text:e,children:n}){return y.jsxs("label",{className:"text-gray-600  dark:text-gray-400",htmlFor:t,children:[e,n]})}const jg={id:"empty-option",label:""};function ir({id:t,selected:e,options:n,onSelect:r,className:i,disabled:o}){let s="relative";i&&(s+=` ${i}`);let l="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-100   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none cursor-pointer leading-tight focus:outline-none focus:shadow-outline";o&&(l+=" cursor-not-allowed opacity-20 dark:opacity-50");const u=new Map([]),h=new Map([]);for(const{id:_,label:x}of n)u.set(x,_),h.set(_,x);function p(_){const x=_.currentTarget.value,P=u.get(x);if(P===void 0){console.error("BUG: selected `<option>` has an unexpected `value`:",x);return}r(P)}let f,m=[...n];return e===void 0?(f=jg.label,m=[jg,...n]):f=h.get(e),y.jsxs("div",{id:t,className:s,role:"select",children:[y.jsx("select",{value:f,className:l,disabled:o,onChange:p,children:m.map(({id:_,label:x})=>y.jsx("option",{value:x,children:x},_))}),!o&&y.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",role:"fold-unfold-icon",children:y.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-1",fill:"currentColor",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 10l5 5 5-5H7z"})})})]})}function L1({paidWith:t,app:e,onChange:n}){const[r,i]=M.useState(t),[o,s]=M.useState([]);M.useEffect(()=>{const h=e.paymentAccountsManager.change$.subscribe(p=>{s(e.paymentAccountsManager.getAll())});return s(e.paymentAccountsManager.getAll()),()=>{h.unsubscribe()}},[e]);function l(h){const p=e.paymentAccountsManager.get({id:h});if(p===void 0){es.add({header:`UNEXPECTED ERROR: no account found with ID ${h}`,description:`When handling account selection in ${L1.name} component, the ID ${h} was picked by the UI but no payment account found with that ID in ${br.name}`});return}i(h),n(p)}if(o.length===0)return y.jsx("div",{children:"loading accounts..."});const u=o.map(h=>({id:h.id,label:h.name}));return y.jsx("div",{children:y.jsx(ot,{htmlFor:"paid-with",text:"Paid with:",children:y.jsx(ir,{id:"paid-with",selected:r,options:u,onSelect:l})})})}class vA extends Error{constructor(e){super(e),this.name="InvalidDate"}}const Jh=1e3,Rl=60*Jh,Zh=60*Rl,Qo=24*Zh,Lg=6;class ve{constructor({year:e,month:n,day:r,hour:i,minute:o,second:s,ms:l}){Q(this,"year");Q(this,"month");Q(this,"day");Q(this,"hour");Q(this,"minute");Q(this,"second");Q(this,"ms");Q(this,"nativeDate");const u=Rc(n),h=i||0,p=o||0,f=s||0,m=l||0,_=new Date(e,u,r,h,p,f,m);if(_.getDate()!==r||Cr({value:n,start:1,end:12})||Cr({value:r,start:1,end:31})||Cr({value:h,start:0,end:23})||Cr({value:h,start:0,end:23})||Cr({value:p,start:0,end:59})||Cr({value:f,start:0,end:59})||Cr({value:m,start:0,end:999})){const x=n.toString().padStart(2,"0"),P=r.toString().padStart(2,"0"),D=h.toString().padStart(2,"0"),S=p.toString().padStart(2,"0"),E=f.toString().padStart(2,"0"),A=m.toString().padStart(3,"0");let b=`${e}-${x}-${P} ${D}:${S}:${E}.${A}`;throw new vA(`${b} is not a valid date`)}this.year=e,this.month=n,this.day=r,this.hour=h,this.minute=p,this.second=f,this.ms=m,this.nativeDate=_}static fromNative(e){const n=e.getFullYear(),r=_A(e.getMonth()),i=e.getDate(),o=e.getHours(),s=e.getMinutes(),l=e.getSeconds(),u=e.getMilliseconds();return new ve({year:n,month:r,day:i,hour:o,minute:s,second:l,ms:u})}weekday(){return wA(this.nativeDate.getDay())}toISODate(){return`${this.year}-${this.toISOMonthString()}-${this.toISODayString()}`}toNative(){return this.nativeDate}setYear(e){return new ve({year:e,month:this.month,day:this.day})}setMonth(e){return new ve({year:this.year,month:e,day:this.day})}minusNMonths(e){const n=Math.floor(e/12),r=e%12;let i=this.year-n,o=this.month-r;o<1&&(i=i-1,o=o+12);const s=Rc(o);return new Date(Date.UTC(i,s,this.day)).getUTCDate()!==this.day?this.minusNDays(1).minusNMonths(e):new ve({year:i,month:o,day:this.day})}minusNDays(e){const n=new Date(this.nativeDate.getTime()-e*Qo);return ve.fromNative(n)}minusNHours(e){const n=new Date(this.nativeDate.getTime()-e*Zh);return ve.fromNative(n)}minusNMinutes(e){const n=new Date(this.nativeDate.getTime()-e*Rl);return ve.fromNative(n)}minusNSeconds(e){const n=new Date(this.nativeDate.getTime()-e*Jh);return ve.fromNative(n)}plusNMonths(e){const n=Math.floor(e/12),r=e%12;let i=this.year+n,o=this.month+r;o>12&&(i=i+1,o=o-12);const s=Rc(o);return new Date(Date.UTC(i,s,this.day)).getUTCDate()!==this.day?this.minusNDays(1).plusNMonths(e):new ve({year:i,month:o,day:this.day})}plusNDays(e){const n=new Date(this.nativeDate.getTime()+e*Qo);return ve.fromNative(n)}plusNHours(e){const n=new Date(this.nativeDate.getTime()+e*Zh);return ve.fromNative(n)}plusNMinutes(e){const n=new Date(this.nativeDate.getTime()+e*Rl);return ve.fromNative(n)}plusNSeconds(e){const n=new Date(this.nativeDate.getTime()+e*Jh);return ve.fromNative(n)}isEqualTo(e){return this.year===e.year&&this.month===e.month&&this.day===e.day}toISOMonthString(){return this.month.toString().padStart(2,"0")}toISODayString(){return this.day.toString().padStart(2,"0")}}function Rc(t){return t-1}function _A(t){return t+1}function wA(t){let e=t-1;return e<0&&(e=e+7),e}function EA({year:t,month:e}){const n=[new ve({year:t,month:e,day:1})];for(;;){const r=n.at(-1);if(r===void 0)throw In();try{n.push(new ve({year:t,month:e,day:r.day+1}))}catch{break}}return n}function Cr({value:t,start:e,end:n}){return t<e||n<t}function SA({of:t,withTimeFrom:e}){const n=t.getTimezoneOffset()*Rl,r=Math.floor((t.getTime()-n)/Qo)*Qo,i=e.getTime()%Qo,o=r+i;return new Date(o)}function TA({value:t,defaultValue:e,onChange:n}){const[r,i]=M.useState(e);function o(p){const m=SA({of:p,withTimeFrom:t});n(m),i(t)}function s(){const p=ve.fromNative(t).minusNMonths(1).toNative();o(p)}function l(){const p=ve.fromNative(t).plusNMonths(1).toNative();o(p)}const u="flex flex-row items-center justify-center gap-3 h-14 ",h="w-3 text-xl text-bold cursor-pointer";return y.jsxs("div",{className:"flex flex-col w-80",children:[y.jsxs("div",{className:u,role:"month-and-year-picker",children:[y.jsx("div",{role:"go-to-previous-month",className:h,onClick:()=>s(),children:"<"}),y.jsx(xA,{value:t,onChange:o,className:"w-24"}),y.jsx(CA,{value:t,onChange:o,className:"w-32"}),y.jsx("div",{role:"go-to-next-month",className:h,onClick:()=>l(),children:">"})]}),y.jsx(AA,{value:t,previousValue:r,onChange:o})]})}function xA({value:t,onChange:e,className:n}){const r=IA({reference:t.getFullYear()}),i=`${t.getFullYear()}`,o=r.map(l=>l.toString()).map(l=>({id:l,label:l}));function s(l){const u=o.filter(f=>f.id===l)[0],h=Number(u.label),p=ve.fromNative(t).setYear(h).toNative();e(p)}return y.jsx("div",{className:n,role:"year-picker",children:y.jsx(ir,{selected:i,options:o,onSelect:s})})}const Fg=new Map([["January",1],["February",2],["March",3],["April",4],["May",5],["June",6],["July",7],["August",8],["September",9],["October",10],["November",11],["December",12]]);function CA({value:t,onChange:e,className:n}){const r=t.toLocaleString("default",{month:"long"}),i=[...Fg.keys()].map(s=>({id:s,label:s}));function o(s){const l=Fg.get(s);if(l===void 0)throw In(`failed to map '${s}' to a month`);const u=ve.fromNative(t).setMonth(l).toNative();e(u)}return y.jsx("div",{className:n,role:"month-picker",children:y.jsx(ir,{selected:r,options:i,onSelect:o})})}function AA({value:t,previousValue:e,onChange:n}){const r="p-1",i="grid grid-cols-7",o=ve.fromNative(t),s=ve.fromNative(e),l=EA({year:o.year,month:o.month}),u=[{text:"Mo"},{text:"Tu"},{text:"We"},{text:"Th"},{text:"Fr"},{text:"Sa"},{text:"Su"}],h=l[0],p=h.weekday(),f=[];for(let P=p;P>0;P--){const D=h.minusNDays(P);f.push(D)}const m=l[l.length-1],_=m.weekday(),x=[];if(_<Lg){const P=Lg-m.weekday();for(let D=1;D<=P;D++){const S=m.plusNDays(D);x.push(S)}}return y.jsx("div",{className:r,children:y.jsxs("div",{className:i,children:[u.map(P=>y.jsx(Aa,{text:P.text,selected:!1,wasPreviousSelection:!1,grayedOut:!0,onSelect:void 0},P.text)),f.map(P=>y.jsx(Aa,{text:P.day.toString(),selected:!1,wasPreviousSelection:P.isEqualTo(s),grayedOut:!0,onSelect:()=>{n(P.toNative())}},`prev-month-${P.day.toString()}`)),l.map(P=>y.jsx(Aa,{text:P.day.toString(),selected:P.isEqualTo(o),wasPreviousSelection:P.isEqualTo(s),grayedOut:!1,onSelect:()=>{n(P.toNative())}},`this-month-${P.day.toString()}`)),x.map(P=>y.jsx(Aa,{text:P.day.toString(),selected:!1,wasPreviousSelection:P.isEqualTo(s),grayedOut:!0,onSelect:()=>{n(P.toNative())}},`next-month-${P.day.toString()}`))]})})}function Aa({text:t,selected:e,wasPreviousSelection:n,grayedOut:r,onSelect:i}){let o="w-12 p-2 text-xl rounded flex items-center justify-center cursor-pointer",s=" opacity-50",l=" border-2 border-gray-500 border-opacity-30";return e?(o+=" text-white  bg-blue-600  dark:bg-blue-800",o+=" z-10"):n&&r?(o+=l,o+=s):n&&!r?o+=l:r&&(o+=s),y.jsx("div",{className:o,onClick:i?()=>i():void 0,children:t})}function IA({reference:t}){const e=[];for(let i=1;i<10;i++)e.push(t-i);e.push(t);const r=10;for(let i=1;i<r;i++)e.push(t+i);return e.sort()}function PA({value:t,onChange:e}){const n=ve.fromNative(t);function r(){e(n.plusNHours(1).toNative())}function i(){e(n.minusNHours(1).toNative())}function o(){e(n.plusNMinutes(1).toNative())}function s(){e(n.minusNMinutes(1).toNative())}function l(){e(n.plusNSeconds(1).toNative())}function u(){e(n.minusNSeconds(1).toNative())}return y.jsxs("div",{className:"flex flex-row gap-8",children:[y.jsx(Nc,{value:n.hour,onIncrement:r,onDecrement:i}),y.jsx(Nc,{value:n.minute,onIncrement:o,onDecrement:s}),y.jsx(Nc,{value:n.second,onIncrement:l,onDecrement:u})]})}function Nc({value:t,onIncrement:e,onDecrement:n}){return y.jsxs("div",{className:"flex flex-row gap-2 text-xl",children:[y.jsx("div",{role:"increase",className:"cursor-pointer",onClick:e,children:"+"}),y.jsx("div",{role:"value",children:t.toString().padStart(2,"0")}),y.jsx("div",{role:"decrease",className:"cursor-pointer",onClick:n,children:"-"})]})}function kA({children:t,className:e,isOpen:n,onClickOutside:r}){let i="z-10",o="z-10 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none";return e&&(o+=` ${e}`),y.jsxs(y.Fragment,{children:[y.jsx(RA,{onClick:r,isVisible:n,className:i}),y.jsx("dialog",{className:o,open:n,children:t})]})}function RA({isVisible:t,onClick:e,className:n}){let r="absolute top-0  left-0  right-0  bottom-0 bg-gray-900 opacity-60";return t?r+="":r+=" hidden",n&&(r+=` ${n}`),y.jsx("div",{className:r,role:"dialog-backdrop",onClick:e})}const NA=Mt.span`
  opacity: 0.6;
  margin-left: 1rem;
`;function $g({date:t}){const[e,n]=M.useState(0);M.useEffect(()=>{const f=setInterval(()=>{n(m=>{const _=ws().getTime()-t.getTime();return Math.round(_/1e3)})},100);return()=>clearInterval(f)},[t]);const r=xf(t),[i,o,s]=r.split(" "),l=e%60,u=(e-l)/60,h=[];u>0&&h.push(`${u}m`),h.push(`${l}s`);const p=h.join(" ");return y.jsxs("span",{children:[i," ",y.jsx("b",{children:o})," ",s,y.jsx(NA,{children:p})]})}function DA({defaultDate:t,date:e,onChange:n}){const[r,i]=M.useState(!1),o="flex flex-row flex-nowrap justify-between";return y.jsxs("div",{className:"m-1",children:[y.jsx("div",{className:o,children:y.jsx(kA,{className:"p-4 rounded-lg",isOpen:r,onClickOutside:()=>i(!1),children:y.jsxs("div",{className:"flex flex-col gap-8 justify-center align-center",children:[y.jsx(TA,{value:e,defaultValue:t,onChange:n}),y.jsx(PA,{value:e,onChange:n}),y.jsx($g,{date:e})]})})}),y.jsxs("div",{className:o,children:[y.jsx($g,{date:e}),y.jsx(we,{text:r?"Close":"Edit time",disabled:r,onClick:()=>i(!r)})]})]})}function bA({split:t,onChange:e}){const[n,r]=M.useState(t.paid),[i,o]=M.useState(t.owed);M.useEffect(()=>{r(t.paid),o(t.owed)},[t]);function s(u){o(u),e({...t,owed:u})}function l(u){r(u),e({...t,paid:u})}return y.jsxs("li",{role:"split",className:"px-4",children:[y.jsx("div",{role:"split-name",className:"text-lg pt-3",children:t.person}),y.jsxs("div",{className:"grid grid-col-2 gap-3",children:[y.jsx("div",{role:"split-paid",className:"col-start-0 col-start-1",children:y.jsx(ot,{htmlFor:`paid-${t.person}`,text:"paid",children:y.jsx("div",{className:"pt-1",children:y.jsx(Go,{value:n,placeholder:"Paid amount",onChange:l})})})}),y.jsx("div",{role:"split-owed",className:"col-start-1 col-start-2",children:y.jsx(ot,{htmlFor:`paid-${t.person}`,text:"owed",children:y.jsx("div",{className:"pt-1",children:y.jsx(Go,{value:i,placeholder:"Owed amount",onChange:s})})})})]})]})}function OA(t){const e=Math.pow(10,QC),n=t.map(f=>f.paid||0).reduce((f,m)=>f+m,0),r=t.length,i=e*n/r,o=Math.floor(i),s=n*e-o*t.length,l=1,u=[];let h=0;for(let f=0;f<t.length;f++)h<s?(h+=l,u.push(o+l)):u.push(o);return t.map((f,m)=>({...f,owed:u[m]/e}))}function MA(t){let e=0,n=0;for(const r of t)e+=r.paid||0,n+=r.owed||0;return e!==n?{isValid:!1,reason:"total paid amount does not match total owed amount"}:{isValid:!0}}function VA({splits:t,onChange:e}){function n(){const i=OA(t);e(i)}const r=MA(t);return y.jsxs("div",{role:"split-default-actions",className:"p-3",children:[y.jsx("div",{className:"flex flex-column justify-center",children:y.jsx(we,{text:"split equally",onClick:n})}),r.isValid===!1&&y.jsxs("div",{role:"invalid-splits",className:"pt-3 flex flex-column justify-center",children:["INVALID SPLITS: ",r.reason]})]})}function jA({splits:t,amount:e,selectablePeople:n,onChange:r}){const[i,o]=M.useState(t),[s,l]=M.useState(i.map(f=>f.person));function u(f){o(f),r(f)}function h(f){function m(_){const x=i.map((P,D)=>f===D?_:{...P});u(x)}return m}function p(f){l(f);const _=[],x=new Set([...f.values()]),P=new Set;for(const D of i){const S=D.person;x.has(S)!==!1&&(_.push(D),x.delete(S),P.add(S))}for(const D of x.values()){if(_.length===0){_.push({person:D,paid:e,owed:void 0});continue}_.push({person:D,paid:void 0,owed:void 0})}u(_)}return y.jsxs("div",{role:"splits-container",className:"pb-3",children:[y.jsx("div",{role:"participants",children:y.jsx(ot,{htmlFor:"participants",text:"Participants",children:y.jsx("div",{className:"pt-2",children:y.jsx(M1,{id:"participants",placeholder:"participant names",value:s,choices:n,onChange:p,allowChoiceCreation:!1})})})}),i.length===0&&y.jsx("div",{className:"p-2 flex flex-row justify-center",children:y.jsx("p",{children:"there are no splits"})}),i.length>0&&y.jsx(VA,{splits:i,onChange:u}),i.length>0&&y.jsx("ol",{children:i.map((f,m)=>y.jsx(bA,{split:f,onChange:h(m)},`split-${f.person}`))})]})}const LA=Mt.div`
  display: flex;
  flex-flow: row wrap;
`,FA=Mt.div`
  margin-bottom: 1rem;
`;function $A({app:t,expense:e,update:n}){const[r,i]=M.useState(e.originalAmount!==void 0),[o,s]=M.useState(new Set),[l,u]=M.useState(),[h,p]=M.useState([]),[f,m]=M.useState(e.splits);M.useEffect(()=>{const g=t.paymentAccountsManager.change$.subscribe(k=>{u(t.paymentAccountsManager.get({id:e.paid_with}))}),T=t.currencyManager.change$.subscribe(k=>{s(t.currencyManager.getAll())}),I=t.peopleManager.change$.subscribe(k=>{p(t.peopleManager.getAll().map(R=>R.name))});return u(t.paymentAccountsManager.get({id:e.paid_with})),s(t.currencyManager.getAll()),p(t.peopleManager.getAll().map(k=>k.name)),()=>{g.unsubscribe(),T.unsubscribe(),I.unsubscribe()}},[t,e.paid_with]);function _(g){const T=Cf(g);n({...e,datetime:T})}function x(g){console.debug("Refreshing date"),g.preventDefault(),_(ws())}function P(g){n({...e,paid_with:g.id,currency:g.currency})}function D(g){n({...e,amount:g})}function S(g){n({...e,originalAmount:g})}function E(g){n({...e,originalCurrency:g})}function A(g){console.debug("ExpenseEditor::handleDescriptionChange:description:",g),e.description!==g&&n({...e,description:g})}function b(g){n({...e,shared:g})}function L(g){g&&n({...e,originalAmount:void 0,originalCurrency:void 0}),i(g)}function j(g){m(g),n({...e,splits:g})}if(l===void 0)return y.jsxs("div",{children:["Account ",y.jsx("code",{children:e.paid_with})," not found"]});const w=[...o].filter(g=>g!==l.currency).sort();return y.jsxs("div",{children:[y.jsx(DA,{date:new Date(Date.parse(e.datetime)),defaultDate:ws(),onChange:_}),y.jsx(LA,{children:y.jsx(FA,{onClick:x,children:y.jsx(we,{text:"now",icon:"rotate",onClick:x})})}),y.jsx(L1,{paidWith:e.paid_with,app:t,onChange:P}),y.jsx("div",{className:"pb-3 flex flex-row flex-no-wrap justify-end",children:y.jsx(Vg,{label:"paid with different currency",checked:r,onChange:L})}),y.jsx("div",{className:"grid grid-col-2 gap-2",children:r?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"col-span-1",children:y.jsx(Go,{value:e.originalAmount,placeholder:"Amount in payment currency",onChange:S})}),y.jsx("div",{className:"col-start-2 col-span-2",children:y.jsx(ir,{id:"payment-currency",selected:e.originalCurrency,options:w.map(g=>({id:g,label:g})),onSelect:E})}),y.jsx("div",{className:"col-span-1",children:y.jsx(Go,{value:e.amount,placeholder:"Amount in account currency",onChange:D})}),y.jsx("div",{className:"col-start-2 col-span-2",children:y.jsx(ir,{id:"account-currency",selected:l.currency,options:[{id:l.currency,label:l.currency}],onSelect:()=>{},disabled:!0})})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"col-span-1",children:y.jsx(Go,{value:e.amount,placeholder:"Amount",onChange:D})}),y.jsx("div",{className:"col-start-2 col-span-2",children:y.jsx(ir,{selected:l.currency,options:[{id:l.currency,label:l.currency}],onSelect:()=>{},disabled:!0})})]})}),y.jsx(cA,{description:e.description,peopleInSettings:h,onChange:A}),y.jsx("div",{className:"py-4 flex flex-row justify-end",children:y.jsx(Vg,{checked:e.shared,label:"is shared",onChange:b})}),e.shared&&y.jsx("div",{style:{height:`${8*Math.max(h.length,e.splits.length)}rem`},children:y.jsx(jA,{splits:f,amount:e.originalAmount||e.amount||0,selectablePeople:h,onChange:j})})]})}function UA({app:t}){const{expenseId:e}=gC(),n=gu(),[r,i]=M.useState(void 0);if(e===void 0)return n(Ut.root),null;M.useEffect(()=>{const s=t.expenseManager.change$.subscribe(l=>{i(t.expenseManager.get(e))});return i(t.expenseManager.get(e)),()=>{s.unsubscribe()}},[t]);function o(s){console.debug("ExpenseEditorPage::handleUpdate::expense",s),t.expenseManager.update(s)}return r===void 0?y.jsx($r,{children:y.jsx("div",{className:"flex flex-row justify-center",children:"loading..."})}):y.jsx($r,{children:y.jsx($A,{expense:r.expense,app:t,update:o})})}function F1({children:t,isOpen:e}){const n=`
    overflow-hidden
    transition-all
    duration-300
    ease-in-out
    ${e?"max-h-96":"max-h-0"}
  `;return y.jsx("div",{className:n,role:"collapse",children:t})}function BA({isOn:t,labelOn:e,labelOff:n,onToggle:r}){function i(s){r(s.target.checked)}const o=e.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","");return y.jsxs("label",{htmlFor:o,className:"relative inline-flex flex-row flex-nowrap items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",id:o,checked:t,onChange:i,className:"hidden peer"}),y.jsx("div",{role:"toggle-rail",className:"w-11 h-6 bg-gray-200  dark:bg-gray-700 rounded-full peer-checked:bg-blue-600 peer-checked:after:translate-x-full after:h-5 after:w-5 after:absolute  after:top-2  after:start-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:transition-all"}),y.jsx("div",{role:"toggle-label",className:"p-2 text-sm ",children:t?e:n})]})}const zA=new RegExp(/([0-9]{4}[a-z]+)/gm);function HA(t){return zA.exec(t)!==null}function WA(t){var i;const e=V1({raw:t}),n=e.tags.filter(HA).map(o=>`#${o}`).join(" ");let r=`${(i=e.main)==null?void 0:i.trim()} @ ${e.seller}`;return n&&(r=`${r} ${n}`),r}const GA=Mt.div`
  order: 1;
  flex-grow: 0;
  flex-shrink: 1;
`,QA=Mt.div`
  order: 2;
  flex-grow: 1;
  flex-shrink: 1;
`,KA={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};function qA(t){const e=t.getMonth()+1,n=t.getDate(),r=KA[e],i=n>9?`${n}`:`0${n}`;return`${r}-${i}`}function Ug(t){return navigator.clipboard.writeText(t).then(e=>{alert(`Copied to clipboard:
${t}`)}).catch(e=>{es.add({header:"Error while trying to copy to clipboard",description:e})})}function YA(t){return t.originalAmount?`${t.originalAmount} ${t.originalCurrency}`:t.amount===void 0?"?":`${t.amount} ${t.currency}`}function XA({appExpense:t,editing:e,deleting:n,edit:r,remove:i,deleteMode:o,app:s}){const{expense:l}=t,[u,h]=M.useState(!1);function p(){console.debug(`ExpenseQueue.handleOnEditClick:: ${l.id}`),r()}function f(){console.debug(`ExpenseQueue.handleOnDeleteClick:: ${l.id}`),!n&&i()}const m=s.paymentAccountsManager.get({id:l.paid_with});let _=WA(l.description),x="flex flex-row flex-nowrap gap-x-2 p-2 dark:p-2";return t.readyToPublish||(x+=" bg-red-200 dark:bg-red-900"),y.jsxs("div",{className:x,children:[y.jsx(GA,{children:o?y.jsx(we,{onClick:f,icon:"bin"}):y.jsx(we,{onClick:p,icon:"pencil"})}),y.jsxs(QA,{children:[y.jsxs("span",{onClick:()=>h(!u),children:[qA(Mg(l.datetime))," ",y.jsx("b",{children:YA(l)})," ",l.description]}),y.jsxs(F1,{isOpen:u,children:[y.jsxs("pre",{children:["id: ",l.id]}),y.jsxs("pre",{children:["datetime: ",xf(Mg(l.datetime))]}),y.jsxs("pre",{children:["paid_with: ",m&&m.name]}),y.jsxs("pre",{children:["original_amount: ",l.originalAmount," ",l.originalCurrency]}),y.jsx("p",{onClick:()=>Ug(l.description),children:"Click to copy description"}),y.jsxs("pre",{onClick:()=>Ug(_),children:["Splitwise: ",_]})]})]})]})}function JA({expenses:t,underEdition:e,onEditExpense:n,onDelete:r,app:i}){const[o,s]=M.useState(!1);function l(){s(!o)}return y.jsxs("div",{children:[y.jsx("div",{className:"flex flex-row justify-end",children:y.jsx(BA,{isOn:o,labelOn:"enable deletion mode",labelOff:"exit deletion mode",onToggle:()=>l()})}),t.length>0?t.map(u=>{const h=u.expense.id;return y.jsx(XA,{editing:e===h,deleting:!1,appExpense:u,edit:()=>n(h),remove:()=>r(h),deleteMode:o,app:i},`queued-expense-${h}`)}):y.jsx("p",{children:"No expenses :)"})]})}const ZA=JA;var Bg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},U1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,p=o>>2,f=(o&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,s||(m=64)),r.push(n[p],n[f],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||f==null)throw new tI;const m=o<<2|l>>4;if(r.push(m),h!==64){const _=l<<4&240|h>>2;if(r.push(_),f!==64){const x=h<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nI=function(t){const e=$1(t);return U1.encodeByteArray(e,!0)},Nl=function(t){return nI(t).replace(/\./g,"")},rI=function(t){try{return U1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=()=>iI().__FIREBASE_DEFAULTS__,sI=()=>{if(typeof process>"u"||typeof Bg>"u")return;const t=Bg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rI(t[1]);return e&&JSON.parse(e)},Af=()=>{try{return oI()||sI()||aI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lI=t=>{var e,n;return(n=(e=Af())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uI=t=>{const e=lI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},B1=()=>{var t;return(t=Af())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nl(JSON.stringify(n)),Nl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fI(){var t;const e=(t=Af())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pI(){return!fI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mI(){try{return typeof indexedDB=="object"}catch{return!1}}function gI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="FirebaseError";class io extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yI,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z1.prototype.create)}}class z1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?vI(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new io(i,l,r)}}function vI(t,e){return t.replace(_I,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _I=/\{\$([^}]+)}/g;function ed(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(zg(o)&&zg(s)){if(!ed(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SI(e))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pr){return this.instances.has(e)}getOptions(e=Pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pr){return this.component?this.component.multipleInstances?e:Pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EI(t){return t===Pr?void 0:t}function SI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const xI={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},CI=te.INFO,AI={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},II=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H1{constructor(e){this.name=e,this._logLevel=CI,this._logHandler=II,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const PI=(t,e)=>e.some(n=>t instanceof n);let Hg,Wg;function kI(){return Hg||(Hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RI(){return Wg||(Wg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W1=new WeakMap,td=new WeakMap,G1=new WeakMap,Dc=new WeakMap,If=new WeakMap;function NI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(or(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&W1.set(n,t)}).catch(()=>{}),If.set(e,t),e}function DI(t){if(td.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});td.set(t,e)}let nd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return td.get(t);if(e==="objectStoreNames")return t.objectStoreNames||G1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bI(t){nd=t(nd)}function OI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bc(this),e,...n);return G1.set(r,e.sort?e.sort():[e]),or(r)}:RI().includes(t)?function(...e){return t.apply(bc(this),e),or(W1.get(this))}:function(...e){return or(t.apply(bc(this),e))}}function MI(t){return typeof t=="function"?OI(t):(t instanceof IDBTransaction&&DI(t),PI(t,kI())?new Proxy(t,nd):t)}function or(t){if(t instanceof IDBRequest)return NI(t);if(Dc.has(t))return Dc.get(t);const e=MI(t);return e!==t&&(Dc.set(t,e),If.set(e,t)),e}const bc=t=>If.get(t);function VI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=or(s);return r&&s.addEventListener("upgradeneeded",u=>{r(or(s.result),u.oldVersion,u.newVersion,or(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const jI=["get","getKey","getAll","getAllKeys","count"],LI=["put","add","delete","clear"],Oc=new Map;function Gg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Oc.get(e))return Oc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jI.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return Oc.set(e,o),o}bI(t=>({...t,get:(e,n,r)=>Gg(e,n)||t.get(e,n,r),has:(e,n)=>!!Gg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($I(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $I(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rd="@firebase/app",Qg="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new H1("@firebase/app"),UI="@firebase/app-compat",BI="@firebase/analytics-compat",zI="@firebase/analytics",HI="@firebase/app-check-compat",WI="@firebase/app-check",GI="@firebase/auth",QI="@firebase/auth-compat",KI="@firebase/database",qI="@firebase/data-connect",YI="@firebase/database-compat",XI="@firebase/functions",JI="@firebase/functions-compat",ZI="@firebase/installations",eP="@firebase/installations-compat",tP="@firebase/messaging",nP="@firebase/messaging-compat",rP="@firebase/performance",iP="@firebase/performance-compat",oP="@firebase/remote-config",sP="@firebase/remote-config-compat",aP="@firebase/storage",lP="@firebase/storage-compat",uP="@firebase/firestore",cP="@firebase/vertexai",hP="@firebase/firestore-compat",dP="firebase",fP="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="[DEFAULT]",pP={[rd]:"fire-core",[UI]:"fire-core-compat",[zI]:"fire-analytics",[BI]:"fire-analytics-compat",[WI]:"fire-app-check",[HI]:"fire-app-check-compat",[GI]:"fire-auth",[QI]:"fire-auth-compat",[KI]:"fire-rtdb",[qI]:"fire-data-connect",[YI]:"fire-rtdb-compat",[XI]:"fire-fn",[JI]:"fire-fn-compat",[ZI]:"fire-iid",[eP]:"fire-iid-compat",[tP]:"fire-fcm",[nP]:"fire-fcm-compat",[rP]:"fire-perf",[iP]:"fire-perf-compat",[oP]:"fire-rc",[sP]:"fire-rc-compat",[aP]:"fire-gcs",[lP]:"fire-gcs-compat",[uP]:"fire-fst",[hP]:"fire-fst-compat",[cP]:"fire-vertex","fire-js":"fire-js",[dP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new Map,mP=new Map,od=new Map;function Kg(t,e){try{t.container.addComponent(e)}catch(n){Dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bl(t){const e=t.name;if(od.has(e))return Dn.debug(`There were multiple attempts to register component ${e}.`),!1;od.set(e,t);for(const n of Dl.values())Kg(n,t);for(const n of mP.values())Kg(n,t);return!0}function gP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new z1("app","Firebase",yP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=fP;function Q1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:id,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw sr.create("bad-app-name",{appName:String(i)});if(n||(n=B1()),!n)throw sr.create("no-options");const o=Dl.get(i);if(o){if(ed(n,o.options)&&ed(r,o.config))return o;throw sr.create("duplicate-app",{appName:i})}const s=new TI(i);for(const u of od.values())s.addComponent(u);const l=new vP(n,r,s);return Dl.set(i,l),l}function wP(t=id){const e=Dl.get(t);if(!e&&t===id&&B1())return Q1();if(!e)throw sr.create("no-app",{appName:t});return e}function Di(t,e,n){var r;let i=(r=pP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dn.warn(l.join(" "));return}bl(new Es(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="firebase-heartbeat-database",SP=1,Ss="firebase-heartbeat-store";let Mc=null;function K1(){return Mc||(Mc=VI(EP,SP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ss)}catch(n){console.warn(n)}}}}).catch(t=>{throw sr.create("idb-open",{originalErrorMessage:t.message})})),Mc}async function TP(t){try{const n=(await K1()).transaction(Ss),r=await n.objectStore(Ss).get(q1(t));return await n.done,r}catch(e){if(e instanceof io)Dn.warn(e.message);else{const n=sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dn.warn(n.message)}}}async function qg(t,e){try{const r=(await K1()).transaction(Ss,"readwrite");await r.objectStore(Ss).put(e,q1(t)),await r.done}catch(n){if(n instanceof io)Dn.warn(n.message);else{const r=sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dn.warn(r.message)}}}function q1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=1024,CP=30*24*60*60*1e3;class AP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Yg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=CP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yg(),{heartbeatsToSend:r,unsentEntries:i}=IP(this._heartbeatsCache.heartbeats),o=Nl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Dn.warn(n),""}}}function Yg(){return new Date().toISOString().substring(0,10)}function IP(t,e=xP){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Xg(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mI()?gI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xg(t){return Nl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){bl(new Es("platform-logger",e=>new FI(e),"PRIVATE")),bl(new Es("heartbeat",e=>new AP(e),"PRIVATE")),Di(rd,Qg,t),Di(rd,Qg,"esm2017"),Di("fire-js","")}kP("");var RP="firebase",NP="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(RP,NP,"app");var Jg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,g){function T(){}T.prototype=g.prototype,w.D=g.prototype,w.prototype=new T,w.prototype.constructor=w,w.C=function(I,k,R){for(var C=Array(arguments.length-2),at=2;at<arguments.length;at++)C[at-2]=arguments[at];return g.prototype[k].apply(I,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,g,T){T||(T=0);var I=Array(16);if(typeof g=="string")for(var k=0;16>k;++k)I[k]=g.charCodeAt(T++)|g.charCodeAt(T++)<<8|g.charCodeAt(T++)<<16|g.charCodeAt(T++)<<24;else for(k=0;16>k;++k)I[k]=g[T++]|g[T++]<<8|g[T++]<<16|g[T++]<<24;g=w.g[0],T=w.g[1],k=w.g[2];var R=w.g[3],C=g+(R^T&(k^R))+I[0]+3614090360&4294967295;g=T+(C<<7&4294967295|C>>>25),C=R+(k^g&(T^k))+I[1]+3905402710&4294967295,R=g+(C<<12&4294967295|C>>>20),C=k+(T^R&(g^T))+I[2]+606105819&4294967295,k=R+(C<<17&4294967295|C>>>15),C=T+(g^k&(R^g))+I[3]+3250441966&4294967295,T=k+(C<<22&4294967295|C>>>10),C=g+(R^T&(k^R))+I[4]+4118548399&4294967295,g=T+(C<<7&4294967295|C>>>25),C=R+(k^g&(T^k))+I[5]+1200080426&4294967295,R=g+(C<<12&4294967295|C>>>20),C=k+(T^R&(g^T))+I[6]+2821735955&4294967295,k=R+(C<<17&4294967295|C>>>15),C=T+(g^k&(R^g))+I[7]+4249261313&4294967295,T=k+(C<<22&4294967295|C>>>10),C=g+(R^T&(k^R))+I[8]+1770035416&4294967295,g=T+(C<<7&4294967295|C>>>25),C=R+(k^g&(T^k))+I[9]+2336552879&4294967295,R=g+(C<<12&4294967295|C>>>20),C=k+(T^R&(g^T))+I[10]+4294925233&4294967295,k=R+(C<<17&4294967295|C>>>15),C=T+(g^k&(R^g))+I[11]+2304563134&4294967295,T=k+(C<<22&4294967295|C>>>10),C=g+(R^T&(k^R))+I[12]+1804603682&4294967295,g=T+(C<<7&4294967295|C>>>25),C=R+(k^g&(T^k))+I[13]+4254626195&4294967295,R=g+(C<<12&4294967295|C>>>20),C=k+(T^R&(g^T))+I[14]+2792965006&4294967295,k=R+(C<<17&4294967295|C>>>15),C=T+(g^k&(R^g))+I[15]+1236535329&4294967295,T=k+(C<<22&4294967295|C>>>10),C=g+(k^R&(T^k))+I[1]+4129170786&4294967295,g=T+(C<<5&4294967295|C>>>27),C=R+(T^k&(g^T))+I[6]+3225465664&4294967295,R=g+(C<<9&4294967295|C>>>23),C=k+(g^T&(R^g))+I[11]+643717713&4294967295,k=R+(C<<14&4294967295|C>>>18),C=T+(R^g&(k^R))+I[0]+3921069994&4294967295,T=k+(C<<20&4294967295|C>>>12),C=g+(k^R&(T^k))+I[5]+3593408605&4294967295,g=T+(C<<5&4294967295|C>>>27),C=R+(T^k&(g^T))+I[10]+38016083&4294967295,R=g+(C<<9&4294967295|C>>>23),C=k+(g^T&(R^g))+I[15]+3634488961&4294967295,k=R+(C<<14&4294967295|C>>>18),C=T+(R^g&(k^R))+I[4]+3889429448&4294967295,T=k+(C<<20&4294967295|C>>>12),C=g+(k^R&(T^k))+I[9]+568446438&4294967295,g=T+(C<<5&4294967295|C>>>27),C=R+(T^k&(g^T))+I[14]+3275163606&4294967295,R=g+(C<<9&4294967295|C>>>23),C=k+(g^T&(R^g))+I[3]+4107603335&4294967295,k=R+(C<<14&4294967295|C>>>18),C=T+(R^g&(k^R))+I[8]+1163531501&4294967295,T=k+(C<<20&4294967295|C>>>12),C=g+(k^R&(T^k))+I[13]+2850285829&4294967295,g=T+(C<<5&4294967295|C>>>27),C=R+(T^k&(g^T))+I[2]+4243563512&4294967295,R=g+(C<<9&4294967295|C>>>23),C=k+(g^T&(R^g))+I[7]+1735328473&4294967295,k=R+(C<<14&4294967295|C>>>18),C=T+(R^g&(k^R))+I[12]+2368359562&4294967295,T=k+(C<<20&4294967295|C>>>12),C=g+(T^k^R)+I[5]+4294588738&4294967295,g=T+(C<<4&4294967295|C>>>28),C=R+(g^T^k)+I[8]+2272392833&4294967295,R=g+(C<<11&4294967295|C>>>21),C=k+(R^g^T)+I[11]+1839030562&4294967295,k=R+(C<<16&4294967295|C>>>16),C=T+(k^R^g)+I[14]+4259657740&4294967295,T=k+(C<<23&4294967295|C>>>9),C=g+(T^k^R)+I[1]+2763975236&4294967295,g=T+(C<<4&4294967295|C>>>28),C=R+(g^T^k)+I[4]+1272893353&4294967295,R=g+(C<<11&4294967295|C>>>21),C=k+(R^g^T)+I[7]+4139469664&4294967295,k=R+(C<<16&4294967295|C>>>16),C=T+(k^R^g)+I[10]+3200236656&4294967295,T=k+(C<<23&4294967295|C>>>9),C=g+(T^k^R)+I[13]+681279174&4294967295,g=T+(C<<4&4294967295|C>>>28),C=R+(g^T^k)+I[0]+3936430074&4294967295,R=g+(C<<11&4294967295|C>>>21),C=k+(R^g^T)+I[3]+3572445317&4294967295,k=R+(C<<16&4294967295|C>>>16),C=T+(k^R^g)+I[6]+76029189&4294967295,T=k+(C<<23&4294967295|C>>>9),C=g+(T^k^R)+I[9]+3654602809&4294967295,g=T+(C<<4&4294967295|C>>>28),C=R+(g^T^k)+I[12]+3873151461&4294967295,R=g+(C<<11&4294967295|C>>>21),C=k+(R^g^T)+I[15]+530742520&4294967295,k=R+(C<<16&4294967295|C>>>16),C=T+(k^R^g)+I[2]+3299628645&4294967295,T=k+(C<<23&4294967295|C>>>9),C=g+(k^(T|~R))+I[0]+4096336452&4294967295,g=T+(C<<6&4294967295|C>>>26),C=R+(T^(g|~k))+I[7]+1126891415&4294967295,R=g+(C<<10&4294967295|C>>>22),C=k+(g^(R|~T))+I[14]+2878612391&4294967295,k=R+(C<<15&4294967295|C>>>17),C=T+(R^(k|~g))+I[5]+4237533241&4294967295,T=k+(C<<21&4294967295|C>>>11),C=g+(k^(T|~R))+I[12]+1700485571&4294967295,g=T+(C<<6&4294967295|C>>>26),C=R+(T^(g|~k))+I[3]+2399980690&4294967295,R=g+(C<<10&4294967295|C>>>22),C=k+(g^(R|~T))+I[10]+4293915773&4294967295,k=R+(C<<15&4294967295|C>>>17),C=T+(R^(k|~g))+I[1]+2240044497&4294967295,T=k+(C<<21&4294967295|C>>>11),C=g+(k^(T|~R))+I[8]+1873313359&4294967295,g=T+(C<<6&4294967295|C>>>26),C=R+(T^(g|~k))+I[15]+4264355552&4294967295,R=g+(C<<10&4294967295|C>>>22),C=k+(g^(R|~T))+I[6]+2734768916&4294967295,k=R+(C<<15&4294967295|C>>>17),C=T+(R^(k|~g))+I[13]+1309151649&4294967295,T=k+(C<<21&4294967295|C>>>11),C=g+(k^(T|~R))+I[4]+4149444226&4294967295,g=T+(C<<6&4294967295|C>>>26),C=R+(T^(g|~k))+I[11]+3174756917&4294967295,R=g+(C<<10&4294967295|C>>>22),C=k+(g^(R|~T))+I[2]+718787259&4294967295,k=R+(C<<15&4294967295|C>>>17),C=T+(R^(k|~g))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+g&4294967295,w.g[1]=w.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+k&4294967295,w.g[3]=w.g[3]+R&4294967295}r.prototype.u=function(w,g){g===void 0&&(g=w.length);for(var T=g-this.blockSize,I=this.B,k=this.h,R=0;R<g;){if(k==0)for(;R<=T;)i(this,w,R),R+=this.blockSize;if(typeof w=="string"){for(;R<g;)if(I[k++]=w.charCodeAt(R++),k==this.blockSize){i(this,I),k=0;break}}else for(;R<g;)if(I[k++]=w[R++],k==this.blockSize){i(this,I),k=0;break}}this.h=k,this.o+=g},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var g=1;g<w.length-8;++g)w[g]=0;var T=8*this.o;for(g=w.length-8;g<w.length;++g)w[g]=T&255,T/=256;for(this.u(w),w=Array(16),g=T=0;4>g;++g)for(var I=0;32>I;I+=8)w[T++]=this.g[g]>>>I&255;return w};function o(w,g){var T=l;return Object.prototype.hasOwnProperty.call(T,w)?T[w]:T[w]=g(w)}function s(w,g){this.h=g;for(var T=[],I=!0,k=w.length-1;0<=k;k--){var R=w[k]|0;I&&R==g||(T[k]=R,I=!1)}this.g=T}var l={};function u(w){return-128<=w&&128>w?o(w,function(g){return new s([g|0],0>g?-1:0)}):new s([w|0],0>w?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return D(h(-w));for(var g=[],T=1,I=0;w>=T;I++)g[I]=w/T|0,T*=4294967296;return new s(g,0)}function p(w,g){if(w.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(w.charAt(0)=="-")return D(p(w.substring(1),g));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(g,8)),I=f,k=0;k<w.length;k+=8){var R=Math.min(8,w.length-k),C=parseInt(w.substring(k,k+R),g);8>R?(R=h(Math.pow(g,R)),I=I.j(R).add(h(C))):(I=I.j(T),I=I.add(h(C)))}return I}var f=u(0),m=u(1),_=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-D(this).m();for(var w=0,g=1,T=0;T<this.g.length;T++){var I=this.i(T);w+=(0<=I?I:4294967296+I)*g,g*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x(this))return"0";if(P(this))return"-"+D(this).toString(w);for(var g=h(Math.pow(w,6)),T=this,I="";;){var k=b(T,g).g;T=S(T,k.j(g));var R=((0<T.g.length?T.g[0]:T.h)>>>0).toString(w);if(T=k,x(T))return R+I;for(;6>R.length;)R="0"+R;I=R+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function x(w){if(w.h!=0)return!1;for(var g=0;g<w.g.length;g++)if(w.g[g]!=0)return!1;return!0}function P(w){return w.h==-1}t.l=function(w){return w=S(this,w),P(w)?-1:x(w)?0:1};function D(w){for(var g=w.g.length,T=[],I=0;I<g;I++)T[I]=~w.g[I];return new s(T,~w.h).add(m)}t.abs=function(){return P(this)?D(this):this},t.add=function(w){for(var g=Math.max(this.g.length,w.g.length),T=[],I=0,k=0;k<=g;k++){var R=I+(this.i(k)&65535)+(w.i(k)&65535),C=(R>>>16)+(this.i(k)>>>16)+(w.i(k)>>>16);I=C>>>16,R&=65535,C&=65535,T[k]=C<<16|R}return new s(T,T[T.length-1]&-2147483648?-1:0)};function S(w,g){return w.add(D(g))}t.j=function(w){if(x(this)||x(w))return f;if(P(this))return P(w)?D(this).j(D(w)):D(D(this).j(w));if(P(w))return D(this.j(D(w)));if(0>this.l(_)&&0>w.l(_))return h(this.m()*w.m());for(var g=this.g.length+w.g.length,T=[],I=0;I<2*g;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<w.g.length;k++){var R=this.i(I)>>>16,C=this.i(I)&65535,at=w.i(k)>>>16,mn=w.i(k)&65535;T[2*I+2*k]+=C*mn,E(T,2*I+2*k),T[2*I+2*k+1]+=R*mn,E(T,2*I+2*k+1),T[2*I+2*k+1]+=C*at,E(T,2*I+2*k+1),T[2*I+2*k+2]+=R*at,E(T,2*I+2*k+2)}for(I=0;I<g;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=g;I<2*g;I++)T[I]=0;return new s(T,0)};function E(w,g){for(;(w[g]&65535)!=w[g];)w[g+1]+=w[g]>>>16,w[g]&=65535,g++}function A(w,g){this.g=w,this.h=g}function b(w,g){if(x(g))throw Error("division by zero");if(x(w))return new A(f,f);if(P(w))return g=b(D(w),g),new A(D(g.g),D(g.h));if(P(g))return g=b(w,D(g)),new A(D(g.g),g.h);if(30<w.g.length){if(P(w)||P(g))throw Error("slowDivide_ only works with positive integers.");for(var T=m,I=g;0>=I.l(w);)T=L(T),I=L(I);var k=j(T,1),R=j(I,1);for(I=j(I,2),T=j(T,2);!x(I);){var C=R.add(I);0>=C.l(w)&&(k=k.add(T),R=C),I=j(I,1),T=j(T,1)}return g=S(w,k.j(g)),new A(k,g)}for(k=f;0<=w.l(g);){for(T=Math.max(1,Math.floor(w.m()/g.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),R=h(T),C=R.j(g);P(C)||0<C.l(w);)T-=I,R=h(T),C=R.j(g);x(R)&&(R=m),k=k.add(R),w=S(w,C)}return new A(k,w)}t.A=function(w){return b(this,w).h},t.and=function(w){for(var g=Math.max(this.g.length,w.g.length),T=[],I=0;I<g;I++)T[I]=this.i(I)&w.i(I);return new s(T,this.h&w.h)},t.or=function(w){for(var g=Math.max(this.g.length,w.g.length),T=[],I=0;I<g;I++)T[I]=this.i(I)|w.i(I);return new s(T,this.h|w.h)},t.xor=function(w){for(var g=Math.max(this.g.length,w.g.length),T=[],I=0;I<g;I++)T[I]=this.i(I)^w.i(I);return new s(T,this.h^w.h)};function L(w){for(var g=w.g.length+1,T=[],I=0;I<g;I++)T[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(T,w.h)}function j(w,g){var T=g>>5;g%=32;for(var I=w.g.length-T,k=[],R=0;R<I;R++)k[R]=0<g?w.i(R+T)>>>g|w.i(R+T+1)<<32-g:w.i(R+T);return new s(k,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=p,Y1=s}).apply(typeof Jg<"u"?Jg:typeof self<"u"?self:typeof window<"u"?window:{});var Ia=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X1,Mo,J1,Ya,sd,Z1,e_,t_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,d){return a==Array.prototype||a==Object.prototype||(a[c]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ia=="object"&&Ia];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,c){if(c)e:{var d=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var N=a[v];if(!(N in d))break e;d=d[N]}a=a[a.length-1],v=d[a],c=c(v),c!=v&&c!=null&&e(d,a,{configurable:!0,writable:!0,value:c})}}function o(a,c){a instanceof String&&(a+="");var d=0,v=!1,N={next:function(){if(!v&&d<a.length){var O=d++;return{value:c(O,a[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(a){return a||function(){return o(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var c=typeof a;return c=c!="object"?c:a?Array.isArray(a)?"array":c:"null",c=="array"||c=="object"&&typeof a.length=="number"}function h(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function p(a,c,d){return a.call.apply(a.bind,arguments)}function f(a,c,d){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,v),a.apply(c,N)}}return function(){return a.apply(c,arguments)}}function m(a,c,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:f,m.apply(null,arguments)}function _(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var v=d.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function x(a,c){function d(){}d.prototype=c.prototype,a.aa=c.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(v,N,O){for(var U=Array(arguments.length-2),le=2;le<arguments.length;le++)U[le-2]=arguments[le];return c.prototype[N].apply(v,U)}}function P(a){const c=a.length;if(0<c){const d=Array(c);for(let v=0;v<c;v++)d[v]=a[v];return d}return[]}function D(a,c){for(let d=1;d<arguments.length;d++){const v=arguments[d];if(u(v)){const N=a.length||0,O=v.length||0;a.length=N+O;for(let U=0;U<O;U++)a[N+U]=v[U]}else a.push(v)}}class S{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function b(a){return b[" "](a),a}b[" "]=function(){};var L=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function j(a,c,d){for(const v in a)c.call(d,a[v],v,a)}function w(a,c){for(const d in a)c.call(void 0,a[d],d,a)}function g(a){const c={};for(const d in a)c[d]=a[d];return c}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,c){let d,v;for(let N=1;N<arguments.length;N++){v=arguments[N];for(d in v)a[d]=v[d];for(let O=0;O<T.length;O++)d=T[O],Object.prototype.hasOwnProperty.call(v,d)&&(a[d]=v[d])}}function k(a){var c=1;a=a.split(":");const d=[];for(;0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(":")),d}function R(a){l.setTimeout(()=>{throw a},0)}function C(){var a=W;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class at{constructor(){this.h=this.g=null}add(c,d){const v=mn.get();v.set(c,d),this.h?this.h.next=v:this.g=v,this.h=v}}var mn=new S(()=>new vr,a=>a.reset());class vr{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let xt,B=!1,W=new at,K=()=>{const a=l.Promise.resolve(void 0);xt=()=>{a.then(oe)}};var oe=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(d){R(d)}var c=mn;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}B=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ct=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,c),l.removeEventListener("test",d,c)}catch{}return a}();function mt(a,c){if(me.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget){if(L){e:{try{b(c.nodeName);var N=!0;break e}catch{}N=!1}N||(c=null)}}else d=="mouseover"?c=a.fromElement:d=="mouseout"&&(c=a.toElement);this.relatedTarget=c,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:lt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&mt.aa.h.call(this)}}x(mt,me);var lt={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),_r=0;function gn(a,c,d,v,N){this.listener=a,this.proxy=null,this.src=c,this.type=d,this.capture=!!v,this.ha=N,this.key=++_r,this.da=this.fa=!1}function On(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function yn(a){this.src=a,this.g={},this.h=0}yn.prototype.add=function(a,c,d,v,N){var O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);var U=Pu(a,c,v,N);return-1<U?(c=a[U],d||(c.fa=!1)):(c=new gn(c,this.src,O,!!v,N),c.fa=d,a.push(c)),c};function Lt(a,c){var d=c.type;if(d in a.g){var v=a.g[d],N=Array.prototype.indexOf.call(v,c,void 0),O;(O=0<=N)&&Array.prototype.splice.call(v,N,1),O&&(On(c),a.g[d].length==0&&(delete a.g[d],a.h--))}}function Pu(a,c,d,v){for(var N=0;N<a.length;++N){var O=a[N];if(!O.da&&O.listener==c&&O.capture==!!d&&O.ha==v)return N}return-1}var ku="closure_lm_"+(1e6*Math.random()|0),Ru={};function Zf(a,c,d,v,N){if(Array.isArray(c)){for(var O=0;O<c.length;O++)Zf(a,c[O],d,v,N);return null}return d=np(d),a&&a[gt]?a.K(c,d,h(v)?!!v.capture:!!v,N):ow(a,c,d,!1,v,N)}function ow(a,c,d,v,N,O){if(!c)throw Error("Invalid event type");var U=h(N)?!!N.capture:!!N,le=Du(a);if(le||(a[ku]=le=new yn(a)),d=le.add(c,d,v,U,O),d.proxy)return d;if(v=sw(),d.proxy=v,v.src=a,v.listener=d,a.addEventListener)Ct||(N=U),N===void 0&&(N=!1),a.addEventListener(c.toString(),v,N);else if(a.attachEvent)a.attachEvent(tp(c.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return d}function sw(){function a(d){return c.call(a.src,a.listener,d)}const c=aw;return a}function ep(a,c,d,v,N){if(Array.isArray(c))for(var O=0;O<c.length;O++)ep(a,c[O],d,v,N);else v=h(v)?!!v.capture:!!v,d=np(d),a&&a[gt]?(a=a.i,c=String(c).toString(),c in a.g&&(O=a.g[c],d=Pu(O,d,v,N),-1<d&&(On(O[d]),Array.prototype.splice.call(O,d,1),O.length==0&&(delete a.g[c],a.h--)))):a&&(a=Du(a))&&(c=a.g[c.toString()],a=-1,c&&(a=Pu(c,d,v,N)),(d=-1<a?c[a]:null)&&Nu(d))}function Nu(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[gt])Lt(c.i,a);else{var d=a.type,v=a.proxy;c.removeEventListener?c.removeEventListener(d,v,a.capture):c.detachEvent?c.detachEvent(tp(d),v):c.addListener&&c.removeListener&&c.removeListener(v),(d=Du(c))?(Lt(d,a),d.h==0&&(d.src=null,c[ku]=null)):On(a)}}}function tp(a){return a in Ru?Ru[a]:Ru[a]="on"+a}function aw(a,c){if(a.da)a=!0;else{c=new mt(c,this);var d=a.listener,v=a.ha||a.src;a.fa&&Nu(a),a=d.call(v,c)}return a}function Du(a){return a=a[ku],a instanceof yn?a:null}var bu="__closure_events_fn_"+(1e9*Math.random()>>>0);function np(a){return typeof a=="function"?a:(a[bu]||(a[bu]=function(c){return a.handleEvent(c)}),a[bu])}function qe(){J.call(this),this.i=new yn(this),this.M=this,this.F=null}x(qe,J),qe.prototype[gt]=!0,qe.prototype.removeEventListener=function(a,c,d,v){ep(this,a,c,d,v)};function ut(a,c){var d,v=a.F;if(v)for(d=[];v;v=v.F)d.push(v);if(a=a.M,v=c.type||c,typeof c=="string")c=new me(c,a);else if(c instanceof me)c.target=c.target||a;else{var N=c;c=new me(v,a),I(c,N)}if(N=!0,d)for(var O=d.length-1;0<=O;O--){var U=c.g=d[O];N=Bs(U,v,!0,c)&&N}if(U=c.g=a,N=Bs(U,v,!0,c)&&N,N=Bs(U,v,!1,c)&&N,d)for(O=0;O<d.length;O++)U=c.g=d[O],N=Bs(U,v,!1,c)&&N}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var a=this.i,c;for(c in a.g){for(var d=a.g[c],v=0;v<d.length;v++)On(d[v]);delete a.g[c],a.h--}}this.F=null},qe.prototype.K=function(a,c,d,v){return this.i.add(String(a),c,!1,d,v)},qe.prototype.L=function(a,c,d,v){return this.i.add(String(a),c,!0,d,v)};function Bs(a,c,d,v){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();for(var N=!0,O=0;O<c.length;++O){var U=c[O];if(U&&!U.da&&U.capture==d){var le=U.listener,Ue=U.ha||U.src;U.fa&&Lt(a.i,U),N=le.call(Ue,v)!==!1&&N}}return N&&!v.defaultPrevented}function rp(a,c,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(a,c||0)}function ip(a){a.g=rp(()=>{a.g=null,a.i&&(a.i=!1,ip(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class lw extends J{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:ip(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function so(a){J.call(this),this.h=a,this.g={}}x(so,J);var op=[];function sp(a){j(a.g,function(c,d){this.g.hasOwnProperty(d)&&Nu(c)},a),a.g={}}so.prototype.N=function(){so.aa.N.call(this),sp(this)},so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ou=l.JSON.stringify,uw=l.JSON.parse,cw=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Mu(){}Mu.prototype.h=null;function ap(a){return a.h||(a.h=a.i())}function lp(){}var ao={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vu(){me.call(this,"d")}x(Vu,me);function ju(){me.call(this,"c")}x(ju,me);var wr={},up=null;function zs(){return up=up||new qe}wr.La="serverreachability";function cp(a){me.call(this,wr.La,a)}x(cp,me);function lo(a){const c=zs();ut(c,new cp(c))}wr.STAT_EVENT="statevent";function hp(a,c){me.call(this,wr.STAT_EVENT,a),this.stat=c}x(hp,me);function ct(a){const c=zs();ut(c,new hp(c,a))}wr.Ma="timingevent";function dp(a,c){me.call(this,wr.Ma,a),this.size=c}x(dp,me);function uo(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},c)}function co(){this.g=!0}co.prototype.xa=function(){this.g=!1};function hw(a,c,d,v,N,O){a.info(function(){if(a.g)if(O)for(var U="",le=O.split("&"),Ue=0;Ue<le.length;Ue++){var re=le[Ue].split("=");if(1<re.length){var Ye=re[0];re=re[1];var Xe=Ye.split("_");U=2<=Xe.length&&Xe[1]=="type"?U+(Ye+"="+re+"&"):U+(Ye+"=redacted&")}}else U=null;else U=O;return"XMLHTTP REQ ("+v+") [attempt "+N+"]: "+c+`
`+d+`
`+U})}function dw(a,c,d,v,N,O,U){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+N+"]: "+c+`
`+d+`
`+O+" "+U})}function ni(a,c,d,v){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+pw(a,d)+(v?" "+v:"")})}function fw(a,c){a.info(function(){return"TIMEOUT: "+c})}co.prototype.info=function(){};function pw(a,c){if(!a.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var v=d[a];if(!(2>v.length)){var N=v[1];if(Array.isArray(N)&&!(1>N.length)){var O=N[0];if(O!="noop"&&O!="stop"&&O!="close")for(var U=1;U<N.length;U++)N[U]=""}}}}return Ou(d)}catch{return c}}var Hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lu;function Ws(){}x(Ws,Mu),Ws.prototype.g=function(){return new XMLHttpRequest},Ws.prototype.i=function(){return{}},Lu=new Ws;function Mn(a,c,d,v){this.j=a,this.i=c,this.l=d,this.R=v||1,this.U=new so(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pp}function pp(){this.i=null,this.g="",this.h=!1}var mp={},Fu={};function $u(a,c,d){a.L=1,a.v=qs(vn(c)),a.m=d,a.P=!0,gp(a,null)}function gp(a,c){a.F=Date.now(),Gs(a),a.A=vn(a.v);var d=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),Rp(d.i,"t",v),a.C=0,d=a.j.J,a.h=new pp,a.g=Kp(a.j,d?c:null,!a.m),0<a.O&&(a.M=new lw(m(a.Y,a,a.g),a.O)),c=a.U,d=a.g,v=a.ca;var N="readystatechange";Array.isArray(N)||(N&&(op[0]=N.toString()),N=op);for(var O=0;O<N.length;O++){var U=Zf(d,N[O],v||c.handleEvent,!1,c.h||c);if(!U)break;c.g[U.key]=U}c=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,c)):(a.u="GET",a.g.ea(a.A,a.u,null,c)),lo(),hw(a.i,a.u,a.A,a.l,a.R,a.m)}Mn.prototype.ca=function(a){a=a.target;const c=this.M;c&&_n(a)==3?c.j():this.Y(a)},Mn.prototype.Y=function(a){try{if(a==this.g)e:{const Xe=_n(this.g);var c=this.g.Ba();const oi=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||jp(this.g)))){this.J||Xe!=4||c==7||(c==8||0>=oi?lo(3):lo(2)),Uu(this);var d=this.g.Z();this.X=d;t:if(yp(this)){var v=jp(this.g);a="";var N=v.length,O=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),ho(this);var U="";break t}this.h.i=new l.TextDecoder}for(c=0;c<N;c++)this.h.h=!0,a+=this.h.i.decode(v[c],{stream:!(O&&c==N-1)});v.length=0,this.h.g+=a,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=d==200,dw(this.i,this.u,this.A,this.l,this.R,Xe,d),this.o){if(this.T&&!this.K){t:{if(this.g){var le,Ue=this.g;if((le=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(le)){var re=le;break t}}re=null}if(d=re)ni(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bu(this,d);else{this.o=!1,this.s=3,ct(12),Er(this),ho(this);break e}}if(this.P){d=!0;let Kt;for(;!this.J&&this.C<U.length;)if(Kt=mw(this,U),Kt==Fu){Xe==4&&(this.s=4,ct(14),d=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==mp){this.s=4,ct(15),ni(this.i,this.l,U,"[Invalid Chunk]"),d=!1;break}else ni(this.i,this.l,Kt,null),Bu(this,Kt);if(yp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||U.length!=0||this.h.h||(this.s=1,ct(16),d=!1),this.o=this.o&&d,!d)ni(this.i,this.l,U,"[Invalid Chunked Response]"),Er(this),ho(this);else if(0<U.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Ku(Ye),Ye.M=!0,ct(11))}}else ni(this.i,this.l,U,null),Bu(this,U);Xe==4&&Er(this),this.o&&!this.J&&(Xe==4?Hp(this.j,this):(this.o=!1,Gs(this)))}else Dw(this.g),d==400&&0<U.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Er(this),ho(this)}}}catch{}finally{}};function yp(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function mw(a,c){var d=a.C,v=c.indexOf(`
`,d);return v==-1?Fu:(d=Number(c.substring(d,v)),isNaN(d)?mp:(v+=1,v+d>c.length?Fu:(c=c.slice(v,v+d),a.C=v+d,c)))}Mn.prototype.cancel=function(){this.J=!0,Er(this)};function Gs(a){a.S=Date.now()+a.I,vp(a,a.I)}function vp(a,c){if(a.B!=null)throw Error("WatchDog timer not null");a.B=uo(m(a.ba,a),c)}function Uu(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Mn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(fw(this.i,this.A),this.L!=2&&(lo(),ct(17)),Er(this),this.s=2,ho(this)):vp(this,this.S-a)};function ho(a){a.j.G==0||a.J||Hp(a.j,a)}function Er(a){Uu(a);var c=a.M;c&&typeof c.ma=="function"&&c.ma(),a.M=null,sp(a.U),a.g&&(c=a.g,a.g=null,c.abort(),c.ma())}function Bu(a,c){try{var d=a.j;if(d.G!=0&&(d.g==a||zu(d.h,a))){if(!a.K&&zu(d.h,a)&&d.G==3){try{var v=d.Da.g.parse(c)}catch{v=null}if(Array.isArray(v)&&v.length==3){var N=v;if(N[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)ta(d),Zs(d);else break e;Qu(d),ct(18)}}else d.za=N[1],0<d.za-d.T&&37500>N[2]&&d.F&&d.v==0&&!d.C&&(d.C=uo(m(d.Za,d),6e3));if(1>=Ep(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Tr(d,11)}else if((a.K||d.g==a)&&ta(d),!E(c))for(N=d.Da.g.parse(c),c=0;c<N.length;c++){let re=N[c];if(d.T=re[0],re=re[1],d.G==2)if(re[0]=="c"){d.K=re[1],d.ia=re[2];const Ye=re[3];Ye!=null&&(d.la=Ye,d.j.info("VER="+d.la));const Xe=re[4];Xe!=null&&(d.Aa=Xe,d.j.info("SVER="+d.Aa));const oi=re[5];oi!=null&&typeof oi=="number"&&0<oi&&(v=1.5*oi,d.L=v,d.j.info("backChannelRequestTimeoutMs_="+v)),v=d;const Kt=a.g;if(Kt){const ra=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var O=v.h;O.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Hu(O,O.h),O.h=null))}if(v.D){const qu=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;qu&&(v.ya=qu,he(v.I,v.D,qu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),v=d;var U=a;if(v.qa=Qp(v,v.J?v.ia:null,v.W),U.K){Sp(v.h,U);var le=U,Ue=v.L;Ue&&(le.I=Ue),le.B&&(Uu(le),Gs(le)),v.g=U}else Bp(v);0<d.i.length&&ea(d)}else re[0]!="stop"&&re[0]!="close"||Tr(d,7);else d.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?Tr(d,7):Gu(d):re[0]!="noop"&&d.l&&d.l.ta(re),d.v=0)}}lo(4)}catch{}}var gw=class{constructor(a,c){this.g=a,this.map=c}};function _p(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ep(a){return a.h?1:a.g?a.g.size:0}function zu(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function Hu(a,c){a.g?a.g.add(c):a.h=c}function Sp(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}_p.prototype.cancel=function(){if(this.i=Tp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Tp(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const d of a.g.values())c=c.concat(d.D);return c}return P(a.i)}function yw(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var c=[],d=a.length,v=0;v<d;v++)c.push(a[v]);return c}c=[],d=0;for(v in a)c[d++]=a[v];return c}function vw(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var c=[];a=a.length;for(var d=0;d<a;d++)c.push(d);return c}c=[],d=0;for(const v in a)c[d++]=v;return c}}}function xp(a,c){if(a.forEach&&typeof a.forEach=="function")a.forEach(c,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,c,void 0);else for(var d=vw(a),v=yw(a),N=v.length,O=0;O<N;O++)c.call(void 0,v[O],d&&d[O],a)}var Cp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _w(a,c){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var v=a[d].indexOf("="),N=null;if(0<=v){var O=a[d].substring(0,v);N=a[d].substring(v+1)}else O=a[d];c(O,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Sr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Sr){this.h=a.h,Qs(this,a.j),this.o=a.o,this.g=a.g,Ks(this,a.s),this.l=a.l;var c=a.i,d=new mo;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),Ap(this,d),this.m=a.m}else a&&(c=String(a).match(Cp))?(this.h=!1,Qs(this,c[1]||"",!0),this.o=fo(c[2]||""),this.g=fo(c[3]||"",!0),Ks(this,c[4]),this.l=fo(c[5]||"",!0),Ap(this,c[6]||"",!0),this.m=fo(c[7]||"")):(this.h=!1,this.i=new mo(null,this.h))}Sr.prototype.toString=function(){var a=[],c=this.j;c&&a.push(po(c,Ip,!0),":");var d=this.g;return(d||c=="file")&&(a.push("//"),(c=this.o)&&a.push(po(c,Ip,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(po(d,d.charAt(0)=="/"?Sw:Ew,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",po(d,xw)),a.join("")};function vn(a){return new Sr(a)}function Qs(a,c,d){a.j=d?fo(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function Ks(a,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);a.s=c}else a.s=null}function Ap(a,c,d){c instanceof mo?(a.i=c,Cw(a.i,a.h)):(d||(c=po(c,Tw)),a.i=new mo(c,a.h))}function he(a,c,d){a.i.set(c,d)}function qs(a){return he(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function fo(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function po(a,c,d){return typeof a=="string"?(a=encodeURI(a).replace(c,ww),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ww(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ip=/[#\/\?@]/g,Ew=/[#\?:]/g,Sw=/[#\?]/g,Tw=/[#\?@]/g,xw=/#/g;function mo(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function Vn(a){a.g||(a.g=new Map,a.h=0,a.i&&_w(a.i,function(c,d){a.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=mo.prototype,t.add=function(a,c){Vn(this),this.i=null,a=ri(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(c),this.h+=1,this};function Pp(a,c){Vn(a),c=ri(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function kp(a,c){return Vn(a),c=ri(a,c),a.g.has(c)}t.forEach=function(a,c){Vn(this),this.g.forEach(function(d,v){d.forEach(function(N){a.call(c,N,v,this)},this)},this)},t.na=function(){Vn(this);const a=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let v=0;v<c.length;v++){const N=a[v];for(let O=0;O<N.length;O++)d.push(c[v])}return d},t.V=function(a){Vn(this);let c=[];if(typeof a=="string")kp(this,a)&&(c=c.concat(this.g.get(ri(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)c=c.concat(a[d])}return c},t.set=function(a,c){return Vn(this),this.i=null,a=ri(this,a),kp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},t.get=function(a,c){return a?(a=this.V(a),0<a.length?String(a[0]):c):c};function Rp(a,c,d){Pp(a,c),0<d.length&&(a.i=null,a.g.set(ri(a,c),P(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var v=c[d];const O=encodeURIComponent(String(v)),U=this.V(v);for(v=0;v<U.length;v++){var N=O;U[v]!==""&&(N+="="+encodeURIComponent(String(U[v]))),a.push(N)}}return this.i=a.join("&")};function ri(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function Cw(a,c){c&&!a.j&&(Vn(a),a.i=null,a.g.forEach(function(d,v){var N=v.toLowerCase();v!=N&&(Pp(this,v),Rp(this,N,d))},a)),a.j=c}function Aw(a,c){const d=new co;if(l.Image){const v=new Image;v.onload=_(jn,d,"TestLoadImage: loaded",!0,c,v),v.onerror=_(jn,d,"TestLoadImage: error",!1,c,v),v.onabort=_(jn,d,"TestLoadImage: abort",!1,c,v),v.ontimeout=_(jn,d,"TestLoadImage: timeout",!1,c,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else c(!1)}function Iw(a,c){const d=new co,v=new AbortController,N=setTimeout(()=>{v.abort(),jn(d,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:v.signal}).then(O=>{clearTimeout(N),O.ok?jn(d,"TestPingServer: ok",!0,c):jn(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(N),jn(d,"TestPingServer: error",!1,c)})}function jn(a,c,d,v,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),v(d)}catch{}}function Pw(){this.g=new cw}function kw(a,c,d){const v=d||"";try{xp(a,function(N,O){let U=N;h(N)&&(U=Ou(N)),c.push(v+O+"="+encodeURIComponent(U))})}catch(N){throw c.push(v+"type="+encodeURIComponent("_badmap")),N}}function Ys(a){this.l=a.Ub||null,this.j=a.eb||!1}x(Ys,Mu),Ys.prototype.g=function(){return new Xs(this.l,this.j)},Ys.prototype.i=function(a){return function(){return a}}({});function Xs(a,c){qe.call(this),this.D=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Xs,qe),t=Xs.prototype,t.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=c,this.readyState=1,yo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(c.body=a),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,go(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,yo(this)),this.g&&(this.readyState=3,yo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Np(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Np(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?go(this):yo(this),this.readyState==3&&Np(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,go(this))},t.Qa=function(a){this.g&&(this.response=a,go(this))},t.ga=function(){this.g&&go(this)};function go(a){a.readyState=4,a.l=null,a.j=null,a.v=null,yo(a)}t.setRequestHeader=function(a,c){this.u.append(a,c)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=c.next();return a.join(`\r
`)};function yo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Dp(a){let c="";return j(a,function(d,v){c+=v,c+=":",c+=d,c+=`\r
`}),c}function Wu(a,c,d){e:{for(v in d){var v=!1;break e}v=!0}v||(d=Dp(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):he(a,c,d))}function Te(a){qe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Te,qe);var Rw=/^https?$/i,Nw=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,c,d,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lu.g(),this.v=this.o?ap(this.o):ap(Lu),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(O){bp(this,O);return}if(a=d||"",d=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var N in v)d.set(N,v[N]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const O of v.keys())d.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(d.keys()).find(O=>O.toLowerCase()=="content-type"),N=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Nw,c,void 0))||v||N||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,U]of d)this.g.setRequestHeader(O,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vp(this),this.u=!0,this.g.send(a),this.u=!1}catch(O){bp(this,O)}};function bp(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.m=5,Op(a),Js(a)}function Op(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),Js(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Js(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Mp(this):this.bb())},t.bb=function(){Mp(this)};function Mp(a){if(a.h&&typeof s<"u"&&(!a.v[1]||_n(a)!=4||a.Z()!=2)){if(a.u&&_n(a)==4)rp(a.Ea,0,a);else if(ut(a,"readystatechange"),_n(a)==4){a.h=!1;try{const U=a.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var v;if(v=U===0){var N=String(a.D).match(Cp)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),v=!Rw.test(N?N.toLowerCase():"")}d=v}if(d)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var O=2<_n(a)?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.Z()+"]",Op(a)}}finally{Js(a)}}}}function Js(a,c){if(a.g){Vp(a);const d=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,c||ut(a,"ready");try{d.onreadystatechange=v}catch{}}}function Vp(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),uw(c)}};function jp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Dw(a){const c={};a=(a.g&&2<=_n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(E(a[v]))continue;var d=k(a[v]);const N=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const O=c[N]||[];c[N]=O,O.push(d)}w(c,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vo(a,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||c}function Lp(a){this.Aa=0,this.i=[],this.j=new co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vo("baseRetryDelayMs",5e3,a),this.cb=vo("retryDelaySeedMs",1e4,a),this.Wa=vo("forwardChannelMaxRetries",2,a),this.wa=vo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new _p(a&&a.concurrentRequestLimit),this.Da=new Pw,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lp.prototype,t.la=8,t.G=1,t.connect=function(a,c,d,v){ct(0),this.W=a,this.H=c||{},d&&v!==void 0&&(this.H.OSID=d,this.H.OAID=v),this.F=this.X,this.I=Qp(this,null,this.W),ea(this)};function Gu(a){if(Fp(a),a.G==3){var c=a.U++,d=vn(a.I);if(he(d,"SID",a.K),he(d,"RID",c),he(d,"TYPE","terminate"),_o(a,d),c=new Mn(a,a.j,c),c.L=2,c.v=qs(vn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=c.v,d=!0),d||(c.g=Kp(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Gs(c)}Gp(a)}function Zs(a){a.g&&(Ku(a),a.g.cancel(),a.g=null)}function Fp(a){Zs(a),a.u&&(l.clearTimeout(a.u),a.u=null),ta(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ea(a){if(!wp(a.h)&&!a.s){a.s=!0;var c=a.Ga;xt||K(),B||(xt(),B=!0),W.add(c,a),a.B=0}}function bw(a,c){return Ep(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=c.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=uo(m(a.Ga,a,c),Wp(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const N=new Mn(this,this.j,a);let O=this.o;if(this.S&&(O?(O=g(O),I(O,this.S)):O=this.S),this.m!==null||this.O||(N.H=O,O=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var v=this.i[d];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(c+=v,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=Up(this,N,c),d=vn(this.I),he(d,"RID",a),he(d,"CVER",22),this.D&&he(d,"X-HTTP-Session-Id",this.D),_o(this,d),O&&(this.O?c="headers="+encodeURIComponent(String(Dp(O)))+"&"+c:this.m&&Wu(d,this.m,O)),Hu(this.h,N),this.Ua&&he(d,"TYPE","init"),this.P?(he(d,"$req",c),he(d,"SID","null"),N.T=!0,$u(N,d,null)):$u(N,d,c),this.G=2}}else this.G==3&&(a?$p(this,a):this.i.length==0||wp(this.h)||$p(this))};function $p(a,c){var d;c?d=c.l:d=a.U++;const v=vn(a.I);he(v,"SID",a.K),he(v,"RID",d),he(v,"AID",a.T),_o(a,v),a.m&&a.o&&Wu(v,a.m,a.o),d=new Mn(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),c&&(a.i=c.D.concat(a.i)),c=Up(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Hu(a.h,d),$u(d,v,c)}function _o(a,c){a.H&&j(a.H,function(d,v){he(c,v,d)}),a.l&&xp({},function(d,v){he(c,v,d)})}function Up(a,c,d){d=Math.min(a.i.length,d);var v=a.l?m(a.l.Na,a.l,a):null;e:{var N=a.i;let O=-1;for(;;){const U=["count="+d];O==-1?0<d?(O=N[0].g,U.push("ofs="+O)):O=0:U.push("ofs="+O);let le=!0;for(let Ue=0;Ue<d;Ue++){let re=N[Ue].g;const Ye=N[Ue].map;if(re-=O,0>re)O=Math.max(0,N[Ue].g-100),le=!1;else try{kw(Ye,U,"req"+re+"_")}catch{v&&v(Ye)}}if(le){v=U.join("&");break e}}}return a=a.i.splice(0,d),c.D=a,v}function Bp(a){if(!a.g&&!a.u){a.Y=1;var c=a.Fa;xt||K(),B||(xt(),B=!0),W.add(c,a),a.v=0}}function Qu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=uo(m(a.Fa,a),Wp(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,zp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=uo(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Zs(this),zp(this))};function Ku(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function zp(a){a.g=new Mn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var c=vn(a.qa);he(c,"RID","rpc"),he(c,"SID",a.K),he(c,"AID",a.T),he(c,"CI",a.F?"0":"1"),!a.F&&a.ja&&he(c,"TO",a.ja),he(c,"TYPE","xmlhttp"),_o(a,c),a.m&&a.o&&Wu(c,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=qs(vn(c)),d.m=null,d.P=!0,gp(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Zs(this),Qu(this),ct(19))};function ta(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Hp(a,c){var d=null;if(a.g==c){ta(a),Ku(a),a.g=null;var v=2}else if(zu(a.h,c))d=c.D,Sp(a.h,c),v=1;else return;if(a.G!=0){if(c.o)if(v==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var N=a.B;v=zs(),ut(v,new dp(v,d)),ea(a)}else Bp(a);else if(N=c.s,N==3||N==0&&0<c.X||!(v==1&&bw(a,c)||v==2&&Qu(a)))switch(d&&0<d.length&&(c=a.h,c.i=c.i.concat(d)),N){case 1:Tr(a,5);break;case 4:Tr(a,10);break;case 3:Tr(a,6);break;default:Tr(a,2)}}}function Wp(a,c){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*c}function Tr(a,c){if(a.j.info("Error code "+c),c==2){var d=m(a.fb,a),v=a.Xa;const N=!v;v=new Sr(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Qs(v,"https"),qs(v),N?Aw(v.toString(),d):Iw(v.toString(),d)}else ct(2);a.G=0,a.l&&a.l.sa(c),Gp(a),Fp(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Gp(a){if(a.G=0,a.ka=[],a.l){const c=Tp(a.h);(c.length!=0||a.i.length!=0)&&(D(a.ka,c),D(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function Qp(a,c,d){var v=d instanceof Sr?vn(d):new Sr(d);if(v.g!="")c&&(v.g=c+"."+v.g),Ks(v,v.s);else{var N=l.location;v=N.protocol,c=c?c+"."+N.hostname:N.hostname,N=+N.port;var O=new Sr(null);v&&Qs(O,v),c&&(O.g=c),N&&Ks(O,N),d&&(O.l=d),v=O}return d=a.D,c=a.ya,d&&c&&he(v,d,c),he(v,"VER",a.la),_o(a,v),v}function Kp(a,c,d){if(c&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Ca&&!a.pa?new Te(new Ys({eb:d})):new Te(a.pa),c.Ha(a.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qp(){}t=qp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function na(){}na.prototype.g=function(a,c){return new At(a,c)};function At(a,c){qe.call(this),this.g=new Lp(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(a?a["X-WebChannel-Client-Profile"]=c.va:a={"X-WebChannel-Client-Profile":c.va}),this.g.S=a,(a=c&&c.Sb)&&!E(a)&&(this.g.m=a),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new ii(this)}x(At,qe),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){Gu(this.g)},At.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=Ou(a),a=d);c.i.push(new gw(c.Ya++,a)),c.G==3&&ea(c)},At.prototype.N=function(){this.g.l=null,delete this.j,Gu(this.g),delete this.g,At.aa.N.call(this)};function Yp(a){Vu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const d in c){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}x(Yp,Vu);function Xp(){ju.call(this),this.status=1}x(Xp,ju);function ii(a){this.g=a}x(ii,qp),ii.prototype.ua=function(){ut(this.g,"a")},ii.prototype.ta=function(a){ut(this.g,new Yp(a))},ii.prototype.sa=function(a){ut(this.g,new Xp)},ii.prototype.ra=function(){ut(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,t_=function(){return new na},e_=function(){return zs()},Z1=wr,sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,Ya=Hs,fp.COMPLETE="complete",J1=fp,lp.EventType=ao,ao.OPEN="a",ao.CLOSE="b",ao.ERROR="c",ao.MESSAGE="d",qe.prototype.listen=qe.prototype.K,Mo=lp,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,X1=Te}).apply(typeof Ia<"u"?Ia:typeof self<"u"?self:typeof window<"u"?window:{});const Zg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new H1("@firebase/firestore");function ci(){return Qr.logLevel}function H(t,...e){if(Qr.logLevel<=te.DEBUG){const n=e.map(Pf);Qr.debug(`Firestore (${oo}): ${t}`,...n)}}function Kr(t,...e){if(Qr.logLevel<=te.ERROR){const n=e.map(Pf);Qr.error(`Firestore (${oo}): ${t}`,...n)}}function Ol(t,...e){if(Qr.logLevel<=te.WARN){const n=e.map(Pf);Qr.warn(`Firestore (${oo}): ${t}`,...n)}}function Pf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+t;throw Kr(e),new Error(e)}function Ce(t,e){t||Z()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends io{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tt.UNAUTHENTICATED))}shutdown(){}}class bP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OP{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Lr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Lr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new n_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new tt(e)}}class MP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ce(this.o===void 0);const r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new jP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=FP(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function Gi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new $e(0,0))}static max(){return new ge(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ts.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ts?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends Ts{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const $P=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ts{construct(e,n,r){return new We(e,n,r)}static isValidIdentifier(e){return $P.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new We(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new G($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new G($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new G($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(ke.fromString(e))}static fromName(e){return new Y(ke.fromString(e).popFirst(5))}static empty(){return new Y(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new ke(e.slice()))}}function UP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new cr(i,Y.empty(),e)}function BP(t){return new cr(t.readTime,t.key,-1)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(ge.min(),Y.empty(),-1)}static max(){return new cr(ge.max(),Y.empty(),-1)}}function zP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==HP)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(p=>{s[h]=p,++l,l===o&&r(s)},p=>i(p))}})}static doWhile(e,n){return new V((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function GP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ls(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Rf.oe=-1;function Nf(t){return t==null}function Ml(t){return t===0&&1/t==-1/0}function QP(t){return typeof t=="number"&&Number.isInteger(t)&&!Ml(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ey(e)),e=qP(t.get(n),e);return ey(e)}function qP(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function ey(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function i_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||ze.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pa(this.root,e,this.comparator,!0)}}class Pa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??ze.EMPTY,this.right=o??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ny(this.data.getIterator())}getIteratorFrom(e){return new ny(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class ny{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new Nt([])}unionWith(e){let n=new Qe(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YP("Invalid base64 string: "+o):o}}(e);return new fn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const XP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=XP.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qi(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bf(t){const e=t.mapValue.fields.__previous_value__;return Df(e)?bf(e):e}function Vl(t){const e=qr(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n,r,i,o,s,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class jl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Df(t)?4:ek(t)?9007199254740991:ZP(t)?10:11:Z()}function pn(t,e){if(t===e)return!0;const n=Yr(t);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vl(t).isEqual(Vl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=qr(i.timestampValue),l=qr(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Qi(i.bytesValue).isEqual(Qi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return He(i.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return He(i.integerValue)===He(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=He(i.doubleValue),l=He(o.doubleValue);return s===l?Ml(s)===Ml(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Gi(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(ty(s)!==ty(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!pn(s[u],l[u])))return!1;return!0}(t,e);default:return Z()}}function xs(t,e){return(t.values||[]).find(n=>pn(n,e))!==void 0}function Ki(t,e){if(t===e)return 0;const n=Yr(t),r=Yr(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=He(o.integerValue||o.doubleValue),u=He(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return ry(t.timestampValue,e.timestampValue);case 4:return ry(Vl(t),Vl(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(o,s){const l=Qi(o),u=Qi(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let h=0;h<l.length&&h<u.length;h++){const p=se(l[h],u[h]);if(p!==0)return p}return se(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=se(He(o.latitude),He(s.latitude));return l!==0?l:se(He(o.longitude),He(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iy(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,h,p;const f=o.fields||{},m=s.fields||{},_=(l=f.value)===null||l===void 0?void 0:l.arrayValue,x=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=se(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:iy(_,x)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ka.mapValue&&s===ka.mapValue)return 0;if(o===ka.mapValue)return 1;if(s===ka.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),h=s.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let f=0;f<u.length&&f<p.length;++f){const m=se(u[f],p[f]);if(m!==0)return m;const _=Ki(l[u[f]],h[p[f]]);if(_!==0)return _}return se(u.length,p.length)}(t.mapValue,e.mapValue);default:throw Z()}}function ry(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=qr(t),r=qr(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function iy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ki(n[i],r[i]);if(o)return o}return se(n.length,r.length)}function qi(t){return ad(t)}function ad(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ad(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ad(n.fields[s])}`;return i+"}"}(t.mapValue):Z()}function Xa(t){switch(Yr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(t);return e?16+Xa(e):16;case 5:return 2*t.stringValue.length;case 6:return Qi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Xa(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ei(r.fields,(o,s)=>{i+=o.length+Xa(s)}),i}(t.mapValue);default:throw Z()}}function ld(t){return!!t&&"integerValue"in t}function Of(t){return!!t&&"arrayValue"in t}function Ja(t){return!!t&&"mapValue"in t}function ZP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ko(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ko(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ko(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ek(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ja(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ko(n)}setAll(e){let n=We.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Ko(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ja(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ja(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ei(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kt(Ko(this.value))}}function o_(t){const e=[];return ei(t.fields,(n,r)=>{const i=new We([n]);if(Ja(r)){const o=o_(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Nt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Zt(e,0,ge.min(),ge.min(),ge.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new Zt(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new Zt(e,2,n,ge.min(),ge.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,ge.min(),ge.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.position=e,this.inclusive=n}}function oy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),n.key):r=Ki(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function sy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n="asc"){this.field=e,this.dir=n}}function tk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{}class Le extends s_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rk(e,n,r):n==="array-contains"?new sk(e,r):n==="in"?new ak(e,r):n==="not-in"?new lk(e,r):n==="array-contains-any"?new uk(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ik(e,r):new ok(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ki(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(Ki(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends s_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new hr(e,n)}matches(e){return a_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function a_(t){return t.op==="and"}function l_(t){return nk(t)&&a_(t)}function nk(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function ud(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+qi(t.value);if(l_(t))return t.filters.map(e=>ud(e)).join(",");{const e=t.filters.map(n=>ud(n)).join(",");return`${t.op}(${e})`}}function u_(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&pn(r.value,i.value)}(t,e):t instanceof hr?function(r,i){return i instanceof hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&u_(s,i.filters[l]),!0):!1}(t,e):void Z()}function c_(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${qi(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(c_).join(" ,")+"}"}(t):"Filter"}class rk extends Le{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class ik extends Le{constructor(e,n){super(e,"in",n),this.keys=h_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ok extends Le{constructor(e,n){super(e,"not-in",n),this.keys=h_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function h_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class sk extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Of(n)&&xs(n.arrayValue,this.value)}}class ak extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xs(this.value.arrayValue,n)}}class lk extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(xs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xs(this.value.arrayValue,n)}}class uk extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Of(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function ay(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ck(t,e,n,r,i,o,s)}function Mf(t){const e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ud(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qi(r)).join(",")),e.ue=n}return e.ue}function Vf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sy(t.startAt,e.startAt)&&sy(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hk(t,e,n,r,i,o,s,l){return new yu(t,e,n,r,i,o,s,l)}function dk(t){return new yu(t)}function ly(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fk(t){return t.collectionGroup!==null}function qo(t){const e=ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Qe(We.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Fl(o,r))}),n.has(We.keyField().canonicalString())||e.ce.push(new Fl(We.keyField(),r))}return e.ce}function Fr(t){const e=ce(t);return e.le||(e.le=pk(e,qo(t))),e.le}function pk(t,e){if(t.limitType==="F")return ay(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Fl(i.field,o)});const n=t.endAt?new Ll(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ll(t.startAt.position,t.startAt.inclusive):null;return ay(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cd(t,e,n){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function d_(t,e){return Vf(Fr(t),Fr(e))&&t.limitType===e.limitType}function f_(t){return`${Mf(Fr(t))}|lt:${t.limitType}`}function ko(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>c_(i)).join(", ")}]`),Nf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qi(i)).join(",")),`Target(${r})`}(Fr(t))}; limitType=${t.limitType})`}function jf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of qo(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const h=oy(s,l,u);return s.inclusive?h<=0:h<0}(r.startAt,qo(r),i)||r.endAt&&!function(s,l,u){const h=oy(s,l,u);return s.inclusive?h>=0:h>0}(r.endAt,qo(r),i))}(t,e)}function mk(t){return(e,n)=>{let r=!1;for(const i of qo(t)){const o=gk(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gk(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),h=l.data.field(o);return u!==null&&h!==null?Ki(u,h):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ei(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return i_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new Tt(Y.comparator);function $l(){return yk}const p_=new Tt(Y.comparator);function Ra(...t){let e=p_;for(const n of t)e=e.insert(n.key,n);return e}function m_(t){let e=p_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Or(){return Yo()}function g_(){return Yo()}function Yo(){return new ti(t=>t.toString(),(t,e)=>t.isEqual(e))}const vk=new Tt(Y.comparator),_k=new Qe(Y.comparator);function rt(...t){let e=_k;for(const n of t)e=e.add(n);return e}const wk=new Qe(se);function Ek(){return wk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ml(e)?"-0":e}}function y_(t){return{integerValue:""+t}}function Sk(t,e){return QP(e)?y_(e):Lf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this._=void 0}}function Tk(t,e,n){return t instanceof Ul?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Df(o)&&(o=bf(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Cs?__(t,e):t instanceof As?w_(t,e):function(i,o){const s=v_(i,o),l=uy(s)+uy(i.Pe);return ld(s)&&ld(i.Pe)?y_(l):Lf(i.serializer,l)}(t,e)}function xk(t,e,n){return t instanceof Cs?__(t,e):t instanceof As?w_(t,e):n}function v_(t,e){return t instanceof Bl?function(r){return ld(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ul extends vu{}class Cs extends vu{constructor(e){super(),this.elements=e}}function __(t,e){const n=E_(e);for(const r of t.elements)n.some(i=>pn(i,r))||n.push(r);return{arrayValue:{values:n}}}class As extends vu{constructor(e){super(),this.elements=e}}function w_(t,e){let n=E_(e);for(const r of t.elements)n=n.filter(i=>!pn(i,r));return{arrayValue:{values:n}}}class Bl extends vu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function uy(t){return He(t.integerValue||t.doubleValue)}function E_(t){return Of(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ck(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Cs&&i instanceof Cs||r instanceof As&&i instanceof As?Gi(r.elements,i.elements,pn):r instanceof Bl&&i instanceof Bl?pn(r.Pe,i.Pe):r instanceof Ul&&i instanceof Ul}(t.transform,e.transform)}class Ak{constructor(e,n){this.version=e,this.transformResults=n}}class bt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bt}static exists(e){return new bt(void 0,e)}static updateTime(e){return new bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Za(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _u{}function S_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wu(t.key,bt.none()):new Fs(t.key,t.data,bt.none());{const n=t.data,r=kt.empty();let i=new Qe(We.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new yr(t.key,r,new Nt(i.toArray()),bt.none())}}function Ik(t,e,n){t instanceof Fs?function(i,o,s){const l=i.value.clone(),u=hy(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof yr?function(i,o,s){if(!Za(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=hy(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(T_(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Xo(t,e,n,r){return t instanceof Fs?function(o,s,l,u){if(!Za(o.precondition,s))return l;const h=o.value.clone(),p=dy(o.fieldTransforms,u,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof yr?function(o,s,l,u){if(!Za(o.precondition,s))return l;const h=dy(o.fieldTransforms,u,s),p=s.data;return p.setAll(T_(o)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,l){return Za(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function Pk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=v_(r.transform,i||null);o!=null&&(n===null&&(n=kt.empty()),n.set(r.field,o))}return n||null}function cy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gi(r,i,(o,s)=>Ck(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fs extends _u{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yr extends _u{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function T_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hy(t,e,n){const r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,xk(s,l,n[i]))}return r}function dy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Tk(o,s,e))}return r}class wu extends _u{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kk extends _u{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Ik(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=g_();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=S_(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&Gi(this.mutations,e.mutations,(n,r)=>cy(n,r))&&Gi(this.baseMutations,e.baseMutations,(n,r)=>cy(n,r))}}class Ff{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return vk}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Ff(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,ee;function Dk(t){switch(t){default:return Z();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function bk(t){if(t===void 0)return Kr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ie.OK:return $.OK;case Ie.CANCELLED:return $.CANCELLED;case Ie.UNKNOWN:return $.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return $.INTERNAL;case Ie.UNAVAILABLE:return $.UNAVAILABLE;case Ie.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ie.NOT_FOUND:return $.NOT_FOUND;case Ie.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ie.ABORTED:return $.ABORTED;case Ie.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ie.DATA_LOSS:return $.DATA_LOSS;default:return Z()}}(ee=Ie||(Ie={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Y1([4294967295,4294967295],0);class Ok{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vk(t,e){return hd(t,e.toTimestamp())}function bi(t){return Ce(!!t),ge.fromTimestamp(function(n){const r=qr(n);return new $e(r.seconds,r.nanos)}(t))}function x_(t,e){return dd(t,e).canonicalString()}function dd(t,e){const n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jk(t){const e=ke.fromString(t);return Ce(Wk(e)),e}function fd(t,e){return x_(t.databaseId,e.path)}function Lk(t){const e=jk(t);return e.length===4?ke.emptyPath():$k(e)}function Fk(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $k(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fy(t,e,n){return{name:fd(t,e),fields:n.value.mapValue.fields}}function Uk(t,e){let n;if(e instanceof Fs)n={update:fy(t,e.key,e.value)};else if(e instanceof wu)n={delete:fd(t,e.key)};else if(e instanceof yr)n={update:fy(t,e.key,e.data),updateMask:Hk(e.fieldMask)};else{if(!(e instanceof kk))return Z();n={verify:fd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof Ul)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Cs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof As)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bl)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Vk(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(t,e.precondition)),n}function Bk(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?bi(i.updateTime):bi(o);return s.isEqual(ge.min())&&(s=bi(o)),new Ak(s,i.transformResults||[])}(n,e))):[]}function zk(t){let e=Lk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(f){const m=C_(f);return m instanceof hr&&l_(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(x){return new Fl(hi(x.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Nf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,_=f.values||[];return new Ll(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(f){const m=!f.before,_=f.values||[];return new Ll(_,m)}(n.endAt)),hk(e,i,s,o,l,"F",u,h)}function C_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hi(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hi(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hi(n.unaryFilter.field);return Le.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=hi(n.unaryFilter.field);return Le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Le.create(hi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(r=>C_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function hi(t){return We.fromServerFormat(t.fieldPath)}function Hk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Wk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.ct=e}}function Qk(t){const e=zk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.un=new qk}addToCollectionParentIndex(e,n){return this.un.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(cr.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class qk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yt(e,yt.DEFAULT_COLLECTION_PERCENTILE,yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yt.DEFAULT_COLLECTION_PERCENTILE=10,yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yt.DEFAULT=new yt(41943040,yt.DEFAULT_COLLECTION_PERCENTILE,yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yt.DISABLED=new yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Yi(0)}static kn(){return new Yi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my([t,e],[n,r]){const i=se(t,n);return i===0?se(e,r):i}class Yk{constructor(e){this.Un=e,this.buffer=new Qe(my),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();my(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Xk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){H("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ls(n)?H("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await kf(n)}await this.Hn(3e5)})}}class Jk{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(Rf.oe);const r=new Yk(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(py)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),py):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,s,l,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(h=Date.now(),ci()<=te.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function Zk(t,e){return new Jk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.changes=new ti(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xo(r.mutation,i,Nt.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const i=Or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ra();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=$l();const s=Yo(),l=function(){return Yo()}();return n.forEach((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof yr)?o=o.insert(h.key,h):p!==void 0?(s.set(h.key,p.mutation.getFieldMask()),Xo(p.mutation,h,p.mutation.getFieldMask(),$e.now())):s.set(h.key,Nt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,p)=>s.set(h,p)),n.forEach((h,p)=>{var f;return l.set(h,new t2(p,(f=s.get(h))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Yo();let i=new Tt((s,l)=>s-l),o=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Nt.empty();p=l.applyToLocalView(h,p),r.set(u,p);const f=(i.get(l.batchId)||rt()).add(u);i=i.insert(l.batchId,f)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,p=u.value,f=g_();p.forEach(m=>{if(!o.has(m)){const _=S_(n.get(m),r.get(m));_!==null&&f.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,f))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(Or());let l=-1,u=o;return s.next(h=>V.forEach(h,(p,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(p)?V.resolve():this.remoteDocumentCache.getEntry(e,p).next(m=>{u=u.insert(p,m)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,rt())).next(p=>({batchId:l,changes:m_(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=Ra();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ra();return this.indexManager.getCollectionParents(e,o).next(l=>V.forEach(l,u=>{const h=function(f,m){return new yu(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,h)=>{const p=h.getKey();s.get(p)===null&&(s=s.insert(p,Zt.newInvalidDocument(p)))});let l=Ra();return s.forEach((u,h)=>{const p=o.get(u);p!==void 0&&Xo(p.mutation,h,Nt.empty(),$e.now()),jf(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return V.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bi(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Qk(i.bundledQuery),readTime:bi(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.overlays=new Tt(Y.comparator),this.Ir=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Or();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Or(),o=n.length+1,s=new Y(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Tt((h,p)=>h-p);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=Or(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=Or(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,p)=>l.set(h,p)),!(l.size()>=i)););return V.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Nk(n,r));let o=this.Ir.get(n);o===void 0&&(o=rt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this.Tr=new Qe(Me.Er),this.dr=new Qe(Me.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Me(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Me(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Y(new ke([])),r=new Me(n,e),i=new Me(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Y(new ke([])),r=new Me(n,e),i=new Me(n,e+1);let o=rt();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Me(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Me{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||se(e.wr,n.wr)}static Ar(e,n){return se(e.wr,n.wr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Qe(Me.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Rk(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new Me(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Me(n,0),i=new Me(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const l=this.Dr(s.wr);o.push(l)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(se);return n.forEach(i=>{const o=new Me(i,0),s=new Me(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{r=r.add(l.wr)})}),V.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Y.isDocumentKey(o)||(o=o.child(""));const s=new Me(new Y(o),0);let l=new Qe(se);return this.br.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.wr)),!0)},s),V.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return V.forEach(n.mutations,i=>{const o=new Me(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Me(n,0),i=this.br.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.Mr=e,this.docs=function(){return new Tt(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=$l();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Zt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$l();const s=n.path,l=new Y(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||zP(BP(p),r)<=0||(i.has(p.key)||jf(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new l2(this)}getSize(e){return V.resolve(this.size)}}class l2 extends e2{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.persistence=e,this.Nr=new ti(n=>Mf(n),Vf),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $f,this.targetCount=0,this.kr=Yi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),V.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Yi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Kn(n),V.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Rf(0),this.Kr=!1,this.Kr=!0,this.$r=new o2,this.referenceDelegate=e(this),this.Ur=new u2(this),this.indexManager=new Kk,this.remoteDocumentCache=function(i){return new a2(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Gk(n),this.Gr=new r2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new i2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new s2(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new c2(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return V.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class c2 extends WP{constructor(e){super(),this.currentSequenceNumber=e}}class Uf{constructor(e){this.persistence=e,this.Jr=new $f,this.Yr=null}static Zr(e){return new Uf(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,r=>{const i=Y.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ge.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return V.or([()=>V.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class zl{constructor(e,n){this.persistence=e,this.ti=new ti(r=>KP(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Zk(this,n)}static Zr(e,n){return new zl(e,n)}zr(){}jr(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return V.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(o=>o?V.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Or(e,s=>this.nr(e,s,n).next(l=>{l||(r++,o.removeEntry(s,ge.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),V.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xa(e.data.value)),n}nr(e,n,r){return V.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=rt(),i=rt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Bf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return pI()?8:GP(dI())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new h2;return this.Xi(e,n,s).next(l=>{if(o.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ci()<=te.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(ci()<=te.DEBUG&&H("QueryEngine","Query:",ko(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ci()<=te.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):V.resolve())}Yi(e,n){if(ly(n))return V.resolve(null);let r=Fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cd(n,null,"F"),r=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=rt(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ts(n,l);return this.ns(n,h,s,u.readTime)?this.Yi(e,cd(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return ly(n)||i.isEqual(ge.min())?V.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?V.resolve(null):(ci()<=te.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ko(n)),this.rs(e,s,n,UP(i,-1)).next(l=>l))})}ts(e,n){let r=new Qe(mk(e));return n.forEach((i,o)=>{jf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ci()<=te.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",ko(n)),this.Ji.getDocumentsMatchingQuery(e,n,cr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Tt(se),this._s=new ti(o=>Mf(o),Vf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function p2(t,e,n,r){return new f2(t,e,n,r)}async function I_(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=rt();for(const h of i){s.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of o){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:l}))})})}function m2(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,p){const f=h.batch,m=f.keys();let _=V.resolve();return m.forEach(x=>{_=_.next(()=>p.getEntry(u,x)).next(P=>{const D=h.docVersions.get(x);Ce(D!==null),P.version.compareTo(D)<0&&(f.applyToRemoteDocument(P,h),P.isValidDocument()&&(P.setReadTime(h.commitVersion),p.addEntry(P)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=rt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function g2(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function y2(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class gy{constructor(){this.activeTargetIds=Ek()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v2{constructor(){this.so=new gy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new gy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na=null;function Vc(){return Na===null?Na=function(){return 268435456+Math.round(2147483648*Math.random())}():Na++,"0x"+Na.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et="WebChannelConnection";class S2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const l=Vc(),u=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,o,s),this.No(n,u,h,i).then(p=>(H("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw Ol("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,o,s,l){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=w2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Vc();return new Promise((s,l)=>{const u=new X1;u.setWithCredentials(!0),u.listenOnce(J1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ya.NO_ERROR:const p=u.getResponseJson();H(et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case Ya.TIMEOUT:H(et,`RPC '${e}' ${o} timed out`),l(new G($.DEADLINE_EXCEEDED,"Request time out"));break;case Ya.HTTP_ERROR:const f=u.getStatus();if(H(et,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const x=function(D){const S=D.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(S)>=0?S:$.UNKNOWN}(_.status);l(new G(x,_.message))}else l(new G($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new G($.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{H(et,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);H(et,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=Vc(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=t_(),l=e_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=o.join("");H(et,`Creating RPC '${e}' stream ${i}: ${p}`,u);const f=s.createWebChannel(p,u);let m=!1,_=!1;const x=new E2({Io:D=>{_?H(et,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(m||(H(et,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),H(et,`RPC '${e}' stream ${i} sending:`,D),f.send(D))},To:()=>f.close()}),P=(D,S,E)=>{D.listen(S,A=>{try{E(A)}catch(b){setTimeout(()=>{throw b},0)}})};return P(f,Mo.EventType.OPEN,()=>{_||(H(et,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),P(f,Mo.EventType.CLOSE,()=>{_||(_=!0,H(et,`RPC '${e}' stream ${i} transport closed`),x.So())}),P(f,Mo.EventType.ERROR,D=>{_||(_=!0,Ol(et,`RPC '${e}' stream ${i} transport errored:`,D),x.So(new G($.UNAVAILABLE,"The operation could not be completed")))}),P(f,Mo.EventType.MESSAGE,D=>{var S;if(!_){const E=D.data[0];Ce(!!E);const A=E,b=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(b){H(et,`RPC '${e}' stream ${i} received error:`,b);const L=b.status;let j=function(T){const I=Ie[T];if(I!==void 0)return bk(I)}(L),w=b.message;j===void 0&&(j=$.INTERNAL,w="Unknown error status: "+L+" with message "+b.message),_=!0,x.So(new G(j,w)),f.close()}else H(et,`RPC '${e}' stream ${i} received:`,E),x.bo(E)}}),P(l,Z1.STAT_EVENT,D=>{D.stat===sd.PROXY?H(et,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===sd.NOPROXY&&H(et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function jc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){return new Ok(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i,o,s,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new P_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new G($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x2 extends T2{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Bk(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Fk(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Uk(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,dd(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G($.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,dd(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G($.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class A2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Kr(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Us(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=ce(u);h.L_.add(4),await $s(h),h.q_.set("Unknown"),h.L_.delete(4),await Su(h)}(this))})}),this.q_=new A2(r,i)}}async function Su(t){if(Us(t))for(const e of t.B_)await e(!0)}async function $s(t){for(const e of t.B_)await e(!1)}function Us(t){return ce(t).L_.size===0}async function k_(t,e,n){if(!Ls(e))throw e;t.L_.add(1),await $s(t),t.q_.set("Offline"),n||(n=()=>g2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Su(t)})}function R_(t,e){return e().catch(n=>k_(t,n,e))}async function Tu(t){const e=ce(t),n=dr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;P2(e);)try{const i=await y2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,k2(e,i)}catch(i){await k_(e,i)}N_(e)&&D_(e)}function P2(t){return Us(t)&&t.O_.length<10}function k2(t,e){t.O_.push(e);const n=dr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function N_(t){return Us(t)&&!dr(t).n_()&&t.O_.length>0}function D_(t){dr(t).start()}async function R2(t){dr(t).p_()}async function N2(t){const e=dr(t);for(const n of t.O_)e.m_(n.mutations)}async function D2(t,e,n){const r=t.O_.shift(),i=Ff.from(r,e,n);await R_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tu(t)}async function b2(t,e){e&&dr(t).V_&&await async function(r,i){if(function(s){return Dk(s)&&s!==$.ABORTED}(i.code)){const o=r.O_.shift();dr(r).s_(),await R_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Tu(r)}}(t,e),N_(t)&&D_(t)}async function vy(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Us(n);n.L_.add(3),await $s(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Su(n)}async function O2(t,e){const n=ce(t);e?(n.L_.delete(2),await Su(n)):e||(n.L_.add(2),await $s(n),n.q_.set("Unknown"))}function dr(t){return t.U_||(t.U_=function(n,r,i){const o=ce(n);return o.w_(),new x2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:R2.bind(null,t),mo:b2.bind(null,t),f_:N2.bind(null,t),g_:D2.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Tu(t)):(await t.U_.stop(),t.O_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new zf(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b_(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),Ls(t))return new G($.UNAVAILABLE,`${e}: ${t}`);throw t}class M2{constructor(){this.queries=_y(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ce(n),o=i.queries;i.queries=_y(),o.forEach((s,l)=>{for(const u of l.j_)u.onError(r)})})(this,new G($.ABORTED,"Firestore shutting down"))}}function _y(){return new ti(t=>f_(t),d_)}function V2(t){t.Y_.forEach(e=>{e.next()})}var wy,Ey;(Ey=wy||(wy={})).ea="default",Ey.Cache="cache";class j2{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ti(l=>f_(l),d_),this.Ma=new Map,this.xa=new Set,this.Oa=new Tt(Y.comparator),this.Na=new Map,this.La=new $f,this.Ba={},this.ka=new Map,this.qa=Yi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function L2(t,e,n){const r=B2(t);try{const i=await function(s,l){const u=ce(s),h=$e.now(),p=l.reduce((_,x)=>_.add(x.key),rt());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=$l(),P=rt();return u.cs.getEntries(_,p).next(D=>{x=D,x.forEach((S,E)=>{E.isValidDocument()||(P=P.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,x)).next(D=>{f=D;const S=[];for(const E of l){const A=Pk(E,f.get(E.key).overlayedDocument);A!=null&&S.push(new yr(E.key,A,o_(A.value.mapValue),bt.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,S,l)}).next(D=>{m=D;const S=D.applyToLocalDocumentSet(f,P);return u.documentOverlayCache.saveOverlays(_,D.batchId,S)})}).then(()=>({batchId:m.batchId,changes:m_(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let h=s.Ba[s.currentUser.toKey()];h||(h=new Tt(se)),h=h.insert(l,u),s.Ba[s.currentUser.toKey()]=h}(r,i.batchId,n),await xu(r,i.changes),await Tu(r.remoteStore)}catch(i){const o=b_(i,"Failed to persist write");n.reject(o)}}function Sy(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=ce(s);u.onlineState=l;let h=!1;u.queries.forEach((p,f)=>{for(const m of f.j_)m.Z_(l)&&(h=!0)}),h&&V2(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F2(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await m2(n.localStore,e);M_(n,r,null),O_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xu(n,i)}catch(i){await kf(i)}}async function $2(t,e,n){const r=ce(t);try{const i=await function(s,l){const u=ce(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,l).next(f=>(Ce(f!==null),p=f.keys(),u.mutationQueue.removeMutationBatch(h,f))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,e);M_(r,e,n),O_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xu(r,i)}catch(i){await kf(i)}}function O_(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function M_(t,e,n){const r=ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}async function xu(t,e,n){const r=ce(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{s.push(r.Ka(u,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:(p=void 0)===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){i.push(h);const f=Bf.Wi(u.targetId,h);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,h){const p=ce(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(h,m=>V.forEach(m.$i,_=>p.persistence.referenceDelegate.addReference(f,m.targetId,_)).next(()=>V.forEach(m.Ui,_=>p.persistence.referenceDelegate.removeReference(f,m.targetId,_)))))}catch(f){if(!Ls(f))throw f;H("LocalStore","Failed to update sequence numbers: "+f)}for(const f of h){const m=f.targetId;if(!f.fromCache){const _=p.os.get(m),x=_.snapshotVersion,P=_.withLastLimboFreeSnapshotVersion(x);p.os=p.os.insert(m,P)}}}(r.localStore,o))}async function U2(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await I_(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(u=>{u.reject(new G($.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xu(n,r.hs)}}function B2(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$2.bind(null,e),e}class Hl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return p2(this.persistence,new d2,e.initialUser,this.serializer)}Ga(e){return new A_(Uf.Zr,this.serializer)}Wa(e){return new v2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hl.provider={build:()=>new Hl};class z2 extends Hl{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Ce(this.persistence.referenceDelegate instanceof zl);const r=this.persistence.referenceDelegate.garbageCollector;return new Xk(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?yt.withCacheSize(this.cacheSizeBytes):yt.DEFAULT;return new A_(r=>zl.Zr(r,n),this.serializer)}}class pd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U2.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M2}()}createDatastore(e){const n=Eu(e.databaseInfo.databaseId),r=function(o){return new S2(o)}(e.databaseInfo);return function(o,s,l,u){return new C2(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new I2(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Sy(this.syncEngine,n,0),function(){return yy.D()?new yy:new _2}())}createSyncEngine(e,n){return function(i,o,s,l,u,h,p){const f=new j2(i,o,s,l,u,h);return p&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ce(i);H("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await $s(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}pd.provider={build:()=>new pd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H2=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=r_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{H("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(H("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Lc(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await I_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ty(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W2(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vy(e.remoteStore,i)),t._onlineComponents=e}async function W2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ol("Error using user provided cache. Falling back to memory cache: "+n),await Lc(t,new Hl)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await Lc(t,new z2(void 0));return t._offlineComponents}async function G2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await Ty(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await Ty(t,new pd))),t._onlineComponents}function Q2(t){return G2(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t,e,n){if(!n)throw new G($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q2(t,e,n,r){if(e===!0&&r===!0)throw new G($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cy(t){if(!Y.isDocumentKey(t))throw new G($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Is(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hf(t);throw new G($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ay({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ay(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DP;switch(r.type){case"firstParty":return new VP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xy.get(n);r&&(H("ComponentProvider","Removing Datastore"),xy.delete(n),r.terminate())}(this),Promise.resolve()}}function Y2(t,e,n,r={}){var i;const o=(t=Is(t,Wf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=tt.MOCK_USER;else{l=hI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new G($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tt(h)}t._authCredentials=new bP(new n_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gf(this.firestore,e,this._query)}}class An{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class Ps extends Gf{constructor(e,n,r){super(e,n,dk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new Y(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function X2(t,e,...n){if(t=ur(t),arguments.length===1&&(e=r_.newId()),K2("doc","path",e),t instanceof Wf){const r=ke.fromString(e,...n);return Cy(r),new An(t,null,new Y(r))}{if(!(t instanceof An||t instanceof Ps))throw new G($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return Cy(r),new An(t.firestore,t instanceof Ps?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new P_(this,"async_queue_retry"),this.Vu=()=>{const r=jc();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=jc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=jc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Lr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ls(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw Kr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=zf.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Cu extends Wf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Iy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iy(e),this._firestoreClient=void 0,await e}}}function J2(t,e){const n=typeof t=="object"?t:wP(),r=typeof t=="string"?t:"(default)",i=gP(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=uI("firestore");o&&Y2(i,...o)}return i}function j_(t){if(t._terminated)throw new G($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z2(t),t._firestoreClient}function Z2(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,h,p){return new JP(l,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,V_(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new H2(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(fn.fromBase64String(e))}catch(n){throw new G($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ks(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=/^__.*__$/;class tR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fs(e,this.data,n,this.fieldTransforms)}}class $_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function U_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class qf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new qf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(U_(this.Cu)&&eR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Eu(e)}Qu(e,n,r,i=!1){return new qf({Cu:e,methodName:n,qu:r,path:We.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B_(t){const e=t._freezeSettings(),n=Eu(t._databaseId);return new nR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z_(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Yf("Data must be an object, but it was:",s,r);const l=H_(r,s);let u,h;if(o.merge)u=new Nt(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const p=[];for(const f of o.mergeFields){const m=md(e,f,n);if(!s.contains(m))throw new G($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Q_(p,m)||p.push(m)}u=new Nt(p),h=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,h=s.fieldTransforms;return new tR(new kt(l),u,h)}class Au extends Kf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Au}}function rR(t,e,n,r){const i=t.Qu(1,e,n);Yf("Data must be an object, but it was:",i,r);const o=[],s=kt.empty();ei(r,(u,h)=>{const p=G_(e,u,n);h=ur(h);const f=i.Nu(p);if(h instanceof Au)o.push(p);else{const m=Iu(h,f);m!=null&&(o.push(p),s.set(p,m))}});const l=new Nt(o);return new $_(s,l,i.fieldTransforms)}function iR(t,e,n,r,i,o){const s=t.Qu(1,e,n),l=[md(e,r,n)],u=[i];if(o.length%2!=0)throw new G($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)l.push(md(e,o[m])),u.push(o[m+1]);const h=[],p=kt.empty();for(let m=l.length-1;m>=0;--m)if(!Q_(h,l[m])){const _=l[m];let x=u[m];x=ur(x);const P=s.Nu(_);if(x instanceof Au)h.push(_);else{const D=Iu(x,P);D!=null&&(h.push(_),p.set(_,D))}}const f=new Nt(h);return new $_(p,f,s.fieldTransforms)}function Iu(t,e){if(W_(t=ur(t)))return Yf("Unsupported field value:",e,t),H_(t,e);if(t instanceof Kf)return function(r,i){if(!U_(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=Iu(l,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ur(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=$e.fromDate(r);return{timestampValue:hd(i.serializer,o)}}if(r instanceof $e){const o=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(i.serializer,o)}}if(r instanceof L_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ks)return{bytesValue:Mk(i.serializer,r._byteString)};if(r instanceof An){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:x_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof F_)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return Lf(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Hf(r)}`)}(t,e)}function H_(t,e){const n={};return i_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ei(t,(r,i)=>{const o=Iu(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function W_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof L_||t instanceof ks||t instanceof An||t instanceof Kf||t instanceof F_)}function Yf(t,e,n){if(!W_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Hf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function md(t,e,n){if((e=ur(e))instanceof Qf)return e._internalPath;if(typeof e=="string")return G_(t,e);throw Wl("Field path arguments must be of type string or ",t,!1,void 0,n)}const oR=new RegExp("[~\\*/\\[\\]]");function G_(t,e,n){if(e.search(oR)>=0)throw Wl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qf(...e.split("."))._internalPath}catch{throw Wl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wl(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G($.INVALID_ARGUMENT,l+t+u)}function Q_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function sR(t,e,n){t=Is(t,An);const r=Is(t.firestore,Cu),i=K_(t.converter,e,n);return Xf(r,[z_(B_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,bt.none())])}function aR(t){return Xf(Is(t.firestore,Cu),[new wu(t._key,bt.none())])}function Xf(t,e){return function(r,i){const o=new Lr;return r.asyncQueue.enqueueAndForget(async()=>L2(await Q2(r),i,o)),o.promise}(j_(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=B_(e)}set(e,n,r){this._verifyNotCommitted();const i=Fc(e,this._firestore),o=K_(i.converter,n,r),s=z_(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,bt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Fc(e,this._firestore);let s;return s=typeof(n=ur(n))=="string"||n instanceof Qf?iR(this._dataReader,"WriteBatch.update",o._key,n,r,i):rR(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,bt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Fc(e,this._firestore);return this._mutations=this._mutations.concat(new wu(n._key,bt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new G($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fc(t,e){if((t=ur(t)).firestore!==e)throw new G($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){return j_(t=Is(t,Cu)),new lR(t,e=>Xf(t,e))}(function(e,n=!0){(function(i){oo=i})(_P),bl(new Es("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Cu(new OP(r.getProvider("auth-internal")),new LP(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new G($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(h.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Di(Zg,"4.7.4",e),Di(Zg,"4.7.4","esm2017")})();class cR{constructor({config:e}){Q(this,"expenseCollection");Q(this,"app");Q(this,"db");this.expenseCollection="expenses",this.app=Q1(e),this.db=J2(this.app)}async addExpense(e){console.debug("FirestoreClient.addExpense::",e);const n=this.getExpenseDocRef(e.id);await sR(n,e),console.debug("FirestoreClient.addExpense::completed without error")}async deleteExpense(e){console.debug("FirestoreClient.deleteExpense::expenseId=",e);const n=this.getExpenseDocRef(e);await aR(n),console.debug("FirestoreClient.deleteExpense:: completed without error")}async setAll(e){const n=uR(this.db);e.map(hR).forEach(r=>{const i=this.getExpenseDocRef(r.id);n.set(i,r)}),await n.commit()}getExpenseDocRef(e){return X2(this.db,this.expenseCollection,e)}}function hR(t){return Object.entries(t).filter(([e,n])=>n!==void 0).reduce((e,[n,r])=>(e[n]=r,e),{})}function Py(t){const e=JSON.stringify(t,null,2);return new Blob([e],{type:"application/json"})}const dR=Mt.div`
  padding: 1rem 0;
`;function fR(t,e){const n=URL.createObjectURL(t),r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="blob",r.onload=function(i){if(this.status===200){const o=this.response,s=document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=e,s.click()}else{const o=[`Status 200 expected but got ${this.status} instead. No idea what happened`,`here:
`,`
`,`blob=${t.text()}
`,`
`,`filename=${e}
`,`
`,`fileUrl=${n}
`,`
`].join("");throw new Error(o)}},r.send()}function ky(){return navigator.share===void 0}function pR(){return new Date().toISOString().slice(0,19).replaceAll(":","").replaceAll("-","").replace("T","-")}function mR({expenses:t,app:e}){const[n,r]=M.useState(!1),o=`expenses-form-${pR()}.json`,s=ky()===!1;function l(){const f=Py(t);fR(f,o)}function u(){const f=Py(t),m=new File([f],o,{type:"text/csv"});if(ky()){alert("Your device is not compatible with the Web Share API, sorry :)");return}const _={title:"fitness-tracker CSV",files:[m]};if(!navigator.canShare(_)){alert("You cannot share the CSV for some reason, sorry :)");return}navigator.share(_).then(()=>alert("all good")).catch(P=>{alert(P)})}function h(f){const m=e.paymentAccountsManager.get({id:f.paid_with});if(m===void 0)throw In(`failed to clean Expense because Account ID ${f.paid_with} was not found`);const _={id:f.id,amount:f.amount,currency:f.currency,description:f.description,datetime:f.datetime,paid_with:m.ledgerName,shared:f.shared,pending:f.pending,splits:f.splits,published_at:Cf(ws())};return f.originalAmount===void 0?_:{..._,originalAmount:f.originalAmount,originalCurrency:f.originalCurrency}}function p(){const f=t.map(h),m=Oe.firestoreConfig.read();if(m===void 0){alert("Please, set up Firestore config in settings");return}const _=new cR({config:m});r(!0),_.setAll(f).then(()=>{r(!1)}).catch(x=>{es.add({header:"Failed to push all expenses to Firestore",description:x})})}return y.jsxs(dR,{children:[y.jsx(we,{text:"Download CSV",onClick:()=>l()}),y.jsx(we,{text:"Share CSV",onClick:()=>u(),disabled:s===!1}),y.jsx(we,{text:"Push to Firestore",onClick:()=>p(),disabled:n,icon:n?"rotate":void 0})]})}function gR({app:t}){const e=gu(),[n,r]=M.useState([]),[i,o]=M.useState();M.useEffect(()=>{const f=t.expenseManager.change$.subscribe(m=>{o(t.paymentAccountsManager.getDefault()),r(t.expenseManager.getAll())});return o(t.paymentAccountsManager.getDefault()),r(t.expenseManager.getAll()),()=>{f.unsubscribe()}},[t]);function s(f){e(Ut.expenseEditor.replace(":expenseId",f))}function l(){t.expenseManager.change$.pipe(CS()).subscribe(_=>{s(_.expenseId)});const f=t.paymentAccountsManager.getDefault();if(f===void 0)throw In("No default account found");const m={datetime:Cf(ws()),amount:void 0,originalAmount:void 0,currency:f.currency,originalCurrency:void 0,description:"",shared:!1,pending:!0,paid_with:f.id,splits:[]};t.expenseManager.add(m)}function u(){window.location.reload(!0)}const h=i!==void 0,p=n.filter(f=>f.readyToPublish).map(f=>f.expense);return y.jsxs($r,{children:[y.jsx(we,{text:"reload PWA",icon:"rotate",onClick:u}),h?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex justify-center items-center p-4",role:"warning",children:y.jsx("div",{children:"Add expense or select an existing one"})}),y.jsx(we,{text:"Add expense",onClick:l})]}):y.jsx("div",{className:"flex justify-center p-4",role:"warning",children:y.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[y.jsxs("div",{children:["Must  ",y.jsx("b",{children:"select a default account"}),'  in "Accounts" page to add an expense.']}),y.jsx(BC,{to:Ut.paymentAccounts,children:y.jsx(we,{text:"Go to Accounts"})})]})}),p.length>0&&y.jsx(mR,{expenses:p,app:t}),y.jsx("div",{className:"mt-4",children:y.jsx(ZA,{expenses:n,underEdition:void 0,onEditExpense:s,onDelete:f=>t.expenseManager.delete(f),app:t})})]})}const yR=Mt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  row-gap: 3.5rem;
  height: 100vh;
`,vR=Mt.span`
  font-size: 8rem;
  font-weight: 100;
  color: #aaa;
`,_R=Mt.p`
  margin-top: 1.5rem;
`;function wR(){return y.jsx($r,{children:y.jsxs(yR,{children:[y.jsx("h1",{children:"Ooops...!"}),y.jsx(vR,{children:"404"}),y.jsx(_R,{children:"Page not found"})]})})}function ER({currencies:t,onAddPaymentAccount:e}){const[n,r]=M.useState(void 0),[i,o]=M.useState(void 0),[s,l]=M.useState(void 0);function u(){n===void 0||i===void 0||s===void 0||(e({name:n,ledgerName:i,currency:s}),r(void 0),o(void 0),l(void 0))}const h=n!==void 0&&i!==void 0;return y.jsxs("div",{className:"flex flex-col gap-3 ",children:[y.jsx(ot,{htmlFor:"new-account-name",text:"Account name: *",children:y.jsx(zt,{id:"new-account-name",value:n,placeholder:"Name",onChange:r,className:"mt-1"})}),y.jsx(ot,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:y.jsx(zt,{id:"new-account-ledger-name",value:i,placeholder:"Ledger name",onChange:o,className:"mt-1"})}),y.jsx(ot,{htmlFor:"new-account-currency",text:"Account currency:",children:y.jsx(ir,{id:"new-account-currency",selected:s,options:t.map(p=>({id:p,label:p})),onSelect:l,className:"mt-1"})}),y.jsx("div",{className:"flex justify-end p-4",children:y.jsx(we,{text:h?"Create":"fill details above",onClick:u,disabled:!h})})]})}function SR({account:t,currencies:e,onUpdate:n}){const[r,i]=M.useState(t.name),[o,s]=M.useState(t.ledgerName),[l,u]=M.useState(t.currency),h=r===t.name&&o===t.ledgerName&&l===t.currency;function p(){r===void 0||o===void 0||l===void 0||h||n({...t,name:r,ledgerName:o,currency:l})}const f=r!==void 0&&o!==void 0;return y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx(ot,{htmlFor:"new-account-name",text:"Account name: *",children:y.jsx(zt,{id:"new-account-name",value:r,placeholder:"Name",onChange:i,className:"mt-1"})}),y.jsx(ot,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:y.jsx(zt,{id:"new-account-ledger-name",value:o,placeholder:"Ledger name",onChange:s,className:"mt-1"})}),y.jsx(ot,{htmlFor:"new-account-currency",text:"Account currency:",children:y.jsx(ir,{id:"new-account-currency",selected:l,options:e.map(m=>({id:m,label:m})),onSelect:u,className:"mt-1"})}),y.jsx("div",{className:"flex justify-end m-3",children:y.jsx(we,{onClick:p,disabled:!f||h,text:f?"Save":"'name' and 'ledger name' must not be empty"})})]})}function TR({account:t,isDefault:e,currencies:n,onUpdate:r,onDelete:i,onMarkAsDefault:o}){const[s,l]=M.useState(!1);let u="px-4 py-3 rounded relative";if(e&&s)u+=" bg-blue-200  dark:bg-blue-900 dark:bg-opacity-50";else if(e&&!s)u+=" bg-blue-200  dark:bg-blue-900";else if(!e&&!s)u+=" bg-gray-100  dark:bg-gray-700";else if(!e&&s)u+=" bg-gray-300  dark:bg-gray-900";else throw In();if(s===!1){const{name:p,ledgerName:f}=t;return y.jsxs("div",{role:"payment-account",className:u,onClick:()=>l(!0),children:[e&&y.jsx("div",{className:"absolute top-2 right-3 text-xs flex justify-end z-10 opacity-50",role:"default-payment-account-indicator",children:"default"}),y.jsx("div",{children:y.jsx("b",{children:p})}),y.jsx("div",{children:f})]})}function h(){i(t.id)}return y.jsxs("div",{role:"payment-account",className:u,children:[y.jsx(SR,{account:t,currencies:n,onUpdate:r}),y.jsx(we,{text:"Delete",onClick:h}),y.jsx(we,{text:"Close",onClick:()=>l(!1)}),y.jsx(we,{text:e?"is default payment method":"Mark as default",onClick:o,disabled:e})]})}function xR({app:t}){const[e,n]=M.useState([]),[r,i]=M.useState(),[o,s]=M.useState([]);M.useEffect(()=>{var x;const m=t.paymentAccountsManager.change$.subscribe(P=>{var D;n(t.paymentAccountsManager.getAll()),i((D=t.paymentAccountsManager.getDefault())==null?void 0:D.id)}),_=t.currencyManager.change$.subscribe(P=>{s([...t.currencyManager.getAll()].sort())});return n(t.paymentAccountsManager.getAll()),i((x=t.paymentAccountsManager.getDefault())==null?void 0:x.id),s([...t.currencyManager.getAll()].sort()),()=>{m.unsubscribe(),_.unsubscribe()}},[t]);function l(m){t.paymentAccountsManager.add({draft:m})}function u(m){t.paymentAccountsManager.update({account:m})}function h(m){t.paymentAccountsManager.delete({id:m})}function p(m){t.paymentAccountsManager.setDefault({id:m})}const f=o.length>0;return y.jsx($r,{children:f?y.jsxs(y.Fragment,{children:[y.jsx(ER,{currencies:o,onAddPaymentAccount:l}),r===void 0&&e.length>0&&y.jsx("div",{role:"warning",className:"p-4 flex justify-center",children:y.jsx("p",{children:y.jsx("b",{children:"please, select your default payment account"})})}),y.jsx("div",{className:"flex flex-col gap-3",role:"payment-accounts",children:e.length>0?e.map((m,_)=>y.jsx(TR,{account:m,isDefault:m.id===r,currencies:o,onUpdate:u,onDelete:h,onMarkAsDefault:()=>p(m.id)},`${_}-${m.id}`)):y.jsx("p",{children:"No payment accounts :)"})})]}):y.jsx("div",{children:"You must add currencies in the Settings page to be able to add Payment Accounts here"})})}function CR({app:t}){const[e,n]=M.useState([]),[r,i]=M.useState();M.useEffect(()=>{const h=t.peopleManager.change$.subscribe(p=>{n(t.peopleManager.getAll())});return n(t.peopleManager.getAll()),()=>h.unsubscribe()},[t]);function o(h){i(h)}function s(){if(r===void 0)return;const h=r;t.peopleManager.add(h),i(void 0)}function l(h){t.peopleManager.update({person:h})}function u(h){t.peopleManager.delete(h)}return y.jsx(ot,{htmlFor:"people",text:"People",children:y.jsxs("div",{role:"people-form",className:"pt-2 px-2",children:[e.length===0?y.jsx("div",{children:"No people found"}):y.jsx("div",{role:"person-list",className:"flex flex-col gap-2",children:e.map(h=>y.jsx(AR,{person:h,onUpdate:l,onDelete:u},`person-${h.name}`))}),y.jsxs("div",{className:"pt-3",children:[y.jsx(ot,{htmlFor:"add-person",text:"Add person",children:y.jsx(zt,{id:"add-person",value:r,placeholder:"Name",onChange:o,className:"mt-1"})}),y.jsx("div",{className:"flex justify-end p-2",children:y.jsx(we,{text:"Add",onClick:s,disabled:!r})})]})]})})}function AR({person:t,onUpdate:e,onDelete:n}){const[r,i]=M.useState(!1),[o,s]=M.useState(t.splitwiseId),l=o!==t.splitwiseId;function u(){i(!r)}function h(){l!==!1&&e({...t,splitwiseId:o})}return y.jsxs("div",{role:"person",children:[y.jsxs("div",{className:"flex flex-row items-center gap-2 px-4 py-3 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded",children:[y.jsx(we,{icon:"pencil",onClick:u}),y.jsx("div",{role:"person-name",className:"w-full",children:t.name}),y.jsx(we,{icon:"bin",onClick:()=>n(t.name)})]}),y.jsx(F1,{isOpen:r,children:y.jsxs("div",{className:"flex flex-row items-center gap-2 pl-6 pt-1 pr-2 pb-4",children:[y.jsx(we,{icon:"rotate",disabled:l===!1,onClick:h}),y.jsx(zt,{id:"splitwise-id",value:o,placeholder:"Splitwise ID",onChange:s})]})})]})}function IR(t){return t.join(",")}function PR(t){const e=t.split(",").filter(r=>r!=="").map(r=>`"${r}"`).join(",");return JSON.parse(`[${e}]`)}function kR({app:t}){const[e,n]=M.useState(void 0),[r,i]=M.useState(void 0),[o,s]=M.useState(void 0),[l,u]=M.useState();M.useEffect(()=>{if(Oe.splitwiseApiToken.exists()&&n(Oe.splitwiseApiToken.read()),Oe.tripTags.exists()&&i(IR(Oe.tripTags.read())),Oe.firestoreConfig.exists()){const _=Oe.firestoreConfig.read();s(JSON.stringify(_))}Oe.currencies.exists()&&u(Oe.currencies.read())},[]);function h(_){if(_===void 0||_===""){n(void 0),Oe.splitwiseApiToken.delete();return}n(_),Oe.splitwiseApiToken.set(_)}function p(_){if(_===void 0||_===""){i(void 0),Oe.tripTags.delete();return}i(_);const x=PR(_);Oe.tripTags.set(x)}function f(_){if(_===void 0||_===""){s(void 0),Oe.firestoreConfig.delete();return}s(_);const x=JSON.parse(_);Oe.firestoreConfig.set(x)}function m(_){if(_===void 0||_===""){u(void 0),Oe.currencies.delete();return}u(_),Oe.currencies.set(_)}return y.jsx($r,{children:y.jsxs("div",{className:"px-3 flex flex-col gap-4",children:[y.jsx(ot,{htmlFor:"splitwise-api-token",text:"Splitwise API token",children:y.jsx(zt,{id:"splitwise-api-token",value:e,placeholder:"Splitwise API token",onChange:h,className:"mt-1"})}),y.jsx(ot,{htmlFor:"trip-tags",text:"Trip tags",children:y.jsx(zt,{id:"trip-tags",value:r,placeholder:"trip tags",onChange:p,className:"mt-1"})}),y.jsx(ot,{htmlFor:"firestore-config",text:"Firestore config",children:y.jsx(zt,{id:"firestore-config",value:o,placeholder:'{"a":1,"b":2}',onChange:f,isCode:!0,className:"mt-1"})}),y.jsx(ot,{htmlFor:"currencies",text:"Currencies",children:y.jsx(zt,{id:"currencies",value:l,placeholder:"GBP,EUR,USD",onChange:m,className:"mt-1"})}),y.jsx(CR,{app:t})]})})}const RR="50px",NR=Mt.div`
  height: calc(100vh - ${RR});
  overflow-y: scroll;
`;function DR({app:t}){const[e,n]=M.useState(!0),[r,i]=M.useState(nh);M.useEffect(()=>{t.initialize(),n(!1)},[t]);const o="bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-200";return e?y.jsx(la.Parent,{className:nh,children:y.jsx(la.ContentFullyCentered,{className:o,children:y.jsx($r,{children:y.jsx("div",{className:"flex flex-row justify-center",children:"Loading data..."})})})}):y.jsx(Ev.Provider,{value:{theme:r,setTheme:i},children:y.jsx(FC,{basename:GC,children:y.jsx(la.Parent,{className:r,children:y.jsxs(la.Content,{className:o,children:[y.jsx(NS,{}),y.jsx(HC,{}),y.jsx(NR,{children:y.jsxs(DC,{children:[y.jsx(ui,{path:Ut.root,element:y.jsx(gR,{app:t})}),y.jsx(ui,{path:Ut.expenseEditor,element:y.jsx(UA,{app:t})}),y.jsx(ui,{path:Ut.paymentAccounts,element:y.jsx(xR,{app:t})}),y.jsx(ui,{path:Ut.settings,element:y.jsx(kR,{app:t})}),y.jsx(ui,{path:Ut.notFound,element:y.jsx(wR,{})})]})})]})})})})}class bR{constructor({expenseManager:e,paymentAccountsManager:n,browserStorage:r,currencyManager:i,peopleManager:o}){Q(this,"expenseManager");Q(this,"paymentAccountsManager");Q(this,"currencyManager");Q(this,"peopleManager");Q(this,"initialized",!1);Q(this,"browserStorage");this.expenseManager=e,this.paymentAccountsManager=n,this.browserStorage=r,this.currencyManager=i,this.peopleManager=o,this.paymentAccountsManager.change$.subscribe(s=>this.handlePaymentAccountChange(s))}initialize(){if(console.debug("App.initialize::started"),this.initialized)console.debug("App.initialize::already initialized");else{const e=this.browserStorage.readExpenses();this.expenseManager.initialize({appExpenses:e});const n=this.browserStorage.readCurrencies(),r=this.browserStorage.readPaymentAccounts();this.currencyManager.initialize({currencies:[...n,...r.map(i=>i.currency)]}),this.paymentAccountsManager.initialize({accounts:r,defaultAccountId:this.browserStorage.readDefaultAccountId()}),this.peopleManager.initialize({people:this.browserStorage.readPeople()}),this.initialized=!0}console.debug("App.initialize::completed")}handlePaymentAccountChange(e){switch(e.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return;case"PaymentAccountUpdated":return;case"PaymentAccountDeleted":return;case"DefaultPaymentAccountSet":return this.handleDefaultPaymentAccountChange(e.id);default:Rd(e,`unsupported PaymentAccountChange: ${e}`)}}handleDefaultPaymentAccountChange(e){this.browserStorage.setDefaultAccountId({id:e})}}var q_,Ry=Ux;q_=Ry.createRoot,Ry.hydrateRoot;class OR{constructor(){Q(this,"change$");Q(this,"people");Q(this,"changesSubject");this.people=new Map,this.changesSubject=new eo,this.change$=this.changesSubject.asObservable()}initialize({people:e}){console.debug("PeopleManager.initialize:: initializing people:",e);const n=[void 0,null,""," "];for(const r of e)n.includes(r.name)||this.people.set(r.name,r);this.changesSubject.next({kind:"PeopleManagerInitialized"})}getAll(){return[...this.people.values()].sort(MR)}add(e){if(this.people.has(e)){console.warn(`PeopleManager.add: '${e}' not added because already existed`);return}const r={name:e};this.people.set(e,r),this.changesSubject.next({kind:"PersonAdded",name:e})}update({person:e}){const n=e.name,r=this.people.get(n);return r===void 0?{success:!1,reason:`person '${n}' not found`}:r.splitwiseId===e.splitwiseId?{success:!1,reason:`person '${n}' is already up to date`}:(this.people.set(n,e),this.changesSubject.next({kind:"PersonUpdated",name:n}),{success:!0})}delete(e){if(this.people.delete(e)===!1){console.warn(`PeopleManager.delete: '${e}' not deleted because it was not found`);return}this.changesSubject.next({kind:"PersonDeleted",name:e})}}function MR(t,e){return t.name>e.name?Gr.SwapOrder:Gr.KeepOrder}var Y_=(t=>(t.local="local",t.pushed="pushed",t.changedSincePushed="changedSincePushed",t))(Y_||{});class Jf{constructor(){Q(this,"change$");Q(this,"changeSubject");Q(this,"expenses");this.changeSubject=new eo,this.change$=this.changeSubject.asObservable(),this.expenses=new Map}add(e){console.debug("ExpenseManager.add::newExpense:",e);const n=this.generateId(),i={expense:{id:n,...e},status:"local",readyToPublish:!1};this.expenses.set(n,i),this.changeSubject.next(new X_(n))}get(e){const n=this.expenses.get(e);if(n===void 0)throw new Error(`Expected a ${e} Expense ID in ${Jf.name}, but not found`);return n}getAll(){console.debug("ExpenseManager.getAll()");const e=[];for(const n of this.expenses.values())e.push(n);return e.sort((n,r)=>n.expense.datetime<r.expense.datetime?Gr.SwapOrder:Gr.KeepOrder)}update(e){console.debug("ExpenseManager.update::expense:",e);const{id:n}=e,r=this.expenses.get(n);if(r===void 0)throw new Error(`Expected an Expense with ID ${n}, but none found.`);const i={...r,expense:e,readyToPublish:VR(e)};this.expenses.set(n,i),this.changeSubject.next(new J_(n))}delete(e){console.debug(`ExpenseManager.delete::id=${e}`),this.expenses.delete(e),this.changeSubject.next(new Z_(e))}initialize({appExpenses:e}){console.debug("ExpenseManager.initialize::Starting initialization...");const n=new Set;e.forEach(r=>{const i=r.expense.id;if(n.has(i))throw new Error(`IDs must be unique, and ${i} is repeated`);n.add(i),this.expenses.set(i,r)}),console.debug("ExpenseManager.initialize::Run to completion")}generateId(){return j1("exp")}}class X_{constructor(e){this.expenseId=e}}class J_{constructor(e){this.expenseId=e}}class Z_{constructor(e){this.expenseId=e}}function VR(t){return t.amount!==void 0}class Ci{constructor({client:e,expenseManager:n,paymentAccountsManager:r,peopleManager:i}){Q(this,"client");Q(this,"expenseManager");Q(this,"paymentAccountsManager");Q(this,"peopleManager");this.client=e,this.expenseManager=n,this.paymentAccountsManager=r,this.peopleManager=i,this.expenseManager.change$.subscribe(o=>{switch(console.debug("BrowserStorage.expenseManager.changes:",o),!0){case o instanceof X_:return this.handleExpenseAdded(o);case o instanceof J_:return this.handleExpenseUpdated(o);case o instanceof Z_:return this.handleExpenseDeleted(o);default:throw new Error(`BrowserStorage: unsupported change: ${o}`)}}),this.paymentAccountsManager.change$.subscribe(o=>{switch(console.debug("BrowserStorage.paymentAccountsManager.change$:",o),o.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return this.persistAllPaymentAccounts();case"PaymentAccountUpdated":return this.persistAllPaymentAccounts();case"PaymentAccountDeleted":return this.persistAllPaymentAccounts()}}),this.peopleManager.change$.subscribe(o=>{switch(console.debug("BrowserStorage.peopleManager.change$:",o),o.kind){case"PeopleManagerInitialized":return;case"PersonAdded":return this.persistAllPeople();case"PersonUpdated":return this.persistAllPeople();case"PersonDeleted":return this.persistAllPeople();default:Rd(o,`unsupported PeopleChange: ${o}`)}})}readExpenses(){console.debug("BrowserStorage.readExpenses()");const e=this.client.expenses.read()||{},n=[];for(const r of Object.values(e)){const i={expense:{id:r.expense.id,amount:r.expense.amount,currency:r.expense.currency,originalAmount:r.expense.originalAmount,originalCurrency:r.expense.originalCurrency,description:r.expense.description,datetime:r.expense.datetime,paid_with:r.expense.paid_with,shared:r.expense.shared,pending:r.expense.pending,splits:r.expense.splits},status:Y_[r.status],readyToPublish:r.readyToPublish};n.push(i)}return n}readCurrencies(){return console.debug(`${Ci.name}.${this.readCurrencies.name}()`),(this.client.currencies.read()||"").split(",")}readPaymentAccounts(){console.debug(`${Ci.name}.${this.readPaymentAccounts.name}()`);const e=this.client.paymentAccounts.read()||[],n=[];for(const r of e){const i={id:r.id,name:r.name,ledgerName:r.ledgerName,currency:r.currency};n.push(i)}return n}readDefaultAccountId(){return console.debug(`${Ci.name}.${this.readDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.read()}readPeople(){console.debug("BrowserStorage.readPeople()");const e=this.client.people.read()||[],n=[];for(const r of e){const i={name:r.name,splitwiseId:r.splitwiseId};n.push(i)}return n}setDefaultAccountId({id:e}){console.debug(`${Ci.name}.${this.setDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.set(e)}persistAppExpense(e){const r={...this.client.expenses.read()||{},[e.expense.id]:e};this.client.expenses.set(r)}deleteExpense(e){console.debug(`BrowserStorage.deleteExpense::id=${e}`);const r={...this.client.expenses.read()||{}};delete r[e],this.client.expenses.set(r)}handleExpenseAdded(e){const n=this.expenseManager.get(e.expenseId);this.persistAppExpense(n)}handleExpenseUpdated(e){const n=this.expenseManager.get(e.expenseId);this.persistAppExpense(n)}handleExpenseDeleted(e){this.deleteExpense(e.expenseId)}persistAllPaymentAccounts(){const e=this.paymentAccountsManager.getAll();this.client.paymentAccounts.set(e)}persistAllPeople(){const e=this.peopleManager.getAll();this.client.people.set(e)}}class jR{constructor(){Q(this,"change$");Q(this,"currencies");Q(this,"changeSubject");this.currencies=new Set,this.changeSubject=new eo,this.change$=this.changeSubject.asObservable()}initialize({currencies:e}){for(const n of e)[void 0,null,""].includes(n)||this.currencies.add(n);this.changeSubject.next({kind:"CurrencyManagerInitialized"})}getAll(){return new Set([...this.currencies.values()])}}var Ny={};const LR=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function FR(t){if("serviceWorker"in navigator){if(new URL(Ny.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const n=`${Ny.PUBLIC_URL}/service-worker.js`;LR?($R(n),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):ew(n)})}}function ew(t,e){navigator.serviceWorker.register(t).then(n=>{n.update(),setInterval(()=>{n.update(),console.debug("Checked for update...")},1e3*60*5),n.onupdatefound=()=>{const r=n.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."):console.log("Content is cached for offline use."))})}}).catch(n=>{console.error("Error during service worker registration:",n)})}function $R(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");n.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(i=>{i.unregister().then(()=>{window.location.reload()})}):ew(t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const UR=sS`
  a {
    color: inherit;
    text-decoration: none;
  }

  ul li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  ol li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  html {
    font-size: 1.2rem;
  }

  body {
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 0;
    text-transform: none;
  }
`,BR="modulepreload",zR=function(t){return"/expenses-form/"+t},Dy={},HR=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=zR(u),u in Dy)return;Dy[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":BR,h||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((m,_)=>{f.addEventListener("load",m),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};function WR(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:s}=t;let l,u,h;const p=async(m=!0)=>{await u,await(h==null?void 0:h())};async function f(){if("serviceWorker"in navigator){if(l=await HR(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/expenses-form/sw.js",{scope:"/expenses-form/",type:"classic"})).catch(m=>{s==null||s(m)}),!l)return;h=async()=>{await(l==null?void 0:l.messageSkipWaiting())};{let m=!1;const _=()=>{m=!0,l==null||l.addEventListener("controlling",x=>{x.isUpdate&&window.location.reload()}),n==null||n()};l.addEventListener("installed",x=>{typeof x.isUpdate>"u"?typeof x.isExternal<"u"?x.isExternal?_():!m&&(r==null||r()):x.isExternal?window.location.reload():!m&&(r==null||r()):x.isUpdate||r==null||r()}),l.addEventListener("waiting",_),l.addEventListener("externalwaiting",_)}l.register({immediate:e}).then(m=>{o?o("/expenses-form/sw.js",m):i==null||i(m)}).catch(m=>{s==null||s(m)})}}return u=f(),p}const GR=window.location.hostname==="localhost",QR=WR({onNeedRefresh:function(){(GR||confirm("There is an newer version of this app. Do you want to update?"))&&QR(!0)}}),tw=new Jf,nw=new br,rw=new OR,KR=new Ci({expenseManager:tw,paymentAccountsManager:nw,client:new O1,peopleManager:rw}),qR=new jR,YR=new bR({browserStorage:KR,expenseManager:tw,paymentAccountsManager:nw,currencyManager:qR,peopleManager:rw}),iw=document.getElementById("root");if(iw===null)throw new Error('expected to find an element with `id="root"` to render the React app, but found none');const XR=q_(iw);XR.render(y.jsxs(en.StrictMode,{children:[y.jsx(UR,{}),y.jsx(DR,{app:YR})]}));FR();
