var Ow=Object.defineProperty;var Vw=(t,e,n)=>e in t?Ow(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var G=(t,e,n)=>Vw(t,typeof e!="symbol"?e+"":e,n);function Lw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $w(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jy={exports:{}},Gl={},Oy={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=Symbol.for("react.element"),Fw=Symbol.for("react.portal"),Uw=Symbol.for("react.fragment"),Bw=Symbol.for("react.strict_mode"),zw=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),Ww=Symbol.for("react.context"),Gw=Symbol.for("react.forward_ref"),Qw=Symbol.for("react.suspense"),Kw=Symbol.for("react.memo"),qw=Symbol.for("react.lazy"),nm=Symbol.iterator;function Yw(t){return t===null||typeof t!="object"?null:(t=nm&&t[nm]||t["@@iterator"],typeof t=="function"?t:null)}var Vy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ly=Object.assign,$y={};function Zi(t,e,n){this.props=t,this.context=e,this.refs=$y,this.updater=n||Vy}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fy(){}Fy.prototype=Zi.prototype;function vd(t,e,n){this.props=t,this.context=e,this.refs=$y,this.updater=n||Vy}var _d=vd.prototype=new Fy;_d.constructor=vd;Ly(_d,Zi.prototype);_d.isPureReactComponent=!0;var rm=Array.isArray,Uy=Object.prototype.hasOwnProperty,wd={current:null},By={key:!0,ref:!0,__self:!0,__source:!0};function zy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Uy.call(e,r)&&!By.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ro,type:t,key:s,ref:o,props:i,_owner:wd.current}}function Xw(t,e){return{$$typeof:Ro,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ed(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ro}function Jw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var im=/\/+/g;function Xu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jw(""+t.key):e.toString(36)}function ba(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ro:case Fw:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Xu(o,0):r,rm(i)?(n="",t!=null&&(n=t.replace(im,"$&/")+"/"),ba(i,e,n,"",function(h){return h})):i!=null&&(Ed(i)&&(i=Xw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(im,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",rm(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Xu(s,l);o+=ba(s,e,n,u,i)}else if(u=Yw(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Xu(s,l++),o+=ba(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ia(t,e,n){if(t==null)return t;var r=[],i=0;return ba(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Zw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},Da={transition:null},eE={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Da,ReactCurrentOwner:wd};function Hy(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:ia,forEach:function(t,e,n){ia(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ia(t,function(){e++}),e},toArray:function(t){return ia(t,function(e){return e})||[]},only:function(t){if(!Ed(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=Zi;X.Fragment=Uw;X.Profiler=zw;X.PureComponent=vd;X.StrictMode=Bw;X.Suspense=Qw;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eE;X.act=Hy;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ly({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Uy.call(e,u)&&!By.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Ro,type:t.type,key:i,ref:s,props:r,_owner:o}};X.createContext=function(t){return t={$$typeof:Ww,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hw,_context:t},t.Consumer=t};X.createElement=zy;X.createFactory=function(t){var e=zy.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Gw,render:t}};X.isValidElement=Ed;X.lazy=function(t){return{$$typeof:qw,_payload:{_status:-1,_result:t},_init:Zw}};X.memo=function(t,e){return{$$typeof:Kw,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Da.transition;Da.transition={};try{t()}finally{Da.transition=e}};X.unstable_act=Hy;X.useCallback=function(t,e){return pt.current.useCallback(t,e)};X.useContext=function(t){return pt.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};X.useEffect=function(t,e){return pt.current.useEffect(t,e)};X.useId=function(){return pt.current.useId()};X.useImperativeHandle=function(t,e,n){return pt.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return pt.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return pt.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return pt.current.useMemo(t,e)};X.useReducer=function(t,e,n){return pt.current.useReducer(t,e,n)};X.useRef=function(t){return pt.current.useRef(t)};X.useState=function(t){return pt.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return pt.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return pt.current.useTransition()};X.version="18.3.1";Oy.exports=X;var M=Oy.exports;const tn=$w(M),tE=Lw({__proto__:null,default:tn},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE=M,rE=Symbol.for("react.element"),iE=Symbol.for("react.fragment"),sE=Object.prototype.hasOwnProperty,oE=nE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aE={key:!0,ref:!0,__self:!0,__source:!0};function Wy(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sE.call(e,r)&&!aE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rE,type:t,key:s,ref:o,props:i,_owner:oE.current}}Gl.Fragment=iE;Gl.jsx=Wy;Gl.jsxs=Wy;jy.exports=Gl;var g=jy.exports,ot=function(){return ot=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ot.apply(this,arguments)};function Xs(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var fe="-ms-",js="-moz-",ie="-webkit-",Gy="comm",Ql="rule",Sd="decl",lE="@import",Qy="@keyframes",uE="@layer",Ky=Math.abs,xd=String.fromCharCode,Bc=Object.assign;function cE(t,e){return Oe(t,0)^45?(((e<<2^Oe(t,0))<<2^Oe(t,1))<<2^Oe(t,2))<<2^Oe(t,3):0}function qy(t){return t.trim()}function Sn(t,e){return(t=e.exec(t))?t[0]:t}function q(t,e,n){return t.replace(e,n)}function Ma(t,e,n){return t.indexOf(e,n)}function Oe(t,e){return t.charCodeAt(e)|0}function Oi(t,e,n){return t.slice(e,n)}function un(t){return t.length}function Yy(t){return t.length}function ks(t,e){return e.push(t),t}function hE(t,e){return t.map(e).join("")}function sm(t,e){return t.filter(function(n){return!Sn(n,e)})}var Kl=1,Vi=1,Xy=0,Gt=0,Pe=0,es="";function ql(t,e,n,r,i,s,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Kl,column:Vi,length:o,return:"",siblings:l}}function Bn(t,e){return Bc(ql("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ai(t){for(;t.root;)t=Bn(t.root,{children:[t]});ks(t,t.siblings)}function dE(){return Pe}function fE(){return Pe=Gt>0?Oe(es,--Gt):0,Vi--,Pe===10&&(Vi=1,Kl--),Pe}function nn(){return Pe=Gt<Xy?Oe(es,Gt++):0,Vi++,Pe===10&&(Vi=1,Kl++),Pe}function Or(){return Oe(es,Gt)}function ja(){return Gt}function Yl(t,e){return Oi(es,t,e)}function zc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pE(t){return Kl=Vi=1,Xy=un(es=t),Gt=0,[]}function mE(t){return es="",t}function Ju(t){return qy(Yl(Gt-1,Hc(t===91?t+2:t===40?t+1:t)))}function gE(t){for(;(Pe=Or())&&Pe<33;)nn();return zc(t)>2||zc(Pe)>3?"":" "}function yE(t,e){for(;--e&&nn()&&!(Pe<48||Pe>102||Pe>57&&Pe<65||Pe>70&&Pe<97););return Yl(t,ja()+(e<6&&Or()==32&&nn()==32))}function Hc(t){for(;nn();)switch(Pe){case t:return Gt;case 34:case 39:t!==34&&t!==39&&Hc(Pe);break;case 40:t===41&&Hc(t);break;case 92:nn();break}return Gt}function vE(t,e){for(;nn()&&t+Pe!==57;)if(t+Pe===84&&Or()===47)break;return"/*"+Yl(e,Gt-1)+"*"+xd(t===47?t:nn())}function _E(t){for(;!zc(Or());)nn();return Yl(t,Gt)}function wE(t){return mE(Oa("",null,null,null,[""],t=pE(t),0,[0],t))}function Oa(t,e,n,r,i,s,o,l,u){for(var h=0,p=0,f=o,m=0,_=0,x=0,k=1,N=1,T=1,E=0,A="",D=i,V=s,L=r,w=A;N;)switch(x=E,E=nn()){case 40:if(x!=108&&Oe(w,f-1)==58){Ma(w+=q(Ju(E),"&","&\f"),"&\f",Ky(h?l[h-1]:0))!=-1&&(T=-1);break}case 34:case 39:case 91:w+=Ju(E);break;case 9:case 10:case 13:case 32:w+=gE(x);break;case 92:w+=yE(ja()-1,7);continue;case 47:switch(Or()){case 42:case 47:ks(EE(vE(nn(),ja()),e,n,u),u);break;default:w+="/"}break;case 123*k:l[h++]=un(w)*T;case 125*k:case 59:case 0:switch(E){case 0:case 125:N=0;case 59+p:T==-1&&(w=q(w,/\f/g,"")),_>0&&un(w)-f&&ks(_>32?am(w+";",r,n,f-1,u):am(q(w," ","")+";",r,n,f-2,u),u);break;case 59:w+=";";default:if(ks(L=om(w,e,n,h,p,i,l,A,D=[],V=[],f,s),s),E===123)if(p===0)Oa(w,e,L,L,D,s,f,l,V);else switch(m===99&&Oe(w,3)===110?100:m){case 100:case 108:case 109:case 115:Oa(t,L,L,r&&ks(om(t,L,L,0,0,i,l,A,i,D=[],f,V),V),i,V,f,l,r?D:V);break;default:Oa(w,L,L,L,[""],V,0,l,V)}}h=p=_=0,k=T=1,A=w="",f=o;break;case 58:f=1+un(w),_=x;default:if(k<1){if(E==123)--k;else if(E==125&&k++==0&&fE()==125)continue}switch(w+=xd(E),E*k){case 38:T=p>0?1:(w+="\f",-1);break;case 44:l[h++]=(un(w)-1)*T,T=1;break;case 64:Or()===45&&(w+=Ju(nn())),m=Or(),p=f=un(A=w+=_E(ja())),E++;break;case 45:x===45&&un(w)==2&&(k=0)}}return s}function om(t,e,n,r,i,s,o,l,u,h,p,f){for(var m=i-1,_=i===0?s:[""],x=Yy(_),k=0,N=0,T=0;k<r;++k)for(var E=0,A=Oi(t,m+1,m=Ky(N=o[k])),D=t;E<x;++E)(D=qy(N>0?_[E]+" "+A:q(A,/&\f/g,_[E])))&&(u[T++]=D);return ql(t,e,n,i===0?Ql:l,u,h,p,f)}function EE(t,e,n,r){return ql(t,e,n,Gy,xd(dE()),Oi(t,2,-2),0,r)}function am(t,e,n,r,i){return ql(t,e,n,Sd,Oi(t,0,r),Oi(t,r+1,-1),r,i)}function Jy(t,e,n){switch(cE(t,e)){case 5103:return ie+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ie+t+t;case 4789:return js+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ie+t+js+t+fe+t+t;case 5936:switch(Oe(t,e+11)){case 114:return ie+t+fe+q(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ie+t+fe+q(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ie+t+fe+q(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ie+t+fe+t+t;case 6165:return ie+t+fe+"flex-"+t+t;case 5187:return ie+t+q(t,/(\w+).+(:[^]+)/,ie+"box-$1$2"+fe+"flex-$1$2")+t;case 5443:return ie+t+fe+"flex-item-"+q(t,/flex-|-self/g,"")+(Sn(t,/flex-|baseline/)?"":fe+"grid-row-"+q(t,/flex-|-self/g,""))+t;case 4675:return ie+t+fe+"flex-line-pack"+q(t,/align-content|flex-|-self/g,"")+t;case 5548:return ie+t+fe+q(t,"shrink","negative")+t;case 5292:return ie+t+fe+q(t,"basis","preferred-size")+t;case 6060:return ie+"box-"+q(t,"-grow","")+ie+t+fe+q(t,"grow","positive")+t;case 4554:return ie+q(t,/([^-])(transform)/g,"$1"+ie+"$2")+t;case 6187:return q(q(q(t,/(zoom-|grab)/,ie+"$1"),/(image-set)/,ie+"$1"),t,"")+t;case 5495:case 3959:return q(t,/(image-set\([^]*)/,ie+"$1$`$1");case 4968:return q(q(t,/(.+:)(flex-)?(.*)/,ie+"box-pack:$3"+fe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ie+t+t;case 4200:if(!Sn(t,/flex-|baseline/))return fe+"grid-column-align"+Oi(t,e)+t;break;case 2592:case 3360:return fe+q(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Sn(r.props,/grid-\w+-end/)})?~Ma(t+(n=n[e].value),"span",0)?t:fe+q(t,"-start","")+t+fe+"grid-row-span:"+(~Ma(n,"span",0)?Sn(n,/\d+/):+Sn(n,/\d+/)-+Sn(t,/\d+/))+";":fe+q(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Sn(r.props,/grid-\w+-start/)})?t:fe+q(q(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return q(t,/(.+)-inline(.+)/,ie+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(un(t)-1-e>6)switch(Oe(t,e+1)){case 109:if(Oe(t,e+4)!==45)break;case 102:return q(t,/(.+:)(.+)-([^]+)/,"$1"+ie+"$2-$3$1"+js+(Oe(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ma(t,"stretch",0)?Jy(q(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return q(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,l,u,h){return fe+i+":"+s+h+(o?fe+i+"-span:"+(l?u:+u-+s)+h:"")+t});case 4949:if(Oe(t,e+6)===121)return q(t,":",":"+ie)+t;break;case 6444:switch(Oe(t,Oe(t,14)===45?18:11)){case 120:return q(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ie+(Oe(t,14)===45?"inline-":"")+"box$3$1"+ie+"$2$3$1"+fe+"$2box$3")+t;case 100:return q(t,":",":"+fe)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return q(t,"scroll-","scroll-snap-")+t}return t}function el(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function SE(t,e,n,r){switch(t.type){case uE:if(t.children.length)break;case lE:case Sd:return t.return=t.return||t.value;case Gy:return"";case Qy:return t.return=t.value+"{"+el(t.children,r)+"}";case Ql:if(!un(t.value=t.props.join(",")))return""}return un(n=el(t.children,r))?t.return=t.value+"{"+n+"}":""}function xE(t){var e=Yy(t);return function(n,r,i,s){for(var o="",l=0;l<e;l++)o+=t[l](n,r,i,s)||"";return o}}function TE(t){return function(e){e.root||(e=e.return)&&t(e)}}function CE(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Sd:t.return=Jy(t.value,t.length,n);return;case Qy:return el([Bn(t,{value:q(t.value,"@","@"+ie)})],r);case Ql:if(t.length)return hE(n=t.props,function(i){switch(Sn(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ai(Bn(t,{props:[q(i,/:(read-\w+)/,":"+js+"$1")]})),ai(Bn(t,{props:[i]})),Bc(t,{props:sm(n,r)});break;case"::placeholder":ai(Bn(t,{props:[q(i,/:(plac\w+)/,":"+ie+"input-$1")]})),ai(Bn(t,{props:[q(i,/:(plac\w+)/,":"+js+"$1")]})),ai(Bn(t,{props:[q(i,/:(plac\w+)/,fe+"input-$1")]})),ai(Bn(t,{props:[i]})),Bc(t,{props:sm(n,r)});break}return""})}}var AE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kt={},Li=typeof process<"u"&&kt!==void 0&&(kt.REACT_APP_SC_ATTR||kt.SC_ATTR)||"data-styled",Zy="active",ev="data-styled-version",Xl="6.1.13",Td=`/*!sc*/
`,tl=typeof window<"u"&&"HTMLElement"in window,IE=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&kt!==void 0&&kt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&kt.REACT_APP_SC_DISABLE_SPEEDY!==""?kt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&kt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&kt!==void 0&&kt.SC_DISABLE_SPEEDY!==void 0&&kt.SC_DISABLE_SPEEDY!==""&&kt.SC_DISABLE_SPEEDY!=="false"&&kt.SC_DISABLE_SPEEDY),PE={},Jl=Object.freeze([]),$i=Object.freeze({});function tv(t,e,n){return n===void 0&&(n=$i),t.theme!==n.theme&&t.theme||e||n.theme}var nv=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),kE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,RE=/(^-|-$)/g;function lm(t){return t.replace(kE,"-").replace(RE,"")}var NE=/(a)(d)/gi,sa=52,um=function(t){return String.fromCharCode(t+(t>25?39:97))};function Wc(t){var e,n="";for(e=Math.abs(t);e>sa;e=e/sa|0)n=um(e%sa)+n;return(um(e%sa)+n).replace(NE,"$1-$2")}var Zu,rv=5381,fi=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},iv=function(t){return fi(rv,t)};function sv(t){return Wc(iv(t)>>>0)}function bE(t){return t.displayName||t.name||"Component"}function ec(t){return typeof t=="string"&&!0}var ov=typeof Symbol=="function"&&Symbol.for,av=ov?Symbol.for("react.memo"):60115,DE=ov?Symbol.for("react.forward_ref"):60112,ME={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OE=((Zu={})[DE]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zu[av]=lv,Zu);function cm(t){return("type"in(e=t)&&e.type.$$typeof)===av?lv:"$$typeof"in t?OE[t.$$typeof]:ME;var e}var VE=Object.defineProperty,LE=Object.getOwnPropertyNames,hm=Object.getOwnPropertySymbols,$E=Object.getOwnPropertyDescriptor,FE=Object.getPrototypeOf,dm=Object.prototype;function uv(t,e,n){if(typeof e!="string"){if(dm){var r=FE(e);r&&r!==dm&&uv(t,r,n)}var i=LE(e);hm&&(i=i.concat(hm(e)));for(var s=cm(t),o=cm(e),l=0;l<i.length;++l){var u=i[l];if(!(u in jE||n&&n[u]||o&&u in o||s&&u in s)){var h=$E(e,u);try{VE(t,u,h)}catch{}}}}return t}function Fi(t){return typeof t=="function"}function Cd(t){return typeof t=="object"&&"styledComponentId"in t}function Rr(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Gc(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Js(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Qc(t,e,n){if(n===void 0&&(n=!1),!n&&!Js(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Qc(t[r],e[r]);else if(Js(e))for(var r in e)t[r]=Qc(t[r],e[r]);return t}function Ad(t,e){Object.defineProperty(t,"toString",{value:e})}function No(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var UE=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw No(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),u=(o=0,n.length);o<u;o++)this.tag.insertRule(l,n[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(Td);return n},t}(),Va=new Map,nl=new Map,La=1,oa=function(t){if(Va.has(t))return Va.get(t);for(;nl.has(La);)La++;var e=La++;return Va.set(t,e),nl.set(e,t),e},BE=function(t,e){La=e+1,Va.set(t,e),nl.set(e,t)},zE="style[".concat(Li,"][").concat(ev,'="').concat(Xl,'"]'),HE=new RegExp("^".concat(Li,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),WE=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},GE=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Td),i=[],s=0,o=r.length;s<o;s++){var l=r[s].trim();if(l){var u=l.match(HE);if(u){var h=0|parseInt(u[1],10),p=u[2];h!==0&&(BE(p,h),WE(t,p,u[3]),t.getTag().insertRules(h,i)),i.length=0}else i.push(l)}}},fm=function(t){for(var e=document.querySelectorAll(zE),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Li)!==Zy&&(GE(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function QE(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var cv=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){var u=Array.from(l.querySelectorAll("style[".concat(Li,"]")));return u[u.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Li,Zy),r.setAttribute(ev,Xl);var o=QE();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},KE=function(){function t(e){this.element=cv(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw No(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),qE=function(){function t(e){this.element=cv(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),YE=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),pm=tl,XE={isServer:!tl,useCSSOMInjection:!IE},rl=function(){function t(e,n,r){e===void 0&&(e=$i),n===void 0&&(n={});var i=this;this.options=ot(ot({},XE),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&tl&&pm&&(pm=!1,fm(this)),Ad(this,function(){return function(s){for(var o=s.getTag(),l=o.length,u="",h=function(f){var m=function(T){return nl.get(T)}(f);if(m===void 0)return"continue";var _=s.names.get(m),x=o.getGroup(f);if(_===void 0||!_.size||x.length===0)return"continue";var k="".concat(Li,".g").concat(f,'[id="').concat(m,'"]'),N="";_!==void 0&&_.forEach(function(T){T.length>0&&(N+="".concat(T,","))}),u+="".concat(x).concat(k,'{content:"').concat(N,'"}').concat(Td)},p=0;p<l;p++)h(p);return u}(i)})}return t.registerId=function(e){return oa(e)},t.prototype.rehydrate=function(){!this.server&&tl&&fm(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(ot(ot({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new YE(i):r?new KE(i):new qE(i)}(this.options),new UE(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(oa(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(oa(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(oa(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),JE=/&/g,ZE=/^\s*\/\/.*$/gm;function hv(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=hv(n.children,e)),n})}function eS(t){var e,n,r,i=$i,s=i.options,o=s===void 0?$i:s,l=i.plugins,u=l===void 0?Jl:l,h=function(m,_,x){return x.startsWith(n)&&x.endsWith(n)&&x.replaceAll(n,"").length>0?".".concat(e):m},p=u.slice();p.push(function(m){m.type===Ql&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(JE,n).replace(r,h))}),o.prefix&&p.push(CE),p.push(SE);var f=function(m,_,x,k){_===void 0&&(_=""),x===void 0&&(x=""),k===void 0&&(k="&"),e=k,n=_,r=new RegExp("\\".concat(n,"\\b"),"g");var N=m.replace(ZE,""),T=wE(x||_?"".concat(x," ").concat(_," { ").concat(N," }"):N);o.namespace&&(T=hv(T,o.namespace));var E=[];return el(T,xE(p.concat(TE(function(A){return E.push(A)})))),E};return f.hash=u.length?u.reduce(function(m,_){return _.name||No(15),fi(m,_.name)},rv).toString():"",f}var tS=new rl,Kc=eS(),dv=tn.createContext({shouldForwardProp:void 0,styleSheet:tS,stylis:Kc});dv.Consumer;tn.createContext(void 0);function qc(){return M.useContext(dv)}var nS=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Kc);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Ad(this,function(){throw No(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Kc),this.name+e.hash},t}(),rS=function(t){return t>="A"&&t<="Z"};function mm(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;rS(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var fv=function(t){return t==null||t===!1||t===""},pv=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!fv(s)&&(Array.isArray(s)&&s.isCss||Fi(s)?r.push("".concat(mm(i),":"),s,";"):Js(s)?r.push.apply(r,Xs(Xs(["".concat(i," {")],pv(s),!1),["}"],!1)):r.push("".concat(mm(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in AE||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Yn(t,e,n,r){if(fv(t))return[];if(Cd(t))return[".".concat(t.styledComponentId)];if(Fi(t)){if(!Fi(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Yn(i,e,n,r)}var s;return t instanceof nS?n?(t.inject(n,r),[t.getName(r)]):[t]:Js(t)?pv(t):Array.isArray(t)?Array.prototype.concat.apply(Jl,t.map(function(o){return Yn(o,e,n,r)})):[t.toString()]}function mv(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Fi(n)&&!Cd(n))return!1}return!0}var iS=iv(Xl),sS=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&mv(e),this.componentId=n,this.baseHash=fi(iS,n),this.baseStyle=r,rl.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Rr(i,this.staticRulesId);else{var s=Gc(Yn(this.rules,e,n,r)),o=Wc(fi(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var l=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,l)}i=Rr(i,o),this.staticRulesId=o}else{for(var u=fi(this.baseHash,r.hash),h="",p=0;p<this.rules.length;p++){var f=this.rules[p];if(typeof f=="string")h+=f;else if(f){var m=Gc(Yn(f,e,n,r));u=fi(u,m+p),h+=m}}if(h){var _=Wc(u>>>0);n.hasNameForId(this.componentId,_)||n.insertRules(this.componentId,_,r(h,".".concat(_),void 0,this.componentId)),i=Rr(i,_)}}return i},t}(),Id=tn.createContext(void 0);Id.Consumer;var tc={};function oS(t,e,n){var r=Cd(t),i=t,s=!ec(t),o=e.attrs,l=o===void 0?Jl:o,u=e.componentId,h=u===void 0?function(D,V){var L=typeof D!="string"?"sc":lm(D);tc[L]=(tc[L]||0)+1;var w="".concat(L,"-").concat(sv(Xl+L+tc[L]));return V?"".concat(V,"-").concat(w):w}(e.displayName,e.parentComponentId):u,p=e.displayName,f=p===void 0?function(D){return ec(D)?"styled.".concat(D):"Styled(".concat(bE(D),")")}(t):p,m=e.displayName&&e.componentId?"".concat(lm(e.displayName),"-").concat(e.componentId):e.componentId||h,_=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,x=e.shouldForwardProp;if(r&&i.shouldForwardProp){var k=i.shouldForwardProp;if(e.shouldForwardProp){var N=e.shouldForwardProp;x=function(D,V){return k(D,V)&&N(D,V)}}else x=k}var T=new sS(n,m,r?i.componentStyle:void 0);function E(D,V){return function(L,w,v){var C=L.attrs,P=L.componentStyle,S=L.defaultProps,R=L.foldedComponentIds,I=L.styledComponentId,Ye=L.target,lt=tn.useContext(Id),gn=qc(),At=L.shouldForwardProp||gn.shouldForwardProp,B=tv(w,lt,S)||$i,W=function(gt,ut,yt){for(var wr,yn=ot(ot({},ut),{className:void 0,theme:yt}),Vn=0;Vn<gt.length;Vn+=1){var vn=Fi(wr=gt[Vn])?wr(yn):wr;for(var Ut in vn)yn[Ut]=Ut==="className"?Rr(yn[Ut],vn[Ut]):Ut==="style"?ot(ot({},yn[Ut]),vn[Ut]):vn[Ut]}return ut.className&&(yn.className=Rr(yn.className,ut.className)),yn}(C,w,B),K=W.as||Ye,se={};for(var J in W)W[J]===void 0||J[0]==="$"||J==="as"||J==="theme"&&W.theme===B||(J==="forwardedAs"?se.as=W.forwardedAs:At&&!At(J,K)||(se[J]=W[J]));var ge=function(gt,ut){var yt=qc(),wr=gt.generateAndInjectStyles(ut,yt.styleSheet,yt.stylis);return wr}(P,W),It=Rr(R,I);return ge&&(It+=" "+ge),W.className&&(It+=" "+W.className),se[ec(K)&&!nv.has(K)?"class":"className"]=It,se.ref=v,M.createElement(K,se)}(A,D,V)}E.displayName=f;var A=tn.forwardRef(E);return A.attrs=_,A.componentStyle=T,A.displayName=f,A.shouldForwardProp=x,A.foldedComponentIds=r?Rr(i.foldedComponentIds,i.styledComponentId):"",A.styledComponentId=m,A.target=r?i.target:t,Object.defineProperty(A,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(D){this._foldedDefaultProps=r?function(V){for(var L=[],w=1;w<arguments.length;w++)L[w-1]=arguments[w];for(var v=0,C=L;v<C.length;v++)Qc(V,C[v],!0);return V}({},i.defaultProps,D):D}}),Ad(A,function(){return".".concat(A.styledComponentId)}),s&&uv(A,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),A}function gm(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var ym=function(t){return Object.assign(t,{isCss:!0})};function gv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fi(t)||Js(t))return ym(Yn(gm(Jl,Xs([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Yn(r):ym(Yn(gm(r,e)))}function Yc(t,e,n){if(n===void 0&&(n=$i),!e)throw No(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,gv.apply(void 0,Xs([i],s,!1)))};return r.attrs=function(i){return Yc(t,e,ot(ot({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Yc(t,e,ot(ot({},n),i))},r}var yv=function(t){return Yc(oS,t)},Lt=yv;nv.forEach(function(t){Lt[t]=yv(t)});var aS=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=mv(e),rl.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(Gc(Yn(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&rl.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function lS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=gv.apply(void 0,Xs([t],e,!1)),i="sc-global-".concat(sv(JSON.stringify(r))),s=new aS(r,i),o=function(u){var h=qc(),p=tn.useContext(Id),f=tn.useRef(h.styleSheet.allocateGSInstance(i)).current;return h.styleSheet.server&&l(f,u,h.styleSheet,p,h.stylis),tn.useLayoutEffect(function(){if(!h.styleSheet.server)return l(f,u,h.styleSheet,p,h.stylis),function(){return s.removeStyles(f,h.styleSheet)}},[f,u,h.styleSheet,p,h.stylis]),null};function l(u,h,p,f,m){if(s.isStatic)s.renderStyles(u,PE,p,m);else{var _=ot(ot({},h),{theme:tv(h,f,o.defaultProps)});s.renderStyles(u,_,p,m)}}return tn.memo(o)}const Ur=Lt.div`
  margin: 0 0.5rem;
`;var Xc=function(t,e){return Xc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Xc(t,e)};function ts(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xc(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Jc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function eh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function hn(t){return typeof t=="function"}function Pd(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nc=Pd(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function th(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Zl=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var l=Jc(o),u=l.next();!u.done;u=l.next()){var h=u.value;h.remove(this)}}catch(k){e={error:k}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}else o.remove(this);var p=this.initialTeardown;if(hn(p))try{p()}catch(k){s=k instanceof nc?k.errors:[k]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var m=Jc(f),_=m.next();!_.done;_=m.next()){var x=_.value;try{vm(x)}catch(k){s=s??[],k instanceof nc?s=eh(eh([],Zc(s)),Zc(k.errors)):s.push(k)}}}catch(k){r={error:k}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}}if(s)throw new nc(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)vm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&th(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&th(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),vv=Zl.EMPTY;function _v(t){return t instanceof Zl||t&&"closed"in t&&hn(t.remove)&&hn(t.add)&&hn(t.unsubscribe)}function vm(t){hn(t)?t():t.unsubscribe()}var wv={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},uS={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,eh([t,e],Zc(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function cS(t){uS.setTimeout(function(){throw t})}function _m(){}function $a(t){t()}var kd=function(t){ts(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,_v(n)&&n.add(r)):r.destination=pS,r}return e.create=function(n,r,i){return new nh(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Zl),hS=Function.prototype.bind;function rc(t,e){return hS.call(t,e)}var dS=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){aa(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){aa(r)}else aa(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){aa(n)}},t}(),nh=function(t){ts(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(hn(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var l;s&&wv.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&rc(n.next,l),error:n.error&&rc(n.error,l),complete:n.complete&&rc(n.complete,l)}):o=n}return s.destination=new dS(o),s}return e}(kd);function aa(t){cS(t)}function fS(t){throw t}var pS={closed:!0,next:_m,error:fS,complete:_m},mS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ev(t){return t}function gS(t){return t.length===0?Ev:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var rh=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=vS(e)?e:new nh(e,n,r);return $a(function(){var o=i,l=o.operator,u=o.source;s.add(l?l.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=wm(n),new n(function(i,s){var o=new nh({next:function(l){try{e(l)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[mS]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return gS(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=wm(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function wm(t){var e;return(e=t??wv.Promise)!==null&&e!==void 0?e:Promise}function yS(t){return t&&hn(t.next)&&hn(t.error)&&hn(t.complete)}function vS(t){return t&&t instanceof kd||yS(t)&&_v(t)}function _S(t){return hn(t==null?void 0:t.lift)}function Rd(t){return function(e){if(_S(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nd(t,e,n,r,i){return new wS(t,e,n,r,i)}var wS=function(t){ts(e,t);function e(n,r,i,s,o,l){var u=t.call(this,n)||this;return u.onFinalize=o,u.shouldUnsubscribe=l,u._next=r?function(h){try{r(h)}catch(p){n.error(p)}}:t.prototype._next,u._error=s?function(h){try{s(h)}catch(p){n.error(p)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(h){n.error(h)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(kd),ES=Pd(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Xr=function(t){ts(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Em(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new ES},e.prototype.next=function(n){var r=this;$a(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Jc(r.currentObservers),l=o.next();!l.done;l=o.next()){var u=l.value;u.next(n)}}catch(h){i={error:h}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;$a(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;$a(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,l=i.observers;return s||o?vv:(this.currentObservers=null,l.push(n),new Zl(function(){r.currentObservers=null,th(l,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new rh;return n.source=this,n},e.create=function(n,r){return new Em(n,r)},e}(rh),Em=function(t){ts(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:vv},e}(Xr),Sm=function(t){ts(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(Xr),SS=new rh(function(t){return t.complete()}),Sv=Pd(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function xS(t){return Rd(function(e,n){var r=!1;e.subscribe(Nd(n,function(i){r=!0,n.next(i)},function(){r||n.next(t),n.complete()}))})}function TS(t){return t<=0?function(){return SS}:Rd(function(e,n){var r=0;e.subscribe(Nd(n,function(i){++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function CS(t){return t===void 0&&(t=AS),Rd(function(e,n){var r=!1;e.subscribe(Nd(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(t())}))})}function AS(){return new Sv}function IS(t,e){var n=arguments.length>=2;return function(r){return r.pipe(Ev,TS(1),n?xS(e):CS(function(){return new Sv}))}}class PS{constructor(){G(this,"errorsFeed$");G(this,"lastError$");this.errorsFeed$=new Sm([]),this.lastError$=new Sm(void 0)}add(e){let n=[];this.errorsFeed$.subscribe(s=>{n=s}).unsubscribe();const i=[...n,e];console.error(i),this.errorsFeed$.next(i),this.lastError$.next(e)}deleteAll(){this.errorsFeed$.next([]),this.lastError$.next(void 0)}}const Zs=new PS,kn=t=>t?new Error(`This code path should have never been executed: ${t}`):new Error("This code path should have never been executed"),kS="small",li={fill:"currentColor"};function RS({icon:t}){switch(t){case"arrow-left":return["0 0 512 512",g.jsx("path",{...li,d:"M 475,219.46 H 125 L 245,99 A 36.7,36.7 0 0 0 193.33,47.33 L 10.6,230 a 37.1,37.1 0 0 0 0,52 L 193.3,464.7 a 36.7,36.7 0 0 0 51.9,-51.9 L 125,292 h 350.47 c 20.1,0 36.55,-16.45 36.55,-36.55 0,-20.1 -16.8,-36.55 -36.9,-36.55 z"})];case"bin":return["0 0 16 16",[g.jsx("path",{...li,d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.8824zM2.53h11V2h-11z"},"bin-1"),g.jsx("path",{...li,d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},"bin-2")]];case"pencil":return["0 0 16 16",g.jsx("path",{...li,d:"M3.25 10.26l2.47 2.47 6.69-6.69-2.46-2.48-6.7 6.7zM.99 14.99l3.86-1.39-2.46-2.44-1.4 3.83zm12.25-14c-.48 0-.92.2-1.24.51l-1.44 1.44 2.47 2.47 1.44-1.44c.32-.32.51-.75.51-1.24.01-.95-.77-1.74-1.74-1.74z"})];case"gear":return["0 0 512 512",g.jsx("path",{...li,d:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"})];case"rotate":return["0 0 512 512",g.jsx("path",{...li,d:"M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"})];default:throw kn(`unsupported icon '${t}'`)}}function NS({size:t}){switch(t){case"small":return{width:"0.9rem",height:"0.9rem"};case"large":return{width:"1.2rem",height:"1.2rem"};case"extralarge":return{width:"1.5rem",height:"1.5rem"};default:throw kn(`unsupported size '${t}'`)}}function bS({icon:t,size:e}){const{width:n,height:r}=NS({size:e||kS}),[i,s]=RS({icon:t});return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"fill-current","aria-hidden":"true",focusable:"false",viewBox:i,width:n,height:r,role:"icon",children:s})}function ae({text:t,active:e,disabled:n,icon:r,iconSize:i,onClick:s}){const o="text-sm py-2 px-3 rounded inline-flex items-center gap-2 focus:outline-none",l=" bg-gray-300  dark:bg-gray-600  text-gray-700  dark:text-gray-300",u=" bg-gray-400  dark:bg-gray-400  text-gray-100  dark:text-gray-800",h=" opacity-50 cursor-not-allowed";let p=o;n?p+=h:e?p+=u:p+=l;let f={};return i&&(f={size:i}),g.jsxs("button",{className:p,disabled:n,onClick:s,children:[r&&g.jsx(bS,{icon:r,...f}),t!==void 0&&g.jsx("span",{children:t})]})}function DS(){const[t,e]=M.useState([]);return M.useEffect(()=>{const n=Zs.errorsFeed$.subscribe(e);return()=>{n.unsubscribe()}},[]),!t||t.length===0?null:g.jsxs("div",{className:"p-3",children:[g.jsx("div",{className:"flex flex-row justify-end pb-3",children:g.jsx(ae,{text:"Clear all error messages",onClick:()=>Zs.deleteAll()})}),g.jsx("div",{className:"flex flex-col gap-2",role:"error-list",children:t.map((n,r)=>g.jsx(MS,{error:n},`error-${r}`))})]})}function MS({error:{header:t,description:e}}){return g.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-red-800",role:"error",children:[g.jsx("div",{className:"font-bold",role:"error-header",children:t}),g.jsx("div",{className:"",role:"error-description",children:e})]})}function jS({children:t,className:e}){return g.jsx("div",{className:`h-screen ${e}`,children:t})}function OS({children:t,className:e}){return g.jsx("div",{className:e,children:t})}function VS({children:t,className:e}){return g.jsx("div",{className:`h-screen flex flex-col flex-nowrap justify-center ${e}`,children:t})}const la={Parent:jS,Content:OS,ContentFullyCentered:VS};var Nt=(t=>(t.root="/",t.expenseEditor="/expenses/:expenseId",t.paymentAccounts="/payment-accounts",t.settings="/settings",t.notFound="/*",t))(Nt||{});function bd(t,e){throw new Error(e||`BUG: please make sure this value never reaches here: ${t}`)}const ih="dark",xv=M.createContext({theme:ih,setTheme:t=>{}});function LS(){const{theme:t,setTheme:e}=M.useContext(xv);function n(){switch(t){case"light":return e("dark");case"dark":return e("light");default:bd(t,`unsupported theme: ${t}`)}}return g.jsx("div",{className:"cursor-pointer hover:text-blue-300",onClick:n,children:t})}var Tv={exports:{}},$t={},Cv={exports:{}},Av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var K=B.length;B.push(W);e:for(;0<K;){var se=K-1>>>1,J=B[se];if(0<i(J,W))B[se]=W,B[K]=J,K=se;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],K=B.pop();if(K!==W){B[0]=K;e:for(var se=0,J=B.length,ge=J>>>1;se<ge;){var It=2*(se+1)-1,gt=B[It],ut=It+1,yt=B[ut];if(0>i(gt,K))ut<J&&0>i(yt,gt)?(B[se]=yt,B[ut]=K,se=ut):(B[se]=gt,B[It]=K,se=It);else if(ut<J&&0>i(yt,K))B[se]=yt,B[ut]=K,se=ut;else break e}}return W}function i(B,W){var K=B.sortIndex-W.sortIndex;return K!==0?K:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],p=1,f=null,m=3,_=!1,x=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(B){for(var W=n(h);W!==null;){if(W.callback===null)r(h);else if(W.startTime<=B)r(h),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(h)}}function D(B){if(k=!1,A(B),!x)if(n(u)!==null)x=!0,gn(V);else{var W=n(h);W!==null&&At(D,W.startTime-B)}}function V(B,W){x=!1,k&&(k=!1,T(v),v=-1),_=!0;var K=m;try{for(A(W),f=n(u);f!==null&&(!(f.expirationTime>W)||B&&!S());){var se=f.callback;if(typeof se=="function"){f.callback=null,m=f.priorityLevel;var J=se(f.expirationTime<=W);W=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(u)&&r(u),A(W)}else r(u);f=n(u)}if(f!==null)var ge=!0;else{var It=n(h);It!==null&&At(D,It.startTime-W),ge=!1}return ge}finally{f=null,m=K,_=!1}}var L=!1,w=null,v=-1,C=5,P=-1;function S(){return!(t.unstable_now()-P<C)}function R(){if(w!==null){var B=t.unstable_now();P=B;var W=!0;try{W=w(!0,B)}finally{W?I():(L=!1,w=null)}}else L=!1}var I;if(typeof E=="function")I=function(){E(R)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,lt=Ye.port2;Ye.port1.onmessage=R,I=function(){lt.postMessage(null)}}else I=function(){N(R,0)};function gn(B){w=B,L||(L=!0,I())}function At(B,W){v=N(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,gn(V))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var K=m;m=W;try{return B()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=m;m=B;try{return W()}finally{m=K}},t.unstable_scheduleCallback=function(B,W,K){var se=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?se+K:se):K=se,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=K+J,B={id:p++,callback:W,priorityLevel:B,startTime:K,expirationTime:J,sortIndex:-1},K>se?(B.sortIndex=K,e(h,B),n(u)===null&&B===n(h)&&(k?(T(v),v=-1):k=!0,At(D,K-se))):(B.sortIndex=J,e(u,B),x||_||(x=!0,gn(V))),B},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(B){var W=m;return function(){var K=m;m=W;try{return B.apply(this,arguments)}finally{m=K}}}})(Av);Cv.exports=Av;var $S=Cv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS=M,Vt=$S;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Iv=new Set,eo={};function Jr(t,e){Ui(t,e),Ui(t+"Capture",e)}function Ui(t,e){for(eo[t]=e,t=0;t<e.length;t++)Iv.add(e[t])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sh=Object.prototype.hasOwnProperty,US=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xm={},Tm={};function BS(t){return sh.call(Tm,t)?!0:sh.call(xm,t)?!1:US.test(t)?Tm[t]=!0:(xm[t]=!0,!1)}function zS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HS(t,e,n,r){if(e===null||typeof e>"u"||zS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dd=/[\-:]([a-z])/g;function Md(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dd,Md);qe[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dd,Md);qe[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dd,Md);qe[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jd(t,e,n,r){var i=qe.hasOwnProperty(e)?qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HS(e,n,i,r)&&(n=null),r||i===null?BS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var On=FS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ua=Symbol.for("react.element"),pi=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),Od=Symbol.for("react.strict_mode"),oh=Symbol.for("react.profiler"),Pv=Symbol.for("react.provider"),kv=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),lh=Symbol.for("react.suspense_list"),Ld=Symbol.for("react.memo"),zn=Symbol.for("react.lazy"),Rv=Symbol.for("react.offscreen"),Cm=Symbol.iterator;function ws(t){return t===null||typeof t!="object"?null:(t=Cm&&t[Cm]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,ic;function Rs(t){if(ic===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ic=e&&e[1]||""}return`
`+ic+t}var sc=!1;function oc(t,e){if(!t||sc)return"";sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{sc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rs(t):""}function WS(t){switch(t.tag){case 5:return Rs(t.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return t=oc(t.type,!1),t;case 11:return t=oc(t.type.render,!1),t;case 1:return t=oc(t.type,!0),t;default:return""}}function uh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mi:return"Fragment";case pi:return"Portal";case oh:return"Profiler";case Od:return"StrictMode";case ah:return"Suspense";case lh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kv:return(t.displayName||"Context")+".Consumer";case Pv:return(t._context.displayName||"Context")+".Provider";case Vd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ld:return e=t.displayName||null,e!==null?e:uh(t.type)||"Memo";case zn:e=t._payload,t=t._init;try{return uh(t(e))}catch{}}return null}function GS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uh(e);case 8:return e===Od?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QS(t){var e=Nv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ca(t){t._valueTracker||(t._valueTracker=QS(t))}function bv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Nv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ch(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Am(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dv(t,e){e=e.checked,e!=null&&jd(t,"checked",e,!1)}function hh(t,e){Dv(t,e);var n=ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dh(t,e.type,n):e.hasOwnProperty("defaultValue")&&dh(t,e.type,ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Im(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dh(t,e,n){(e!=="number"||il(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ns=Array.isArray;function Pi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ur(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Ns(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ur(n)}}function Mv(t,e){var n=ur(e.value),r=ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function km(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ph(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ha,Ov=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ha.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function to(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KS=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(t){KS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Os[e]=Os[t]})});function Vv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Os.hasOwnProperty(t)&&Os[t]?(""+e).trim():e+"px"}function Lv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qS=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mh(t,e){if(e){if(qS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function gh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=null;function $d(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vh=null,ki=null,Ri=null;function Rm(t){if(t=Mo(t)){if(typeof vh!="function")throw Error($(280));var e=t.stateNode;e&&(e=iu(e),vh(t.stateNode,t.type,e))}}function $v(t){ki?Ri?Ri.push(t):Ri=[t]:ki=t}function Fv(){if(ki){var t=ki,e=Ri;if(Ri=ki=null,Rm(t),e)for(t=0;t<e.length;t++)Rm(e[t])}}function Uv(t,e){return t(e)}function Bv(){}var ac=!1;function zv(t,e,n){if(ac)return t(e,n);ac=!0;try{return Uv(t,e,n)}finally{ac=!1,(ki!==null||Ri!==null)&&(Bv(),Fv())}}function no(t,e){var n=t.stateNode;if(n===null)return null;var r=iu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var _h=!1;if(Rn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){_h=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{_h=!1}function YS(t,e,n,r,i,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Vs=!1,sl=null,ol=!1,wh=null,XS={onError:function(t){Vs=!0,sl=t}};function JS(t,e,n,r,i,s,o,l,u){Vs=!1,sl=null,YS.apply(XS,arguments)}function ZS(t,e,n,r,i,s,o,l,u){if(JS.apply(this,arguments),Vs){if(Vs){var h=sl;Vs=!1,sl=null}else throw Error($(198));ol||(ol=!0,wh=h)}}function Zr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Hv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nm(t){if(Zr(t)!==t)throw Error($(188))}function ex(t){var e=t.alternate;if(!e){if(e=Zr(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Nm(i),t;if(s===r)return Nm(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Wv(t){return t=ex(t),t!==null?Gv(t):null}function Gv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gv(t);if(e!==null)return e;t=t.sibling}return null}var Qv=Vt.unstable_scheduleCallback,bm=Vt.unstable_cancelCallback,tx=Vt.unstable_shouldYield,nx=Vt.unstable_requestPaint,Ae=Vt.unstable_now,rx=Vt.unstable_getCurrentPriorityLevel,Fd=Vt.unstable_ImmediatePriority,Kv=Vt.unstable_UserBlockingPriority,al=Vt.unstable_NormalPriority,ix=Vt.unstable_LowPriority,qv=Vt.unstable_IdlePriority,eu=null,dn=null;function sx(t){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(eu,t,void 0,(t.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:lx,ox=Math.log,ax=Math.LN2;function lx(t){return t>>>=0,t===0?32:31-(ox(t)/ax|0)|0}var da=64,fa=4194304;function bs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ll(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=bs(l):(s&=o,s!==0&&(r=bs(s)))}else o=n&~i,o!==0?r=bs(o):s!==0&&(r=bs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rn(e),i=1<<n,r|=t[n],e&=~i;return r}function ux(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-rn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=ux(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Eh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yv(){var t=da;return da<<=1,!(da&4194240)&&(da=64),t}function lc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rn(e),t[e]=n}function hx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-rn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ud(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function Xv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jv,Bd,Zv,e0,t0,Sh=!1,pa=[],Xn=null,Jn=null,Zn=null,ro=new Map,io=new Map,Wn=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dm(t,e){switch(t){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ro.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(e.pointerId)}}function Ss(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Mo(e),e!==null&&Bd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fx(t,e,n,r,i){switch(e){case"focusin":return Xn=Ss(Xn,t,e,n,r,i),!0;case"dragenter":return Jn=Ss(Jn,t,e,n,r,i),!0;case"mouseover":return Zn=Ss(Zn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ro.set(s,Ss(ro.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,io.set(s,Ss(io.get(s)||null,t,e,n,r,i)),!0}return!1}function n0(t){var e=Nr(t.target);if(e!==null){var n=Zr(e);if(n!==null){if(e=n.tag,e===13){if(e=Hv(n),e!==null){t.blockedOn=e,t0(t.priority,function(){Zv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yh=r,n.target.dispatchEvent(r),yh=null}else return e=Mo(n),e!==null&&Bd(e),t.blockedOn=n,!1;e.shift()}return!0}function Mm(t,e,n){Fa(t)&&n.delete(e)}function px(){Sh=!1,Xn!==null&&Fa(Xn)&&(Xn=null),Jn!==null&&Fa(Jn)&&(Jn=null),Zn!==null&&Fa(Zn)&&(Zn=null),ro.forEach(Mm),io.forEach(Mm)}function xs(t,e){t.blockedOn===e&&(t.blockedOn=null,Sh||(Sh=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,px)))}function so(t){function e(i){return xs(i,t)}if(0<pa.length){xs(pa[0],t);for(var n=1;n<pa.length;n++){var r=pa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xn!==null&&xs(Xn,t),Jn!==null&&xs(Jn,t),Zn!==null&&xs(Zn,t),ro.forEach(e),io.forEach(e),n=0;n<Wn.length;n++)r=Wn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wn.length&&(n=Wn[0],n.blockedOn===null);)n0(n),n.blockedOn===null&&Wn.shift()}var Ni=On.ReactCurrentBatchConfig,ul=!0;function mx(t,e,n,r){var i=le,s=Ni.transition;Ni.transition=null;try{le=1,zd(t,e,n,r)}finally{le=i,Ni.transition=s}}function gx(t,e,n,r){var i=le,s=Ni.transition;Ni.transition=null;try{le=4,zd(t,e,n,r)}finally{le=i,Ni.transition=s}}function zd(t,e,n,r){if(ul){var i=xh(t,e,n,r);if(i===null)vc(t,e,r,cl,n),Dm(t,r);else if(fx(i,t,e,n,r))r.stopPropagation();else if(Dm(t,r),e&4&&-1<dx.indexOf(t)){for(;i!==null;){var s=Mo(i);if(s!==null&&Jv(s),s=xh(t,e,n,r),s===null&&vc(t,e,r,cl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vc(t,e,r,null,n)}}var cl=null;function xh(t,e,n,r){if(cl=null,t=$d(r),t=Nr(t),t!==null)if(e=Zr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Hv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cl=t,null}function r0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rx()){case Fd:return 1;case Kv:return 4;case al:case ix:return 16;case qv:return 536870912;default:return 16}default:return 16}}var Qn=null,Hd=null,Ua=null;function i0(){if(Ua)return Ua;var t,e=Hd,n=e.length,r,i="value"in Qn?Qn.value:Qn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ua=i.slice(t,1<r?1-r:void 0)}function Ba(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ma(){return!0}function jm(){return!1}function Ft(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ma:jm,this.isPropagationStopped=jm,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),e}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wd=Ft(ns),Do=Se({},ns,{view:0,detail:0}),yx=Ft(Do),uc,cc,Ts,tu=Se({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ts&&(Ts&&t.type==="mousemove"?(uc=t.screenX-Ts.screenX,cc=t.screenY-Ts.screenY):cc=uc=0,Ts=t),uc)},movementY:function(t){return"movementY"in t?t.movementY:cc}}),Om=Ft(tu),vx=Se({},tu,{dataTransfer:0}),_x=Ft(vx),wx=Se({},Do,{relatedTarget:0}),hc=Ft(wx),Ex=Se({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Sx=Ft(Ex),xx=Se({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tx=Ft(xx),Cx=Se({},ns,{data:0}),Vm=Ft(Cx),Ax={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Px={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Px[t])?!!e[t]:!1}function Gd(){return kx}var Rx=Se({},Do,{key:function(t){if(t.key){var e=Ax[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ba(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ix[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gd,charCode:function(t){return t.type==="keypress"?Ba(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ba(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nx=Ft(Rx),bx=Se({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lm=Ft(bx),Dx=Se({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gd}),Mx=Ft(Dx),jx=Se({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ox=Ft(jx),Vx=Se({},tu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lx=Ft(Vx),$x=[9,13,27,32],Qd=Rn&&"CompositionEvent"in window,Ls=null;Rn&&"documentMode"in document&&(Ls=document.documentMode);var Fx=Rn&&"TextEvent"in window&&!Ls,s0=Rn&&(!Qd||Ls&&8<Ls&&11>=Ls),$m=" ",Fm=!1;function o0(t,e){switch(t){case"keyup":return $x.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gi=!1;function Ux(t,e){switch(t){case"compositionend":return a0(e);case"keypress":return e.which!==32?null:(Fm=!0,$m);case"textInput":return t=e.data,t===$m&&Fm?null:t;default:return null}}function Bx(t,e){if(gi)return t==="compositionend"||!Qd&&o0(t,e)?(t=i0(),Ua=Hd=Qn=null,gi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s0&&e.locale!=="ko"?null:e.data;default:return null}}var zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zx[t.type]:e==="textarea"}function l0(t,e,n,r){$v(r),e=hl(e,"onChange"),0<e.length&&(n=new Wd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $s=null,oo=null;function Hx(t){_0(t,0)}function nu(t){var e=_i(t);if(bv(e))return t}function Wx(t,e){if(t==="change")return e}var u0=!1;if(Rn){var dc;if(Rn){var fc="oninput"in document;if(!fc){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),fc=typeof Bm.oninput=="function"}dc=fc}else dc=!1;u0=dc&&(!document.documentMode||9<document.documentMode)}function zm(){$s&&($s.detachEvent("onpropertychange",c0),oo=$s=null)}function c0(t){if(t.propertyName==="value"&&nu(oo)){var e=[];l0(e,oo,t,$d(t)),zv(Hx,e)}}function Gx(t,e,n){t==="focusin"?(zm(),$s=e,oo=n,$s.attachEvent("onpropertychange",c0)):t==="focusout"&&zm()}function Qx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nu(oo)}function Kx(t,e){if(t==="click")return nu(e)}function qx(t,e){if(t==="input"||t==="change")return nu(e)}function Yx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:Yx;function ao(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sh.call(e,i)||!on(t[i],e[i]))return!1}return!0}function Hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wm(t,e){var n=Hm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hm(n)}}function h0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d0(){for(var t=window,e=il();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=il(t.document)}return e}function Kd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Xx(t){var e=d0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&h0(n.ownerDocument.documentElement,n)){if(r!==null&&Kd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Wm(n,s);var o=Wm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jx=Rn&&"documentMode"in document&&11>=document.documentMode,yi=null,Th=null,Fs=null,Ch=!1;function Gm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ch||yi==null||yi!==il(r)||(r=yi,"selectionStart"in r&&Kd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fs&&ao(Fs,r)||(Fs=r,r=hl(Th,"onSelect"),0<r.length&&(e=new Wd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yi)))}function ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vi={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},pc={},f0={};Rn&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function ru(t){if(pc[t])return pc[t];if(!vi[t])return t;var e=vi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in f0)return pc[t]=e[n];return t}var p0=ru("animationend"),m0=ru("animationiteration"),g0=ru("animationstart"),y0=ru("transitionend"),v0=new Map,Qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(t,e){v0.set(t,e),Jr(e,[t])}for(var mc=0;mc<Qm.length;mc++){var gc=Qm[mc],Zx=gc.toLowerCase(),eT=gc[0].toUpperCase()+gc.slice(1);mr(Zx,"on"+eT)}mr(p0,"onAnimationEnd");mr(m0,"onAnimationIteration");mr(g0,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(y0,"onTransitionEnd");Ui("onMouseEnter",["mouseout","mouseover"]);Ui("onMouseLeave",["mouseout","mouseover"]);Ui("onPointerEnter",["pointerout","pointerover"]);Ui("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function Km(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZS(r,e,void 0,t),t.currentTarget=null}function _0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Km(i,l,h),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Km(i,l,h),s=u}}}if(ol)throw t=wh,ol=!1,wh=null,t}function pe(t,e){var n=e[Rh];n===void 0&&(n=e[Rh]=new Set);var r=t+"__bubble";n.has(r)||(w0(e,t,2,!1),n.add(r))}function yc(t,e,n){var r=0;e&&(r|=4),w0(n,t,r,e)}var ya="_reactListening"+Math.random().toString(36).slice(2);function lo(t){if(!t[ya]){t[ya]=!0,Iv.forEach(function(n){n!=="selectionchange"&&(tT.has(n)||yc(n,!1,t),yc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ya]||(e[ya]=!0,yc("selectionchange",!1,e))}}function w0(t,e,n,r){switch(r0(e)){case 1:var i=mx;break;case 4:i=gx;break;default:i=zd}n=i.bind(null,e,n,t),i=void 0,!_h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Nr(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}zv(function(){var h=s,p=$d(n),f=[];e:{var m=v0.get(t);if(m!==void 0){var _=Wd,x=t;switch(t){case"keypress":if(Ba(n)===0)break e;case"keydown":case"keyup":_=Nx;break;case"focusin":x="focus",_=hc;break;case"focusout":x="blur",_=hc;break;case"beforeblur":case"afterblur":_=hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=_x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Mx;break;case p0:case m0:case g0:_=Sx;break;case y0:_=Ox;break;case"scroll":_=yx;break;case"wheel":_=Lx;break;case"copy":case"cut":case"paste":_=Tx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Lm}var k=(e&4)!==0,N=!k&&t==="scroll",T=k?m!==null?m+"Capture":null:m;k=[];for(var E=h,A;E!==null;){A=E;var D=A.stateNode;if(A.tag===5&&D!==null&&(A=D,T!==null&&(D=no(E,T),D!=null&&k.push(uo(E,D,A)))),N)break;E=E.return}0<k.length&&(m=new _(m,x,null,n,p),f.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==yh&&(x=n.relatedTarget||n.fromElement)&&(Nr(x)||x[Nn]))break e;if((_||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=h,x=x?Nr(x):null,x!==null&&(N=Zr(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(_=null,x=h),_!==x)){if(k=Om,D="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(k=Lm,D="onPointerLeave",T="onPointerEnter",E="pointer"),N=_==null?m:_i(_),A=x==null?m:_i(x),m=new k(D,E+"leave",_,n,p),m.target=N,m.relatedTarget=A,D=null,Nr(p)===h&&(k=new k(T,E+"enter",x,n,p),k.target=A,k.relatedTarget=N,D=k),N=D,_&&x)t:{for(k=_,T=x,E=0,A=k;A;A=ui(A))E++;for(A=0,D=T;D;D=ui(D))A++;for(;0<E-A;)k=ui(k),E--;for(;0<A-E;)T=ui(T),A--;for(;E--;){if(k===T||T!==null&&k===T.alternate)break t;k=ui(k),T=ui(T)}k=null}else k=null;_!==null&&qm(f,m,_,k,!1),x!==null&&N!==null&&qm(f,N,x,k,!0)}}e:{if(m=h?_i(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var V=Wx;else if(Um(m))if(u0)V=qx;else{V=Qx;var L=Gx}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=Kx);if(V&&(V=V(t,h))){l0(f,V,n,p);break e}L&&L(t,m,h),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&dh(m,"number",m.value)}switch(L=h?_i(h):window,t){case"focusin":(Um(L)||L.contentEditable==="true")&&(yi=L,Th=h,Fs=null);break;case"focusout":Fs=Th=yi=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,Gm(f,n,p);break;case"selectionchange":if(Jx)break;case"keydown":case"keyup":Gm(f,n,p)}var w;if(Qd)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else gi?o0(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(s0&&n.locale!=="ko"&&(gi||v!=="onCompositionStart"?v==="onCompositionEnd"&&gi&&(w=i0()):(Qn=p,Hd="value"in Qn?Qn.value:Qn.textContent,gi=!0)),L=hl(h,v),0<L.length&&(v=new Vm(v,t,null,n,p),f.push({event:v,listeners:L}),w?v.data=w:(w=a0(n),w!==null&&(v.data=w)))),(w=Fx?Ux(t,n):Bx(t,n))&&(h=hl(h,"onBeforeInput"),0<h.length&&(p=new Vm("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:h}),p.data=w))}_0(f,e)})}function uo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=no(t,n),s!=null&&r.unshift(uo(t,s,i)),s=no(t,e),s!=null&&r.push(uo(t,s,i))),t=t.return}return r}function ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=no(n,s),u!=null&&o.unshift(uo(n,u,l))):i||(u=no(n,s),u!=null&&o.push(uo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nT=/\r\n?/g,rT=/\u0000|\uFFFD/g;function Ym(t){return(typeof t=="string"?t:""+t).replace(nT,`
`).replace(rT,"")}function va(t,e,n){if(e=Ym(e),Ym(t)!==e&&n)throw Error($(425))}function dl(){}var Ah=null,Ih=null;function Ph(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kh=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,Xm=typeof Promise=="function"?Promise:void 0,sT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xm<"u"?function(t){return Xm.resolve(null).then(t).catch(oT)}:kh;function oT(t){setTimeout(function(){throw t})}function _c(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),so(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);so(e)}function er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rs=Math.random().toString(36).slice(2),cn="__reactFiber$"+rs,co="__reactProps$"+rs,Nn="__reactContainer$"+rs,Rh="__reactEvents$"+rs,aT="__reactListeners$"+rs,lT="__reactHandles$"+rs;function Nr(t){var e=t[cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nn]||n[cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jm(t);t!==null;){if(n=t[cn])return n;t=Jm(t)}return e}t=n,n=t.parentNode}return null}function Mo(t){return t=t[cn]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function iu(t){return t[co]||null}var Nh=[],wi=-1;function gr(t){return{current:t}}function me(t){0>wi||(t.current=Nh[wi],Nh[wi]=null,wi--)}function ce(t,e){wi++,Nh[wi]=t.current,t.current=e}var cr={},at=gr(cr),St=gr(!1),Br=cr;function Bi(t,e){var n=t.type.contextTypes;if(!n)return cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xt(t){return t=t.childContextTypes,t!=null}function fl(){me(St),me(at)}function Zm(t,e,n){if(at.current!==cr)throw Error($(168));ce(at,e),ce(St,n)}function E0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,GS(t)||"Unknown",i));return Se({},n,r)}function pl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cr,Br=at.current,ce(at,t),ce(St,St.current),!0}function eg(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=E0(t,e,Br),r.__reactInternalMemoizedMergedChildContext=t,me(St),me(at),ce(at,t)):me(St),ce(St,n)}var Tn=null,su=!1,wc=!1;function S0(t){Tn===null?Tn=[t]:Tn.push(t)}function uT(t){su=!0,S0(t)}function yr(){if(!wc&&Tn!==null){wc=!0;var t=0,e=le;try{var n=Tn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tn=null,su=!1}catch(i){throw Tn!==null&&(Tn=Tn.slice(t+1)),Qv(Fd,yr),i}finally{le=e,wc=!1}}return null}var Ei=[],Si=0,ml=null,gl=0,Bt=[],zt=0,zr=null,Cn=1,An="";function Ir(t,e){Ei[Si++]=gl,Ei[Si++]=ml,ml=t,gl=e}function x0(t,e,n){Bt[zt++]=Cn,Bt[zt++]=An,Bt[zt++]=zr,zr=t;var r=Cn;t=An;var i=32-rn(r)-1;r&=~(1<<i),n+=1;var s=32-rn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cn=1<<32-rn(e)+i|n<<i|r,An=s+t}else Cn=1<<s|n<<i|r,An=t}function qd(t){t.return!==null&&(Ir(t,1),x0(t,1,0))}function Yd(t){for(;t===ml;)ml=Ei[--Si],Ei[Si]=null,gl=Ei[--Si],Ei[Si]=null;for(;t===zr;)zr=Bt[--zt],Bt[zt]=null,An=Bt[--zt],Bt[zt]=null,Cn=Bt[--zt],Bt[zt]=null}var jt=null,Dt=null,ve=!1,Zt=null;function T0(t,e){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,Dt=er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zr!==null?{id:Cn,overflow:An}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,Dt=null,!0):!1;default:return!1}}function bh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dh(t){if(ve){var e=Dt;if(e){var n=e;if(!tg(t,e)){if(bh(t))throw Error($(418));e=er(n.nextSibling);var r=jt;e&&tg(t,e)?T0(r,n):(t.flags=t.flags&-4097|2,ve=!1,jt=t)}}else{if(bh(t))throw Error($(418));t.flags=t.flags&-4097|2,ve=!1,jt=t}}}function ng(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function _a(t){if(t!==jt)return!1;if(!ve)return ng(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ph(t.type,t.memoizedProps)),e&&(e=Dt)){if(bh(t))throw C0(),Error($(418));for(;e;)T0(t,e),e=er(e.nextSibling)}if(ng(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=jt?er(t.stateNode.nextSibling):null;return!0}function C0(){for(var t=Dt;t;)t=er(t.nextSibling)}function zi(){Dt=jt=null,ve=!1}function Xd(t){Zt===null?Zt=[t]:Zt.push(t)}var cT=On.ReactCurrentBatchConfig;function Cs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function wa(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rg(t){var e=t._init;return e(t._payload)}function A0(t){function e(T,E){if(t){var A=T.deletions;A===null?(T.deletions=[E],T.flags|=16):A.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function r(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function i(T,E){return T=ir(T,E),T.index=0,T.sibling=null,T}function s(T,E,A){return T.index=A,t?(A=T.alternate,A!==null?(A=A.index,A<E?(T.flags|=2,E):A):(T.flags|=2,E)):(T.flags|=1048576,E)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,E,A,D){return E===null||E.tag!==6?(E=Ic(A,T.mode,D),E.return=T,E):(E=i(E,A),E.return=T,E)}function u(T,E,A,D){var V=A.type;return V===mi?p(T,E,A.props.children,D,A.key):E!==null&&(E.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===zn&&rg(V)===E.type)?(D=i(E,A.props),D.ref=Cs(T,E,A),D.return=T,D):(D=qa(A.type,A.key,A.props,null,T.mode,D),D.ref=Cs(T,E,A),D.return=T,D)}function h(T,E,A,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Pc(A,T.mode,D),E.return=T,E):(E=i(E,A.children||[]),E.return=T,E)}function p(T,E,A,D,V){return E===null||E.tag!==7?(E=Lr(A,T.mode,D,V),E.return=T,E):(E=i(E,A),E.return=T,E)}function f(T,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ic(""+E,T.mode,A),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ua:return A=qa(E.type,E.key,E.props,null,T.mode,A),A.ref=Cs(T,null,E),A.return=T,A;case pi:return E=Pc(E,T.mode,A),E.return=T,E;case zn:var D=E._init;return f(T,D(E._payload),A)}if(Ns(E)||ws(E))return E=Lr(E,T.mode,A,null),E.return=T,E;wa(T,E)}return null}function m(T,E,A,D){var V=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return V!==null?null:l(T,E,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ua:return A.key===V?u(T,E,A,D):null;case pi:return A.key===V?h(T,E,A,D):null;case zn:return V=A._init,m(T,E,V(A._payload),D)}if(Ns(A)||ws(A))return V!==null?null:p(T,E,A,D,null);wa(T,A)}return null}function _(T,E,A,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return T=T.get(A)||null,l(E,T,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ua:return T=T.get(D.key===null?A:D.key)||null,u(E,T,D,V);case pi:return T=T.get(D.key===null?A:D.key)||null,h(E,T,D,V);case zn:var L=D._init;return _(T,E,A,L(D._payload),V)}if(Ns(D)||ws(D))return T=T.get(A)||null,p(E,T,D,V,null);wa(E,D)}return null}function x(T,E,A,D){for(var V=null,L=null,w=E,v=E=0,C=null;w!==null&&v<A.length;v++){w.index>v?(C=w,w=null):C=w.sibling;var P=m(T,w,A[v],D);if(P===null){w===null&&(w=C);break}t&&w&&P.alternate===null&&e(T,w),E=s(P,E,v),L===null?V=P:L.sibling=P,L=P,w=C}if(v===A.length)return n(T,w),ve&&Ir(T,v),V;if(w===null){for(;v<A.length;v++)w=f(T,A[v],D),w!==null&&(E=s(w,E,v),L===null?V=w:L.sibling=w,L=w);return ve&&Ir(T,v),V}for(w=r(T,w);v<A.length;v++)C=_(w,T,v,A[v],D),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?v:C.key),E=s(C,E,v),L===null?V=C:L.sibling=C,L=C);return t&&w.forEach(function(S){return e(T,S)}),ve&&Ir(T,v),V}function k(T,E,A,D){var V=ws(A);if(typeof V!="function")throw Error($(150));if(A=V.call(A),A==null)throw Error($(151));for(var L=V=null,w=E,v=E=0,C=null,P=A.next();w!==null&&!P.done;v++,P=A.next()){w.index>v?(C=w,w=null):C=w.sibling;var S=m(T,w,P.value,D);if(S===null){w===null&&(w=C);break}t&&w&&S.alternate===null&&e(T,w),E=s(S,E,v),L===null?V=S:L.sibling=S,L=S,w=C}if(P.done)return n(T,w),ve&&Ir(T,v),V;if(w===null){for(;!P.done;v++,P=A.next())P=f(T,P.value,D),P!==null&&(E=s(P,E,v),L===null?V=P:L.sibling=P,L=P);return ve&&Ir(T,v),V}for(w=r(T,w);!P.done;v++,P=A.next())P=_(w,T,v,P.value,D),P!==null&&(t&&P.alternate!==null&&w.delete(P.key===null?v:P.key),E=s(P,E,v),L===null?V=P:L.sibling=P,L=P);return t&&w.forEach(function(R){return e(T,R)}),ve&&Ir(T,v),V}function N(T,E,A,D){if(typeof A=="object"&&A!==null&&A.type===mi&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ua:e:{for(var V=A.key,L=E;L!==null;){if(L.key===V){if(V=A.type,V===mi){if(L.tag===7){n(T,L.sibling),E=i(L,A.props.children),E.return=T,T=E;break e}}else if(L.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===zn&&rg(V)===L.type){n(T,L.sibling),E=i(L,A.props),E.ref=Cs(T,L,A),E.return=T,T=E;break e}n(T,L);break}else e(T,L);L=L.sibling}A.type===mi?(E=Lr(A.props.children,T.mode,D,A.key),E.return=T,T=E):(D=qa(A.type,A.key,A.props,null,T.mode,D),D.ref=Cs(T,E,A),D.return=T,T=D)}return o(T);case pi:e:{for(L=A.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){n(T,E.sibling),E=i(E,A.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else e(T,E);E=E.sibling}E=Pc(A,T.mode,D),E.return=T,T=E}return o(T);case zn:return L=A._init,N(T,E,L(A._payload),D)}if(Ns(A))return x(T,E,A,D);if(ws(A))return k(T,E,A,D);wa(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(n(T,E.sibling),E=i(E,A),E.return=T,T=E):(n(T,E),E=Ic(A,T.mode,D),E.return=T,T=E),o(T)):n(T,E)}return N}var Hi=A0(!0),I0=A0(!1),yl=gr(null),vl=null,xi=null,Jd=null;function Zd(){Jd=xi=vl=null}function ef(t){var e=yl.current;me(yl),t._currentValue=e}function Mh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bi(t,e){vl=t,Jd=xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function Qt(t){var e=t._currentValue;if(Jd!==t)if(t={context:t,memoizedValue:e,next:null},xi===null){if(vl===null)throw Error($(308));xi=t,vl.dependencies={lanes:0,firstContext:t}}else xi=xi.next=t;return e}var br=null;function tf(t){br===null?br=[t]:br.push(t)}function P0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,tf(e)):(n.next=i.next,i.next=n),e.interleaved=n,bn(t,r)}function bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hn=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function In(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bn(t,n)}return i=r.interleaved,i===null?(e.next=e,tf(r)):(e.next=i.next,i.next=e),r.interleaved=e,bn(t,n)}function za(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ud(t,n)}}function ig(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _l(t,e,n,r){var i=t.updateQueue;Hn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,p=h=u=null,l=s;do{var m=l.lane,_=l.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,k=l;switch(m=e,_=n,k.tag){case 1:if(x=k.payload,typeof x=="function"){f=x.call(_,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=k.payload,m=typeof x=="function"?x.call(_,f,m):x,m==null)break e;f=Se({},f,m);break e;case 2:Hn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=_,u=f):p=p.next=_,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(p===null&&(u=f),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wr|=o,t.lanes=o,t.memoizedState=f}}function sg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var jo={},fn=gr(jo),ho=gr(jo),fo=gr(jo);function Dr(t){if(t===jo)throw Error($(174));return t}function rf(t,e){switch(ce(fo,e),ce(ho,t),ce(fn,jo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ph(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ph(e,t)}me(fn),ce(fn,e)}function Wi(){me(fn),me(ho),me(fo)}function R0(t){Dr(fo.current);var e=Dr(fn.current),n=ph(e,t.type);e!==n&&(ce(ho,t),ce(fn,n))}function sf(t){ho.current===t&&(me(fn),me(ho))}var we=gr(0);function wl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ec=[];function of(){for(var t=0;t<Ec.length;t++)Ec[t]._workInProgressVersionPrimary=null;Ec.length=0}var Ha=On.ReactCurrentDispatcher,Sc=On.ReactCurrentBatchConfig,Hr=0,Ee=null,be=null,Ve=null,El=!1,Us=!1,po=0,hT=0;function et(){throw Error($(321))}function af(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!on(t[n],e[n]))return!1;return!0}function lf(t,e,n,r,i,s){if(Hr=s,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ha.current=t===null||t.memoizedState===null?mT:gT,t=n(r,i),Us){s=0;do{if(Us=!1,po=0,25<=s)throw Error($(301));s+=1,Ve=be=null,e.updateQueue=null,Ha.current=yT,t=n(r,i)}while(Us)}if(Ha.current=Sl,e=be!==null&&be.next!==null,Hr=0,Ve=be=Ee=null,El=!1,e)throw Error($(300));return t}function uf(){var t=po!==0;return po=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ee.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Kt(){if(be===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=Ve===null?Ee.memoizedState:Ve.next;if(e!==null)Ve=e,be=t;else{if(t===null)throw Error($(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ve===null?Ee.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function mo(t,e){return typeof e=="function"?e(t):e}function xc(t){var e=Kt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=be,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,h=s;do{var p=h.lane;if((Hr&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var f={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Ee.lanes|=p,Wr|=p}h=h.next}while(h!==null&&h!==s);u===null?o=r:u.next=l,on(r,e.memoizedState)||(wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ee.lanes|=s,Wr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tc(t){var e=Kt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);on(s,e.memoizedState)||(wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function N0(){}function b0(t,e){var n=Ee,r=Kt(),i=e(),s=!on(r.memoizedState,i);if(s&&(r.memoizedState=i,wt=!0),r=r.queue,cf(j0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,go(9,M0.bind(null,n,r,i,e),void 0,null),Fe===null)throw Error($(349));Hr&30||D0(n,e,i)}return i}function D0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function M0(t,e,n,r){e.value=n,e.getSnapshot=r,O0(e)&&V0(t)}function j0(t,e,n){return n(function(){O0(e)&&V0(t)})}function O0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!on(t,n)}catch{return!0}}function V0(t){var e=bn(t,1);e!==null&&sn(e,t,1,-1)}function og(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:t},e.queue=t,t=t.dispatch=pT.bind(null,Ee,t),[e.memoizedState,t]}function go(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function L0(){return Kt().memoizedState}function Wa(t,e,n,r){var i=ln();Ee.flags|=t,i.memoizedState=go(1|e,n,void 0,r===void 0?null:r)}function ou(t,e,n,r){var i=Kt();r=r===void 0?null:r;var s=void 0;if(be!==null){var o=be.memoizedState;if(s=o.destroy,r!==null&&af(r,o.deps)){i.memoizedState=go(e,n,s,r);return}}Ee.flags|=t,i.memoizedState=go(1|e,n,s,r)}function ag(t,e){return Wa(8390656,8,t,e)}function cf(t,e){return ou(2048,8,t,e)}function $0(t,e){return ou(4,2,t,e)}function F0(t,e){return ou(4,4,t,e)}function U0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B0(t,e,n){return n=n!=null?n.concat([t]):null,ou(4,4,U0.bind(null,e,t),n)}function hf(){}function z0(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&af(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function H0(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&af(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function W0(t,e,n){return Hr&21?(on(n,e)||(n=Yv(),Ee.lanes|=n,Wr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=n)}function dT(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=Sc.transition;Sc.transition={};try{t(!1),e()}finally{le=n,Sc.transition=r}}function G0(){return Kt().memoizedState}function fT(t,e,n){var r=rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Q0(t))K0(e,n);else if(n=P0(t,e,n,r),n!==null){var i=ft();sn(n,t,r,i),q0(n,e,r)}}function pT(t,e,n){var r=rr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q0(t))K0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,on(l,o)){var u=e.interleaved;u===null?(i.next=i,tf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=P0(t,e,i,r),n!==null&&(i=ft(),sn(n,t,r,i),q0(n,e,r))}}function Q0(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function K0(t,e){Us=El=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function q0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ud(t,n)}}var Sl={readContext:Qt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},mT={readContext:Qt,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:Qt,useEffect:ag,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wa(4194308,4,U0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wa(4,2,t,e)},useMemo:function(t,e){var n=ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fT.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:og,useDebugValue:hf,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=og(!1),e=t[0];return t=dT.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=ln();if(ve){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Fe===null)throw Error($(349));Hr&30||D0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ag(j0.bind(null,r,s,t),[t]),r.flags|=2048,go(9,M0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ln(),e=Fe.identifierPrefix;if(ve){var n=An,r=Cn;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=po++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gT={readContext:Qt,useCallback:z0,useContext:Qt,useEffect:cf,useImperativeHandle:B0,useInsertionEffect:$0,useLayoutEffect:F0,useMemo:H0,useReducer:xc,useRef:L0,useState:function(){return xc(mo)},useDebugValue:hf,useDeferredValue:function(t){var e=Kt();return W0(e,be.memoizedState,t)},useTransition:function(){var t=xc(mo)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:N0,useSyncExternalStore:b0,useId:G0,unstable_isNewReconciler:!1},yT={readContext:Qt,useCallback:z0,useContext:Qt,useEffect:cf,useImperativeHandle:B0,useInsertionEffect:$0,useLayoutEffect:F0,useMemo:H0,useReducer:Tc,useRef:L0,useState:function(){return Tc(mo)},useDebugValue:hf,useDeferredValue:function(t){var e=Kt();return be===null?e.memoizedState=t:W0(e,be.memoizedState,t)},useTransition:function(){var t=Tc(mo)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:N0,useSyncExternalStore:b0,useId:G0,unstable_isNewReconciler:!1};function Xt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var au={isMounted:function(t){return(t=t._reactInternals)?Zr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),i=rr(t),s=In(r,i);s.payload=e,n!=null&&(s.callback=n),e=tr(t,s,i),e!==null&&(sn(e,t,i,r),za(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),i=rr(t),s=In(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=tr(t,s,i),e!==null&&(sn(e,t,i,r),za(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=rr(t),i=In(n,r);i.tag=2,e!=null&&(i.callback=e),e=tr(t,i,r),e!==null&&(sn(e,t,r,n),za(e,t,r))}};function lg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ao(n,r)||!ao(i,s):!0}function Y0(t,e,n){var r=!1,i=cr,s=e.contextType;return typeof s=="object"&&s!==null?s=Qt(s):(i=xt(e)?Br:at.current,r=e.contextTypes,s=(r=r!=null)?Bi(t,i):cr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=au,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ug(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&au.enqueueReplaceState(e,e.state,null)}function Oh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},nf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qt(s):(s=xt(e)?Br:at.current,i.context=Bi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&au.enqueueReplaceState(i,i.state,null),_l(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gi(t,e){try{var n="",r=e;do n+=WS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vT=typeof WeakMap=="function"?WeakMap:Map;function X0(t,e,n){n=In(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tl||(Tl=!0,Qh=r),Vh(t,e)},n}function J0(t,e,n){n=In(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vh(t,e),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bT.bind(null,t,e,n),e.then(t,t))}function hg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=In(-1,1),e.tag=2,tr(n,e,1))),n.lanes|=1),t)}var _T=On.ReactCurrentOwner,wt=!1;function dt(t,e,n,r){e.child=t===null?I0(e,null,n,r):Hi(e,t.child,n,r)}function fg(t,e,n,r,i){n=n.render;var s=e.ref;return bi(e,i),r=lf(t,e,n,r,s,i),n=uf(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(ve&&n&&qd(e),e.flags|=1,dt(t,e,r,i),e.child)}function pg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_f(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Z0(t,e,s,r,i)):(t=qa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ao,n(o,r)&&t.ref===e.ref)return Dn(t,e,i)}return e.flags|=1,t=ir(s,r),t.ref=e.ref,t.return=e,e.child=t}function Z0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ao(s,r)&&t.ref===e.ref)if(wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,Dn(t,e,i)}return Lh(t,e,n,r,i)}function e1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Ci,Rt),Rt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Ci,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ce(Ci,Rt),Rt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ce(Ci,Rt),Rt|=r;return dt(t,e,i,n),e.child}function t1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lh(t,e,n,r,i){var s=xt(n)?Br:at.current;return s=Bi(e,s),bi(e,i),n=lf(t,e,n,r,s,i),r=uf(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(ve&&r&&qd(e),e.flags|=1,dt(t,e,n,i),e.child)}function mg(t,e,n,r,i){if(xt(n)){var s=!0;pl(e)}else s=!1;if(bi(e,i),e.stateNode===null)Ga(t,e),Y0(e,n,r),Oh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Qt(h):(h=xt(n)?Br:at.current,h=Bi(e,h));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&ug(e,o,r,h),Hn=!1;var m=e.memoizedState;o.state=m,_l(e,r,o,i),u=e.memoizedState,l!==r||m!==u||St.current||Hn?(typeof p=="function"&&(jh(e,n,p,r),u=e.memoizedState),(l=Hn||lg(e,n,l,r,m,u,h))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,k0(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Xt(e.type,l),o.props=h,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Qt(u):(u=xt(n)?Br:at.current,u=Bi(e,u));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==u)&&ug(e,o,r,u),Hn=!1,m=e.memoizedState,o.state=m,_l(e,r,o,i);var x=e.memoizedState;l!==f||m!==x||St.current||Hn?(typeof _=="function"&&(jh(e,n,_,r),x=e.memoizedState),(h=Hn||lg(e,n,h,r,m,x,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return $h(t,e,n,r,s,i)}function $h(t,e,n,r,i,s){t1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&eg(e,n,!1),Dn(t,e,s);r=e.stateNode,_T.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hi(e,t.child,null,s),e.child=Hi(e,null,l,s)):dt(t,e,l,s),e.memoizedState=r.state,i&&eg(e,n,!0),e.child}function n1(t){var e=t.stateNode;e.pendingContext?Zm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zm(t,e.context,!1),rf(t,e.containerInfo)}function gg(t,e,n,r,i){return zi(),Xd(i),e.flags|=256,dt(t,e,n,r),e.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function Uh(t){return{baseLanes:t,cachePool:null,transitions:null}}function r1(t,e,n){var r=e.pendingProps,i=we.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(we,i&1),t===null)return Dh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=cu(o,r,0,null),t=Lr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Uh(n),e.memoizedState=Fh,t):df(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return wT(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ir(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ir(l,s):(s=Lr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Uh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Fh,r}return s=t.child,t=s.sibling,r=ir(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function df(t,e){return e=cu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ea(t,e,n,r){return r!==null&&Xd(r),Hi(e,t.child,null,n),t=df(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wT(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cc(Error($(422))),Ea(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=cu({mode:"visible",children:r.children},i,0,null),s=Lr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hi(e,t.child,null,o),e.child.memoizedState=Uh(o),e.memoizedState=Fh,s);if(!(e.mode&1))return Ea(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=Cc(s,r,void 0),Ea(t,e,o,r)}if(l=(o&t.childLanes)!==0,wt||l){if(r=Fe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bn(t,i),sn(r,t,i,-1))}return vf(),r=Cc(Error($(421))),Ea(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dt=er(i.nextSibling),jt=e,ve=!0,Zt=null,t!==null&&(Bt[zt++]=Cn,Bt[zt++]=An,Bt[zt++]=zr,Cn=t.id,An=t.overflow,zr=e),e=df(e,r.children),e.flags|=4096,e)}function yg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mh(t.return,e,n)}function Ac(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function i1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yg(t,n,e);else if(t.tag===19)yg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ac(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ac(e,!0,n,null,s);break;case"together":Ac(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ga(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=ir(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ir(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ET(t,e,n){switch(e.tag){case 3:n1(e),zi();break;case 5:R0(e);break;case 1:xt(e.type)&&pl(e);break;case 4:rf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(yl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?r1(t,e,n):(ce(we,we.current&1),t=Dn(t,e,n),t!==null?t.sibling:null);ce(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,e1(t,e,n)}return Dn(t,e,n)}var s1,Bh,o1,a1;s1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bh=function(){};o1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Dr(fn.current);var s=null;switch(n){case"input":i=ch(t,i),r=ch(t,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=fh(t,i),r=fh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dl)}mh(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(eo.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(eo.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&pe("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};a1=function(t,e,n,r){n!==r&&(e.flags|=4)};function As(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ST(t,e,n){var r=e.pendingProps;switch(Yd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return xt(e.type)&&fl(),tt(e),null;case 3:return r=e.stateNode,Wi(),me(St),me(at),of(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_a(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(Yh(Zt),Zt=null))),Bh(t,e),tt(e),null;case 5:sf(e);var i=Dr(fo.current);if(n=e.type,t!==null&&e.stateNode!=null)o1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return tt(e),null}if(t=Dr(fn.current),_a(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[cn]=e,r[co]=s,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<Ds.length;i++)pe(Ds[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Am(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Pm(r,s),pe("invalid",r)}mh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&va(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&va(r.textContent,l,t),i=["children",""+l]):eo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":ca(r),Im(r,s,!0);break;case"textarea":ca(r),km(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cn]=e,t[co]=r,s1(t,e,!1,!1),e.stateNode=t;e:{switch(o=gh(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ds.length;i++)pe(Ds[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":Am(t,r),i=ch(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Pm(t,r),i=fh(t,r),pe("invalid",t);break;default:i=r}mh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Lv(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ov(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&to(t,u):typeof u=="number"&&to(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(eo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&pe("scroll",t):u!=null&&jd(t,s,u,o))}switch(n){case"input":ca(t),Im(t,r,!1);break;case"textarea":ca(t),km(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ur(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Pi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Pi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)a1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Dr(fo.current),Dr(fn.current),_a(e)){if(r=e.stateNode,n=e.memoizedProps,r[cn]=e,(s=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:va(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&va(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cn]=e,e.stateNode=r}return tt(e),null;case 13:if(me(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&Dt!==null&&e.mode&1&&!(e.flags&128))C0(),zi(),e.flags|=98560,s=!1;else if(s=_a(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[cn]=e}else zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),s=!1}else Zt!==null&&(Yh(Zt),Zt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?De===0&&(De=3):vf())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Wi(),Bh(t,e),t===null&&lo(e.stateNode.containerInfo),tt(e),null;case 10:return ef(e.type._context),tt(e),null;case 17:return xt(e.type)&&fl(),tt(e),null;case 19:if(me(we),s=e.memoizedState,s===null)return tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)As(s,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wl(t),o!==null){for(e.flags|=128,As(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(we,we.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ae()>Qi&&(e.flags|=128,r=!0,As(s,!1),e.lanes=4194304)}else{if(!r)if(t=wl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),As(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ve)return tt(e),null}else 2*Ae()-s.renderingStartTime>Qi&&n!==1073741824&&(e.flags|=128,r=!0,As(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ae(),e.sibling=null,n=we.current,ce(we,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return yf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function xT(t,e){switch(Yd(e),e.tag){case 1:return xt(e.type)&&fl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wi(),me(St),me(at),of(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sf(e),null;case 13:if(me(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(we),null;case 4:return Wi(),null;case 10:return ef(e.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var Sa=!1,it=!1,TT=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ti(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function zh(t,e,n){try{n()}catch(r){Te(t,e,r)}}var vg=!1;function CT(t,e){if(Ah=ul,t=d0(),Kd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,p=0,f=t,m=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)m=f,f=_;for(;;){if(f===t)break t;if(m===n&&++h===i&&(l=o),m===s&&++p===r&&(u=o),(_=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ih={focusedElem:t,selectionRange:n},ul=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var k=x.memoizedProps,N=x.memoizedState,T=e.stateNode,E=T.getSnapshotBeforeUpdate(e.elementType===e.type?k:Xt(e.type,k),N);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(D){Te(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return x=vg,vg=!1,x}function Bs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zh(e,n,s)}i=i.next}while(i!==r)}}function lu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function l1(t){var e=t.alternate;e!==null&&(t.alternate=null,l1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cn],delete e[co],delete e[Rh],delete e[aT],delete e[lT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function u1(t){return t.tag===5||t.tag===3||t.tag===4}function _g(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dl));else if(r!==4&&(t=t.child,t!==null))for(Wh(t,e,n),t=t.sibling;t!==null;)Wh(t,e,n),t=t.sibling}function Gh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gh(t,e,n),t=t.sibling;t!==null;)Gh(t,e,n),t=t.sibling}var ze=null,Jt=!1;function Un(t,e,n){for(n=n.child;n!==null;)c1(t,e,n),n=n.sibling}function c1(t,e,n){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(eu,n)}catch{}switch(n.tag){case 5:it||Ti(n,e);case 6:var r=ze,i=Jt;ze=null,Un(t,e,n),ze=r,Jt=i,ze!==null&&(Jt?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Jt?(t=ze,n=n.stateNode,t.nodeType===8?_c(t.parentNode,n):t.nodeType===1&&_c(t,n),so(t)):_c(ze,n.stateNode));break;case 4:r=ze,i=Jt,ze=n.stateNode.containerInfo,Jt=!0,Un(t,e,n),ze=r,Jt=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zh(n,e,o),i=i.next}while(i!==r)}Un(t,e,n);break;case 1:if(!it&&(Ti(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,e,l)}Un(t,e,n);break;case 21:Un(t,e,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,Un(t,e,n),it=r):Un(t,e,n);break;default:Un(t,e,n)}}function wg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TT),e.forEach(function(r){var i=MT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,Jt=!1;break e;case 3:ze=l.stateNode.containerInfo,Jt=!0;break e;case 4:ze=l.stateNode.containerInfo,Jt=!0;break e}l=l.return}if(ze===null)throw Error($(160));c1(s,o,i),ze=null,Jt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Te(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)h1(e,t),e=e.sibling}function h1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),an(t),r&4){try{Bs(3,t,t.return),lu(3,t)}catch(k){Te(t,t.return,k)}try{Bs(5,t,t.return)}catch(k){Te(t,t.return,k)}}break;case 1:Yt(e,t),an(t),r&512&&n!==null&&Ti(n,n.return);break;case 5:if(Yt(e,t),an(t),r&512&&n!==null&&Ti(n,n.return),t.flags&32){var i=t.stateNode;try{to(i,"")}catch(k){Te(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Dv(i,s),gh(l,o);var h=gh(l,s);for(o=0;o<u.length;o+=2){var p=u[o],f=u[o+1];p==="style"?Lv(i,f):p==="dangerouslySetInnerHTML"?Ov(i,f):p==="children"?to(i,f):jd(i,p,f,h)}switch(l){case"input":hh(i,s);break;case"textarea":Mv(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Pi(i,!!s.multiple,_,!1):m!==!!s.multiple&&(s.defaultValue!=null?Pi(i,!!s.multiple,s.defaultValue,!0):Pi(i,!!s.multiple,s.multiple?[]:"",!1))}i[co]=s}catch(k){Te(t,t.return,k)}}break;case 6:if(Yt(e,t),an(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Te(t,t.return,k)}}break;case 3:if(Yt(e,t),an(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{so(e.containerInfo)}catch(k){Te(t,t.return,k)}break;case 4:Yt(e,t),an(t);break;case 13:Yt(e,t),an(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mf=Ae())),r&4&&wg(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(it=(h=it)||p,Yt(e,t),it=h):Yt(e,t),an(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(z=t,p=t.child;p!==null;){for(f=z=p;z!==null;){switch(m=z,_=m.child,m.tag){case 0:case 11:case 14:case 15:Bs(4,m,m.return);break;case 1:Ti(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(k){Te(r,n,k)}}break;case 5:Ti(m,m.return);break;case 22:if(m.memoizedState!==null){Sg(f);continue}}_!==null?(_.return=m,z=_):Sg(f)}p=p.sibling}e:for(p=null,f=t;;){if(f.tag===5){if(p===null){p=f;try{i=f.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Vv("display",o))}catch(k){Te(t,t.return,k)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(k){Te(t,t.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Yt(e,t),an(t),r&4&&wg(t);break;case 21:break;default:Yt(e,t),an(t)}}function an(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(u1(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(to(i,""),r.flags&=-33);var s=_g(t);Gh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=_g(t);Wh(t,l,o);break;default:throw Error($(161))}}catch(u){Te(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AT(t,e,n){z=t,d1(t)}function d1(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sa;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||it;l=Sa;var h=it;if(Sa=o,(it=u)&&!h)for(z=i;z!==null;)o=z,u=o.child,o.tag===22&&o.memoizedState!==null?xg(i):u!==null?(u.return=o,z=u):xg(i);for(;s!==null;)z=s,d1(s),s=s.sibling;z=i,Sa=l,it=h}Eg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):Eg(t)}}function Eg(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:it||lu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Xt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&sg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sg(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&so(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}it||e.flags&512&&Hh(e)}catch(m){Te(e,e.return,m)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Sg(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function xg(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lu(4,e)}catch(u){Te(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Te(e,i,u)}}var s=e.return;try{Hh(e)}catch(u){Te(e,s,u)}break;case 5:var o=e.return;try{Hh(e)}catch(u){Te(e,o,u)}}}catch(u){Te(e,e.return,u)}if(e===t){z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,z=l;break}z=e.return}}var IT=Math.ceil,xl=On.ReactCurrentDispatcher,ff=On.ReactCurrentOwner,Wt=On.ReactCurrentBatchConfig,ne=0,Fe=null,Re=null,Qe=0,Rt=0,Ci=gr(0),De=0,yo=null,Wr=0,uu=0,pf=0,zs=null,_t=null,mf=0,Qi=1/0,xn=null,Tl=!1,Qh=null,nr=null,xa=!1,Kn=null,Cl=0,Hs=0,Kh=null,Qa=-1,Ka=0;function ft(){return ne&6?Ae():Qa!==-1?Qa:Qa=Ae()}function rr(t){return t.mode&1?ne&2&&Qe!==0?Qe&-Qe:cT.transition!==null?(Ka===0&&(Ka=Yv()),Ka):(t=le,t!==0||(t=window.event,t=t===void 0?16:r0(t.type)),t):1}function sn(t,e,n,r){if(50<Hs)throw Hs=0,Kh=null,Error($(185));bo(t,n,r),(!(ne&2)||t!==Fe)&&(t===Fe&&(!(ne&2)&&(uu|=n),De===4&&Gn(t,Qe)),Tt(t,r),n===1&&ne===0&&!(e.mode&1)&&(Qi=Ae()+500,su&&yr()))}function Tt(t,e){var n=t.callbackNode;cx(t,e);var r=ll(t,t===Fe?Qe:0);if(r===0)n!==null&&bm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bm(n),e===1)t.tag===0?uT(Tg.bind(null,t)):S0(Tg.bind(null,t)),sT(function(){!(ne&6)&&yr()}),n=null;else{switch(Xv(r)){case 1:n=Fd;break;case 4:n=Kv;break;case 16:n=al;break;case 536870912:n=qv;break;default:n=al}n=w1(n,f1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function f1(t,e){if(Qa=-1,Ka=0,ne&6)throw Error($(327));var n=t.callbackNode;if(Di()&&t.callbackNode!==n)return null;var r=ll(t,t===Fe?Qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Al(t,r);else{e=r;var i=ne;ne|=2;var s=m1();(Fe!==t||Qe!==e)&&(xn=null,Qi=Ae()+500,Vr(t,e));do try{RT();break}catch(l){p1(t,l)}while(!0);Zd(),xl.current=s,ne=i,Re!==null?e=0:(Fe=null,Qe=0,e=De)}if(e!==0){if(e===2&&(i=Eh(t),i!==0&&(r=i,e=qh(t,i))),e===1)throw n=yo,Vr(t,0),Gn(t,r),Tt(t,Ae()),n;if(e===6)Gn(t,r);else{if(i=t.current.alternate,!(r&30)&&!PT(i)&&(e=Al(t,r),e===2&&(s=Eh(t),s!==0&&(r=s,e=qh(t,s))),e===1))throw n=yo,Vr(t,0),Gn(t,r),Tt(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Pr(t,_t,xn);break;case 3:if(Gn(t,r),(r&130023424)===r&&(e=mf+500-Ae(),10<e)){if(ll(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kh(Pr.bind(null,t,_t,xn),e);break}Pr(t,_t,xn);break;case 4:if(Gn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-rn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IT(r/1960))-r,10<r){t.timeoutHandle=kh(Pr.bind(null,t,_t,xn),r);break}Pr(t,_t,xn);break;case 5:Pr(t,_t,xn);break;default:throw Error($(329))}}}return Tt(t,Ae()),t.callbackNode===n?f1.bind(null,t):null}function qh(t,e){var n=zs;return t.current.memoizedState.isDehydrated&&(Vr(t,e).flags|=256),t=Al(t,e),t!==2&&(e=_t,_t=n,e!==null&&Yh(e)),t}function Yh(t){_t===null?_t=t:_t.push.apply(_t,t)}function PT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!on(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~pf,e&=~uu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rn(e),r=1<<n;t[n]=-1,e&=~r}}function Tg(t){if(ne&6)throw Error($(327));Di();var e=ll(t,0);if(!(e&1))return Tt(t,Ae()),null;var n=Al(t,e);if(t.tag!==0&&n===2){var r=Eh(t);r!==0&&(e=r,n=qh(t,r))}if(n===1)throw n=yo,Vr(t,0),Gn(t,e),Tt(t,Ae()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pr(t,_t,xn),Tt(t,Ae()),null}function gf(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(Qi=Ae()+500,su&&yr())}}function Gr(t){Kn!==null&&Kn.tag===0&&!(ne&6)&&Di();var e=ne;ne|=1;var n=Wt.transition,r=le;try{if(Wt.transition=null,le=1,t)return t()}finally{le=r,Wt.transition=n,ne=e,!(ne&6)&&yr()}}function yf(){Rt=Ci.current,me(Ci)}function Vr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iT(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Yd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fl();break;case 3:Wi(),me(St),me(at),of();break;case 5:sf(r);break;case 4:Wi();break;case 13:me(we);break;case 19:me(we);break;case 10:ef(r.type._context);break;case 22:case 23:yf()}n=n.return}if(Fe=t,Re=t=ir(t.current,null),Qe=Rt=e,De=0,yo=null,pf=uu=Wr=0,_t=zs=null,br!==null){for(e=0;e<br.length;e++)if(n=br[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}br=null}return t}function p1(t,e){do{var n=Re;try{if(Zd(),Ha.current=Sl,El){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}El=!1}if(Hr=0,Ve=be=Ee=null,Us=!1,po=0,ff.current=null,n===null||n.return===null){De=1,yo=e,Re=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Qe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,p=l,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=hg(o);if(_!==null){_.flags&=-257,dg(_,o,l,s,e),_.mode&1&&cg(s,h,e),e=_,u=h;var x=e.updateQueue;if(x===null){var k=new Set;k.add(u),e.updateQueue=k}else x.add(u);break e}else{if(!(e&1)){cg(s,h,e),vf();break e}u=Error($(426))}}else if(ve&&l.mode&1){var N=hg(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),dg(N,o,l,s,e),Xd(Gi(u,l));break e}}s=u=Gi(u,l),De!==4&&(De=2),zs===null?zs=[s]:zs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=X0(s,u,e);ig(s,T);break e;case 1:l=u;var E=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(nr===null||!nr.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=J0(s,l,e);ig(s,D);break e}}s=s.return}while(s!==null)}y1(n)}catch(V){e=V,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function m1(){var t=xl.current;return xl.current=Sl,t===null?Sl:t}function vf(){(De===0||De===3||De===2)&&(De=4),Fe===null||!(Wr&268435455)&&!(uu&268435455)||Gn(Fe,Qe)}function Al(t,e){var n=ne;ne|=2;var r=m1();(Fe!==t||Qe!==e)&&(xn=null,Vr(t,e));do try{kT();break}catch(i){p1(t,i)}while(!0);if(Zd(),ne=n,xl.current=r,Re!==null)throw Error($(261));return Fe=null,Qe=0,De}function kT(){for(;Re!==null;)g1(Re)}function RT(){for(;Re!==null&&!tx();)g1(Re)}function g1(t){var e=_1(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?y1(t):Re=e,ff.current=null}function y1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xT(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Re=null;return}}else if(n=ST(n,e,Rt),n!==null){Re=n;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);De===0&&(De=5)}function Pr(t,e,n){var r=le,i=Wt.transition;try{Wt.transition=null,le=1,NT(t,e,n,r)}finally{Wt.transition=i,le=r}return null}function NT(t,e,n,r){do Di();while(Kn!==null);if(ne&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hx(t,s),t===Fe&&(Re=Fe=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xa||(xa=!0,w1(al,function(){return Di(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wt.transition,Wt.transition=null;var o=le;le=1;var l=ne;ne|=4,ff.current=null,CT(t,n),h1(n,t),Xx(Ih),ul=!!Ah,Ih=Ah=null,t.current=n,AT(n),nx(),ne=l,le=o,Wt.transition=s}else t.current=n;if(xa&&(xa=!1,Kn=t,Cl=i),s=t.pendingLanes,s===0&&(nr=null),sx(n.stateNode),Tt(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tl)throw Tl=!1,t=Qh,Qh=null,t;return Cl&1&&t.tag!==0&&Di(),s=t.pendingLanes,s&1?t===Kh?Hs++:(Hs=0,Kh=t):Hs=0,yr(),null}function Di(){if(Kn!==null){var t=Xv(Cl),e=Wt.transition,n=le;try{if(Wt.transition=null,le=16>t?16:t,Kn===null)var r=!1;else{if(t=Kn,Kn=null,Cl=0,ne&6)throw Error($(331));var i=ne;for(ne|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(z=h;z!==null;){var p=z;switch(p.tag){case 0:case 11:case 15:Bs(8,p,s)}var f=p.child;if(f!==null)f.return=p,z=f;else for(;z!==null;){p=z;var m=p.sibling,_=p.return;if(l1(p),p===h){z=null;break}if(m!==null){m.return=_,z=m;break}z=_}}}var x=s.alternate;if(x!==null){var k=x.child;if(k!==null){x.child=null;do{var N=k.sibling;k.sibling=null,k=N}while(k!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bs(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,z=T;break e}z=s.return}}var E=t.current;for(z=E;z!==null;){o=z;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,z=A;else e:for(o=E;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lu(9,l)}}catch(V){Te(l,l.return,V)}if(l===o){z=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,z=D;break e}z=l.return}}if(ne=i,yr(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(eu,t)}catch{}r=!0}return r}finally{le=n,Wt.transition=e}}return!1}function Cg(t,e,n){e=Gi(n,e),e=X0(t,e,1),t=tr(t,e,1),e=ft(),t!==null&&(bo(t,1,e),Tt(t,e))}function Te(t,e,n){if(t.tag===3)Cg(t,t,n);else for(;e!==null;){if(e.tag===3){Cg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nr===null||!nr.has(r))){t=Gi(n,t),t=J0(e,t,1),e=tr(e,t,1),t=ft(),e!==null&&(bo(e,1,t),Tt(e,t));break}}e=e.return}}function bT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&(Qe&n)===n&&(De===4||De===3&&(Qe&130023424)===Qe&&500>Ae()-mf?Vr(t,0):pf|=n),Tt(t,e)}function v1(t,e){e===0&&(t.mode&1?(e=fa,fa<<=1,!(fa&130023424)&&(fa=4194304)):e=1);var n=ft();t=bn(t,e),t!==null&&(bo(t,e,n),Tt(t,n))}function DT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),v1(t,n)}function MT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),v1(t,n)}var _1;_1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wt=!1,ET(t,e,n);wt=!!(t.flags&131072)}else wt=!1,ve&&e.flags&1048576&&x0(e,gl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ga(t,e),t=e.pendingProps;var i=Bi(e,at.current);bi(e,n),i=lf(null,e,r,t,i,n);var s=uf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)?(s=!0,pl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nf(e),i.updater=au,e.stateNode=i,i._reactInternals=e,Oh(e,r,t,n),e=$h(null,e,r,!0,s,n)):(e.tag=0,ve&&s&&qd(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ga(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OT(r),t=Xt(r,t),i){case 0:e=Lh(null,e,r,t,n);break e;case 1:e=mg(null,e,r,t,n);break e;case 11:e=fg(null,e,r,t,n);break e;case 14:e=pg(null,e,r,Xt(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),Lh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),mg(t,e,r,i,n);case 3:e:{if(n1(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,k0(t,e),_l(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gi(Error($(423)),e),e=gg(t,e,r,n,i);break e}else if(r!==i){i=Gi(Error($(424)),e),e=gg(t,e,r,n,i);break e}else for(Dt=er(e.stateNode.containerInfo.firstChild),jt=e,ve=!0,Zt=null,n=I0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zi(),r===i){e=Dn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return R0(e),t===null&&Dh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ph(r,i)?o=null:s!==null&&Ph(r,s)&&(e.flags|=32),t1(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&Dh(e),null;case 13:return r1(t,e,n);case 4:return rf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hi(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),fg(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ce(yl,r._currentValue),r._currentValue=o,s!==null)if(on(s.value,o)){if(s.children===i.children&&!St.current){e=Dn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=In(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?u.next=u:(u.next=p.next,p.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Mh(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bi(e,n),i=Qt(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=Xt(r,e.pendingProps),i=Xt(r.type,i),pg(t,e,r,i,n);case 15:return Z0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),Ga(t,e),e.tag=1,xt(r)?(t=!0,pl(e)):t=!1,bi(e,n),Y0(e,r,i),Oh(e,r,i,n),$h(null,e,r,!0,t,n);case 19:return i1(t,e,n);case 22:return e1(t,e,n)}throw Error($(156,e.tag))};function w1(t,e){return Qv(t,e)}function jT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,n,r){return new jT(t,e,n,r)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OT(t){if(typeof t=="function")return _f(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vd)return 11;if(t===Ld)return 14}return 2}function ir(t,e){var n=t.alternate;return n===null?(n=Ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")_f(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case mi:return Lr(n.children,i,s,e);case Od:o=8,i|=8;break;case oh:return t=Ht(12,n,e,i|2),t.elementType=oh,t.lanes=s,t;case ah:return t=Ht(13,n,e,i),t.elementType=ah,t.lanes=s,t;case lh:return t=Ht(19,n,e,i),t.elementType=lh,t.lanes=s,t;case Rv:return cu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pv:o=10;break e;case kv:o=9;break e;case Vd:o=11;break e;case Ld:o=14;break e;case zn:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Ht(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Lr(t,e,n,r){return t=Ht(7,t,r,e),t.lanes=n,t}function cu(t,e,n,r){return t=Ht(22,t,r,e),t.elementType=Rv,t.lanes=n,t.stateNode={isHidden:!1},t}function Ic(t,e,n){return t=Ht(6,t,null,e),t.lanes=n,t}function Pc(t,e,n){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lc(0),this.expirationTimes=lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wf(t,e,n,r,i,s,o,l,u){return t=new VT(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ht(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nf(s),t}function LT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function E1(t){if(!t)return cr;t=t._reactInternals;e:{if(Zr(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(xt(n))return E0(t,n,e)}return e}function S1(t,e,n,r,i,s,o,l,u){return t=wf(n,r,!0,t,i,s,o,l,u),t.context=E1(null),n=t.current,r=ft(),i=rr(n),s=In(r,i),s.callback=e??null,tr(n,s,i),t.current.lanes=i,bo(t,i,r),Tt(t,r),t}function hu(t,e,n,r){var i=e.current,s=ft(),o=rr(i);return n=E1(n),e.context===null?e.context=n:e.pendingContext=n,e=In(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tr(i,e,o),t!==null&&(sn(t,i,o,s),za(t,i,o)),o}function Il(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ag(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ef(t,e){Ag(t,e),(t=t.alternate)&&Ag(t,e)}function $T(){return null}var x1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sf(t){this._internalRoot=t}du.prototype.render=Sf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));hu(t,e,null,null)};du.prototype.unmount=Sf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gr(function(){hu(null,t,null,null)}),e[Nn]=null}};function du(t){this._internalRoot=t}du.prototype.unstable_scheduleHydration=function(t){if(t){var e=e0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wn.length&&e!==0&&e<Wn[n].priority;n++);Wn.splice(n,0,t),n===0&&n0(t)}};function xf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ig(){}function FT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Il(o);s.call(h)}}var o=S1(e,r,t,0,null,!1,!1,"",Ig);return t._reactRootContainer=o,t[Nn]=o.current,lo(t.nodeType===8?t.parentNode:t),Gr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Il(u);l.call(h)}}var u=wf(t,0,!1,null,null,!1,!1,"",Ig);return t._reactRootContainer=u,t[Nn]=u.current,lo(t.nodeType===8?t.parentNode:t),Gr(function(){hu(e,u,n,r)}),u}function pu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Il(o);l.call(u)}}hu(e,o,t,i)}else o=FT(n,e,t,i,r);return Il(o)}Jv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bs(e.pendingLanes);n!==0&&(Ud(e,n|1),Tt(e,Ae()),!(ne&6)&&(Qi=Ae()+500,yr()))}break;case 13:Gr(function(){var r=bn(t,1);if(r!==null){var i=ft();sn(r,t,1,i)}}),Ef(t,1)}};Bd=function(t){if(t.tag===13){var e=bn(t,134217728);if(e!==null){var n=ft();sn(e,t,134217728,n)}Ef(t,134217728)}};Zv=function(t){if(t.tag===13){var e=rr(t),n=bn(t,e);if(n!==null){var r=ft();sn(n,t,e,r)}Ef(t,e)}};e0=function(){return le};t0=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};vh=function(t,e,n){switch(e){case"input":if(hh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=iu(r);if(!i)throw Error($(90));bv(r),hh(r,i)}}}break;case"textarea":Mv(t,n);break;case"select":e=n.value,e!=null&&Pi(t,!!n.multiple,e,!1)}};Uv=gf;Bv=Gr;var UT={usingClientEntryPoint:!1,Events:[Mo,_i,iu,$v,Fv,gf]},Is={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BT={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wv(t),t===null?null:t.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||$T,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{eu=Ta.inject(BT),dn=Ta}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UT;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(e))throw Error($(200));return LT(t,e,null,n)};$t.createRoot=function(t,e){if(!xf(t))throw Error($(299));var n=!1,r="",i=x1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wf(t,1,!1,null,null,n,!1,r,i),t[Nn]=e.current,lo(t.nodeType===8?t.parentNode:t),new Sf(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Wv(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return Gr(t)};$t.hydrate=function(t,e,n){if(!fu(e))throw Error($(200));return pu(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!xf(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=x1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=S1(e,null,t,1,n??null,i,!1,s,o),t[Nn]=e.current,lo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new du(e)};$t.render=function(t,e,n){if(!fu(e))throw Error($(200));return pu(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!fu(t))throw Error($(40));return t._reactRootContainer?(Gr(function(){pu(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};$t.unstable_batchedUpdates=gf;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fu(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return pu(t,e,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function T1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T1)}catch(t){console.error(t)}}T1(),Tv.exports=$t;var zT=Tv.exports;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vo(){return vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vo.apply(this,arguments)}var qn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qn||(qn={}));const Pg="popstate";function HT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Xh("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Pl(i)}return GT(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WT(){return Math.random().toString(36).substr(2,8)}function kg(t,e){return{usr:t.state,key:t.key,idx:e}}function Xh(t,e,n,r){return n===void 0&&(n=null),vo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?is(e):e,{state:n,key:e&&e.key||r||WT()})}function Pl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function is(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=qn.Pop,u=null,h=p();h==null&&(h=0,o.replaceState(vo({},o.state,{idx:h}),""));function p(){return(o.state||{idx:null}).idx}function f(){l=qn.Pop;let N=p(),T=N==null?null:N-h;h=N,u&&u({action:l,location:k.location,delta:T})}function m(N,T){l=qn.Push;let E=Xh(k.location,N,T);h=p()+1;let A=kg(E,h),D=k.createHref(E);try{o.pushState(A,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(D)}s&&u&&u({action:l,location:k.location,delta:1})}function _(N,T){l=qn.Replace;let E=Xh(k.location,N,T);h=p();let A=kg(E,h),D=k.createHref(E);o.replaceState(A,"",D),s&&u&&u({action:l,location:k.location,delta:0})}function x(N){let T=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof N=="string"?N:Pl(N);return E=E.replace(/ $/,"%20"),Ne(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let k={get action(){return l},get location(){return t(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Pg,f),u=N,()=>{i.removeEventListener(Pg,f),u=null}},createHref(N){return e(i,N)},createURL:x,encodeLocation(N){let T=x(N);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:_,go(N){return o.go(N)}};return k}var Rg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rg||(Rg={}));function QT(t,e,n){return n===void 0&&(n="/"),KT(t,e,n,!1)}function KT(t,e,n,r){let i=typeof e=="string"?is(e):e,s=Tf(i.pathname||"/",n);if(s==null)return null;let o=A1(t);qT(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=oC(s);l=iC(o[u],h,r)}return l}function A1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ne(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=sr([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(Ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),A1(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:nC(h,s.index),routesMeta:p})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of I1(s.path))i(s,o,u)}),e}function I1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=I1(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function qT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YT=/^:[\w-]+$/,XT=3,JT=2,ZT=1,eC=10,tC=-2,Ng=t=>t==="*";function nC(t,e){let n=t.split("/"),r=n.length;return n.some(Ng)&&(r+=tC),e&&(r+=JT),n.filter(i=>!Ng(i)).reduce((i,s)=>i+(YT.test(s)?XT:s===""?ZT:eC),r)}function rC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iC(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",f=bg({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),m=u.route;if(!f&&h&&n&&!r[r.length-1].route.index&&(f=bg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:sr([s,f.pathname]),pathnameBase:cC(sr([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=sr([s,f.pathnameBase]))}return o}function bg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,f)=>{let{paramName:m,isOptional:_}=p;if(m==="*"){let k=l[f]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const x=l[f];return _&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function sC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),C1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return C1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?is(t):t;return{pathname:n?n.startsWith("/")?n:lC(n,e):e,search:hC(r),hash:dC(i)}}function lC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function P1(t,e){let n=uC(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function k1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=is(t):(i=vo({},t),Ne(!i.pathname||!i.pathname.includes("?"),kc("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),kc("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),kc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let u=aC(i,l),h=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}const sr=t=>t.join("/").replace(/\/\/+/g,"/"),cC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const R1=["post","put","patch","delete"];new Set(R1);const pC=["get",...R1];new Set(pC);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_o.apply(this,arguments)}const Cf=M.createContext(null),mC=M.createContext(null),ei=M.createContext(null),mu=M.createContext(null),vr=M.createContext({outlet:null,matches:[],isDataRoute:!1}),N1=M.createContext(null);function gC(t,e){let{relative:n}=e===void 0?{}:e;Oo()||Ne(!1);let{basename:r,navigator:i}=M.useContext(ei),{hash:s,pathname:o,search:l}=D1(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:sr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function Oo(){return M.useContext(mu)!=null}function Vo(){return Oo()||Ne(!1),M.useContext(mu).location}function b1(t){M.useContext(ei).static||M.useLayoutEffect(t)}function gu(){let{isDataRoute:t}=M.useContext(vr);return t?RC():yC()}function yC(){Oo()||Ne(!1);let t=M.useContext(Cf),{basename:e,future:n,navigator:r}=M.useContext(ei),{matches:i}=M.useContext(vr),{pathname:s}=Vo(),o=JSON.stringify(P1(i,n.v7_relativeSplatPath)),l=M.useRef(!1);return b1(()=>{l.current=!0}),M.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let f=k1(h,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:sr([e,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[e,r,o,s,t])}function vC(){let{matches:t}=M.useContext(vr),e=t[t.length-1];return e?e.params:{}}function D1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(ei),{matches:i}=M.useContext(vr),{pathname:s}=Vo(),o=JSON.stringify(P1(i,r.v7_relativeSplatPath));return M.useMemo(()=>k1(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function _C(t,e){return wC(t,e)}function wC(t,e,n,r){Oo()||Ne(!1);let{navigator:i}=M.useContext(ei),{matches:s}=M.useContext(vr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=Vo(),p;if(e){var f;let N=typeof e=="string"?is(e):e;u==="/"||(f=N.pathname)!=null&&f.startsWith(u)||Ne(!1),p=N}else p=h;let m=p.pathname||"/",_=m;if(u!=="/"){let N=u.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=QT(t,{pathname:_}),k=CC(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:sr([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:sr([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return e&&k?M.createElement(mu.Provider,{value:{location:_o({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:qn.Pop}},k):k}function EC(){let t=kC(),e=fC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const SC=M.createElement(EC,null);class xC extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(vr.Provider,{value:this.props.routeContext},M.createElement(N1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TC(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(Cf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(vr.Provider,{value:e},r)}function CC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);p>=0||Ne(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=p),f.route.id){let{loaderData:m,errors:_}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!_||_[f.route.id]===void 0);if(f.route.lazy||x){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,f,m)=>{let _,x=!1,k=null,N=null;n&&(_=l&&f.route.id?l[f.route.id]:void 0,k=f.route.errorElement||SC,u&&(h<0&&m===0?(x=!0,N=null):h===m&&(x=!0,N=f.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),E=()=>{let A;return _?A=k:x?A=N:f.route.Component?A=M.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=p,M.createElement(TC,{match:f,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?M.createElement(xC,{location:n.location,revalidation:n.revalidation,component:k,error:_,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var M1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(M1||{}),kl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kl||{});function AC(t){let e=M.useContext(Cf);return e||Ne(!1),e}function IC(t){let e=M.useContext(mC);return e||Ne(!1),e}function PC(t){let e=M.useContext(vr);return e||Ne(!1),e}function j1(t){let e=PC(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function kC(){var t;let e=M.useContext(N1),n=IC(kl.UseRouteError),r=j1(kl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RC(){let{router:t}=AC(M1.UseNavigateStable),e=j1(kl.UseNavigateStable),n=M.useRef(!1);return b1(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_o({fromRouteId:e},s)))},[t,e])}const Dg={};function NC(t,e){Dg[e]||(Dg[e]=!0,console.warn(e))}const Mg=(t,e,n)=>NC(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function bC(t,e){t!=null&&t.v7_startTransition||Mg("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Mg("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function ci(t){Ne(!1)}function DC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qn.Pop,navigator:s,static:o=!1,future:l}=t;Oo()&&Ne(!1);let u=e.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:u,navigator:s,static:o,future:_o({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=is(r));let{pathname:p="/",search:f="",hash:m="",state:_=null,key:x="default"}=r,k=M.useMemo(()=>{let N=Tf(p,u);return N==null?null:{location:{pathname:N,search:f,hash:m,state:_,key:x},navigationType:i}},[u,p,f,m,_,x,i]);return k==null?null:M.createElement(ei.Provider,{value:h},M.createElement(mu.Provider,{children:n,value:k}))}function MC(t){let{children:e,location:n}=t;return _C(Jh(e),n)}new Promise(()=>{});function Jh(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Jh(r.props.children,s));return}r.type!==ci&&Ne(!1),!r.props.index||!r.props.children||Ne(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function jC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VC(t,e){return t.button===0&&(!e||e==="_self")&&!OC(t)}const LC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$C="6";try{window.__reactRouterVersion=$C}catch{}const FC="startTransition",jg=tE[FC];function UC(t){let{basename:e,children:n,future:r,window:i}=t,s=M.useRef();s.current==null&&(s.current=HT({window:i,v5Compat:!0}));let o=s.current,[l,u]=M.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},p=M.useCallback(f=>{h&&jg?jg(()=>u(f)):u(f)},[u,h]);return M.useLayoutEffect(()=>o.listen(p),[o,p]),M.useEffect(()=>bC(r),[r]),M.createElement(DC,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const BC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O1=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:p,viewTransition:f}=e,m=jC(e,LC),{basename:_}=M.useContext(ei),x,k=!1;if(typeof h=="string"&&zC.test(h)&&(x=h,BC))try{let A=new URL(window.location.href),D=h.startsWith("//")?new URL(A.protocol+h):new URL(h),V=Tf(D.pathname,_);D.origin===A.origin&&V!=null?h=V+D.search+D.hash:k=!0}catch{}let N=gC(h,{relative:i}),T=HC(h,{replace:o,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:f});function E(A){r&&r(A),A.defaultPrevented||T(A)}return M.createElement("a",Zh({},m,{href:x||N,onClick:k||s?r:E,ref:n,target:u}))});var Og;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Og||(Og={}));var Vg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Vg||(Vg={}));function HC(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=gu(),h=Vo(),p=D1(t,{relative:o});return M.useCallback(f=>{if(VC(f,n)){f.preventDefault();let m=r!==void 0?r:Pl(h)===Pl(p);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,p,r,i,n,t,s,o,l])}function Rc({title:t,path:e}){let n=gu();const r=Vo();function i(l){n(l)}const s=r.pathname===e;let o="cursor-pointer hover:text-blue-300";return s&&(o+=" text-blue-800 dark:text-blue-300",o+=" underline underline-offset-8 decoration-2"),g.jsx("div",{className:o,onClick:()=>i(e),children:t})}function WC(){return g.jsxs("div",{className:"flex flex-row justify-between p-4 pr-6",children:[g.jsx("div",{className:"mr-6",children:"expenses"}),g.jsxs("div",{id:"nav-bar",className:"flex flex-row gap-5",children:[g.jsx(Rc,{title:"Expenses",path:Nt.root}),g.jsx(Rc,{title:"Accounts",path:Nt.paymentAccounts}),g.jsx(Rc,{title:"Settings",path:Nt.settings}),g.jsx(LS,{})]})]})}const GC=["expenses","groceries","eatout","social","ocio","drinks","invite","transport","health","present","home"],QC="expenses-form",KC=2;function wo(){return new Date(new Date().setMilliseconds(0))}const qC="sv-SE",YC=new Intl.DateTimeFormat(qC,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format;function XC(t){const e=t.getTimezoneOffset(),n=e<=0?"+":"-",r=e%60,i=(e-r)/60,s=o=>String(Math.abs(o)).padStart(2,"0");return`${n}${s(i)}:${s(r)}`}function Af(t){const e=YC(t),n=XC(t);return`${e} ${n}`}function If(t){return Af(t).replace(" ","T").replace(" ","")}function JC(t){return new Date(Date.parse(t))}function Lg({checked:t,label:e,onChange:n}){function r(s){n(s.target.checked)}const i=e.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","");return g.jsxs("label",{htmlFor:i,className:"relative inline-flex flex-row flex-nowrap justify-start items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",id:i,checked:t,onChange:r,className:"hidden peer"}),g.jsx("div",{role:"checkbox-icon-box",className:"w-5 h-5 rounded-sm border-2     border-gray-300       peer-checked:border-blue-500         dark:border-gray-600  dark:peer-checked:border-blue-600              bg-gray-100           peer-checked:bg-blue-500         dark:bg-gray-700      dark:peer-checked:bg-blue-700 transition-all",children:t&&g.jsx("svg",{role:"checkbox-icon-check",className:"w-4 h-4 absolute left-2.5 top-1/2 transform -translate-x-1/2 -translate-y-1/2      stroke-gray-100 dark:stroke-blue-200",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})}),g.jsx("div",{role:"checkbox-label",className:"p-2 text-sm ",children:e})]})}class En{constructor(e,n){G(this,"key");G(this,"type");this.key=e,this.type=n}exists(){return!!window.localStorage.getItem(this.key)}read(){const e=window.localStorage.getItem(this.key);if(e!==null)switch(this.type){case"string":return e;case"number":return Number(e);case"object":return JSON.parse(e);default:throw new Error(`Type ${this.type} is not supported yet`)}}set(e){this.assertType(e);let n="";switch(this.type){case"string":n=e;break;case"number":n=e.toString();break;case"object":n=JSON.stringify(e);break;default:throw new Error(`Type ${this.type} is not supported yet`)}window.localStorage.setItem(this.key,n)}delete(){this.exists()&&window.localStorage.removeItem(this.key)}assertType(e){const n=typeof e,r=this.type;if(n!==r)throw new Error(`Expected ${r}, got ${n} instead`)}}class V1{constructor(){G(this,"splitwiseApiToken");G(this,"tripTags");G(this,"people");G(this,"expenses");G(this,"paymentAccounts");G(this,"defaultPaymentAccountId");G(this,"firestoreConfig");G(this,"currencies");G(this,"shortcuts");this.splitwiseApiToken=new En("exp_splitwise_api_token","string"),this.tripTags=new En("exp__trip_tags","object"),this.people=new En("exp__people","object"),this.expenses=new En("exp__expenses","object"),this.paymentAccounts=new En("exp__payment_accounts","object"),this.defaultPaymentAccountId=new En("exp__default_payment_account_id","string"),this.firestoreConfig=new En("exp__firestore_config","object"),this.currencies=new En("exp__currencies","string"),this.shortcuts=new En("exp__shortcuts","object")}}const Me=new V1;function ZC(t,e){return new Set([...t,...e])}function eA(t,e){const n=new Set;if(t===void 0||e===void 0)return n;for(const r of t)e.has(r)&&n.add(r);return n}function tA({a:t,b:e}){const n=new Set,r=new Set([...e]);for(const i of t)e.has(i)?r.delete(i):n.add(i);return{inAButNotInB:n,inBButNotInA:r}}const Cr="";function L1({id:t,value:e,placeholder:n,choices:r,onChange:i,allowChoiceCreation:s,className:o}){const l=s===void 0?!0:s,[u,h]=M.useState(Cr),[p,f]=M.useState(!1),m=r.filter(S=>!e.includes(S)),_=m.filter(S=>S.toLowerCase().includes(u.toLowerCase())),x=Ca({chosen:e,notChosen:m,toChoose:_,all:r}),k=M.useRef(null);let N="relative text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 p-3 has-[input:focus]:border-t  border-t-blue-300  dark:has-[input:focus]:border-t-blue-300 has-[input:focus]:border-l  border-l-blue-300  dark:has-[input:focus]:border-l-blue-300 has-[input:focus]:border-r  border-r-blue-300  dark:has-[input:focus]:border-r-blue-300 group rounded has-[input:focus]:rounded-b-none appearance-none leading-tight";o&&(N+=` ${o}`);const T=" text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";function E(){f(!0)}function A(){f(!1)}M.useEffect(()=>{function S(R){R.composedPath().includes(k.current)||A()}document.addEventListener("mousedown",S)},[]);function D(S){h(S)}function V(){const S=nA({choice:u,state:x});Ca(S),i([...S.chosen]),h(Cr)}function L(S){const R=rA({choice:S,state:x});Ca(R),i([...R.chosen]),h(Cr)}function w(S){const R=iA({choice:S,state:x});Ca(R),i([...R.chosen]),h(Cr)}const C=![Cr,void 0].includes(u)&&_.length===0,P=e.length>0?void 0:n;return g.jsxs("div",{ref:k,className:N,role:"multi-choice-dropdown",onFocus:E,children:[g.jsxs("div",{className:"flex flex-row flex-wrap gap-2 overflow-x-hidden",role:"listbox-selected",children:[e.map((S,R)=>g.jsxs("div",{role:"choice",onClick:()=>w(S),className:"px-3 py-2 rounded text-gray-800 dark:text-gray-800   bg-gray-300   dark:bg-gray-400 cursor-pointer",children:[S,"  "]},`${R}-${S}`)),g.jsx("input",{id:t,type:"search",className:T,value:u===void 0?Cr:u,placeholder:P===void 0?Cr:P,onChange:S=>D(S.target.value)})]}),p&&g.jsxs("div",{role:"listbox-selectable",className:"absolute top-full inset-x-0 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 group-focus-within:border-l  group-focus-within:border-l-blue-300  dark:group-focus-within:border-l-blue-300 group-focus-within:border-b  group-focus-within:border-b-blue-300  dark:group-focus-within:border-b-blue-300 group-focus-within:border-r  group-focus-within:border-r-blue-300  dark:group-focus-within:border-r-blue-300 rounded-b -m-px z-10 dark:z-10",children:[C?l?g.jsxs("div",{role:"create-choice",onClick:V,className:"px-3 py-3 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:["Add  ",g.jsx("b",{children:u})]}):g.jsx("div",{role:"choices-not-found",className:"px-3 py-3 text-gray-800  dark:text-gray-200    bg-red-200     dark:bg-red-500",children:"Not found"}):null,m.filter(S=>S.toLowerCase().includes(u.toLowerCase())).map((S,R)=>g.jsx("div",{role:"choice",onClick:()=>L(S),className:"py-3 px-5 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:S},`${R}-${S}`))]})]})}function Ca(t){const e=new Set(t.chosen),n=new Set(t.notChosen),r=new Set(t.all),i=eA(e,n);if(i.size>0)throw kn("invalid state: a choice must only appear in either 'chosen' or 'notChosen' collections, but the following choices appear in both: "+[...i].map(u=>`'${u}'`).sort().join(", "));const s=[],{inAButNotInB:o,inBButNotInA:l}=tA({a:r,b:ZC(e,n)});if(o.size>0&&s.push("every choice in the 'all' collection must appear in either 'chosen' or, 'notChosen' collections but these do not: "+[...o].map(u=>`'${u}'`).sort().join(", ")),l.size>0&&s.push("every choice in the 'chosen' and 'notChosen' collections must appear in the 'all' collection, but these do not: "+[...l].map(u=>`'${u}'`).sort().join(", ")),s.length>0)throw kn(`invalid state:
${s.join(`

`)}`);return t}function nA({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:[...e.chosen,t],notChosen:e.notChosen.filter(n=>n!==t),all:[...e.all,t]}}function rA({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:[...e.chosen,t],notChosen:e.notChosen.filter(n=>n!==t),all:[...e.all]}}function iA({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:e.chosen.filter(n=>n!==t),notChosen:[...e.notChosen,t],all:[...e.all]}}function Et({id:t,value:e,placeholder:n,onChange:r,className:i,isCode:s}){let o="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";i&&(o+=` ${i}`),s&&(o+=" font-mono");function l(u){let h=u.target.value;h===""&&(h=void 0),r(h)}return g.jsx("input",{id:t,className:o,value:e===void 0?"":e,placeholder:n===void 0?"":n,onChange:l})}function sA({name:t,selected:e,onClick:n}){const r=i=>{i.preventDefault(),n()};return g.jsx(ae,{text:t,active:e,onClick:r})}const oA=Lt.div`
  display: flex;
  flex-flow: row wrap;
  justify-content: flex-start;
  align-items: stretch;
  align-content: flex-start;
  row-gap: 0.5rem;
  column-gap: 0.5rem;
`;function aA({tags:t,selected:e,onChange:n}){function r(i){const s=new Set([...e.values()]);e.has(i)?s.delete(i):s.add(i),n(s)}return g.jsx(oA,{children:t.map((i,s)=>g.jsx(sA,{name:i,selected:e.has(i),onClick:()=>r(i)},`${i}-${s}`))})}function Ai({main:t,people:e,seller:n,tags:r}){const i=[];if(t&&i.push(t),e&&e.length>0){const s=e.map(o=>`@${o}`);i.push(`with ${s.join(",")}`)}if(n&&i.push(`at @${n}`),r.length>0){const s=r.map(o=>`#${o}`).join(" ");i.push(s)}return i.join(" ")}function yu({raw:t}){let e=t,n,r,i=[],s,o=[];return e.startsWith("#")?(i=e.split("#").map(u=>u.trim()).filter(u=>u!==""),{main:r,people:o,seller:n,tags:i}):([e,...i]=e.split(" #"),e.startsWith("at @")?(n=e.replace("at @","").trim(),{main:r,people:o,seller:n,tags:i}):([e,n]=e.split(" at @"),e.startsWith("with @")?(o=e.replace("with @","").split(",@"),{main:r,people:o,seller:n,tags:i}):([e,s]=e.split(" with @"),s&&(o=s.split(",@")),e.trim()!==""&&(r=e),{main:r,people:o,seller:n,tags:i})))}const lA=Me.tripTags.read()||[],uA=cA([GC,lA]);function cA(t){const e=new Set([]),n=[];for(const r of t.flatMap(i=>i))e.has(r)||(e.add(r),n.push(r));return n}function Pf({description:t,peopleInSettings:e,onChange:n}){const r=yu({raw:t}),[i,s]=M.useState([]),o=hA({inSettings:e,addedByUser:i,inExpense:r.people});function l(f){n(Ai({...r,main:f}))}function u(f){n(Ai({...r,seller:f}))}function h(f){const m=f;if(!m)return;const _=new Set(o),x=m.filter(N=>!_.has(N));x.length>0&&s([...i,...x]);const k=m.sort();n(Ai({...r,people:k}))}function p(f){const m=[...f.values()];n(Ai({...r,tags:m}))}return g.jsxs("div",{role:"description-form",className:"mb-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[g.jsx(Et,{value:r.main,placeholder:"description",className:"col-start-1 col-span-2",onChange:l}),g.jsx(Et,{value:r.seller,placeholder:"seller",className:"col-start-1 col-span-1",onChange:u}),g.jsx(L1,{placeholder:"people",value:r.people,choices:o,onChange:h,allowChoiceCreation:!0})]}),g.jsx(aA,{tags:uA,selected:new Set(r.tags),onChange:p})]})}function hA({inSettings:t,addedByUser:e,inExpense:n}){return[...new Set([...t,...e,...n]).values()].sort()}function dA(t){if(t==="")return{isNumber:!1};const e=Number(t);return isNaN(e)?{isNumber:!1}:{isNumber:!0,value:e}}function Ws({value:t,placeholder:e,onChange:n,className:r}){let i="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";r&&(i+=` ${r}`);function s(o){if(o===""||o===void 0||o===null){n(void 0);return}const l=dA(o);l.isNumber&&n(l.value)}return g.jsx("input",{type:"number",pattern:"[0-9]*",className:i,value:t===void 0?"":t,placeholder:e===void 0?"":e,onChange:o=>s(o.target.value)})}var Mn=(t=>(t[t.KeepOrder=-1]="KeepOrder",t[t.SwapOrder=1]="SwapOrder",t))(Mn||{});let fA=t=>crypto.getRandomValues(new Uint8Array(t)),pA=(t,e,n)=>{let r=(2<<Math.log2(t.length-1))-1,i=-~(1.6*r*e/t.length);return(s=e)=>{let o="";for(;;){let l=n(i),u=i;for(;u--;)if(o+=t[l[u]&r]||"",o.length===s)return o}}},mA=(t,e=21)=>pA(t,e,fA);function gA(){return mA("1234567890abcdef",10)()}function $1(t){return`${t}_${gA()}`}class Mr{constructor(){G(this,"change$");G(this,"accounts");G(this,"changeSubject");G(this,"defaultAccountId");this.accounts=new Map,this.changeSubject=new Xr,this.change$=this.changeSubject.asObservable(),this.defaultAccountId=void 0,this.change$.subscribe(e=>console.debug(`${Mr.name}.change$:`,e))}initialize({accounts:e,defaultAccountId:n}){console.debug(`${Mr.name}.${this.initialize.name}::started`),console.debug(`${Mr.name}.${this.initialize.name}::defaultAccountId`,n);for(const r of e){const{id:i}=r;this.accounts.has(i)&&this.error(this.initialize,`same PaymentAccountId found at least twice: ${i}`),this.accounts.set(i,r)}n&&this.accounts.has(n)===!1&&this.error(this.initialize,`no account ID matches the defaultAccountId='${n}'`),this.defaultAccountId=n,this.changeSubject.next({kind:"PaymentAccountManagerInitialized"})}get({id:e}){return this.accounts.get(e)}setDefault({id:e}){this.accounts.has(e)===!1&&this.error(this.setDefault,`'${e}' must match an existing Payment Account ID`),this.defaultAccountId=e,this.changeSubject.next({kind:"DefaultPaymentAccountSet",id:e})}getDefault(){if(this.accounts.size!==0){if(this.accounts.size===1)return[...this.accounts.values()][0];if(this.defaultAccountId!==void 0)return this.accounts.get(this.defaultAccountId)}}getAll(){return[...this.accounts.values()].sort(yA)}add({draft:e}){const n=this.generatePaymentAccountId(),r={id:n,...e};this.accounts.set(n,r),this.changeSubject.next({kind:"PaymentAccountAdded",id:n})}update({account:e}){const{id:n}=e;this.accounts.has(n)===!1&&this.error(this.update,`Cannot update an account because it does not exist, id=${n}`),this.accounts.set(n,e),this.changeSubject.next({kind:"PaymentAccountUpdated",id:n})}delete({id:e}){this.accounts.has(e)===!1&&this.error(this.delete,`Cannot delete an account because it does not exist, id=${e}`),this.accounts.delete(e),this.changeSubject.next({kind:"PaymentAccountUpdated",id:e})}error(e,n){throw new Error(`${Mr.name}.${e.name}::${n}`)}generatePaymentAccountId(){for(;;){const e=$1("pay");if(this.accounts.has(e)===!1)return e}}}function yA(t,e){return t.name<=e.name?Mn.KeepOrder:Mn.SwapOrder}function $e({htmlFor:t,text:e,children:n}){return g.jsxs("label",{className:"text-gray-600  dark:text-gray-400",htmlFor:t,children:[e,n]})}const $g={id:"empty-option",label:""};function or({id:t,selected:e,options:n,onSelect:r,className:i,disabled:s}){let o="relative";i&&(o+=` ${i}`);let l="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-100   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none cursor-pointer leading-tight focus:outline-none focus:shadow-outline";s&&(l+=" cursor-not-allowed opacity-20 dark:opacity-50");const u=new Map([]),h=new Map([]);for(const{id:_,label:x}of n)u.set(x,_),h.set(_,x);function p(_){const x=_.currentTarget.value,k=u.get(x);if(k===void 0){console.error("BUG: selected `<option>` has an unexpected `value`:",x);return}r(k)}let f,m=[...n];return e===void 0?(f=$g.label,m=[$g,...n]):f=h.get(e),g.jsxs("div",{id:t,className:o,role:"select",children:[g.jsx("select",{value:f,className:l,disabled:s,onChange:p,children:m.map(({id:_,label:x})=>g.jsx("option",{value:x,children:x},_))}),!s&&g.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",role:"fold-unfold-icon",children:g.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-1",fill:"currentColor",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 10l5 5 5-5H7z"})})})]})}function F1({paidWith:t,app:e,onChange:n}){const[r,i]=M.useState(t),[s,o]=M.useState([]);M.useEffect(()=>{const h=e.paymentAccountsManager.change$.subscribe(p=>{o(e.paymentAccountsManager.getAll())});return o(e.paymentAccountsManager.getAll()),()=>{h.unsubscribe()}},[e]);function l(h){const p=e.paymentAccountsManager.get({id:h});if(p===void 0){Zs.add({header:`UNEXPECTED ERROR: no account found with ID ${h}`,description:`When handling account selection in ${F1.name} component, the ID ${h} was picked by the UI but no payment account found with that ID in ${Mr.name}`});return}i(h),n(p)}if(s.length===0)return g.jsx("div",{children:"loading accounts..."});const u=s.map(h=>({id:h.id,label:h.name}));return g.jsx("div",{children:g.jsx($e,{htmlFor:"paid-with",text:"Paid with:",children:g.jsx(or,{id:"paid-with",selected:r,options:u,onSelect:l})})})}class vA extends Error{constructor(e){super(e),this.name="InvalidDate"}}const ed=1e3,Rl=60*ed,td=60*Rl,Gs=24*td,Fg=6;class _e{constructor({year:e,month:n,day:r,hour:i,minute:s,second:o,ms:l}){G(this,"year");G(this,"month");G(this,"day");G(this,"hour");G(this,"minute");G(this,"second");G(this,"ms");G(this,"nativeDate");const u=Nc(n),h=i||0,p=s||0,f=o||0,m=l||0,_=new Date(e,u,r,h,p,f,m);if(_.getDate()!==r||Ar({value:n,start:1,end:12})||Ar({value:r,start:1,end:31})||Ar({value:h,start:0,end:23})||Ar({value:h,start:0,end:23})||Ar({value:p,start:0,end:59})||Ar({value:f,start:0,end:59})||Ar({value:m,start:0,end:999})){const x=n.toString().padStart(2,"0"),k=r.toString().padStart(2,"0"),N=h.toString().padStart(2,"0"),T=p.toString().padStart(2,"0"),E=f.toString().padStart(2,"0"),A=m.toString().padStart(3,"0");let D=`${e}-${x}-${k} ${N}:${T}:${E}.${A}`;throw new vA(`${D} is not a valid date`)}this.year=e,this.month=n,this.day=r,this.hour=h,this.minute=p,this.second=f,this.ms=m,this.nativeDate=_}static fromNative(e){const n=e.getFullYear(),r=_A(e.getMonth()),i=e.getDate(),s=e.getHours(),o=e.getMinutes(),l=e.getSeconds(),u=e.getMilliseconds();return new _e({year:n,month:r,day:i,hour:s,minute:o,second:l,ms:u})}weekday(){return wA(this.nativeDate.getDay())}toISODate(){return`${this.year}-${this.toISOMonthString()}-${this.toISODayString()}`}toNative(){return this.nativeDate}setYear(e){return new _e({year:e,month:this.month,day:this.day})}setMonth(e){return new _e({year:this.year,month:e,day:this.day})}minusNMonths(e){const n=Math.floor(e/12),r=e%12;let i=this.year-n,s=this.month-r;s<1&&(i=i-1,s=s+12);const o=Nc(s);return new Date(Date.UTC(i,o,this.day)).getUTCDate()!==this.day?this.minusNDays(1).minusNMonths(e):new _e({year:i,month:s,day:this.day})}minusNDays(e){const n=new Date(this.nativeDate.getTime()-e*Gs);return _e.fromNative(n)}minusNHours(e){const n=new Date(this.nativeDate.getTime()-e*td);return _e.fromNative(n)}minusNMinutes(e){const n=new Date(this.nativeDate.getTime()-e*Rl);return _e.fromNative(n)}minusNSeconds(e){const n=new Date(this.nativeDate.getTime()-e*ed);return _e.fromNative(n)}plusNMonths(e){const n=Math.floor(e/12),r=e%12;let i=this.year+n,s=this.month+r;s>12&&(i=i+1,s=s-12);const o=Nc(s);return new Date(Date.UTC(i,o,this.day)).getUTCDate()!==this.day?this.minusNDays(1).plusNMonths(e):new _e({year:i,month:s,day:this.day})}plusNDays(e){const n=new Date(this.nativeDate.getTime()+e*Gs);return _e.fromNative(n)}plusNHours(e){const n=new Date(this.nativeDate.getTime()+e*td);return _e.fromNative(n)}plusNMinutes(e){const n=new Date(this.nativeDate.getTime()+e*Rl);return _e.fromNative(n)}plusNSeconds(e){const n=new Date(this.nativeDate.getTime()+e*ed);return _e.fromNative(n)}isEqualTo(e){return this.year===e.year&&this.month===e.month&&this.day===e.day}toISOMonthString(){return this.month.toString().padStart(2,"0")}toISODayString(){return this.day.toString().padStart(2,"0")}}function Nc(t){return t-1}function _A(t){return t+1}function wA(t){let e=t-1;return e<0&&(e=e+7),e}function EA({year:t,month:e}){const n=[new _e({year:t,month:e,day:1})];for(;;){const r=n.at(-1);if(r===void 0)throw kn();try{n.push(new _e({year:t,month:e,day:r.day+1}))}catch{break}}return n}function Ar({value:t,start:e,end:n}){return t<e||n<t}function SA({of:t,withTimeFrom:e}){const n=t.getTimezoneOffset()*Rl,r=Math.floor((t.getTime()-n)/Gs)*Gs,i=e.getTime()%Gs,s=r+i;return new Date(s)}function xA({value:t,defaultValue:e,onChange:n}){const[r,i]=M.useState(e);function s(p){const m=SA({of:p,withTimeFrom:t});n(m),i(t)}function o(){const p=_e.fromNative(t).minusNMonths(1).toNative();s(p)}function l(){const p=_e.fromNative(t).plusNMonths(1).toNative();s(p)}const u="flex flex-row items-center justify-center gap-3 h-14 ",h="w-3 text-xl text-bold cursor-pointer";return g.jsxs("div",{className:"flex flex-col w-80",children:[g.jsxs("div",{className:u,role:"month-and-year-picker",children:[g.jsx("div",{role:"go-to-previous-month",className:h,onClick:()=>o(),children:"<"}),g.jsx(TA,{value:t,onChange:s,className:"w-24"}),g.jsx(CA,{value:t,onChange:s,className:"w-32"}),g.jsx("div",{role:"go-to-next-month",className:h,onClick:()=>l(),children:">"})]}),g.jsx(AA,{value:t,previousValue:r,onChange:s})]})}function TA({value:t,onChange:e,className:n}){const r=IA({reference:t.getFullYear()}),i=`${t.getFullYear()}`,s=r.map(l=>l.toString()).map(l=>({id:l,label:l}));function o(l){const u=s.filter(f=>f.id===l)[0],h=Number(u.label),p=_e.fromNative(t).setYear(h).toNative();e(p)}return g.jsx("div",{className:n,role:"year-picker",children:g.jsx(or,{selected:i,options:s,onSelect:o})})}const Ug=new Map([["January",1],["February",2],["March",3],["April",4],["May",5],["June",6],["July",7],["August",8],["September",9],["October",10],["November",11],["December",12]]);function CA({value:t,onChange:e,className:n}){const r=t.toLocaleString("default",{month:"long"}),i=[...Ug.keys()].map(o=>({id:o,label:o}));function s(o){const l=Ug.get(o);if(l===void 0)throw kn(`failed to map '${o}' to a month`);const u=_e.fromNative(t).setMonth(l).toNative();e(u)}return g.jsx("div",{className:n,role:"month-picker",children:g.jsx(or,{selected:r,options:i,onSelect:s})})}function AA({value:t,previousValue:e,onChange:n}){const r="p-1",i="grid grid-cols-7",s=_e.fromNative(t),o=_e.fromNative(e),l=EA({year:s.year,month:s.month}),u=[{text:"Mo"},{text:"Tu"},{text:"We"},{text:"Th"},{text:"Fr"},{text:"Sa"},{text:"Su"}],h=l[0],p=h.weekday(),f=[];for(let k=p;k>0;k--){const N=h.minusNDays(k);f.push(N)}const m=l[l.length-1],_=m.weekday(),x=[];if(_<Fg){const k=Fg-m.weekday();for(let N=1;N<=k;N++){const T=m.plusNDays(N);x.push(T)}}return g.jsx("div",{className:r,children:g.jsxs("div",{className:i,children:[u.map(k=>g.jsx(Aa,{text:k.text,selected:!1,wasPreviousSelection:!1,grayedOut:!0,onSelect:void 0},k.text)),f.map(k=>g.jsx(Aa,{text:k.day.toString(),selected:!1,wasPreviousSelection:k.isEqualTo(o),grayedOut:!0,onSelect:()=>{n(k.toNative())}},`prev-month-${k.day.toString()}`)),l.map(k=>g.jsx(Aa,{text:k.day.toString(),selected:k.isEqualTo(s),wasPreviousSelection:k.isEqualTo(o),grayedOut:!1,onSelect:()=>{n(k.toNative())}},`this-month-${k.day.toString()}`)),x.map(k=>g.jsx(Aa,{text:k.day.toString(),selected:!1,wasPreviousSelection:k.isEqualTo(o),grayedOut:!0,onSelect:()=>{n(k.toNative())}},`next-month-${k.day.toString()}`))]})})}function Aa({text:t,selected:e,wasPreviousSelection:n,grayedOut:r,onSelect:i}){let s="w-12 p-2 text-xl rounded flex items-center justify-center cursor-pointer",o=" opacity-50",l=" border-2 border-gray-500 border-opacity-30";return e?(s+=" text-white  bg-blue-600  dark:bg-blue-800",s+=" z-10"):n&&r?(s+=l,s+=o):n&&!r?s+=l:r&&(s+=o),g.jsx("div",{className:s,onClick:i?()=>i():void 0,children:t})}function IA({reference:t}){const e=[];for(let i=1;i<10;i++)e.push(t-i);e.push(t);const r=10;for(let i=1;i<r;i++)e.push(t+i);return e.sort()}function PA({value:t,onChange:e}){const n=_e.fromNative(t);function r(){e(n.plusNHours(1).toNative())}function i(){e(n.minusNHours(1).toNative())}function s(){e(n.plusNMinutes(1).toNative())}function o(){e(n.minusNMinutes(1).toNative())}function l(){e(n.plusNSeconds(1).toNative())}function u(){e(n.minusNSeconds(1).toNative())}return g.jsxs("div",{className:"flex flex-row gap-8",children:[g.jsx(bc,{value:n.hour,onIncrement:r,onDecrement:i}),g.jsx(bc,{value:n.minute,onIncrement:s,onDecrement:o}),g.jsx(bc,{value:n.second,onIncrement:l,onDecrement:u})]})}function bc({value:t,onIncrement:e,onDecrement:n}){return g.jsxs("div",{className:"flex flex-row gap-2 text-xl",children:[g.jsx("div",{role:"increase",className:"cursor-pointer",onClick:e,children:"+"}),g.jsx("div",{role:"value",children:t.toString().padStart(2,"0")}),g.jsx("div",{role:"decrease",className:"cursor-pointer",onClick:n,children:"-"})]})}function kA({children:t,className:e,isOpen:n,onClickOutside:r}){let i="z-10",s="z-10 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none";return e&&(s+=` ${e}`),g.jsxs(g.Fragment,{children:[g.jsx(RA,{onClick:r,isVisible:n,className:i}),g.jsx("dialog",{className:s,open:n,children:t})]})}function RA({isVisible:t,onClick:e,className:n}){let r="absolute top-0  left-0  right-0  bottom-0 bg-gray-900 opacity-60";return t?r+="":r+=" hidden",n&&(r+=` ${n}`),g.jsx("div",{className:r,role:"dialog-backdrop",onClick:e})}const NA=Lt.span`
  opacity: 0.6;
  margin-left: 1rem;
`;function Bg({date:t}){const[e,n]=M.useState(0);M.useEffect(()=>{const f=setInterval(()=>{n(m=>{const _=wo().getTime()-t.getTime();return Math.round(_/1e3)})},100);return()=>clearInterval(f)},[t]);const r=Af(t),[i,s,o]=r.split(" "),l=e%60,u=(e-l)/60,h=[];u>0&&h.push(`${u}m`),h.push(`${l}s`);const p=h.join(" ");return g.jsxs("span",{children:[i," ",g.jsx("b",{children:s})," ",o,g.jsx(NA,{children:p})]})}function bA({defaultDate:t,date:e,onChange:n}){const[r,i]=M.useState(!1),s="flex flex-row flex-nowrap justify-between";return g.jsxs("div",{className:"m-1",children:[g.jsx("div",{className:s,children:g.jsx(kA,{className:"p-4 rounded-lg",isOpen:r,onClickOutside:()=>i(!1),children:g.jsxs("div",{className:"flex flex-col gap-8 justify-center align-center",children:[g.jsx(xA,{value:e,defaultValue:t,onChange:n}),g.jsx(PA,{value:e,onChange:n}),g.jsx(Bg,{date:e})]})})}),g.jsxs("div",{className:s,children:[g.jsx(Bg,{date:e}),g.jsx(ae,{text:r?"Close":"Edit time",disabled:r,onClick:()=>i(!r)})]})]})}function DA({split:t,onChange:e}){const[n,r]=M.useState(t.paid),[i,s]=M.useState(t.owed);M.useEffect(()=>{r(t.paid),s(t.owed)},[t]);function o(u){s(u),e({...t,owed:u})}function l(u){r(u),e({...t,paid:u})}return g.jsxs("li",{role:"split",className:"px-4",children:[g.jsx("div",{role:"split-name",className:"text-lg pt-3",children:t.person}),g.jsxs("div",{className:"grid grid-col-2 gap-3",children:[g.jsx("div",{role:"split-paid",className:"col-start-0 col-start-1",children:g.jsx($e,{htmlFor:`paid-${t.person}`,text:"paid",children:g.jsx("div",{className:"pt-1",children:g.jsx(Ws,{value:n,placeholder:"Paid amount",onChange:l})})})}),g.jsx("div",{role:"split-owed",className:"col-start-1 col-start-2",children:g.jsx($e,{htmlFor:`paid-${t.person}`,text:"owed",children:g.jsx("div",{className:"pt-1",children:g.jsx(Ws,{value:i,placeholder:"Owed amount",onChange:o})})})})]})]})}function MA(t){const e=Math.pow(10,KC),n=t.map(f=>f.paid||0).reduce((f,m)=>f+m,0),r=t.length,i=e*n/r,s=Math.floor(i),o=n*e-s*t.length,l=1,u=[];let h=0;for(let f=0;f<t.length;f++)h<o?(h+=l,u.push(s+l)):u.push(s);return t.map((f,m)=>({...f,owed:u[m]/e}))}function jA(t){let e=0,n=0;for(const r of t)e+=r.paid||0,n+=r.owed||0;return e!==n?{isValid:!1,reason:"total paid amount does not match total owed amount"}:{isValid:!0}}function OA({splits:t,onChange:e}){function n(){const i=MA(t);e(i)}const r=jA(t);return g.jsxs("div",{role:"split-default-actions",className:"p-3",children:[g.jsx("div",{className:"flex flex-column justify-center",children:g.jsx(ae,{text:"split equally",onClick:n})}),r.isValid===!1&&g.jsxs("div",{role:"invalid-splits",className:"pt-3 flex flex-column justify-center",children:["INVALID SPLITS: ",r.reason]})]})}function VA({splits:t,amount:e,selectablePeople:n,onChange:r}){const[i,s]=M.useState(t),[o,l]=M.useState(i.map(f=>f.person));function u(f){s(f),r(f)}function h(f){function m(_){const x=i.map((k,N)=>f===N?_:{...k});u(x)}return m}function p(f){l(f);const _=[],x=new Set([...f.values()]),k=new Set;for(const N of i){const T=N.person;x.has(T)!==!1&&(_.push(N),x.delete(T),k.add(T))}for(const N of x.values()){if(_.length===0){_.push({person:N,paid:e,owed:void 0});continue}_.push({person:N,paid:void 0,owed:void 0})}u(_)}return g.jsxs("div",{role:"splits-container",className:"pb-3",children:[g.jsx("div",{role:"participants",children:g.jsx($e,{htmlFor:"participants",text:"Participants",children:g.jsx("div",{className:"pt-2",children:g.jsx(L1,{id:"participants",placeholder:"participant names",value:o,choices:n,onChange:p,allowChoiceCreation:!1})})})}),i.length===0&&g.jsx("div",{className:"p-2 flex flex-row justify-center",children:g.jsx("p",{children:"there are no splits"})}),i.length>0&&g.jsx(OA,{splits:i,onChange:u}),i.length>0&&g.jsx("ol",{children:i.map((f,m)=>g.jsx(DA,{split:f,onChange:h(m)},`split-${f.person}`))})]})}function LA({data:t,select:e}){function n(r,i){r.preventDefault(),e(i)}return g.jsx("div",{className:"flex flex-row flex-wrap my-2 mb-2 gap-2",children:t.length===0?g.jsxs("div",{children:["No shortcuts found. You can add them in the"," ",g.jsx(O1,{to:Nt.settings,children:"Settings"})," page"]}):t.map((r,i)=>g.jsx(ae,{text:r.buttonName,onClick:s=>n(s,r.id)},`shortcut-${i}`))})}const $A=Lt.div`
  display: flex;
  flex-flow: row wrap;
`,FA=Lt.div`
  margin-bottom: 1rem;
`;function UA({app:t,expense:e,update:n}){const[r,i]=M.useState(e.originalAmount!==void 0),[s,o]=M.useState(new Set),[l,u]=M.useState(),[h,p]=M.useState([]),[f,m]=M.useState(e.splits),[_,x]=M.useState([]);M.useEffect(()=>{const S=t.paymentAccountsManager.change$.subscribe(lt=>{u(t.paymentAccountsManager.get({id:e.paid_with}))}),R=t.currencyManager.change$.subscribe(lt=>{o(t.currencyManager.getAll())}),I=t.peopleManager.change$.subscribe(lt=>{p(t.peopleManager.getAll().map(gn=>gn.name))}),Ye=t.shortcutsManager.change$.subscribe(lt=>{x(t.shortcutsManager.getAll())});return u(t.paymentAccountsManager.get({id:e.paid_with})),o(t.currencyManager.getAll()),p(t.peopleManager.getAll().map(lt=>lt.name)),x(t.shortcutsManager.getAll()),()=>{S.unsubscribe(),R.unsubscribe(),I.unsubscribe(),Ye.unsubscribe()}},[t,e.paid_with]);function k(S){const R=If(S);n({...e,datetime:R})}function N(S){console.debug("Refreshing date"),S.preventDefault(),k(wo())}function T(S){n({...e,paid_with:S.id,currency:S.currency})}function E(S){n({...e,amount:S})}function A(S){n({...e,originalAmount:S})}function D(S){n({...e,originalCurrency:S})}function V(S){console.debug("ExpenseEditor::handleDescriptionChange:description:",S),e.description!==S&&n({...e,description:S})}function L(S){const R=_.filter(I=>I.id===S)[0];V(Ai({main:R.main,people:R.people,seller:R.seller,tags:R.tags}))}function w(S){n({...e,shared:S})}function v(S){S&&n({...e,originalAmount:void 0,originalCurrency:void 0}),i(S)}function C(S){m(S),n({...e,splits:S})}if(l===void 0)return g.jsxs("div",{children:["Account ",g.jsx("code",{children:e.paid_with})," not found"]});const P=[...s].filter(S=>S!==l.currency).sort();return g.jsxs("div",{children:[g.jsx(bA,{date:new Date(Date.parse(e.datetime)),defaultDate:wo(),onChange:k}),g.jsx($A,{children:g.jsx(FA,{onClick:N,children:g.jsx(ae,{text:"now",icon:"rotate",onClick:N})})}),g.jsx(F1,{paidWith:e.paid_with,app:t,onChange:T}),g.jsx("div",{className:"pb-3 flex flex-row flex-no-wrap justify-end",children:g.jsx(Lg,{label:"paid with different currency",checked:r,onChange:v})}),g.jsx("div",{className:"grid grid-col-2 gap-2",children:r?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"col-span-1",children:g.jsx(Ws,{value:e.originalAmount,placeholder:"Amount in payment currency",onChange:A})}),g.jsx("div",{className:"col-start-2 col-span-2",children:g.jsx(or,{id:"payment-currency",selected:e.originalCurrency,options:P.map(S=>({id:S,label:S})),onSelect:D})}),g.jsx("div",{className:"col-span-1",children:g.jsx(Ws,{value:e.amount,placeholder:"Amount in account currency",onChange:E})}),g.jsx("div",{className:"col-start-2 col-span-2",children:g.jsx(or,{id:"account-currency",selected:l.currency,options:[{id:l.currency,label:l.currency}],onSelect:()=>{},disabled:!0})})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"col-span-1",children:g.jsx(Ws,{value:e.amount,placeholder:"Amount",onChange:E})}),g.jsx("div",{className:"col-start-2 col-span-2",children:g.jsx(or,{selected:l.currency,options:[{id:l.currency,label:l.currency}],onSelect:()=>{},disabled:!0})})]})}),g.jsx(LA,{data:_.map(({id:S,buttonName:R})=>({id:S,buttonName:R})),select:L}),g.jsx(Pf,{description:e.description,peopleInSettings:h,onChange:V}),g.jsx("div",{className:"py-4 flex flex-row justify-end",children:g.jsx(Lg,{checked:e.shared,label:"is shared",onChange:w})}),e.shared&&g.jsx("div",{style:{height:`${8*Math.max(h.length,e.splits.length)}rem`},children:g.jsx(VA,{splits:f,amount:e.originalAmount||e.amount||0,selectablePeople:h,onChange:C})})]})}function BA({app:t}){const{expenseId:e}=vC(),n=gu(),[r,i]=M.useState(void 0);if(e===void 0)return n(Nt.root),null;M.useEffect(()=>{const o=t.expenseManager.change$.subscribe(l=>{i(t.expenseManager.get(e))});return i(t.expenseManager.get(e)),()=>{o.unsubscribe()}},[t]);function s(o){console.debug("ExpenseEditorPage::handleUpdate::expense",o),t.expenseManager.update(o)}return r===void 0?g.jsx(Ur,{children:g.jsx("div",{className:"flex flex-row justify-center",children:"loading..."})}):g.jsx(Ur,{children:g.jsx(UA,{expense:r.expense,app:t,update:s})})}function kf({children:t,isOpen:e}){const n=`
    overflow-hidden
    transition-all
    duration-300
    ease-in-out
    ${e?"":"max-h-0"}
  `;return g.jsx("div",{className:n,role:"collapse",children:t})}function zA({isOn:t,labelOn:e,labelOff:n,onToggle:r}){function i(o){r(o.target.checked)}const s=e.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","");return g.jsxs("label",{htmlFor:s,className:"relative inline-flex flex-row flex-nowrap items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",id:s,checked:t,onChange:i,className:"hidden peer"}),g.jsx("div",{role:"toggle-rail",className:"w-11 h-6 bg-gray-200  dark:bg-gray-700 rounded-full peer-checked:bg-blue-600 peer-checked:after:translate-x-full after:h-5 after:w-5 after:absolute  after:top-2  after:start-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:transition-all"}),g.jsx("div",{role:"toggle-label",className:"p-2 text-sm ",children:t?e:n})]})}var U1=(t=>(t.local="local",t.pushed="pushed",t.changedSincePushed="changedSincePushed",t))(U1||{});class Rf{constructor(){G(this,"change$");G(this,"changeSubject");G(this,"expenses");this.changeSubject=new Xr,this.change$=this.changeSubject.asObservable(),this.expenses=new Map}add(e){console.debug("ExpenseManager.add::newExpense:",e);const n=this.generateId(),i={expense:{id:n,...e},status:"local",readyToPublish:!1};this.expenses.set(n,i),this.changeSubject.next(new B1(n))}get(e){const n=this.expenses.get(e);if(n===void 0)throw new Error(`Expected a ${e} Expense ID in ${Rf.name}, but not found`);return n}getAll(){console.debug("ExpenseManager.getAll()");const e=[];for(const n of this.expenses.values())e.push(n);return e.sort((n,r)=>n.expense.datetime<r.expense.datetime?Mn.SwapOrder:Mn.KeepOrder)}update(e){console.debug("ExpenseManager.update::expense:",e);const{id:n}=e,r=this.expenses.get(n);if(r===void 0)throw new Error(`Expected an Expense with ID ${n}, but none found.`);const i={...r,expense:e,readyToPublish:HA(e)};this.expenses.set(n,i),this.changeSubject.next(new z1(n))}delete(e){console.debug(`ExpenseManager.delete::id=${e}`),this.expenses.delete(e),this.changeSubject.next(new H1(e))}initialize({appExpenses:e}){console.debug("ExpenseManager.initialize::Starting initialization...");const n=new Set;e.forEach(r=>{const i=r.expense.id;if(n.has(i))throw new Error(`IDs must be unique, and ${i} is repeated`);n.add(i),this.expenses.set(i,r)}),console.debug("ExpenseManager.initialize::Run to completion")}generateId(){return $1("exp")}}class B1{constructor(e){this.expenseId=e}}class z1{constructor(e){this.expenseId=e}}class H1{constructor(e){this.expenseId=e}}function HA(t){return t.amount!==void 0}function WA(t){function e(i){return i.expense.datetime.slice(0,10)}const n=new Map;for(const i of t){const s=e(i),o=n.get(s)||[];n.set(s,[...o,i])}return[...n.keys()].sort().reverse().map(i=>[i,n.get(i)])}const GA=new RegExp(/([0-9]{4}[a-z]+)/gm);function QA(t){return GA.exec(t)!==null}function KA(t){var i;const e=yu({raw:t}),n=e.tags.filter(QA).map(s=>`#${s}`).join(" ");let r=`${(i=e.main)==null?void 0:i.trim()} @ ${e.seller}`;return n&&(r=`${r} ${n}`),r}const qA=Lt.div`
  order: 1;
  flex-grow: 0;
  flex-shrink: 1;
`,YA=Lt.div`
  order: 2;
  flex-grow: 1;
  flex-shrink: 1;
`,XA={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};function JA(t){const e=t.getMonth()+1,n=t.getDate(),r=XA[e],i=n>9?`${n}`:`0${n}`;return`${r}-${i}`}function zg(t){return navigator.clipboard.writeText(t).then(e=>{alert(`Copied to clipboard:
${t}`)}).catch(e=>{Zs.add({header:"Error while trying to copy to clipboard",description:e})})}function ZA(t){return t.originalAmount?`${t.originalAmount} ${t.originalCurrency}`:t.amount===void 0?"?":`${t.amount} ${t.currency}`}function eI({appExpense:t,deleting:e,edit:n,remove:r,deleteMode:i,app:s}){const{expense:o}=t,[l,u]=M.useState(!1);function h(){console.debug(`ExpenseQueue.handleOnEditClick:: ${o.id}`),n()}function p(){console.debug(`ExpenseQueue.handleOnDeleteClick:: ${o.id}`),!e&&r()}const f=s.paymentAccountsManager.get({id:o.paid_with});let m=KA(o.description),_="flex flex-row flex-nowrap gap-x-2 p-2 dark:p-2";return t.readyToPublish||(_+=" bg-red-200 dark:bg-red-900"),g.jsxs("div",{className:_,children:[g.jsx(qA,{children:i?g.jsx(ae,{onClick:p,icon:"bin"}):g.jsx(ae,{onClick:h,icon:"pencil"})}),g.jsxs(YA,{children:[g.jsxs("span",{onClick:()=>u(!l),children:[g.jsx("b",{children:ZA(o)})," ",o.description]}),g.jsxs(kf,{isOpen:l,children:[g.jsxs("pre",{children:["id: ",o.id]}),g.jsxs("pre",{children:["datetime: ",Af(JC(o.datetime))]}),g.jsxs("pre",{children:["paid_with: ",f&&f.name]}),g.jsxs("pre",{children:["original_amount: ",o.originalAmount," ",o.originalCurrency]}),g.jsxs("div",{className:"flex flex-row gap-3 pt-1",children:[g.jsx(ae,{text:"Copy full description",onClick:()=>zg(o.description)}),g.jsx(ae,{text:"Copy Splitwise description",onClick:()=>zg(m)})]})]})]})]})}function tI({expenses:t,onEditExpense:e,onDelete:n,app:r}){const[i,s]=M.useState(!1);function o(){s(!i)}const l=WA(t);return g.jsxs("div",{children:[g.jsx("div",{className:"flex flex-row justify-end",children:g.jsx(zA,{isOn:i,labelOn:"enable deletion mode",labelOff:"exit deletion mode",onToggle:()=>o()})}),l.length>0?l.map(([u,h])=>{const p=JA(new Date(Date.parse(u)));return g.jsxs("div",{children:[g.jsx("div",{className:"pt-4 p-2",children:g.jsx("b",{children:p})}),g.jsx("div",{children:h.map(f=>{const m=f.expense.id;return g.jsx(eI,{deleting:!1,appExpense:f,edit:()=>e(m),remove:()=>n(m),deleteMode:i,app:r},`queued-expense-${m}`)})})]},`${u}-expenses`)}):g.jsx("p",{children:"No expenses :)"})]})}const nI=tI;var Hg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},G1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,p=s>>2,f=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,o||(m=64)),r.push(n[p],n[f],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(W1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||f==null)throw new iI;const m=s<<2|l>>4;if(r.push(m),h!==64){const _=l<<4&240|h>>2;if(r.push(_),f!==64){const x=h<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sI=function(t){const e=W1(t);return G1.encodeByteArray(e,!0)},Nl=function(t){return sI(t).replace(/\./g,"")},oI=function(t){try{return G1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=()=>aI().__FIREBASE_DEFAULTS__,uI=()=>{if(typeof process>"u"||typeof Hg>"u")return;const t=Hg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oI(t[1]);return e&&JSON.parse(e)},Nf=()=>{try{return lI()||uI()||cI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hI=t=>{var e,n;return(n=(e=Nf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dI=t=>{const e=hI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q1=()=>{var t;return(t=Nf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nl(JSON.stringify(n)),Nl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gI(){var t;const e=(t=Nf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yI(){return!gI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vI(){try{return typeof indexedDB=="object"}catch{return!1}}function _I(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="FirebaseError";class ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wI,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K1.prototype.create)}}class K1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?EI(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ss(i,l,r)}}function EI(t,e){return t.replace(SI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SI=/\{\$([^}]+)}/g;function nd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Wg(s)&&Wg(o)){if(!nd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CI(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TI(t){return t===kr?void 0:t}function CI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const II={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},PI=te.INFO,kI={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},RI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q1{constructor(e){this.name=e,this._logLevel=PI,this._logHandler=RI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?II[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const NI=(t,e)=>e.some(n=>t instanceof n);let Gg,Qg;function bI(){return Gg||(Gg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DI(){return Qg||(Qg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y1=new WeakMap,rd=new WeakMap,X1=new WeakMap,Dc=new WeakMap,bf=new WeakMap;function MI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ar(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Y1.set(n,t)}).catch(()=>{}),bf.set(e,t),e}function jI(t){if(rd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rd.set(t,e)}let id={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||X1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OI(t){id=t(id)}function VI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mc(this),e,...n);return X1.set(r,e.sort?e.sort():[e]),ar(r)}:DI().includes(t)?function(...e){return t.apply(Mc(this),e),ar(Y1.get(this))}:function(...e){return ar(t.apply(Mc(this),e))}}function LI(t){return typeof t=="function"?VI(t):(t instanceof IDBTransaction&&jI(t),NI(t,bI())?new Proxy(t,id):t)}function ar(t){if(t instanceof IDBRequest)return MI(t);if(Dc.has(t))return Dc.get(t);const e=LI(t);return e!==t&&(Dc.set(t,e),bf.set(e,t)),e}const Mc=t=>bf.get(t);function $I(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=ar(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ar(o.result),u.oldVersion,u.newVersion,ar(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const FI=["get","getKey","getAll","getAllKeys","count"],UI=["put","add","delete","clear"],jc=new Map;function Kg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jc.get(e))return jc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FI.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return jc.set(e,s),s}OI(t=>({...t,get:(e,n,r)=>Kg(e,n)||t.get(e,n,r),has:(e,n)=>!!Kg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sd="@firebase/app",qg="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new q1("@firebase/app"),HI="@firebase/app-compat",WI="@firebase/analytics-compat",GI="@firebase/analytics",QI="@firebase/app-check-compat",KI="@firebase/app-check",qI="@firebase/auth",YI="@firebase/auth-compat",XI="@firebase/database",JI="@firebase/data-connect",ZI="@firebase/database-compat",eP="@firebase/functions",tP="@firebase/functions-compat",nP="@firebase/installations",rP="@firebase/installations-compat",iP="@firebase/messaging",sP="@firebase/messaging-compat",oP="@firebase/performance",aP="@firebase/performance-compat",lP="@firebase/remote-config",uP="@firebase/remote-config-compat",cP="@firebase/storage",hP="@firebase/storage-compat",dP="@firebase/firestore",fP="@firebase/vertexai",pP="@firebase/firestore-compat",mP="firebase",gP="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]",yP={[sd]:"fire-core",[HI]:"fire-core-compat",[GI]:"fire-analytics",[WI]:"fire-analytics-compat",[KI]:"fire-app-check",[QI]:"fire-app-check-compat",[qI]:"fire-auth",[YI]:"fire-auth-compat",[XI]:"fire-rtdb",[JI]:"fire-data-connect",[ZI]:"fire-rtdb-compat",[eP]:"fire-fn",[tP]:"fire-fn-compat",[nP]:"fire-iid",[rP]:"fire-iid-compat",[iP]:"fire-fcm",[sP]:"fire-fcm-compat",[oP]:"fire-perf",[aP]:"fire-perf-compat",[lP]:"fire-rc",[uP]:"fire-rc-compat",[cP]:"fire-gcs",[hP]:"fire-gcs-compat",[dP]:"fire-fst",[pP]:"fire-fst-compat",[fP]:"fire-vertex","fire-js":"fire-js",[mP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Map,vP=new Map,ad=new Map;function Yg(t,e){try{t.container.addComponent(e)}catch(n){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(ad.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,t);for(const n of bl.values())Yg(n,t);for(const n of vP.values())Yg(n,t);return!0}function _P(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new K1("app","Firebase",wP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=gP;function J1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:od,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw lr.create("bad-app-name",{appName:String(i)});if(n||(n=Q1()),!n)throw lr.create("no-options");const s=bl.get(i);if(s){if(nd(n,s.options)&&nd(r,s.config))return s;throw lr.create("duplicate-app",{appName:i})}const o=new AI(i);for(const u of ad.values())o.addComponent(u);const l=new EP(n,r,o);return bl.set(i,l),l}function xP(t=od){const e=bl.get(t);if(!e&&t===od&&Q1())return J1();if(!e)throw lr.create("no-app",{appName:t});return e}function Mi(t,e,n){var r;let i=(r=yP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(l.join(" "));return}Dl(new Eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firebase-heartbeat-database",CP=1,So="firebase-heartbeat-store";let Oc=null;function Z1(){return Oc||(Oc=$I(TP,CP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(So)}catch(n){console.warn(n)}}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),Oc}async function AP(t){try{const n=(await Z1()).transaction(So),r=await n.objectStore(So).get(e_(t));return await n.done,r}catch(e){if(e instanceof ss)jn.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jn.warn(n.message)}}}async function Xg(t,e){try{const r=(await Z1()).transaction(So,"readwrite");await r.objectStore(So).put(e,e_(t)),await r.done}catch(n){if(n instanceof ss)jn.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jn.warn(r.message)}}}function e_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=1024,PP=30*24*60*60*1e3;class kP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=PP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){jn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jg(),{heartbeatsToSend:r,unsentEntries:i}=RP(this._heartbeatsCache.heartbeats),s=Nl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return jn.warn(n),""}}}function Jg(){return new Date().toISOString().substring(0,10)}function RP(t,e=IP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Zg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Zg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vI()?_I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zg(t){return Nl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){Dl(new Eo("platform-logger",e=>new BI(e),"PRIVATE")),Dl(new Eo("heartbeat",e=>new kP(e),"PRIVATE")),Mi(sd,qg,t),Mi(sd,qg,"esm2017"),Mi("fire-js","")}bP("");var DP="firebase",MP="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(DP,MP,"app");var ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function C(){}C.prototype=v.prototype,w.D=v.prototype,w.prototype=new C,w.prototype.constructor=w,w.C=function(P,S,R){for(var I=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)I[Ye-2]=arguments[Ye];return v.prototype[S].apply(P,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,C){C||(C=0);var P=Array(16);if(typeof v=="string")for(var S=0;16>S;++S)P[S]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(S=0;16>S;++S)P[S]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=w.g[0],C=w.g[1],S=w.g[2];var R=w.g[3],I=v+(R^C&(S^R))+P[0]+3614090360&4294967295;v=C+(I<<7&4294967295|I>>>25),I=R+(S^v&(C^S))+P[1]+3905402710&4294967295,R=v+(I<<12&4294967295|I>>>20),I=S+(C^R&(v^C))+P[2]+606105819&4294967295,S=R+(I<<17&4294967295|I>>>15),I=C+(v^S&(R^v))+P[3]+3250441966&4294967295,C=S+(I<<22&4294967295|I>>>10),I=v+(R^C&(S^R))+P[4]+4118548399&4294967295,v=C+(I<<7&4294967295|I>>>25),I=R+(S^v&(C^S))+P[5]+1200080426&4294967295,R=v+(I<<12&4294967295|I>>>20),I=S+(C^R&(v^C))+P[6]+2821735955&4294967295,S=R+(I<<17&4294967295|I>>>15),I=C+(v^S&(R^v))+P[7]+4249261313&4294967295,C=S+(I<<22&4294967295|I>>>10),I=v+(R^C&(S^R))+P[8]+1770035416&4294967295,v=C+(I<<7&4294967295|I>>>25),I=R+(S^v&(C^S))+P[9]+2336552879&4294967295,R=v+(I<<12&4294967295|I>>>20),I=S+(C^R&(v^C))+P[10]+4294925233&4294967295,S=R+(I<<17&4294967295|I>>>15),I=C+(v^S&(R^v))+P[11]+2304563134&4294967295,C=S+(I<<22&4294967295|I>>>10),I=v+(R^C&(S^R))+P[12]+1804603682&4294967295,v=C+(I<<7&4294967295|I>>>25),I=R+(S^v&(C^S))+P[13]+4254626195&4294967295,R=v+(I<<12&4294967295|I>>>20),I=S+(C^R&(v^C))+P[14]+2792965006&4294967295,S=R+(I<<17&4294967295|I>>>15),I=C+(v^S&(R^v))+P[15]+1236535329&4294967295,C=S+(I<<22&4294967295|I>>>10),I=v+(S^R&(C^S))+P[1]+4129170786&4294967295,v=C+(I<<5&4294967295|I>>>27),I=R+(C^S&(v^C))+P[6]+3225465664&4294967295,R=v+(I<<9&4294967295|I>>>23),I=S+(v^C&(R^v))+P[11]+643717713&4294967295,S=R+(I<<14&4294967295|I>>>18),I=C+(R^v&(S^R))+P[0]+3921069994&4294967295,C=S+(I<<20&4294967295|I>>>12),I=v+(S^R&(C^S))+P[5]+3593408605&4294967295,v=C+(I<<5&4294967295|I>>>27),I=R+(C^S&(v^C))+P[10]+38016083&4294967295,R=v+(I<<9&4294967295|I>>>23),I=S+(v^C&(R^v))+P[15]+3634488961&4294967295,S=R+(I<<14&4294967295|I>>>18),I=C+(R^v&(S^R))+P[4]+3889429448&4294967295,C=S+(I<<20&4294967295|I>>>12),I=v+(S^R&(C^S))+P[9]+568446438&4294967295,v=C+(I<<5&4294967295|I>>>27),I=R+(C^S&(v^C))+P[14]+3275163606&4294967295,R=v+(I<<9&4294967295|I>>>23),I=S+(v^C&(R^v))+P[3]+4107603335&4294967295,S=R+(I<<14&4294967295|I>>>18),I=C+(R^v&(S^R))+P[8]+1163531501&4294967295,C=S+(I<<20&4294967295|I>>>12),I=v+(S^R&(C^S))+P[13]+2850285829&4294967295,v=C+(I<<5&4294967295|I>>>27),I=R+(C^S&(v^C))+P[2]+4243563512&4294967295,R=v+(I<<9&4294967295|I>>>23),I=S+(v^C&(R^v))+P[7]+1735328473&4294967295,S=R+(I<<14&4294967295|I>>>18),I=C+(R^v&(S^R))+P[12]+2368359562&4294967295,C=S+(I<<20&4294967295|I>>>12),I=v+(C^S^R)+P[5]+4294588738&4294967295,v=C+(I<<4&4294967295|I>>>28),I=R+(v^C^S)+P[8]+2272392833&4294967295,R=v+(I<<11&4294967295|I>>>21),I=S+(R^v^C)+P[11]+1839030562&4294967295,S=R+(I<<16&4294967295|I>>>16),I=C+(S^R^v)+P[14]+4259657740&4294967295,C=S+(I<<23&4294967295|I>>>9),I=v+(C^S^R)+P[1]+2763975236&4294967295,v=C+(I<<4&4294967295|I>>>28),I=R+(v^C^S)+P[4]+1272893353&4294967295,R=v+(I<<11&4294967295|I>>>21),I=S+(R^v^C)+P[7]+4139469664&4294967295,S=R+(I<<16&4294967295|I>>>16),I=C+(S^R^v)+P[10]+3200236656&4294967295,C=S+(I<<23&4294967295|I>>>9),I=v+(C^S^R)+P[13]+681279174&4294967295,v=C+(I<<4&4294967295|I>>>28),I=R+(v^C^S)+P[0]+3936430074&4294967295,R=v+(I<<11&4294967295|I>>>21),I=S+(R^v^C)+P[3]+3572445317&4294967295,S=R+(I<<16&4294967295|I>>>16),I=C+(S^R^v)+P[6]+76029189&4294967295,C=S+(I<<23&4294967295|I>>>9),I=v+(C^S^R)+P[9]+3654602809&4294967295,v=C+(I<<4&4294967295|I>>>28),I=R+(v^C^S)+P[12]+3873151461&4294967295,R=v+(I<<11&4294967295|I>>>21),I=S+(R^v^C)+P[15]+530742520&4294967295,S=R+(I<<16&4294967295|I>>>16),I=C+(S^R^v)+P[2]+3299628645&4294967295,C=S+(I<<23&4294967295|I>>>9),I=v+(S^(C|~R))+P[0]+4096336452&4294967295,v=C+(I<<6&4294967295|I>>>26),I=R+(C^(v|~S))+P[7]+1126891415&4294967295,R=v+(I<<10&4294967295|I>>>22),I=S+(v^(R|~C))+P[14]+2878612391&4294967295,S=R+(I<<15&4294967295|I>>>17),I=C+(R^(S|~v))+P[5]+4237533241&4294967295,C=S+(I<<21&4294967295|I>>>11),I=v+(S^(C|~R))+P[12]+1700485571&4294967295,v=C+(I<<6&4294967295|I>>>26),I=R+(C^(v|~S))+P[3]+2399980690&4294967295,R=v+(I<<10&4294967295|I>>>22),I=S+(v^(R|~C))+P[10]+4293915773&4294967295,S=R+(I<<15&4294967295|I>>>17),I=C+(R^(S|~v))+P[1]+2240044497&4294967295,C=S+(I<<21&4294967295|I>>>11),I=v+(S^(C|~R))+P[8]+1873313359&4294967295,v=C+(I<<6&4294967295|I>>>26),I=R+(C^(v|~S))+P[15]+4264355552&4294967295,R=v+(I<<10&4294967295|I>>>22),I=S+(v^(R|~C))+P[6]+2734768916&4294967295,S=R+(I<<15&4294967295|I>>>17),I=C+(R^(S|~v))+P[13]+1309151649&4294967295,C=S+(I<<21&4294967295|I>>>11),I=v+(S^(C|~R))+P[4]+4149444226&4294967295,v=C+(I<<6&4294967295|I>>>26),I=R+(C^(v|~S))+P[11]+3174756917&4294967295,R=v+(I<<10&4294967295|I>>>22),I=S+(v^(R|~C))+P[2]+718787259&4294967295,S=R+(I<<15&4294967295|I>>>17),I=C+(R^(S|~v))+P[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(S+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+S&4294967295,w.g[3]=w.g[3]+R&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var C=v-this.blockSize,P=this.B,S=this.h,R=0;R<v;){if(S==0)for(;R<=C;)i(this,w,R),R+=this.blockSize;if(typeof w=="string"){for(;R<v;)if(P[S++]=w.charCodeAt(R++),S==this.blockSize){i(this,P),S=0;break}}else for(;R<v;)if(P[S++]=w[R++],S==this.blockSize){i(this,P),S=0;break}}this.h=S,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var C=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=C&255,C/=256;for(this.u(w),w=Array(16),v=C=0;4>v;++v)for(var P=0;32>P;P+=8)w[C++]=this.g[v]>>>P&255;return w};function s(w,v){var C=l;return Object.prototype.hasOwnProperty.call(C,w)?C[w]:C[w]=v(w)}function o(w,v){this.h=v;for(var C=[],P=!0,S=w.length-1;0<=S;S--){var R=w[S]|0;P&&R==v||(C[S]=R,P=!1)}this.g=C}var l={};function u(w){return-128<=w&&128>w?s(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return N(h(-w));for(var v=[],C=1,P=0;w>=C;P++)v[P]=w/C|0,C*=4294967296;return new o(v,0)}function p(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return N(p(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(v,8)),P=f,S=0;S<w.length;S+=8){var R=Math.min(8,w.length-S),I=parseInt(w.substring(S,S+R),v);8>R?(R=h(Math.pow(v,R)),P=P.j(R).add(h(I))):(P=P.j(C),P=P.add(h(I)))}return P}var f=u(0),m=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-N(this).m();for(var w=0,v=1,C=0;C<this.g.length;C++){var P=this.i(C);w+=(0<=P?P:4294967296+P)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x(this))return"0";if(k(this))return"-"+N(this).toString(w);for(var v=h(Math.pow(w,6)),C=this,P="";;){var S=D(C,v).g;C=T(C,S.j(v));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(w);if(C=S,x(C))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function x(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function k(w){return w.h==-1}t.l=function(w){return w=T(this,w),k(w)?-1:x(w)?0:1};function N(w){for(var v=w.g.length,C=[],P=0;P<v;P++)C[P]=~w.g[P];return new o(C,~w.h).add(m)}t.abs=function(){return k(this)?N(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),C=[],P=0,S=0;S<=v;S++){var R=P+(this.i(S)&65535)+(w.i(S)&65535),I=(R>>>16)+(this.i(S)>>>16)+(w.i(S)>>>16);P=I>>>16,R&=65535,I&=65535,C[S]=I<<16|R}return new o(C,C[C.length-1]&-2147483648?-1:0)};function T(w,v){return w.add(N(v))}t.j=function(w){if(x(this)||x(w))return f;if(k(this))return k(w)?N(this).j(N(w)):N(N(this).j(w));if(k(w))return N(this.j(N(w)));if(0>this.l(_)&&0>w.l(_))return h(this.m()*w.m());for(var v=this.g.length+w.g.length,C=[],P=0;P<2*v;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var S=0;S<w.g.length;S++){var R=this.i(P)>>>16,I=this.i(P)&65535,Ye=w.i(S)>>>16,lt=w.i(S)&65535;C[2*P+2*S]+=I*lt,E(C,2*P+2*S),C[2*P+2*S+1]+=R*lt,E(C,2*P+2*S+1),C[2*P+2*S+1]+=I*Ye,E(C,2*P+2*S+1),C[2*P+2*S+2]+=R*Ye,E(C,2*P+2*S+2)}for(P=0;P<v;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=v;P<2*v;P++)C[P]=0;return new o(C,0)};function E(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function A(w,v){this.g=w,this.h=v}function D(w,v){if(x(v))throw Error("division by zero");if(x(w))return new A(f,f);if(k(w))return v=D(N(w),v),new A(N(v.g),N(v.h));if(k(v))return v=D(w,N(v)),new A(N(v.g),v.h);if(30<w.g.length){if(k(w)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var C=m,P=v;0>=P.l(w);)C=V(C),P=V(P);var S=L(C,1),R=L(P,1);for(P=L(P,2),C=L(C,2);!x(P);){var I=R.add(P);0>=I.l(w)&&(S=S.add(C),R=I),P=L(P,1),C=L(C,1)}return v=T(w,S.j(v)),new A(S,v)}for(S=f;0<=w.l(v);){for(C=Math.max(1,Math.floor(w.m()/v.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=h(C),I=R.j(v);k(I)||0<I.l(w);)C-=P,R=h(C),I=R.j(v);x(R)&&(R=m),S=S.add(R),w=T(w,I)}return new A(S,w)}t.A=function(w){return D(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)&w.i(P);return new o(C,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)|w.i(P);return new o(C,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)^w.i(P);return new o(C,this.h^w.h)};function V(w){for(var v=w.g.length+1,C=[],P=0;P<v;P++)C[P]=w.i(P)<<1|w.i(P-1)>>>31;return new o(C,w.h)}function L(w,v){var C=v>>5;v%=32;for(var P=w.g.length-C,S=[],R=0;R<P;R++)S[R]=0<v?w.i(R+C)>>>v|w.i(R+C+1)<<32-v:w.i(R+C);return new o(S,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,t_=o}).apply(typeof ey<"u"?ey:typeof self<"u"?self:typeof window<"u"?window:{});var Ia=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n_,Ms,r_,Ya,ld,i_,s_,o_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,d){return a==Array.prototype||a==Object.prototype||(a[c]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ia=="object"&&Ia];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,c){if(c)e:{var d=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var b=a[y];if(!(b in d))break e;d=d[b]}a=a[a.length-1],y=d[a],c=c(y),c!=y&&c!=null&&e(d,a,{configurable:!0,writable:!0,value:c})}}function s(a,c){a instanceof String&&(a+="");var d=0,y=!1,b={next:function(){if(!y&&d<a.length){var j=d++;return{value:c(j,a[j]),done:!1}}return y=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var c=typeof a;return c=c!="object"?c:a?Array.isArray(a)?"array":c:"null",c=="array"||c=="object"&&typeof a.length=="number"}function h(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function p(a,c,d){return a.call.apply(a.bind,arguments)}function f(a,c,d){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,y),a.apply(c,b)}}return function(){return a.apply(c,arguments)}}function m(a,c,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:f,m.apply(null,arguments)}function _(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function x(a,c){function d(){}d.prototype=c.prototype,a.aa=c.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(y,b,j){for(var U=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)U[ue-2]=arguments[ue];return c.prototype[b].apply(y,U)}}function k(a){const c=a.length;if(0<c){const d=Array(c);for(let y=0;y<c;y++)d[y]=a[y];return d}return[]}function N(a,c){for(let d=1;d<arguments.length;d++){const y=arguments[d];if(u(y)){const b=a.length||0,j=y.length||0;a.length=b+j;for(let U=0;U<j;U++)a[b+U]=y[U]}else a.push(y)}}class T{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function D(a){return D[" "](a),a}D[" "]=function(){};var V=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function L(a,c,d){for(const y in a)c.call(d,a[y],y,a)}function w(a,c){for(const d in a)c.call(void 0,a[d],d,a)}function v(a){const c={};for(const d in a)c[d]=a[d];return c}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,c){let d,y;for(let b=1;b<arguments.length;b++){y=arguments[b];for(d in y)a[d]=y[d];for(let j=0;j<C.length;j++)d=C[j],Object.prototype.hasOwnProperty.call(y,d)&&(a[d]=y[d])}}function S(a){var c=1;a=a.split(":");const d=[];for(;0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(":")),d}function R(a){l.setTimeout(()=>{throw a},0)}function I(){var a=W;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class Ye{constructor(){this.h=this.g=null}add(c,d){const y=lt.get();y.set(c,d),this.h?this.h.next=y:this.g=y,this.h=y}}var lt=new T(()=>new gn,a=>a.reset());class gn{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let At,B=!1,W=new Ye,K=()=>{const a=l.Promise.resolve(void 0);At=()=>{a.then(se)}};var se=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(d){R(d)}var c=lt;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}B=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var It=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,c),l.removeEventListener("test",d,c)}catch{}return a}();function gt(a,c){if(ge.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget){if(V){e:{try{D(c.nodeName);var b=!0;break e}catch{}b=!1}b||(c=null)}}else d=="mouseover"?c=a.fromElement:d=="mouseout"&&(c=a.toElement);this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ut[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&gt.aa.h.call(this)}}x(gt,ge);var ut={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),wr=0;function yn(a,c,d,y,b){this.listener=a,this.proxy=null,this.src=c,this.type=d,this.capture=!!y,this.ha=b,this.key=++wr,this.da=this.fa=!1}function Vn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function vn(a){this.src=a,this.g={},this.h=0}vn.prototype.add=function(a,c,d,y,b){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var U=ku(a,c,y,b);return-1<U?(c=a[U],d||(c.fa=!1)):(c=new yn(c,this.src,j,!!y,b),c.fa=d,a.push(c)),c};function Ut(a,c){var d=c.type;if(d in a.g){var y=a.g[d],b=Array.prototype.indexOf.call(y,c,void 0),j;(j=0<=b)&&Array.prototype.splice.call(y,b,1),j&&(Vn(c),a.g[d].length==0&&(delete a.g[d],a.h--))}}function ku(a,c,d,y){for(var b=0;b<a.length;++b){var j=a[b];if(!j.da&&j.listener==c&&j.capture==!!d&&j.ha==y)return b}return-1}var Ru="closure_lm_"+(1e6*Math.random()|0),Nu={};function rp(a,c,d,y,b){if(Array.isArray(c)){for(var j=0;j<c.length;j++)rp(a,c[j],d,y,b);return null}return d=op(d),a&&a[yt]?a.K(c,d,h(y)?!!y.capture:!!y,b):aw(a,c,d,!1,y,b)}function aw(a,c,d,y,b,j){if(!c)throw Error("Invalid event type");var U=h(b)?!!b.capture:!!b,ue=Du(a);if(ue||(a[Ru]=ue=new vn(a)),d=ue.add(c,d,y,U,j),d.proxy)return d;if(y=lw(),d.proxy=y,y.src=a,y.listener=d,a.addEventListener)It||(b=U),b===void 0&&(b=!1),a.addEventListener(c.toString(),y,b);else if(a.attachEvent)a.attachEvent(sp(c.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function lw(){function a(d){return c.call(a.src,a.listener,d)}const c=uw;return a}function ip(a,c,d,y,b){if(Array.isArray(c))for(var j=0;j<c.length;j++)ip(a,c[j],d,y,b);else y=h(y)?!!y.capture:!!y,d=op(d),a&&a[yt]?(a=a.i,c=String(c).toString(),c in a.g&&(j=a.g[c],d=ku(j,d,y,b),-1<d&&(Vn(j[d]),Array.prototype.splice.call(j,d,1),j.length==0&&(delete a.g[c],a.h--)))):a&&(a=Du(a))&&(c=a.g[c.toString()],a=-1,c&&(a=ku(c,d,y,b)),(d=-1<a?c[a]:null)&&bu(d))}function bu(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[yt])Ut(c.i,a);else{var d=a.type,y=a.proxy;c.removeEventListener?c.removeEventListener(d,y,a.capture):c.detachEvent?c.detachEvent(sp(d),y):c.addListener&&c.removeListener&&c.removeListener(y),(d=Du(c))?(Ut(d,a),d.h==0&&(d.src=null,c[Ru]=null)):Vn(a)}}}function sp(a){return a in Nu?Nu[a]:Nu[a]="on"+a}function uw(a,c){if(a.da)a=!0;else{c=new gt(c,this);var d=a.listener,y=a.ha||a.src;a.fa&&bu(a),a=d.call(y,c)}return a}function Du(a){return a=a[Ru],a instanceof vn?a:null}var Mu="__closure_events_fn_"+(1e9*Math.random()>>>0);function op(a){return typeof a=="function"?a:(a[Mu]||(a[Mu]=function(c){return a.handleEvent(c)}),a[Mu])}function Xe(){J.call(this),this.i=new vn(this),this.M=this,this.F=null}x(Xe,J),Xe.prototype[yt]=!0,Xe.prototype.removeEventListener=function(a,c,d,y){ip(this,a,c,d,y)};function ct(a,c){var d,y=a.F;if(y)for(d=[];y;y=y.F)d.push(y);if(a=a.M,y=c.type||c,typeof c=="string")c=new ge(c,a);else if(c instanceof ge)c.target=c.target||a;else{var b=c;c=new ge(y,a),P(c,b)}if(b=!0,d)for(var j=d.length-1;0<=j;j--){var U=c.g=d[j];b=Bo(U,y,!0,c)&&b}if(U=c.g=a,b=Bo(U,y,!0,c)&&b,b=Bo(U,y,!1,c)&&b,d)for(j=0;j<d.length;j++)U=c.g=d[j],b=Bo(U,y,!1,c)&&b}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var a=this.i,c;for(c in a.g){for(var d=a.g[c],y=0;y<d.length;y++)Vn(d[y]);delete a.g[c],a.h--}}this.F=null},Xe.prototype.K=function(a,c,d,y){return this.i.add(String(a),c,!1,d,y)},Xe.prototype.L=function(a,c,d,y){return this.i.add(String(a),c,!0,d,y)};function Bo(a,c,d,y){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();for(var b=!0,j=0;j<c.length;++j){var U=c[j];if(U&&!U.da&&U.capture==d){var ue=U.listener,Be=U.ha||U.src;U.fa&&Ut(a.i,U),b=ue.call(Be,y)!==!1&&b}}return b&&!y.defaultPrevented}function ap(a,c,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(a,c||0)}function lp(a){a.g=ap(()=>{a.g=null,a.i&&(a.i=!1,lp(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class cw extends J{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:lp(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(a){J.call(this),this.h=a,this.g={}}x(as,J);var up=[];function cp(a){L(a.g,function(c,d){this.g.hasOwnProperty(d)&&bu(c)},a),a.g={}}as.prototype.N=function(){as.aa.N.call(this),cp(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ju=l.JSON.stringify,hw=l.JSON.parse,dw=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ou(){}Ou.prototype.h=null;function hp(a){return a.h||(a.h=a.i())}function dp(){}var ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vu(){ge.call(this,"d")}x(Vu,ge);function Lu(){ge.call(this,"c")}x(Lu,ge);var Er={},fp=null;function zo(){return fp=fp||new Xe}Er.La="serverreachability";function pp(a){ge.call(this,Er.La,a)}x(pp,ge);function us(a){const c=zo();ct(c,new pp(c))}Er.STAT_EVENT="statevent";function mp(a,c){ge.call(this,Er.STAT_EVENT,a),this.stat=c}x(mp,ge);function ht(a){const c=zo();ct(c,new mp(c,a))}Er.Ma="timingevent";function gp(a,c){ge.call(this,Er.Ma,a),this.size=c}x(gp,ge);function cs(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},c)}function hs(){this.g=!0}hs.prototype.xa=function(){this.g=!1};function fw(a,c,d,y,b,j){a.info(function(){if(a.g)if(j)for(var U="",ue=j.split("&"),Be=0;Be<ue.length;Be++){var re=ue[Be].split("=");if(1<re.length){var Je=re[0];re=re[1];var Ze=Je.split("_");U=2<=Ze.length&&Ze[1]=="type"?U+(Je+"="+re+"&"):U+(Je+"=redacted&")}}else U=null;else U=j;return"XMLHTTP REQ ("+y+") [attempt "+b+"]: "+c+`
`+d+`
`+U})}function pw(a,c,d,y,b,j,U){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+b+"]: "+c+`
`+d+`
`+j+" "+U})}function ri(a,c,d,y){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+gw(a,d)+(y?" "+y:"")})}function mw(a,c){a.info(function(){return"TIMEOUT: "+c})}hs.prototype.info=function(){};function gw(a,c){if(!a.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var y=d[a];if(!(2>y.length)){var b=y[1];if(Array.isArray(b)&&!(1>b.length)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(var U=1;U<b.length;U++)b[U]=""}}}}return ju(d)}catch{return c}}var Ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$u;function Wo(){}x(Wo,Ou),Wo.prototype.g=function(){return new XMLHttpRequest},Wo.prototype.i=function(){return{}},$u=new Wo;function Ln(a,c,d,y){this.j=a,this.i=c,this.l=d,this.R=y||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vp}function vp(){this.i=null,this.g="",this.h=!1}var _p={},Fu={};function Uu(a,c,d){a.L=1,a.v=qo(_n(c)),a.m=d,a.P=!0,wp(a,null)}function wp(a,c){a.F=Date.now(),Go(a),a.A=_n(a.v);var d=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),Mp(d.i,"t",y),a.C=0,d=a.j.J,a.h=new vp,a.g=Jp(a.j,d?c:null,!a.m),0<a.O&&(a.M=new cw(m(a.Y,a,a.g),a.O)),c=a.U,d=a.g,y=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(up[0]=b.toString()),b=up);for(var j=0;j<b.length;j++){var U=rp(d,b[j],y||c.handleEvent,!1,c.h||c);if(!U)break;c.g[U.key]=U}c=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,c)):(a.u="GET",a.g.ea(a.A,a.u,null,c)),us(),fw(a.i,a.u,a.A,a.l,a.R,a.m)}Ln.prototype.ca=function(a){a=a.target;const c=this.M;c&&wn(a)==3?c.j():this.Y(a)},Ln.prototype.Y=function(a){try{if(a==this.g)e:{const Ze=wn(this.g);var c=this.g.Ba();const oi=this.g.Z();if(!(3>Ze)&&(Ze!=3||this.g&&(this.h.h||this.g.oa()||Up(this.g)))){this.J||Ze!=4||c==7||(c==8||0>=oi?us(3):us(2)),Bu(this);var d=this.g.Z();this.X=d;t:if(Ep(this)){var y=Up(this.g);a="";var b=y.length,j=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sr(this),ds(this);var U="";break t}this.h.i=new l.TextDecoder}for(c=0;c<b;c++)this.h.h=!0,a+=this.h.i.decode(y[c],{stream:!(j&&c==b-1)});y.length=0,this.h.g+=a,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=d==200,pw(this.i,this.u,this.A,this.l,this.R,Ze,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ue,Be=this.g;if((ue=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ue)){var re=ue;break t}}re=null}if(d=re)ri(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zu(this,d);else{this.o=!1,this.s=3,ht(12),Sr(this),ds(this);break e}}if(this.P){d=!0;let qt;for(;!this.J&&this.C<U.length;)if(qt=yw(this,U),qt==Fu){Ze==4&&(this.s=4,ht(14),d=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==_p){this.s=4,ht(15),ri(this.i,this.l,U,"[Invalid Chunk]"),d=!1;break}else ri(this.i,this.l,qt,null),zu(this,qt);if(Ep(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||U.length!=0||this.h.h||(this.s=1,ht(16),d=!1),this.o=this.o&&d,!d)ri(this.i,this.l,U,"[Invalid Chunked Response]"),Sr(this),ds(this);else if(0<U.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),qu(Je),Je.M=!0,ht(11))}}else ri(this.i,this.l,U,null),zu(this,U);Ze==4&&Sr(this),this.o&&!this.J&&(Ze==4?Kp(this.j,this):(this.o=!1,Go(this)))}else Mw(this.g),d==400&&0<U.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Sr(this),ds(this)}}}catch{}finally{}};function Ep(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function yw(a,c){var d=a.C,y=c.indexOf(`
`,d);return y==-1?Fu:(d=Number(c.substring(d,y)),isNaN(d)?_p:(y+=1,y+d>c.length?Fu:(c=c.slice(y,y+d),a.C=y+d,c)))}Ln.prototype.cancel=function(){this.J=!0,Sr(this)};function Go(a){a.S=Date.now()+a.I,Sp(a,a.I)}function Sp(a,c){if(a.B!=null)throw Error("WatchDog timer not null");a.B=cs(m(a.ba,a),c)}function Bu(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Ln.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(mw(this.i,this.A),this.L!=2&&(us(),ht(17)),Sr(this),this.s=2,ds(this)):Sp(this,this.S-a)};function ds(a){a.j.G==0||a.J||Kp(a.j,a)}function Sr(a){Bu(a);var c=a.M;c&&typeof c.ma=="function"&&c.ma(),a.M=null,cp(a.U),a.g&&(c=a.g,a.g=null,c.abort(),c.ma())}function zu(a,c){try{var d=a.j;if(d.G!=0&&(d.g==a||Hu(d.h,a))){if(!a.K&&Hu(d.h,a)&&d.G==3){try{var y=d.Da.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var b=y;if(b[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)ta(d),Zo(d);else break e;Ku(d),ht(18)}}else d.za=b[1],0<d.za-d.T&&37500>b[2]&&d.F&&d.v==0&&!d.C&&(d.C=cs(m(d.Za,d),6e3));if(1>=Cp(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Tr(d,11)}else if((a.K||d.g==a)&&ta(d),!E(c))for(b=d.Da.g.parse(c),c=0;c<b.length;c++){let re=b[c];if(d.T=re[0],re=re[1],d.G==2)if(re[0]=="c"){d.K=re[1],d.ia=re[2];const Je=re[3];Je!=null&&(d.la=Je,d.j.info("VER="+d.la));const Ze=re[4];Ze!=null&&(d.Aa=Ze,d.j.info("SVER="+d.Aa));const oi=re[5];oi!=null&&typeof oi=="number"&&0<oi&&(y=1.5*oi,d.L=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const qt=a.g;if(qt){const ra=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var j=y.h;j.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Wu(j,j.h),j.h=null))}if(y.D){const Yu=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yu&&(y.ya=Yu,de(y.I,y.D,Yu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),y=d;var U=a;if(y.qa=Xp(y,y.J?y.ia:null,y.W),U.K){Ap(y.h,U);var ue=U,Be=y.L;Be&&(ue.I=Be),ue.B&&(Bu(ue),Go(ue)),y.g=U}else Gp(y);0<d.i.length&&ea(d)}else re[0]!="stop"&&re[0]!="close"||Tr(d,7);else d.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?Tr(d,7):Qu(d):re[0]!="noop"&&d.l&&d.l.ta(re),d.v=0)}}us(4)}catch{}}var vw=class{constructor(a,c){this.g=a,this.map=c}};function xp(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Cp(a){return a.h?1:a.g?a.g.size:0}function Hu(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function Wu(a,c){a.g?a.g.add(c):a.h=c}function Ap(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}xp.prototype.cancel=function(){if(this.i=Ip(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ip(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const d of a.g.values())c=c.concat(d.D);return c}return k(a.i)}function _w(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var c=[],d=a.length,y=0;y<d;y++)c.push(a[y]);return c}c=[],d=0;for(y in a)c[d++]=a[y];return c}function ww(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var c=[];a=a.length;for(var d=0;d<a;d++)c.push(d);return c}c=[],d=0;for(const y in a)c[d++]=y;return c}}}function Pp(a,c){if(a.forEach&&typeof a.forEach=="function")a.forEach(c,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,c,void 0);else for(var d=ww(a),y=_w(a),b=y.length,j=0;j<b;j++)c.call(void 0,y[j],d&&d[j],a)}var kp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ew(a,c){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var y=a[d].indexOf("="),b=null;if(0<=y){var j=a[d].substring(0,y);b=a[d].substring(y+1)}else j=a[d];c(j,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function xr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof xr){this.h=a.h,Qo(this,a.j),this.o=a.o,this.g=a.g,Ko(this,a.s),this.l=a.l;var c=a.i,d=new ms;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),Rp(this,d),this.m=a.m}else a&&(c=String(a).match(kp))?(this.h=!1,Qo(this,c[1]||"",!0),this.o=fs(c[2]||""),this.g=fs(c[3]||"",!0),Ko(this,c[4]),this.l=fs(c[5]||"",!0),Rp(this,c[6]||"",!0),this.m=fs(c[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}xr.prototype.toString=function(){var a=[],c=this.j;c&&a.push(ps(c,Np,!0),":");var d=this.g;return(d||c=="file")&&(a.push("//"),(c=this.o)&&a.push(ps(c,Np,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(ps(d,d.charAt(0)=="/"?Tw:xw,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",ps(d,Aw)),a.join("")};function _n(a){return new xr(a)}function Qo(a,c,d){a.j=d?fs(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function Ko(a,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);a.s=c}else a.s=null}function Rp(a,c,d){c instanceof ms?(a.i=c,Iw(a.i,a.h)):(d||(c=ps(c,Cw)),a.i=new ms(c,a.h))}function de(a,c,d){a.i.set(c,d)}function qo(a){return de(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function fs(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ps(a,c,d){return typeof a=="string"?(a=encodeURI(a).replace(c,Sw),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Sw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Np=/[#\/\?@]/g,xw=/[#\?:]/g,Tw=/[#\?]/g,Cw=/[#\?@]/g,Aw=/#/g;function ms(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function $n(a){a.g||(a.g=new Map,a.h=0,a.i&&Ew(a.i,function(c,d){a.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=ms.prototype,t.add=function(a,c){$n(this),this.i=null,a=ii(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(c),this.h+=1,this};function bp(a,c){$n(a),c=ii(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function Dp(a,c){return $n(a),c=ii(a,c),a.g.has(c)}t.forEach=function(a,c){$n(this),this.g.forEach(function(d,y){d.forEach(function(b){a.call(c,b,y,this)},this)},this)},t.na=function(){$n(this);const a=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let y=0;y<c.length;y++){const b=a[y];for(let j=0;j<b.length;j++)d.push(c[y])}return d},t.V=function(a){$n(this);let c=[];if(typeof a=="string")Dp(this,a)&&(c=c.concat(this.g.get(ii(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)c=c.concat(a[d])}return c},t.set=function(a,c){return $n(this),this.i=null,a=ii(this,a),Dp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},t.get=function(a,c){return a?(a=this.V(a),0<a.length?String(a[0]):c):c};function Mp(a,c,d){bp(a,c),0<d.length&&(a.i=null,a.g.set(ii(a,c),k(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var y=c[d];const j=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var b=j;U[y]!==""&&(b+="="+encodeURIComponent(String(U[y]))),a.push(b)}}return this.i=a.join("&")};function ii(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function Iw(a,c){c&&!a.j&&($n(a),a.i=null,a.g.forEach(function(d,y){var b=y.toLowerCase();y!=b&&(bp(this,y),Mp(this,b,d))},a)),a.j=c}function Pw(a,c){const d=new hs;if(l.Image){const y=new Image;y.onload=_(Fn,d,"TestLoadImage: loaded",!0,c,y),y.onerror=_(Fn,d,"TestLoadImage: error",!1,c,y),y.onabort=_(Fn,d,"TestLoadImage: abort",!1,c,y),y.ontimeout=_(Fn,d,"TestLoadImage: timeout",!1,c,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else c(!1)}function kw(a,c){const d=new hs,y=new AbortController,b=setTimeout(()=>{y.abort(),Fn(d,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:y.signal}).then(j=>{clearTimeout(b),j.ok?Fn(d,"TestPingServer: ok",!0,c):Fn(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(b),Fn(d,"TestPingServer: error",!1,c)})}function Fn(a,c,d,y,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),y(d)}catch{}}function Rw(){this.g=new dw}function Nw(a,c,d){const y=d||"";try{Pp(a,function(b,j){let U=b;h(b)&&(U=ju(b)),c.push(y+j+"="+encodeURIComponent(U))})}catch(b){throw c.push(y+"type="+encodeURIComponent("_badmap")),b}}function Yo(a){this.l=a.Ub||null,this.j=a.eb||!1}x(Yo,Ou),Yo.prototype.g=function(){return new Xo(this.l,this.j)},Yo.prototype.i=function(a){return function(){return a}}({});function Xo(a,c){Xe.call(this),this.D=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Xo,Xe),t=Xo.prototype,t.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=c,this.readyState=1,ys(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(c.body=a),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function jp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?gs(this):ys(this),this.readyState==3&&jp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,gs(this))},t.Qa=function(a){this.g&&(this.response=a,gs(this))},t.ga=function(){this.g&&gs(this)};function gs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ys(a)}t.setRequestHeader=function(a,c){this.u.append(a,c)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=c.next();return a.join(`\r
`)};function ys(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Op(a){let c="";return L(a,function(d,y){c+=y,c+=":",c+=d,c+=`\r
`}),c}function Gu(a,c,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=Op(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):de(a,c,d))}function xe(a){Xe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(xe,Xe);var bw=/^https?$/i,Dw=["POST","PUT"];t=xe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,c,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$u.g(),this.v=this.o?hp(this.o):hp($u),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(j){Vp(this,j);return}if(a=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var b in y)d.set(b,y[b]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const j of y.keys())d.set(j,y.get(j));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(j=>j.toLowerCase()=="content-type"),b=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Dw,c,void 0))||y||b||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,U]of d)this.g.setRequestHeader(j,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fp(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){Vp(this,j)}};function Vp(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.m=5,Lp(a),Jo(a)}function Lp(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),Jo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jo(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$p(this):this.bb())},t.bb=function(){$p(this)};function $p(a){if(a.h&&typeof o<"u"&&(!a.v[1]||wn(a)!=4||a.Z()!=2)){if(a.u&&wn(a)==4)ap(a.Ea,0,a);else if(ct(a,"readystatechange"),wn(a)==4){a.h=!1;try{const U=a.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var y;if(y=U===0){var b=String(a.D).match(kp)[1]||null;!b&&l.self&&l.self.location&&(b=l.self.location.protocol.slice(0,-1)),y=!bw.test(b?b.toLowerCase():"")}d=y}if(d)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var j=2<wn(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",Lp(a)}}finally{Jo(a)}}}}function Jo(a,c){if(a.g){Fp(a);const d=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,c||ct(a,"ready");try{d.onreadystatechange=y}catch{}}}function Fp(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function wn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),hw(c)}};function Up(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Mw(a){const c={};a=(a.g&&2<=wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(E(a[y]))continue;var d=S(a[y]);const b=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const j=c[b]||[];c[b]=j,j.push(d)}w(c,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(a,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||c}function Bp(a){this.Aa=0,this.i=[],this.j=new hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,a),this.cb=vs("retryDelaySeedMs",1e4,a),this.Wa=vs("forwardChannelMaxRetries",2,a),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new xp(a&&a.concurrentRequestLimit),this.Da=new Rw,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bp.prototype,t.la=8,t.G=1,t.connect=function(a,c,d,y){ht(0),this.W=a,this.H=c||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.I=Xp(this,null,this.W),ea(this)};function Qu(a){if(zp(a),a.G==3){var c=a.U++,d=_n(a.I);if(de(d,"SID",a.K),de(d,"RID",c),de(d,"TYPE","terminate"),_s(a,d),c=new Ln(a,a.j,c),c.L=2,c.v=qo(_n(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=c.v,d=!0),d||(c.g=Jp(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Go(c)}Yp(a)}function Zo(a){a.g&&(qu(a),a.g.cancel(),a.g=null)}function zp(a){Zo(a),a.u&&(l.clearTimeout(a.u),a.u=null),ta(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ea(a){if(!Tp(a.h)&&!a.s){a.s=!0;var c=a.Ga;At||K(),B||(At(),B=!0),W.add(c,a),a.B=0}}function jw(a,c){return Cp(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=c.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=cs(m(a.Ga,a,c),qp(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const b=new Ln(this,this.j,a);let j=this.o;if(this.S&&(j?(j=v(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(b.H=j,j=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=Wp(this,b,c),d=_n(this.I),de(d,"RID",a),de(d,"CVER",22),this.D&&de(d,"X-HTTP-Session-Id",this.D),_s(this,d),j&&(this.O?c="headers="+encodeURIComponent(String(Op(j)))+"&"+c:this.m&&Gu(d,this.m,j)),Wu(this.h,b),this.Ua&&de(d,"TYPE","init"),this.P?(de(d,"$req",c),de(d,"SID","null"),b.T=!0,Uu(b,d,null)):Uu(b,d,c),this.G=2}}else this.G==3&&(a?Hp(this,a):this.i.length==0||Tp(this.h)||Hp(this))};function Hp(a,c){var d;c?d=c.l:d=a.U++;const y=_n(a.I);de(y,"SID",a.K),de(y,"RID",d),de(y,"AID",a.T),_s(a,y),a.m&&a.o&&Gu(y,a.m,a.o),d=new Ln(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),c&&(a.i=c.D.concat(a.i)),c=Wp(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Wu(a.h,d),Uu(d,y,c)}function _s(a,c){a.H&&L(a.H,function(d,y){de(c,y,d)}),a.l&&Pp({},function(d,y){de(c,y,d)})}function Wp(a,c,d){d=Math.min(a.i.length,d);var y=a.l?m(a.l.Na,a.l,a):null;e:{var b=a.i;let j=-1;for(;;){const U=["count="+d];j==-1?0<d?(j=b[0].g,U.push("ofs="+j)):j=0:U.push("ofs="+j);let ue=!0;for(let Be=0;Be<d;Be++){let re=b[Be].g;const Je=b[Be].map;if(re-=j,0>re)j=Math.max(0,b[Be].g-100),ue=!1;else try{Nw(Je,U,"req"+re+"_")}catch{y&&y(Je)}}if(ue){y=U.join("&");break e}}}return a=a.i.splice(0,d),c.D=a,y}function Gp(a){if(!a.g&&!a.u){a.Y=1;var c=a.Fa;At||K(),B||(At(),B=!0),W.add(c,a),a.v=0}}function Ku(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=cs(m(a.Fa,a),qp(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Qp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=cs(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Zo(this),Qp(this))};function qu(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Qp(a){a.g=new Ln(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var c=_n(a.qa);de(c,"RID","rpc"),de(c,"SID",a.K),de(c,"AID",a.T),de(c,"CI",a.F?"0":"1"),!a.F&&a.ja&&de(c,"TO",a.ja),de(c,"TYPE","xmlhttp"),_s(a,c),a.m&&a.o&&Gu(c,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=qo(_n(c)),d.m=null,d.P=!0,wp(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Zo(this),Ku(this),ht(19))};function ta(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Kp(a,c){var d=null;if(a.g==c){ta(a),qu(a),a.g=null;var y=2}else if(Hu(a.h,c))d=c.D,Ap(a.h,c),y=1;else return;if(a.G!=0){if(c.o)if(y==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var b=a.B;y=zo(),ct(y,new gp(y,d)),ea(a)}else Gp(a);else if(b=c.s,b==3||b==0&&0<c.X||!(y==1&&jw(a,c)||y==2&&Ku(a)))switch(d&&0<d.length&&(c=a.h,c.i=c.i.concat(d)),b){case 1:Tr(a,5);break;case 4:Tr(a,10);break;case 3:Tr(a,6);break;default:Tr(a,2)}}}function qp(a,c){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*c}function Tr(a,c){if(a.j.info("Error code "+c),c==2){var d=m(a.fb,a),y=a.Xa;const b=!y;y=new xr(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Qo(y,"https"),qo(y),b?Pw(y.toString(),d):kw(y.toString(),d)}else ht(2);a.G=0,a.l&&a.l.sa(c),Yp(a),zp(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Yp(a){if(a.G=0,a.ka=[],a.l){const c=Ip(a.h);(c.length!=0||a.i.length!=0)&&(N(a.ka,c),N(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function Xp(a,c,d){var y=d instanceof xr?_n(d):new xr(d);if(y.g!="")c&&(y.g=c+"."+y.g),Ko(y,y.s);else{var b=l.location;y=b.protocol,c=c?c+"."+b.hostname:b.hostname,b=+b.port;var j=new xr(null);y&&Qo(j,y),c&&(j.g=c),b&&Ko(j,b),d&&(j.l=d),y=j}return d=a.D,c=a.ya,d&&c&&de(y,d,c),de(y,"VER",a.la),_s(a,y),y}function Jp(a,c,d){if(c&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Ca&&!a.pa?new xe(new Yo({eb:d})):new xe(a.pa),c.Ha(a.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zp(){}t=Zp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function na(){}na.prototype.g=function(a,c){return new Pt(a,c)};function Pt(a,c){Xe.call(this),this.g=new Bp(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(a?a["X-WebChannel-Client-Profile"]=c.va:a={"X-WebChannel-Client-Profile":c.va}),this.g.S=a,(a=c&&c.Sb)&&!E(a)&&(this.g.m=a),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new si(this)}x(Pt,Xe),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Qu(this.g)},Pt.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=ju(a),a=d);c.i.push(new vw(c.Ya++,a)),c.G==3&&ea(c)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Qu(this.g),delete this.g,Pt.aa.N.call(this)};function em(a){Vu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const d in c){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}x(em,Vu);function tm(){Lu.call(this),this.status=1}x(tm,Lu);function si(a){this.g=a}x(si,Zp),si.prototype.ua=function(){ct(this.g,"a")},si.prototype.ta=function(a){ct(this.g,new em(a))},si.prototype.sa=function(a){ct(this.g,new tm)},si.prototype.ra=function(){ct(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,o_=function(){return new na},s_=function(){return zo()},i_=Er,ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ho.NO_ERROR=0,Ho.TIMEOUT=8,Ho.HTTP_ERROR=6,Ya=Ho,yp.COMPLETE="complete",r_=yp,dp.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Ms=dp,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,n_=xe}).apply(typeof Ia<"u"?Ia:typeof self<"u"?self:typeof window<"u"?window:{});const ty="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let os="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new q1("@firebase/firestore");function hi(){return Qr.logLevel}function H(t,...e){if(Qr.logLevel<=te.DEBUG){const n=e.map(Df);Qr.debug(`Firestore (${os}): ${t}`,...n)}}function Kr(t,...e){if(Qr.logLevel<=te.ERROR){const n=e.map(Df);Qr.error(`Firestore (${os}): ${t}`,...n)}}function Ml(t,...e){if(Qr.logLevel<=te.WARN){const n=e.map(Df);Qr.warn(`Firestore (${os}): ${t}`,...n)}}function Df(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${os}) INTERNAL ASSERTION FAILED: `+t;throw Kr(e),new Error(e)}function Ce(t,e){t||Z()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}}class OP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VP{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $r,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $r)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new a_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new rt(e)}}class LP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $P{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new LP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ce(this.o===void 0);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new FP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=BP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function Ki(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Ue(0,0))}static max(){return new ye(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends xo{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const zP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends xo{construct(e,n,r){return new Ge(e,n,r)}static isValidIdentifier(e){return zP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ge(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(ke.fromString(e))}static fromName(e){return new Y(ke.fromString(e).popFirst(5))}static empty(){return new Y(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new ke(e.slice()))}}function HP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new dr(i,Y.empty(),e)}function WP(t){return new dr(t.readTime,t.key,-1)}class dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dr(ye.min(),Y.empty(),-1)}static max(){return new dr(ye.max(),Y.empty(),-1)}}function GP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==QP)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(p=>{o[h]=p,++l,l===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function qP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}jf.oe=-1;function Of(t){return t==null}function jl(t){return t===0&&1/t==-1/0}function YP(t){return typeof t=="number"&&Number.isInteger(t)&&!jl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ny(e)),e=JP(t.get(n),e);return ny(e)}function JP(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function ny(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function u_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||He.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pa(this.root,e,this.comparator,!0)}}class Pa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??He.RED,this.left=i??He.EMPTY,this.right=s??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new He(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return He.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new He(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iy(this.data.getIterator())}getIteratorFrom(e){return new iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Mt([])}unionWith(e){let n=new Ke(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ki(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ZP("Invalid base64 string: "+s):s}}(e);return new pn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const ek=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=ek.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qi(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Lf(t){const e=t.mapValue.fields.__previous_value__;return Vf(e)?Lf(e):e}function Ol(t){const e=qr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n,r,i,s,o,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class Vl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vf(t)?4:rk(t)?9007199254740991:nk(t)?10:11:Z()}function mn(t,e){if(t===e)return!0;const n=Yr(t);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ol(t).isEqual(Ol(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=qr(i.timestampValue),l=qr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qi(i.bytesValue).isEqual(qi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return We(i.geoPointValue.latitude)===We(s.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return We(i.integerValue)===We(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=We(i.doubleValue),l=We(s.doubleValue);return o===l?jl(o)===jl(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ki(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(ry(o)!==ry(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!mn(o[u],l[u])))return!1;return!0}(t,e);default:return Z()}}function To(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function Yi(t,e){if(t===e)return 0;const n=Yr(t),r=Yr(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=We(s.integerValue||s.doubleValue),u=We(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return sy(t.timestampValue,e.timestampValue);case 4:return sy(Ol(t),Ol(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(s,o){const l=qi(s),u=qi(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const p=oe(l[h],u[h]);if(p!==0)return p}return oe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=oe(We(s.latitude),We(o.latitude));return l!==0?l:oe(We(s.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return oy(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,h,p;const f=s.fields||{},m=o.fields||{},_=(l=f.value)===null||l===void 0?void 0:l.arrayValue,x=(u=m.value)===null||u===void 0?void 0:u.arrayValue,k=oe(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0);return k!==0?k:oy(_,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ka.mapValue&&o===ka.mapValue)return 0;if(s===ka.mapValue)return 1;if(o===ka.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let f=0;f<u.length&&f<p.length;++f){const m=oe(u[f],p[f]);if(m!==0)return m;const _=Yi(l[u[f]],h[p[f]]);if(_!==0)return _}return oe(u.length,p.length)}(t.mapValue,e.mapValue);default:throw Z()}}function sy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=qr(t),r=qr(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function oy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Yi(n[i],r[i]);if(s)return s}return oe(n.length,r.length)}function Xi(t){return ud(t)}function ud(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ud(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ud(n.fields[o])}`;return i+"}"}(t.mapValue):Z()}function Xa(t){switch(Yr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lf(t);return e?16+Xa(e):16;case 5:return 2*t.stringValue.length;case 6:return qi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Xa(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ti(r.fields,(s,o)=>{i+=s.length+Xa(o)}),i}(t.mapValue);default:throw Z()}}function cd(t){return!!t&&"integerValue"in t}function $f(t){return!!t&&"arrayValue"in t}function Ja(t){return!!t&&"mapValue"in t}function nk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ja(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qs(n)}setAll(e){let n=Ge.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Qs(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ja(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ja(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ti(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bt(Qs(this.value))}}function c_(t){const e=[];return ti(t.fields,(n,r)=>{const i=new Ge([n]);if(Ja(r)){const s=c_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new en(e,0,ye.min(),ye.min(),ye.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,ye.min(),ye.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,ye.min(),ye.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.position=e,this.inclusive=n}}function ay(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Yi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ly(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function ik(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{}class Le extends h_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ok(e,n,r):n==="array-contains"?new uk(e,r):n==="in"?new ck(e,r):n==="not-in"?new hk(e,r):n==="array-contains-any"?new dk(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ak(e,r):new lk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yi(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(Yi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends h_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new fr(e,n)}matches(e){return d_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function d_(t){return t.op==="and"}function f_(t){return sk(t)&&d_(t)}function sk(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function hd(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+Xi(t.value);if(f_(t))return t.filters.map(e=>hd(e)).join(",");{const e=t.filters.map(n=>hd(n)).join(",");return`${t.op}(${e})`}}function p_(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&p_(o,i.filters[l]),!0):!1}(t,e):void Z()}function m_(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${Xi(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(m_).join(" ,")+"}"}(t):"Filter"}class ok extends Le{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class ak extends Le{constructor(e,n){super(e,"in",n),this.keys=g_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lk extends Le{constructor(e,n){super(e,"not-in",n),this.keys=g_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class uk extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $f(n)&&To(n.arrayValue,this.value)}}class ck extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&To(this.value.arrayValue,n)}}class hk extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!To(this.value.arrayValue,n)}}class dk extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$f(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>To(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function uy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new fk(t,e,n,r,i,s,o)}function Ff(t){const e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xi(r)).join(",")),e.ue=n}return e.ue}function Uf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ik(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ly(t.startAt,e.startAt)&&ly(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pk(t,e,n,r,i,s,o,l){return new vu(t,e,n,r,i,s,o,l)}function mk(t){return new vu(t)}function cy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gk(t){return t.collectionGroup!==null}function Ks(t){const e=he(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ke(Ge.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new $l(s,r))}),n.has(Ge.keyField().canonicalString())||e.ce.push(new $l(Ge.keyField(),r))}return e.ce}function Fr(t){const e=he(t);return e.le||(e.le=yk(e,Ks(t))),e.le}function yk(t,e){if(t.limitType==="F")return uy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $l(i.field,s)});const n=t.endAt?new Ll(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ll(t.startAt.position,t.startAt.inclusive):null;return uy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dd(t,e,n){return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function y_(t,e){return Uf(Fr(t),Fr(e))&&t.limitType===e.limitType}function v_(t){return`${Ff(Fr(t))}|lt:${t.limitType}`}function Ps(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>m_(i)).join(", ")}]`),Of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xi(i)).join(",")),`Target(${r})`}(Fr(t))}; limitType=${t.limitType})`}function Bf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ks(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const h=ay(o,l,u);return o.inclusive?h<=0:h<0}(r.startAt,Ks(r),i)||r.endAt&&!function(o,l,u){const h=ay(o,l,u);return o.inclusive?h>=0:h>0}(r.endAt,Ks(r),i))}(t,e)}function vk(t){return(e,n)=>{let r=!1;for(const i of Ks(t)){const s=_k(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _k(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Yi(u,h):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return u_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new Ct(Y.comparator);function Fl(){return wk}const __=new Ct(Y.comparator);function Ra(...t){let e=__;for(const n of t)e=e.insert(n.key,n);return e}function w_(t){let e=__;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function jr(){return qs()}function E_(){return qs()}function qs(){return new ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ek=new Ct(Y.comparator),Sk=new Ke(Y.comparator);function st(...t){let e=Sk;for(const n of t)e=e.add(n);return e}const xk=new Ke(oe);function Tk(){return xk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jl(e)?"-0":e}}function S_(t){return{integerValue:""+t}}function Ck(t,e){return YP(e)?S_(e):zf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this._=void 0}}function Ak(t,e,n){return t instanceof Ul?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Vf(s)&&(s=Lf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Co?T_(t,e):t instanceof Ao?C_(t,e):function(i,s){const o=x_(i,s),l=hy(o)+hy(i.Pe);return cd(o)&&cd(i.Pe)?S_(l):zf(i.serializer,l)}(t,e)}function Ik(t,e,n){return t instanceof Co?T_(t,e):t instanceof Ao?C_(t,e):n}function x_(t,e){return t instanceof Bl?function(r){return cd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ul extends _u{}class Co extends _u{constructor(e){super(),this.elements=e}}function T_(t,e){const n=A_(e);for(const r of t.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ao extends _u{constructor(e){super(),this.elements=e}}function C_(t,e){let n=A_(e);for(const r of t.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}class Bl extends _u{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hy(t){return We(t.integerValue||t.doubleValue)}function A_(t){return $f(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Pk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Co&&i instanceof Co||r instanceof Ao&&i instanceof Ao?Ki(r.elements,i.elements,mn):r instanceof Bl&&i instanceof Bl?mn(r.Pe,i.Pe):r instanceof Ul&&i instanceof Ul}(t.transform,e.transform)}class kk{constructor(e,n){this.version=e,this.transformResults=n}}class Ot{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ot}static exists(e){return new Ot(void 0,e)}static updateTime(e){return new Ot(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Za(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wu{}function I_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Eu(t.key,Ot.none()):new $o(t.key,t.data,Ot.none());{const n=t.data,r=bt.empty();let i=new Ke(Ge.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new _r(t.key,r,new Mt(i.toArray()),Ot.none())}}function Rk(t,e,n){t instanceof $o?function(i,s,o){const l=i.value.clone(),u=fy(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof _r?function(i,s,o){if(!Za(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=fy(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(P_(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ys(t,e,n,r){return t instanceof $o?function(s,o,l,u){if(!Za(s.precondition,o))return l;const h=s.value.clone(),p=py(s.fieldTransforms,u,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof _r?function(s,o,l,u){if(!Za(s.precondition,o))return l;const h=py(s.fieldTransforms,u,o),p=o.data;return p.setAll(P_(s)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,l){return Za(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Nk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=x_(r.transform,i||null);s!=null&&(n===null&&(n=bt.empty()),n.set(r.field,s))}return n||null}function dy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ki(r,i,(s,o)=>Pk(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $o extends wu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _r extends wu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function P_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fy(t,e,n){const r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Ik(o,l,n[i]))}return r}function py(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ak(s,o,e))}return r}class Eu extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bk extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Rk(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ys(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ys(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=I_(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Ki(this.mutations,e.mutations,(n,r)=>dy(n,r))&&Ki(this.baseMutations,e.baseMutations,(n,r)=>dy(n,r))}}class Hf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return Ek}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,ee;function jk(t){switch(t){default:return Z();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function Ok(t){if(t===void 0)return Kr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ie.OK:return F.OK;case Ie.CANCELLED:return F.CANCELLED;case Ie.UNKNOWN:return F.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return F.INTERNAL;case Ie.UNAVAILABLE:return F.UNAVAILABLE;case Ie.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ie.NOT_FOUND:return F.NOT_FOUND;case Ie.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ie.ABORTED:return F.ABORTED;case Ie.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ie.DATA_LOSS:return F.DATA_LOSS;default:return Z()}}(ee=Ie||(Ie={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new t_([4294967295,4294967295],0);class Vk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $k(t,e){return fd(t,e.toTimestamp())}function ji(t){return Ce(!!t),ye.fromTimestamp(function(n){const r=qr(n);return new Ue(r.seconds,r.nanos)}(t))}function k_(t,e){return pd(t,e).canonicalString()}function pd(t,e){const n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Fk(t){const e=ke.fromString(t);return Ce(Kk(e)),e}function md(t,e){return k_(t.databaseId,e.path)}function Uk(t){const e=Fk(t);return e.length===4?ke.emptyPath():zk(e)}function Bk(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zk(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function my(t,e,n){return{name:md(t,e),fields:n.value.mapValue.fields}}function Hk(t,e){let n;if(e instanceof $o)n={update:my(t,e.key,e.value)};else if(e instanceof Eu)n={delete:md(t,e.key)};else if(e instanceof _r)n={update:my(t,e.key,e.data),updateMask:Qk(e.fieldMask)};else{if(!(e instanceof bk))return Z();n={verify:md(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Ul)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Co)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ao)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bl)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:$k(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function Wk(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ji(i.updateTime):ji(s);return o.isEqual(ye.min())&&(o=ji(s)),new kk(o,i.transformResults||[])}(n,e))):[]}function Gk(t){let e=Uk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(f){const m=R_(f);return m instanceof fr&&f_(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(x){return new $l(di(x.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Of(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,_=f.values||[];return new Ll(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(f){const m=!f.before,_=f.values||[];return new Ll(_,m)}(n.endAt)),pk(e,i,o,s,l,"F",u,h)}function R_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=di(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=di(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=di(n.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=di(n.unaryFilter.field);return Le.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Le.create(di(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>R_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function di(t){return Ge.fromServerFormat(t.fieldPath)}function Qk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.ct=e}}function Yk(t){const e=Gk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.un=new Jk}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(dr.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class Jk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vt(e,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vt.DEFAULT_COLLECTION_PERCENTILE=10,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vt.DEFAULT=new vt(41943040,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vt.DISABLED=new vt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ji(0)}static kn(){return new Ji(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy([t,e],[n,r]){const i=oe(t,n);return i===0?oe(e,r):i}class Zk{constructor(e){this.Un=e,this.buffer=new Ke(yy),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yy(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class e2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){H("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?H("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Mf(n)}await this.Hn(3e5)})}}class t2{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(jf.oe);const r=new Zk(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(gy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gy):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,l,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(h=Date.now(),hi()<=te.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function n2(t,e){return new t2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.changes=new ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ys(r.mutation,i,Mt.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const i=jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ra();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Fl();const o=qs(),l=function(){return qs()}();return n.forEach((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof _r)?s=s.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Ys(p.mutation,h,p.mutation.getFieldMask(),Ue.now())):o.set(h.key,Mt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>{var f;return l.set(h,new i2(p,(f=o.get(h))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=qs();let i=new Ct((o,l)=>o-l),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Mt.empty();p=l.applyToLocalView(h,p),r.set(u,p);const f=(i.get(l.batchId)||st()).add(u);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,p=u.value,f=E_();p.forEach(m=>{if(!s.has(m)){const _=I_(n.get(m),r.get(m));_!==null&&f.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(jr());let l=-1,u=s;return o.next(h=>O.forEach(h,(p,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(p)?O.resolve():this.remoteDocumentCache.getEntry(e,p).next(m=>{u=u.insert(p,m)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,st())).next(p=>({batchId:l,changes:w_(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=Ra();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ra();return this.indexManager.getCollectionParents(e,s).next(l=>O.forEach(l,u=>{const h=function(f,m){return new vu(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,en.newInvalidDocument(p)))});let l=Ra();return o.forEach((u,h)=>{const p=s.get(u);p!==void 0&&Ys(p.mutation,h,Mt.empty(),Ue.now()),Bf(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ji(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Yk(i.bundledQuery),readTime:ji(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.overlays=new Ct(Y.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jr();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=jr(),s=n.length+1,o=new Y(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ct((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=jr(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=jr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,p)=>l.set(h,p)),!(l.size()>=i)););return O.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Mk(n,r));let s=this.Ir.get(n);s===void 0&&(s=st(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this.Tr=new Ke(je.Er),this.dr=new Ke(je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Y(new ke([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Y(new ke([])),r=new je(n,e),i=new je(n,e+1);let s=st();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class je{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||oe(e.wr,n.wr)}static Ar(e,n){return oe(e.wr,n.wr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ke(je.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Dk(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new je(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(oe);return n.forEach(i=>{const s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new je(new Y(s),0);let l=new Ke(oe);return this.br.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.wr)),!0)},o),O.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{const s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new je(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.Mr=e,this.docs=function(){return new Ct(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=Fl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fl();const o=n.path,l=new Y(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||GP(WP(p),r)<=0||(i.has(p.key)||Bf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new h2(this)}getSize(e){return O.resolve(this.size)}}class h2 extends r2{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.persistence=e,this.Nr=new ni(n=>Ff(n),Uf),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wf,this.targetCount=0,this.kr=Ji.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ji(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.qr={},this.overlays={},this.Qr=new jf(0),this.Kr=!1,this.Kr=!0,this.$r=new l2,this.referenceDelegate=e(this),this.Ur=new d2(this),this.indexManager=new Xk,this.remoteDocumentCache=function(i){return new c2(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new qk(n),this.Gr=new o2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new a2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new u2(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new f2(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class f2 extends KP{constructor(e){super(),this.currentSequenceNumber=e}}class Gf{constructor(e){this.persistence=e,this.Jr=new Wf,this.Yr=null}static Zr(e){return new Gf(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{const i=Y.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class zl{constructor(e,n){this.persistence=e,this.ti=new ni(r=>XP(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=n2(this,n)}static Zr(e,n){return new zl(e,n)}zr(){}jr(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return O.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?O.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(l=>{l||(r++,s.removeEntry(o,ye.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),O.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xa(e.data.value)),n}nr(e,n,r){return O.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=st(),i=st();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yI()?8:qP(mI())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new p2;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(hi()<=te.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(hi()<=te.DEBUG&&H("QueryEngine","Query:",Ps(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hi()<=te.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):O.resolve())}Yi(e,n){if(cy(n))return O.resolve(null);let r=Fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dd(n,null,"F"),r=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=st(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ts(n,l);return this.ns(n,h,o,u.readTime)?this.Yi(e,dd(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return cy(n)||i.isEqual(ye.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?O.resolve(null):(hi()<=te.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ps(n)),this.rs(e,o,n,HP(i,-1)).next(l=>l))})}ts(e,n){let r=new Ke(vk(e));return n.forEach((i,s)=>{Bf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return hi()<=te.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ps(n)),this.Ji.getDocumentsMatchingQuery(e,n,dr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ct(oe),this._s=new ni(s=>Ff(s),Uf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function y2(t,e,n,r){return new g2(t,e,n,r)}async function b_(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=st();for(const h of i){o.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of s){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:l}))})})}function v2(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,p){const f=h.batch,m=f.keys();let _=O.resolve();return m.forEach(x=>{_=_.next(()=>p.getEntry(u,x)).next(k=>{const N=h.docVersions.get(x);Ce(N!==null),k.version.compareTo(N)<0&&(f.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),p.addEntry(k)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=st();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _2(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function w2(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class vy{constructor(){this.activeTargetIds=Tk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E2{constructor(){this.so=new vy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new vy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na=null;function Vc(){return Na===null?Na=function(){return 268435456+Math.round(2147483648*Math.random())}():Na++,"0x"+Na.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt="WebChannelConnection";class C2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=Vc(),u=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(n,u,h,i).then(p=>(H("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw Ml("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+os}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=x2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Vc();return new Promise((o,l)=>{const u=new n_;u.setWithCredentials(!0),u.listenOnce(r_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ya.NO_ERROR:const p=u.getResponseJson();H(nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case Ya.TIMEOUT:H(nt,`RPC '${e}' ${s} timed out`),l(new Q(F.DEADLINE_EXCEEDED,"Request time out"));break;case Ya.HTTP_ERROR:const f=u.getStatus();if(H(nt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const x=function(N){const T=N.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(T)>=0?T:F.UNKNOWN}(_.status);l(new Q(x,_.message))}else l(new Q(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Q(F.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{H(nt,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);H(nt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=Vc(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=o_(),l=s_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");H(nt,`Creating RPC '${e}' stream ${i}: ${p}`,u);const f=o.createWebChannel(p,u);let m=!1,_=!1;const x=new T2({Io:N=>{_?H(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(H(nt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),H(nt,`RPC '${e}' stream ${i} sending:`,N),f.send(N))},To:()=>f.close()}),k=(N,T,E)=>{N.listen(T,A=>{try{E(A)}catch(D){setTimeout(()=>{throw D},0)}})};return k(f,Ms.EventType.OPEN,()=>{_||(H(nt,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),k(f,Ms.EventType.CLOSE,()=>{_||(_=!0,H(nt,`RPC '${e}' stream ${i} transport closed`),x.So())}),k(f,Ms.EventType.ERROR,N=>{_||(_=!0,Ml(nt,`RPC '${e}' stream ${i} transport errored:`,N),x.So(new Q(F.UNAVAILABLE,"The operation could not be completed")))}),k(f,Ms.EventType.MESSAGE,N=>{var T;if(!_){const E=N.data[0];Ce(!!E);const A=E,D=A.error||((T=A[0])===null||T===void 0?void 0:T.error);if(D){H(nt,`RPC '${e}' stream ${i} received error:`,D);const V=D.status;let L=function(C){const P=Ie[C];if(P!==void 0)return Ok(P)}(V),w=D.message;L===void 0&&(L=F.INTERNAL,w="Unknown error status: "+V+" with message "+D.message),_=!0,x.So(new Q(L,w)),f.close()}else H(nt,`RPC '${e}' stream ${i} received:`,E),x.bo(E)}}),k(l,i_.STAT_EVENT,N=>{N.stat===ld.PROXY?H(nt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===ld.NOPROXY&&H(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Lc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){return new Vk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new D_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I2 extends A2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Wk(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Bk(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Hk(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,pd(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(F.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,pd(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class k2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Kr(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Uo(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=he(u);h.L_.add(4),await Fo(h),h.q_.set("Unknown"),h.L_.delete(4),await xu(h)}(this))})}),this.q_=new k2(r,i)}}async function xu(t){if(Uo(t))for(const e of t.B_)await e(!0)}async function Fo(t){for(const e of t.B_)await e(!1)}function Uo(t){return he(t).L_.size===0}async function M_(t,e,n){if(!Lo(e))throw e;t.L_.add(1),await Fo(t),t.q_.set("Offline"),n||(n=()=>_2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await xu(t)})}function j_(t,e){return e().catch(n=>M_(t,n,e))}async function Tu(t){const e=he(t),n=pr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;N2(e);)try{const i=await w2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,b2(e,i)}catch(i){await M_(e,i)}O_(e)&&V_(e)}function N2(t){return Uo(t)&&t.O_.length<10}function b2(t,e){t.O_.push(e);const n=pr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function O_(t){return Uo(t)&&!pr(t).n_()&&t.O_.length>0}function V_(t){pr(t).start()}async function D2(t){pr(t).p_()}async function M2(t){const e=pr(t);for(const n of t.O_)e.m_(n.mutations)}async function j2(t,e,n){const r=t.O_.shift(),i=Hf.from(r,e,n);await j_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tu(t)}async function O2(t,e){e&&pr(t).V_&&await async function(r,i){if(function(o){return jk(o)&&o!==F.ABORTED}(i.code)){const s=r.O_.shift();pr(r).s_(),await j_(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Tu(r)}}(t,e),O_(t)&&V_(t)}async function wy(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Uo(n);n.L_.add(3),await Fo(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await xu(n)}async function V2(t,e){const n=he(t);e?(n.L_.delete(2),await xu(n)):e||(n.L_.add(2),await Fo(n),n.q_.set("Unknown"))}function pr(t){return t.U_||(t.U_=function(n,r,i){const s=he(n);return s.w_(),new I2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:D2.bind(null,t),mo:O2.bind(null,t),f_:M2.bind(null,t),g_:j2.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Tu(t)):(await t.U_.stop(),t.O_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Kf(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function L_(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),Lo(t))return new Q(F.UNAVAILABLE,`${e}: ${t}`);throw t}class L2{constructor(){this.queries=Ey(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=he(n),s=i.queries;i.queries=Ey(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new Q(F.ABORTED,"Firestore shutting down"))}}function Ey(){return new ni(t=>v_(t),y_)}function $2(t){t.Y_.forEach(e=>{e.next()})}var Sy,xy;(xy=Sy||(Sy={})).ea="default",xy.Cache="cache";class F2{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ni(l=>v_(l),y_),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(Y.comparator),this.Na=new Map,this.La=new Wf,this.Ba={},this.ka=new Map,this.qa=Ji.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function U2(t,e,n){const r=W2(t);try{const i=await function(o,l){const u=he(o),h=Ue.now(),p=l.reduce((_,x)=>_.add(x.key),st());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=Fl(),k=st();return u.cs.getEntries(_,p).next(N=>{x=N,x.forEach((T,E)=>{E.isValidDocument()||(k=k.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,x)).next(N=>{f=N;const T=[];for(const E of l){const A=Nk(E,f.get(E.key).overlayedDocument);A!=null&&T.push(new _r(E.key,A,c_(A.value.mapValue),Ot.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,T,l)}).next(N=>{m=N;const T=N.applyToLocalDocumentSet(f,k);return u.documentOverlayCache.saveOverlays(_,N.batchId,T)})}).then(()=>({batchId:m.batchId,changes:w_(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let h=o.Ba[o.currentUser.toKey()];h||(h=new Ct(oe)),h=h.insert(l,u),o.Ba[o.currentUser.toKey()]=h}(r,i.batchId,n),await Cu(r,i.changes),await Tu(r.remoteStore)}catch(i){const s=L_(i,"Failed to persist write");n.reject(s)}}function Ty(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=he(o);u.onlineState=l;let h=!1;u.queries.forEach((p,f)=>{for(const m of f.j_)m.Z_(l)&&(h=!0)}),h&&$2(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B2(t,e){const n=he(t),r=e.batch.batchId;try{const i=await v2(n.localStore,e);F_(n,r,null),$_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(n,i)}catch(i){await Mf(i)}}async function z2(t,e,n){const r=he(t);try{const i=await function(o,l){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,l).next(f=>(Ce(f!==null),p=f.keys(),u.mutationQueue.removeMutationBatch(h,f))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,e);F_(r,e,n),$_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cu(r,i)}catch(i){await Mf(i)}}function $_(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function F_(t,e,n){const r=he(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}async function Cu(t,e,n){const r=he(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:(p=void 0)===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){i.push(h);const f=Qf.Wi(u.targetId,h);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,h){const p=he(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>O.forEach(h,m=>O.forEach(m.$i,_=>p.persistence.referenceDelegate.addReference(f,m.targetId,_)).next(()=>O.forEach(m.Ui,_=>p.persistence.referenceDelegate.removeReference(f,m.targetId,_)))))}catch(f){if(!Lo(f))throw f;H("LocalStore","Failed to update sequence numbers: "+f)}for(const f of h){const m=f.targetId;if(!f.fromCache){const _=p.os.get(m),x=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(x);p.os=p.os.insert(m,k)}}}(r.localStore,s))}async function H2(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await b_(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new Q(F.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cu(n,r.hs)}}function W2(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z2.bind(null,e),e}class Hl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Su(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return y2(this.persistence,new m2,e.initialUser,this.serializer)}Ga(e){return new N_(Gf.Zr,this.serializer)}Wa(e){return new E2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hl.provider={build:()=>new Hl};class G2 extends Hl{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Ce(this.persistence.referenceDelegate instanceof zl);const r=this.persistence.referenceDelegate.garbageCollector;return new e2(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?vt.withCacheSize(this.cacheSizeBytes):vt.DEFAULT;return new N_(r=>zl.Zr(r,n),this.serializer)}}class gd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ty(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H2.bind(null,this.syncEngine),await V2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L2}()}createDatastore(e){const n=Su(e.databaseInfo.databaseId),r=function(s){return new C2(s)}(e.databaseInfo);return function(s,o,l,u){return new P2(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new R2(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Ty(this.syncEngine,n,0),function(){return _y.D()?new _y:new S2}())}createSyncEngine(e,n){return function(i,s,o,l,u,h,p){const f=new F2(i,s,o,l,u,h);return p&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=he(i);H("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Fo(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gd.provider={build:()=>new gd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q2=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=l_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{H("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=L_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function $c(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await b_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Cy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K2(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wy(e.remoteStore,i)),t._onlineComponents=e}async function K2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await $c(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ml("Error using user provided cache. Falling back to memory cache: "+n),await $c(t,new Hl)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await $c(t,new G2(void 0));return t._offlineComponents}async function q2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await Cy(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await Cy(t,new gd))),t._onlineComponents}function Y2(t){return q2(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e,n){if(!n)throw new Q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J2(t,e,n,r){if(e===!0&&r===!0)throw new Q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Iy(t){if(!Y.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qf(t);throw new Q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Py({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Py(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jP;switch(r.type){case"firstParty":return new $P(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ay.get(n);r&&(H("ComponentProvider","Removing Datastore"),Ay.delete(n),r.terminate())}(this),Promise.resolve()}}function Z2(t,e,n,r={}){var i;const s=(t=Io(t,Yf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=rt.MOCK_USER;else{l=pI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new rt(h)}t._authCredentials=new OP(new a_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xf(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Po extends Xf{constructor(e,n,r){super(e,n,mk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Y(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function eR(t,e,...n){if(t=hr(t),arguments.length===1&&(e=l_.newId()),X2("doc","path",e),t instanceof Yf){const r=ke.fromString(e,...n);return Iy(r),new Pn(t,null,new Y(r))}{if(!(t instanceof Pn||t instanceof Po))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return Iy(r),new Pn(t.firestore,t instanceof Po?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new D_(this,"async_queue_retry"),this.Vu=()=>{const r=Lc();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Lc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Lc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new $r;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Lo(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Kr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Kf.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Au extends Yf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ky,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ky(e),this._firestoreClient=void 0,await e}}}function tR(t,e){const n=typeof t=="object"?t:xP(),r=typeof t=="string"?t:"(default)",i=_P(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dI("firestore");s&&Z2(i,...s)}return i}function B_(t){if(t._terminated)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nR(t),t._firestoreClient}function nR(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,h,p){return new tk(l,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,U_(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Q2(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(pn.fromBase64String(e))}catch(n){throw new Q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ko(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=/^__.*__$/;class iR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,n,this.fieldTransforms):new $o(e,this.data,n,this.fieldTransforms)}}class W_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function G_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class ep{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ep(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(G_(this.Cu)&&rR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class sR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Su(e)}Qu(e,n,r,i=!1){return new ep({Cu:e,methodName:n,qu:r,path:Ge.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q_(t){const e=t._freezeSettings(),n=Su(t._databaseId);return new sR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function K_(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);tp("Data must be an object, but it was:",o,r);const l=q_(r,o);let u,h;if(s.merge)u=new Mt(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const f of s.mergeFields){const m=yd(e,f,n);if(!o.contains(m))throw new Q(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);J_(p,m)||p.push(m)}u=new Mt(p),h=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,h=o.fieldTransforms;return new iR(new bt(l),u,h)}class Iu extends Zf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iu}}function oR(t,e,n,r){const i=t.Qu(1,e,n);tp("Data must be an object, but it was:",i,r);const s=[],o=bt.empty();ti(r,(u,h)=>{const p=X_(e,u,n);h=hr(h);const f=i.Nu(p);if(h instanceof Iu)s.push(p);else{const m=Pu(h,f);m!=null&&(s.push(p),o.set(p,m))}});const l=new Mt(s);return new W_(o,l,i.fieldTransforms)}function aR(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[yd(e,r,n)],u=[i];if(s.length%2!=0)throw new Q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(yd(e,s[m])),u.push(s[m+1]);const h=[],p=bt.empty();for(let m=l.length-1;m>=0;--m)if(!J_(h,l[m])){const _=l[m];let x=u[m];x=hr(x);const k=o.Nu(_);if(x instanceof Iu)h.push(_);else{const N=Pu(x,k);N!=null&&(h.push(_),p.set(_,N))}}const f=new Mt(h);return new W_(p,f,o.fieldTransforms)}function Pu(t,e){if(Y_(t=hr(t)))return tp("Unsupported field value:",e,t),q_(t,e);if(t instanceof Zf)return function(r,i){if(!G_(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Pu(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=hr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ck(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ue.fromDate(r);return{timestampValue:fd(i.serializer,s)}}if(r instanceof Ue){const s=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fd(i.serializer,s)}}if(r instanceof z_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:Lk(i.serializer,r._byteString)};if(r instanceof Pn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:k_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof H_)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return zf(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${qf(r)}`)}(t,e)}function q_(t,e){const n={};return u_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(t,(r,i)=>{const s=Pu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Y_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof z_||t instanceof ko||t instanceof Pn||t instanceof Zf||t instanceof H_)}function tp(t,e,n){if(!Y_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function yd(t,e,n){if((e=hr(e))instanceof Jf)return e._internalPath;if(typeof e=="string")return X_(t,e);throw Wl("Field path arguments must be of type string or ",t,!1,void 0,n)}const lR=new RegExp("[~\\*/\\[\\]]");function X_(t,e,n){if(e.search(lR)>=0)throw Wl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jf(...e.split("."))._internalPath}catch{throw Wl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Q(F.INVALID_ARGUMENT,l+t+u)}function J_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function uR(t,e,n){t=Io(t,Pn);const r=Io(t.firestore,Au),i=Z_(t.converter,e,n);return np(r,[K_(Q_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ot.none())])}function cR(t){return np(Io(t.firestore,Au),[new Eu(t._key,Ot.none())])}function np(t,e){return function(r,i){const s=new $r;return r.asyncQueue.enqueueAndForget(async()=>U2(await Y2(r),i,s)),s.promise}(B_(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Q_(e)}set(e,n,r){this._verifyNotCommitted();const i=Fc(e,this._firestore),s=Z_(i.converter,n,r),o=K_(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ot.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Fc(e,this._firestore);let o;return o=typeof(n=hr(n))=="string"||n instanceof Jf?aR(this._dataReader,"WriteBatch.update",s._key,n,r,i):oR(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ot.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Fc(e,this._firestore);return this._mutations=this._mutations.concat(new Eu(n._key,Ot.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Q(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fc(t,e){if((t=hr(t)).firestore!==e)throw new Q(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t){return B_(t=Io(t,Au)),new hR(t,e=>np(t,e))}(function(e,n=!0){(function(i){os=i})(SP),Dl(new Eo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Au(new VP(r.getProvider("auth-internal")),new UP(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(h.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Mi(ty,"4.7.4",e),Mi(ty,"4.7.4","esm2017")})();class fR{constructor({config:e}){G(this,"expenseCollection");G(this,"app");G(this,"db");this.expenseCollection="expenses",this.app=J1(e),this.db=tR(this.app)}async addExpense(e){console.debug("FirestoreClient.addExpense::",e);const n=this.getExpenseDocRef(e.id);await uR(n,e),console.debug("FirestoreClient.addExpense::completed without error")}async deleteExpense(e){console.debug("FirestoreClient.deleteExpense::expenseId=",e);const n=this.getExpenseDocRef(e);await cR(n),console.debug("FirestoreClient.deleteExpense:: completed without error")}async setAll(e){const n=dR(this.db);e.map(pR).forEach(r=>{const i=this.getExpenseDocRef(r.id);n.set(i,r)}),await n.commit()}getExpenseDocRef(e){return eR(this.db,this.expenseCollection,e)}}function pR(t){return Object.entries(t).filter(([e,n])=>n!==void 0).reduce((e,[n,r])=>(e[n]=r,e),{})}function Ry(t){const e=JSON.stringify(t,null,2);return new Blob([e],{type:"application/json"})}const mR=Lt.div`
  padding: 1rem 0;
`;function gR(t,e){const n=URL.createObjectURL(t),r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="blob",r.onload=function(i){if(this.status===200){const s=this.response,o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=e,o.click()}else{const s=[`Status 200 expected but got ${this.status} instead. No idea what happened`,`here:
`,`
`,`blob=${t.text()}
`,`
`,`filename=${e}
`,`
`,`fileUrl=${n}
`,`
`].join("");throw new Error(s)}},r.send()}function Ny(){return navigator.share===void 0}function yR(){return new Date().toISOString().slice(0,19).replaceAll(":","").replaceAll("-","").replace("T","-")}function vR({expenses:t,app:e}){const[n,r]=M.useState(!1),s=`expenses-form-${yR()}.json`,o=Ny()===!1;function l(){const f=Ry(t);gR(f,s)}function u(){const f=Ry(t),m=new File([f],s,{type:"text/csv"});if(Ny()){alert("Your device is not compatible with the Web Share API, sorry :)");return}const _={title:"fitness-tracker CSV",files:[m]};if(!navigator.canShare(_)){alert("You cannot share the CSV for some reason, sorry :)");return}navigator.share(_).then(()=>alert("all good")).catch(k=>{alert(k)})}function h(f){const m=e.paymentAccountsManager.get({id:f.paid_with});if(m===void 0)throw kn(`failed to clean Expense because Account ID ${f.paid_with} was not found`);const _={id:f.id,amount:f.amount,currency:f.currency,description:f.description,datetime:f.datetime,paid_with:m.ledgerName,shared:f.shared,pending:f.pending,splits:f.splits,published_at:If(wo())};return f.originalAmount===void 0?_:{..._,originalAmount:f.originalAmount,originalCurrency:f.originalCurrency}}function p(){const f=t.map(h),m=Me.firestoreConfig.read();if(m===void 0){alert("Please, set up Firestore config in settings");return}const _=new fR({config:m});r(!0),_.setAll(f).then(()=>{r(!1)}).catch(x=>{Zs.add({header:"Failed to push all expenses to Firestore",description:x})})}return g.jsxs(mR,{children:[g.jsx(ae,{text:"Download CSV",onClick:()=>l()}),g.jsx(ae,{text:"Share CSV",onClick:()=>u(),disabled:o===!1}),g.jsx(ae,{text:"Push to Firestore",onClick:()=>p(),disabled:n,icon:n?"rotate":void 0})]})}function _R({app:t}){const e=gu(),[n,r]=M.useState([]),[i,s]=M.useState();M.useEffect(()=>{const f=t.expenseManager.change$.subscribe(m=>{s(t.paymentAccountsManager.getDefault()),r(t.expenseManager.getAll())});return s(t.paymentAccountsManager.getDefault()),r(t.expenseManager.getAll()),()=>{f.unsubscribe()}},[t]);function o(f){e(Nt.expenseEditor.replace(":expenseId",f))}function l(){t.expenseManager.change$.pipe(IS()).subscribe(_=>{o(_.expenseId)});const f=t.paymentAccountsManager.getDefault();if(f===void 0)throw kn("No default account found");const m={datetime:If(wo()),amount:void 0,originalAmount:void 0,currency:f.currency,originalCurrency:void 0,description:"",shared:!1,pending:!0,paid_with:f.id,splits:[]};t.expenseManager.add(m)}function u(){window.location.reload(!0)}const h=i!==void 0,p=n.filter(f=>f.readyToPublish).map(f=>f.expense);return g.jsxs(Ur,{children:[g.jsx(ae,{text:"reload PWA",icon:"rotate",onClick:u}),h?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex justify-center items-center p-4",role:"warning",children:g.jsx("div",{children:"Add expense or select an existing one"})}),g.jsx(ae,{text:"Add expense",onClick:l})]}):g.jsx("div",{className:"flex justify-center p-4",role:"warning",children:g.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[g.jsxs("div",{children:["Must ",g.jsx("b",{children:"select a default account"}),' in "Accounts" page to add an expense.']}),g.jsx(O1,{to:Nt.paymentAccounts,children:g.jsx(ae,{text:"Go to Accounts"})})]})}),p.length>0&&g.jsx(vR,{expenses:p,app:t}),g.jsx("div",{className:"mt-4",children:g.jsx(nI,{expenses:n,onEditExpense:o,onDelete:f=>t.expenseManager.delete(f),app:t})})]})}const wR=Lt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  row-gap: 3.5rem;
  height: 100vh;
`,ER=Lt.span`
  font-size: 8rem;
  font-weight: 100;
  color: #aaa;
`,SR=Lt.p`
  margin-top: 1.5rem;
`;function xR(){return g.jsx(Ur,{children:g.jsxs(wR,{children:[g.jsx("h1",{children:"Ooops...!"}),g.jsx(ER,{children:"404"}),g.jsx(SR,{children:"Page not found"})]})})}function TR({currencies:t,onAddPaymentAccount:e}){const[n,r]=M.useState(void 0),[i,s]=M.useState(void 0),[o,l]=M.useState(void 0);function u(){n===void 0||i===void 0||o===void 0||(e({name:n,ledgerName:i,currency:o}),r(void 0),s(void 0),l(void 0))}const h=n!==void 0&&i!==void 0;return g.jsxs("div",{className:"flex flex-col gap-3 ",children:[g.jsx($e,{htmlFor:"new-account-name",text:"Account name: *",children:g.jsx(Et,{id:"new-account-name",value:n,placeholder:"Name",onChange:r,className:"mt-1"})}),g.jsx($e,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:g.jsx(Et,{id:"new-account-ledger-name",value:i,placeholder:"Ledger name",onChange:s,className:"mt-1"})}),g.jsx($e,{htmlFor:"new-account-currency",text:"Account currency:",children:g.jsx(or,{id:"new-account-currency",selected:o,options:t.map(p=>({id:p,label:p})),onSelect:l,className:"mt-1"})}),g.jsx("div",{className:"flex justify-end p-4",children:g.jsx(ae,{text:h?"Create":"fill details above",onClick:u,disabled:!h})})]})}function CR({account:t,currencies:e,onUpdate:n}){const[r,i]=M.useState(t.name),[s,o]=M.useState(t.ledgerName),[l,u]=M.useState(t.currency),h=r===t.name&&s===t.ledgerName&&l===t.currency;function p(){r===void 0||s===void 0||l===void 0||h||n({...t,name:r,ledgerName:s,currency:l})}const f=r!==void 0&&s!==void 0;return g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx($e,{htmlFor:"new-account-name",text:"Account name: *",children:g.jsx(Et,{id:"new-account-name",value:r,placeholder:"Name",onChange:i,className:"mt-1"})}),g.jsx($e,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:g.jsx(Et,{id:"new-account-ledger-name",value:s,placeholder:"Ledger name",onChange:o,className:"mt-1"})}),g.jsx($e,{htmlFor:"new-account-currency",text:"Account currency:",children:g.jsx(or,{id:"new-account-currency",selected:l,options:e.map(m=>({id:m,label:m})),onSelect:u,className:"mt-1"})}),g.jsx("div",{className:"flex justify-end m-3",children:g.jsx(ae,{onClick:p,disabled:!f||h,text:f?"Save":"'name' and 'ledger name' must not be empty"})})]})}function AR({account:t,isDefault:e,currencies:n,onUpdate:r,onDelete:i,onMarkAsDefault:s}){const[o,l]=M.useState(!1);let u="px-4 py-3 rounded relative";if(e&&o)u+=" bg-blue-200  dark:bg-blue-900 dark:bg-opacity-50";else if(e&&!o)u+=" bg-blue-200  dark:bg-blue-900";else if(!e&&!o)u+=" bg-gray-100  dark:bg-gray-700";else if(!e&&o)u+=" bg-gray-300  dark:bg-gray-900";else throw kn();if(o===!1){const{name:p,ledgerName:f}=t;return g.jsxs("div",{role:"payment-account",className:u,onClick:()=>l(!0),children:[e&&g.jsx("div",{className:"absolute top-2 right-3 text-xs flex justify-end z-10 opacity-50",role:"default-payment-account-indicator",children:"default"}),g.jsx("div",{children:g.jsx("b",{children:p})}),g.jsx("div",{children:f})]})}function h(){i(t.id)}return g.jsxs("div",{role:"payment-account",className:u,children:[g.jsx(CR,{account:t,currencies:n,onUpdate:r}),g.jsx(ae,{text:"Delete",onClick:h}),g.jsx(ae,{text:"Close",onClick:()=>l(!1)}),g.jsx(ae,{text:e?"is default payment method":"Mark as default",onClick:s,disabled:e})]})}function IR({app:t}){const[e,n]=M.useState([]),[r,i]=M.useState(),[s,o]=M.useState([]);M.useEffect(()=>{var x;const m=t.paymentAccountsManager.change$.subscribe(k=>{var N;n(t.paymentAccountsManager.getAll()),i((N=t.paymentAccountsManager.getDefault())==null?void 0:N.id)}),_=t.currencyManager.change$.subscribe(k=>{o([...t.currencyManager.getAll()].sort())});return n(t.paymentAccountsManager.getAll()),i((x=t.paymentAccountsManager.getDefault())==null?void 0:x.id),o([...t.currencyManager.getAll()].sort()),()=>{m.unsubscribe(),_.unsubscribe()}},[t]);function l(m){t.paymentAccountsManager.add({draft:m})}function u(m){t.paymentAccountsManager.update({account:m})}function h(m){t.paymentAccountsManager.delete({id:m})}function p(m){t.paymentAccountsManager.setDefault({id:m})}const f=s.length>0;return g.jsx(Ur,{children:f?g.jsxs(g.Fragment,{children:[g.jsx(TR,{currencies:s,onAddPaymentAccount:l}),r===void 0&&e.length>0&&g.jsx("div",{role:"warning",className:"p-4 flex justify-center",children:g.jsx("p",{children:g.jsx("b",{children:"please, select your default payment account"})})}),g.jsx("div",{className:"flex flex-col gap-3",role:"payment-accounts",children:e.length>0?e.map((m,_)=>g.jsx(AR,{account:m,isDefault:m.id===r,currencies:s,onUpdate:u,onDelete:h,onMarkAsDefault:()=>p(m.id)},`${_}-${m.id}`)):g.jsx("p",{children:"No payment accounts :)"})})]}):g.jsx("div",{children:"You must add currencies in the Settings page to be able to add Payment Accounts here"})})}function PR({app:t}){const[e,n]=M.useState([]),[r,i]=M.useState();M.useEffect(()=>{const h=t.peopleManager.change$.subscribe(p=>{n(t.peopleManager.getAll())});return n(t.peopleManager.getAll()),()=>h.unsubscribe()},[t]);function s(h){i(h)}function o(){if(r===void 0)return;const h=r;t.peopleManager.add(h),i(void 0)}function l(h){t.peopleManager.update({person:h})}function u(h){t.peopleManager.delete(h)}return g.jsx($e,{htmlFor:"people",text:"People",children:g.jsxs("div",{role:"people-form",className:"pt-2 px-2",children:[e.length===0?g.jsx("div",{children:"No people found"}):g.jsx("div",{role:"person-list",className:"flex flex-col gap-2",children:e.map(h=>g.jsx(kR,{person:h,onUpdate:l,onDelete:u},`person-${h.name}`))}),g.jsxs("div",{className:"pt-3",children:[g.jsx($e,{htmlFor:"add-person",text:"Add person",children:g.jsx(Et,{id:"add-person",value:r,placeholder:"Name",onChange:s,className:"mt-1"})}),g.jsx("div",{className:"flex justify-end p-2",children:g.jsx(ae,{text:"Add",onClick:o,disabled:!r})})]})]})})}function kR({person:t,onUpdate:e,onDelete:n}){const[r,i]=M.useState(!1),[s,o]=M.useState(t.splitwiseId),l=s!==t.splitwiseId;function u(){i(!r)}function h(){l!==!1&&e({...t,splitwiseId:s})}return g.jsxs("div",{role:"person",children:[g.jsxs("div",{className:"flex flex-row items-center gap-2 px-4 py-3 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded",children:[g.jsx(ae,{icon:"pencil",onClick:u}),g.jsx("div",{role:"person-name",className:"w-full",children:t.name}),g.jsx(ae,{icon:"bin",onClick:()=>n(t.name)})]}),g.jsx(kf,{isOpen:r,children:g.jsxs("div",{className:"flex flex-row items-center gap-2 pl-6 pt-1 pr-2 pb-4",children:[g.jsx(ae,{icon:"rotate",disabled:l===!1,onClick:h}),g.jsx(Et,{id:"splitwise-id",value:s,placeholder:"Splitwise ID",onChange:o})]})})]})}function RR({app:t,shortcut:e,onUpdate:n}){const[r,i]=M.useState(e.buttonName),s=Ai(e),[o,l]=M.useState(s),[u,h]=M.useState([]),p=r!=null&&r!=="",f=r!==e.buttonName||o!==s,m=p&&f;M.useEffect(()=>{const x=t.peopleManager.change$.subscribe(k=>{h(t.peopleManager.getAll().map(N=>N.name))});return h(t.peopleManager.getAll().map(k=>k.name)),()=>{x.unsubscribe()}},[t]);function _(){if(!m)return;const{main:x,seller:k,people:N,tags:T}=yu({raw:o});n({id:e.id,buttonName:r,main:x,seller:k,people:[...N],tags:[...T]})}return g.jsxs("div",{children:[g.jsx(Et,{id:`shortcut-${e.id}-button-name`,value:r,placeholder:"Button name (required)",onChange:i,className:"mt-1"}),g.jsx(Pf,{description:o,peopleInSettings:u,onChange:l}),g.jsx("div",{className:"flex justify-end p-2",children:g.jsx(ae,{text:f?"Update":"No changes",onClick:_,disabled:!m})})]})}function NR({shortcut:t,onUpdate:e,onDelete:n,app:r}){const[i,s]=M.useState(!1);function o(){s(!i)}return g.jsxs("div",{role:"shortcut",children:[g.jsxs("div",{className:"flex flex-row items-center gap-2 px-4 py-3 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded",children:[g.jsx(ae,{icon:i?"arrow-left":"pencil",onClick:o}),g.jsx("div",{role:"shortcut-name",className:"w-full",children:t.buttonName}),g.jsx(ae,{icon:"bin",onClick:()=>n(t.id)})]}),g.jsx(kf,{isOpen:i,children:g.jsx("div",{className:"flex flex-row items-center gap-2 pl-6 pt-1 pr-2 pb-4",children:g.jsx(RR,{app:r,shortcut:t,onUpdate:e})})})]})}const Uc="";function bR({app:t}){const[e,n]=M.useState([]),[r,i]=M.useState([]),[s,o]=M.useState(),[l,u]=M.useState(Uc);M.useEffect(()=>{const x=t.peopleManager.change$.subscribe(N=>{i(t.peopleManager.getAll().map(T=>T.name))}),k=t.shortcutsManager.change$.subscribe(N=>{n(t.shortcutsManager.getAll())});return i(t.peopleManager.getAll().map(N=>N.name)),n(t.shortcutsManager.getAll()),()=>{x.unsubscribe(),k.unsubscribe()}},[t]);function h(){o(void 0),u(Uc)}function p(){const{main:x,seller:k,people:N,tags:T}=yu({raw:l});if(s==null||s===""){alert("button name must not be empty");return}if(x==null||x===""){alert("main description name must not be empty");return}t.shortcutsManager.add({buttonName:s,main:x,people:[...N],seller:k,tags:[...T]}),h()}function f(x){t.shortcutsManager.update({shortcut:x})}function m(x){t.shortcutsManager.delete(x)}function _(){return!(s==null||s===""||l===Uc)}return g.jsx($e,{htmlFor:"shortcuts",text:"Shortcuts",children:g.jsxs("div",{role:"shortcuts-form",className:"pt-2 px-2",children:[e.length===0?g.jsx("div",{children:"No shortcuts found"}):g.jsx("div",{role:"shortcut-list",className:"flex flex-col gap-2",children:e.map(x=>g.jsx(NR,{shortcut:x,onUpdate:f,onDelete:m,app:t},`shortcut-${x.id}`))}),g.jsxs("div",{className:"pt-3",children:[g.jsxs($e,{htmlFor:"add-shortcut",text:"Add shortcut",children:[g.jsx(Et,{id:"new-shortcut-button-name",value:s,placeholder:"Button name",onChange:o,className:"mt-1"}),g.jsx(Pf,{description:l,peopleInSettings:r,onChange:u})]}),g.jsx("div",{className:"flex justify-end p-2",children:g.jsx(ae,{text:"Add",onClick:p,disabled:!_()})})]})]})})}function DR(t){return t.join(",")}function MR(t){const e=t.split(",").filter(r=>r!=="").map(r=>`"${r}"`).join(",");return JSON.parse(`[${e}]`)}function jR({app:t}){const[e,n]=M.useState(void 0),[r,i]=M.useState(void 0),[s,o]=M.useState(void 0),[l,u]=M.useState();M.useEffect(()=>{if(Me.splitwiseApiToken.exists()&&n(Me.splitwiseApiToken.read()),Me.tripTags.exists()&&i(DR(Me.tripTags.read())),Me.firestoreConfig.exists()){const _=Me.firestoreConfig.read();o(JSON.stringify(_))}Me.currencies.exists()&&u(Me.currencies.read())},[]);function h(_){if(_===void 0||_===""){n(void 0),Me.splitwiseApiToken.delete();return}n(_),Me.splitwiseApiToken.set(_)}function p(_){if(_===void 0||_===""){i(void 0),Me.tripTags.delete();return}i(_);const x=MR(_);Me.tripTags.set(x)}function f(_){if(_===void 0||_===""){o(void 0),Me.firestoreConfig.delete();return}o(_);const x=JSON.parse(_);Me.firestoreConfig.set(x)}function m(_){if(_===void 0||_===""){u(void 0),Me.currencies.delete();return}u(_),Me.currencies.set(_)}return g.jsx(Ur,{children:g.jsxs("div",{className:"px-3 flex flex-col gap-4",children:[g.jsx($e,{htmlFor:"splitwise-api-token",text:"Splitwise API token",children:g.jsx(Et,{id:"splitwise-api-token",value:e,placeholder:"Splitwise API token",onChange:h,className:"mt-1"})}),g.jsx($e,{htmlFor:"trip-tags",text:"Trip tags",children:g.jsx(Et,{id:"trip-tags",value:r,placeholder:"trip tags",onChange:p,className:"mt-1"})}),g.jsx($e,{htmlFor:"firestore-config",text:"Firestore config",children:g.jsx(Et,{id:"firestore-config",value:s,placeholder:'{"a":1,"b":2}',onChange:f,isCode:!0,className:"mt-1"})}),g.jsx($e,{htmlFor:"currencies",text:"Currencies",children:g.jsx(Et,{id:"currencies",value:l,placeholder:"GBP,EUR,USD",onChange:m,className:"mt-1"})}),g.jsx(PR,{app:t}),g.jsx(bR,{app:t})]})})}const OR="50px",VR=Lt.div`
  height: calc(100vh - ${OR});
  overflow-y: scroll;
`;function LR({app:t}){const[e,n]=M.useState(!0),[r,i]=M.useState(ih);M.useEffect(()=>{t.initialize(),n(!1)},[t]);const s="bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-200";return e?g.jsx(la.Parent,{className:ih,children:g.jsx(la.ContentFullyCentered,{className:s,children:g.jsx(Ur,{children:g.jsx("div",{className:"flex flex-row justify-center",children:"Loading data..."})})})}):g.jsx(xv.Provider,{value:{theme:r,setTheme:i},children:g.jsx(UC,{basename:QC,children:g.jsx(la.Parent,{className:r,children:g.jsxs(la.Content,{className:s,children:[g.jsx(DS,{}),g.jsx(WC,{}),g.jsx(VR,{children:g.jsxs(MC,{children:[g.jsx(ci,{path:Nt.root,element:g.jsx(_R,{app:t})}),g.jsx(ci,{path:Nt.expenseEditor,element:g.jsx(BA,{app:t})}),g.jsx(ci,{path:Nt.paymentAccounts,element:g.jsx(IR,{app:t})}),g.jsx(ci,{path:Nt.settings,element:g.jsx(jR,{app:t})}),g.jsx(ci,{path:Nt.notFound,element:g.jsx(xR,{})})]})})]})})})})}class $R{constructor({expenseManager:e,paymentAccountsManager:n,browserStorage:r,currencyManager:i,peopleManager:s,shortcutsManager:o}){G(this,"expenseManager");G(this,"paymentAccountsManager");G(this,"currencyManager");G(this,"peopleManager");G(this,"shortcutsManager");G(this,"initialized",!1);G(this,"browserStorage");this.expenseManager=e,this.paymentAccountsManager=n,this.browserStorage=r,this.currencyManager=i,this.peopleManager=s,this.shortcutsManager=o,this.paymentAccountsManager.change$.subscribe(l=>this.handlePaymentAccountChange(l))}initialize(){if(console.debug("App.initialize::started"),this.initialized)console.debug("App.initialize::already initialized");else{const e=this.browserStorage.readExpenses();this.expenseManager.initialize({appExpenses:e});const n=this.browserStorage.readCurrencies(),r=this.browserStorage.readPaymentAccounts();this.currencyManager.initialize({currencies:[...n,...r.map(i=>i.currency)]}),this.paymentAccountsManager.initialize({accounts:r,defaultAccountId:this.browserStorage.readDefaultAccountId()}),this.peopleManager.initialize({people:this.browserStorage.readPeople()}),this.shortcutsManager.initialize({shortcuts:this.browserStorage.readShortcuts()}),this.initialized=!0}console.debug("App.initialize::completed")}handlePaymentAccountChange(e){switch(e.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return;case"PaymentAccountUpdated":return;case"PaymentAccountDeleted":return;case"DefaultPaymentAccountSet":return this.handleDefaultPaymentAccountChange(e.id);default:bd(e,`unsupported PaymentAccountChange: ${e}`)}}handleDefaultPaymentAccountChange(e){this.browserStorage.setDefaultAccountId({id:e})}}var ew,by=zT;ew=by.createRoot,by.hydrateRoot;class FR{constructor(){G(this,"change$");G(this,"people");G(this,"changesSubject");this.people=new Map,this.changesSubject=new Xr,this.change$=this.changesSubject.asObservable()}initialize({people:e}){console.debug("PeopleManager.initialize:: initializing people:",e);const n=[void 0,null,""," "];for(const r of e)n.includes(r.name)||this.people.set(r.name,r);this.changesSubject.next({kind:"PeopleManagerInitialized"})}getAll(){return[...this.people.values()].sort(UR)}add(e){if(this.people.has(e)){console.warn(`PeopleManager.add: '${e}' not added because already existed`);return}const r={name:e};this.people.set(e,r),this.changesSubject.next({kind:"PersonAdded",name:e})}update({person:e}){const n=e.name,r=this.people.get(n);return r===void 0?{success:!1,reason:`person '${n}' not found`}:r.splitwiseId===e.splitwiseId?{success:!1,reason:`person '${n}' is already up to date`}:(this.people.set(n,e),this.changesSubject.next({kind:"PersonUpdated",name:n}),{success:!0})}delete(e){if(this.people.delete(e)===!1){console.warn(`PeopleManager.delete: '${e}' not deleted because it was not found`);return}this.changesSubject.next({kind:"PersonDeleted",name:e})}}function UR(t,e){return t.name>e.name?Mn.SwapOrder:Mn.KeepOrder}class Ii{constructor({client:e,expenseManager:n,paymentAccountsManager:r,peopleManager:i,shortcutsManager:s}){G(this,"client");G(this,"expenseManager");G(this,"paymentAccountsManager");G(this,"peopleManager");G(this,"shortcutsManager");this.client=e,this.expenseManager=n,this.paymentAccountsManager=r,this.peopleManager=i,this.shortcutsManager=s,this.expenseManager.change$.subscribe(o=>{switch(console.debug("BrowserStorage.expenseManager.changes:",o),!0){case o instanceof B1:return this.handleExpenseAdded(o);case o instanceof z1:return this.handleExpenseUpdated(o);case o instanceof H1:return this.handleExpenseDeleted(o);default:throw new Error(`BrowserStorage: unsupported change: ${o}`)}}),this.paymentAccountsManager.change$.subscribe(o=>{switch(console.debug("BrowserStorage.paymentAccountsManager.change$:",o),o.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return this.persistAllPaymentAccounts();case"PaymentAccountUpdated":return this.persistAllPaymentAccounts();case"PaymentAccountDeleted":return this.persistAllPaymentAccounts()}}),this.peopleManager.change$.subscribe(o=>{switch(console.debug("BrowserStorage.peopleManager.change$:",o),o.kind){case"PeopleManagerInitialized":return;case"PersonAdded":return this.persistAllPeople();case"PersonUpdated":return this.persistAllPeople();case"PersonDeleted":return this.persistAllPeople();default:bd(o,`unsupported PeopleChange: ${o}`)}}),this.shortcutsManager.change$.subscribe(o=>{switch(console.debug("BrowserStorage.shortcutsManager.change$:",o),o.kind){case"ShortcutsManagerInitialized":return;case"ShortcutAdded":return this.persistAllShortcuts();case"ShortcutUpdated":return this.persistAllShortcuts();case"ShortcutDeleted":return this.persistAllShortcuts()}})}readExpenses(){console.debug("BrowserStorage.readExpenses()");const e=this.client.expenses.read()||{},n=[];for(const r of Object.values(e)){const i={expense:{id:r.expense.id,amount:r.expense.amount,currency:r.expense.currency,originalAmount:r.expense.originalAmount,originalCurrency:r.expense.originalCurrency,description:r.expense.description,datetime:r.expense.datetime,paid_with:r.expense.paid_with,shared:r.expense.shared,pending:r.expense.pending,splits:r.expense.splits},status:U1[r.status],readyToPublish:r.readyToPublish};n.push(i)}return n}readCurrencies(){return console.debug(`${Ii.name}.${this.readCurrencies.name}()`),(this.client.currencies.read()||"").split(",")}readPaymentAccounts(){console.debug(`${Ii.name}.${this.readPaymentAccounts.name}()`);const e=this.client.paymentAccounts.read()||[],n=[];for(const r of e){const i={id:r.id,name:r.name,ledgerName:r.ledgerName,currency:r.currency};n.push(i)}return n}readDefaultAccountId(){return console.debug(`${Ii.name}.${this.readDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.read()}readPeople(){console.debug("BrowserStorage.readPeople()");const e=this.client.people.read()||[],n=[];for(const r of e){const i={name:r.name,splitwiseId:r.splitwiseId};n.push(i)}return n}readShortcuts(){console.debug("BrowserStorage.readShortcuts()");const e=this.client.shortcuts.read()||[],n=[];for(const r of e){const i={id:r.id,buttonName:r.buttonName,main:r.main,people:r.people,seller:r.seller,tags:r.tags};n.push(i)}return n}setDefaultAccountId({id:e}){console.debug(`${Ii.name}.${this.setDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.set(e)}persistAppExpense(e){const r={...this.client.expenses.read()||{},[e.expense.id]:e};this.client.expenses.set(r)}deleteExpense(e){console.debug(`BrowserStorage.deleteExpense::id=${e}`);const r={...this.client.expenses.read()||{}};delete r[e],this.client.expenses.set(r)}handleExpenseAdded(e){const n=this.expenseManager.get(e.expenseId);this.persistAppExpense(n)}handleExpenseUpdated(e){const n=this.expenseManager.get(e.expenseId);this.persistAppExpense(n)}handleExpenseDeleted(e){this.deleteExpense(e.expenseId)}persistAllPaymentAccounts(){const e=this.paymentAccountsManager.getAll();this.client.paymentAccounts.set(e)}persistAllPeople(){const e=this.peopleManager.getAll();this.client.people.set(e)}persistAllShortcuts(){const e=this.shortcutsManager.getAll();this.client.shortcuts.set(e)}}class BR{constructor(){G(this,"change$");G(this,"currencies");G(this,"changeSubject");this.currencies=new Set,this.changeSubject=new Xr,this.change$=this.changeSubject.asObservable()}initialize({currencies:e}){for(const n of e)[void 0,null,""].includes(n)||this.currencies.add(n);this.changeSubject.next({kind:"CurrencyManagerInitialized"})}getAll(){return new Set([...this.currencies.values()])}}var Dy={};const zR=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function HR(t){if("serviceWorker"in navigator){if(new URL(Dy.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const n=`${Dy.PUBLIC_URL}/service-worker.js`;zR?(WR(n),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):tw(n)})}}function tw(t,e){navigator.serviceWorker.register(t).then(n=>{n.update(),setInterval(()=>{n.update(),console.debug("Checked for update...")},1e3*60*5),n.onupdatefound=()=>{const r=n.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."):console.log("Content is cached for offline use."))})}}).catch(n=>{console.error("Error during service worker registration:",n)})}function WR(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");n.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(i=>{i.unregister().then(()=>{window.location.reload()})}):tw(t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const GR=lS`
  a {
    color: inherit;
    text-decoration: none;
  }

  ul li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  ol li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  html {
    font-size: 1.2rem;
  }

  body {
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 0;
    text-transform: none;
  }
`,QR="modulepreload",KR=function(t){return"/expenses-form/"+t},My={},qR=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=KR(u),u in My)return;My[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":QR,h||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((m,_)=>{f.addEventListener("load",m),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function YR(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let l,u,h;const p=async(m=!0)=>{await u,await(h==null?void 0:h())};async function f(){if("serviceWorker"in navigator){if(l=await qR(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/expenses-form/sw.js",{scope:"/expenses-form/",type:"classic"})).catch(m=>{o==null||o(m)}),!l)return;h=async()=>{await(l==null?void 0:l.messageSkipWaiting())};{let m=!1;const _=()=>{m=!0,l==null||l.addEventListener("controlling",x=>{x.isUpdate&&window.location.reload()}),n==null||n()};l.addEventListener("installed",x=>{typeof x.isUpdate>"u"?typeof x.isExternal<"u"?x.isExternal?_():!m&&(r==null||r()):x.isExternal?window.location.reload():!m&&(r==null||r()):x.isUpdate||r==null||r()}),l.addEventListener("waiting",_),l.addEventListener("externalwaiting",_)}l.register({immediate:e}).then(m=>{s?s("/expenses-form/sw.js",m):i==null||i(m)}).catch(m=>{o==null||o(m)})}}return u=f(),p}class XR{constructor(){G(this,"change$");G(this,"shortcuts");G(this,"changesSubject");this.shortcuts=new Map,this.changesSubject=new Xr,this.change$=this.changesSubject.asObservable()}initialize({shortcuts:e}){console.debug("ShortcutsManager.initialize:: initializing shortcuts:",e);for(const n of e)this.shortcuts.set(n.id,n);this.changesSubject.next({kind:"ShortcutsManagerInitialized"})}getAll(){return[...this.shortcuts.values()].sort(JR)}add(e){const n=this.generateId(),r={id:n,...e};this.shortcuts.set(n,r),this.changesSubject.next({kind:"ShortcutAdded",id:n})}update({shortcut:e}){const{id:n}=e;return this.shortcuts.get(n)===void 0?{success:!1,reason:`shortcut '${n}' not found`}:(this.shortcuts.set(n,e),this.changesSubject.next({kind:"ShortcutUpdated",id:n}),{success:!0})}delete(e){if(this.shortcuts.delete(e)===!1){console.warn(`ShortcutsManager.delete: '${e}' not deleted because it was not found`);return}this.changesSubject.next({kind:"ShortcutDeleted",id:e})}generateId(){let e=0;for(;this.shortcuts.has(e)!==!1;)e++;return e}}function JR(t,e){return t.id>e.id?Mn.SwapOrder:Mn.KeepOrder}const ZR=window.location.hostname==="localhost",eN=YR({onNeedRefresh:function(){(ZR||confirm("There is an newer version of this app. Do you want to update?"))&&eN(!0)}}),nw=new Rf,rw=new Mr,iw=new FR,sw=new XR,tN=new Ii({expenseManager:nw,paymentAccountsManager:rw,client:new V1,peopleManager:iw,shortcutsManager:sw}),nN=new BR,rN=new $R({browserStorage:tN,expenseManager:nw,paymentAccountsManager:rw,currencyManager:nN,peopleManager:iw,shortcutsManager:sw}),ow=document.getElementById("root");if(ow===null)throw new Error('expected to find an element with `id="root"` to render the React app, but found none');const iN=ew(ow);iN.render(g.jsxs(tn.StrictMode,{children:[g.jsx(GR,{}),g.jsx(LR,{app:rN})]}));HR();
