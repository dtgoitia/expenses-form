var Xw=Object.defineProperty;var Jw=(t,e,n)=>e in t?Xw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var W=(t,e,n)=>Jw(t,typeof e!="symbol"?e+"":e,n);function Zw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function eE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xy={exports:{}},Yl={},Jy={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=Symbol.for("react.element"),tE=Symbol.for("react.portal"),nE=Symbol.for("react.fragment"),rE=Symbol.for("react.strict_mode"),iE=Symbol.for("react.profiler"),sE=Symbol.for("react.provider"),oE=Symbol.for("react.context"),aE=Symbol.for("react.forward_ref"),lE=Symbol.for("react.suspense"),uE=Symbol.for("react.memo"),cE=Symbol.for("react.lazy"),cm=Symbol.iterator;function hE(t){return t===null||typeof t!="object"?null:(t=cm&&t[cm]||t["@@iterator"],typeof t=="function"?t:null)}var Zy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ev=Object.assign,tv={};function Zi(t,e,n){this.props=t,this.context=e,this.refs=tv,this.updater=n||Zy}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nv(){}nv.prototype=Zi.prototype;function Ad(t,e,n){this.props=t,this.context=e,this.refs=tv,this.updater=n||Zy}var Cd=Ad.prototype=new nv;Cd.constructor=Ad;ev(Cd,Zi.prototype);Cd.isPureReactComponent=!0;var hm=Array.isArray,rv=Object.prototype.hasOwnProperty,Id={current:null},iv={key:!0,ref:!0,__self:!0,__source:!0};function sv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rv.call(e,r)&&!iv.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ro,type:t,key:s,ref:o,props:i,_owner:Id.current}}function dE(t,e){return{$$typeof:Ro,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ro}function fE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dm=/\/+/g;function nc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fE(""+t.key):e.toString(36)}function Da(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ro:case tE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+nc(o,0):r,hm(i)?(n="",t!=null&&(n=t.replace(dm,"$&/")+"/"),Da(i,e,n,"",function(c){return c})):i!=null&&(Pd(i)&&(i=dE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",hm(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+nc(s,l);o+=Da(s,e,n,u,i)}else if(u=hE(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+nc(s,l++),o+=Da(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sa(t,e,n){if(t==null)return t;var r=[],i=0;return Da(t,r,"","",function(s){return e.call(n,s,i++)}),r}function pE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},ja={transition:null},mE={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:ja,ReactCurrentOwner:Id};function ov(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:sa,forEach:function(t,e,n){sa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sa(t,function(){e++}),e},toArray:function(t){return sa(t,function(e){return e})||[]},only:function(t){if(!Pd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=Zi;J.Fragment=nE;J.Profiler=iE;J.PureComponent=Ad;J.StrictMode=rE;J.Suspense=lE;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mE;J.act=ov;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ev({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Id.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)rv.call(e,u)&&!iv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ro,type:t.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(t){return t={$$typeof:oE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sE,_context:t},t.Consumer=t};J.createElement=sv;J.createFactory=function(t){var e=sv.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:aE,render:t}};J.isValidElement=Pd;J.lazy=function(t){return{$$typeof:cE,_payload:{_status:-1,_result:t},_init:pE}};J.memo=function(t,e){return{$$typeof:uE,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=ja.transition;ja.transition={};try{t()}finally{ja.transition=e}};J.unstable_act=ov;J.useCallback=function(t,e){return pt.current.useCallback(t,e)};J.useContext=function(t){return pt.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};J.useEffect=function(t,e){return pt.current.useEffect(t,e)};J.useId=function(){return pt.current.useId()};J.useImperativeHandle=function(t,e,n){return pt.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return pt.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return pt.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return pt.current.useMemo(t,e)};J.useReducer=function(t,e,n){return pt.current.useReducer(t,e,n)};J.useRef=function(t){return pt.current.useRef(t)};J.useState=function(t){return pt.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return pt.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return pt.current.useTransition()};J.version="18.3.1";Jy.exports=J;var D=Jy.exports;const nn=eE(D),gE=Zw({__proto__:null,default:nn},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE=D,vE=Symbol.for("react.element"),_E=Symbol.for("react.fragment"),wE=Object.prototype.hasOwnProperty,EE=yE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SE={key:!0,ref:!0,__self:!0,__source:!0};function av(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wE.call(e,r)&&!SE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vE,type:t,key:s,ref:o,props:i,_owner:EE.current}}Yl.Fragment=_E;Yl.jsx=av;Yl.jsxs=av;Xy.exports=Yl;var g=Xy.exports,at=function(){return at=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},at.apply(this,arguments)};function Xs(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var fe="-ms-",Ms="-moz-",se="-webkit-",lv="comm",Xl="rule",kd="decl",xE="@import",uv="@keyframes",TE="@layer",cv=Math.abs,Rd=String.fromCharCode,qc=Object.assign;function AE(t,e){return Oe(t,0)^45?(((e<<2^Oe(t,0))<<2^Oe(t,1))<<2^Oe(t,2))<<2^Oe(t,3):0}function hv(t){return t.trim()}function Sn(t,e){return(t=e.exec(t))?t[0]:t}function q(t,e,n){return t.replace(e,n)}function Ma(t,e,n){return t.indexOf(e,n)}function Oe(t,e){return t.charCodeAt(e)|0}function Oi(t,e,n){return t.slice(e,n)}function cn(t){return t.length}function dv(t){return t.length}function ks(t,e){return e.push(t),t}function CE(t,e){return t.map(e).join("")}function fm(t,e){return t.filter(function(n){return!Sn(n,e)})}var Jl=1,Vi=1,fv=0,Gt=0,ke=0,es="";function Zl(t,e,n,r,i,s,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Jl,column:Vi,length:o,return:"",siblings:l}}function Bn(t,e){return qc(Zl("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ci(t){for(;t.root;)t=Bn(t.root,{children:[t]});ks(t,t.siblings)}function IE(){return ke}function PE(){return ke=Gt>0?Oe(es,--Gt):0,Vi--,ke===10&&(Vi=1,Jl--),ke}function rn(){return ke=Gt<fv?Oe(es,Gt++):0,Vi++,ke===10&&(Vi=1,Jl++),ke}function $r(){return Oe(es,Gt)}function Oa(){return Gt}function eu(t,e){return Oi(es,t,e)}function Yc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kE(t){return Jl=Vi=1,fv=cn(es=t),Gt=0,[]}function RE(t){return es="",t}function rc(t){return hv(eu(Gt-1,Xc(t===91?t+2:t===40?t+1:t)))}function NE(t){for(;(ke=$r())&&ke<33;)rn();return Yc(t)>2||Yc(ke)>3?"":" "}function bE(t,e){for(;--e&&rn()&&!(ke<48||ke>102||ke>57&&ke<65||ke>70&&ke<97););return eu(t,Oa()+(e<6&&$r()==32&&rn()==32))}function Xc(t){for(;rn();)switch(ke){case t:return Gt;case 34:case 39:t!==34&&t!==39&&Xc(ke);break;case 40:t===41&&Xc(t);break;case 92:rn();break}return Gt}function DE(t,e){for(;rn()&&t+ke!==57;)if(t+ke===84&&$r()===47)break;return"/*"+eu(e,Gt-1)+"*"+Rd(t===47?t:rn())}function jE(t){for(;!Yc($r());)rn();return eu(t,Gt)}function ME(t){return RE(Va("",null,null,null,[""],t=kE(t),0,[0],t))}function Va(t,e,n,r,i,s,o,l,u){for(var c=0,p=0,d=o,m=0,_=0,S=0,I=1,N=1,T=1,w=0,C="",j=i,L=s,V=r,E=C;N;)switch(S=w,w=rn()){case 40:if(S!=108&&Oe(E,d-1)==58){Ma(E+=q(rc(w),"&","&\f"),"&\f",cv(c?l[c-1]:0))!=-1&&(T=-1);break}case 34:case 39:case 91:E+=rc(w);break;case 9:case 10:case 13:case 32:E+=NE(S);break;case 92:E+=bE(Oa()-1,7);continue;case 47:switch($r()){case 42:case 47:ks(OE(DE(rn(),Oa()),e,n,u),u);break;default:E+="/"}break;case 123*I:l[c++]=cn(E)*T;case 125*I:case 59:case 0:switch(w){case 0:case 125:N=0;case 59+p:T==-1&&(E=q(E,/\f/g,"")),_>0&&cn(E)-d&&ks(_>32?mm(E+";",r,n,d-1,u):mm(q(E," ","")+";",r,n,d-2,u),u);break;case 59:E+=";";default:if(ks(V=pm(E,e,n,c,p,i,l,C,j=[],L=[],d,s),s),w===123)if(p===0)Va(E,e,V,V,j,s,d,l,L);else switch(m===99&&Oe(E,3)===110?100:m){case 100:case 108:case 109:case 115:Va(t,V,V,r&&ks(pm(t,V,V,0,0,i,l,C,i,j=[],d,L),L),i,L,d,l,r?j:L);break;default:Va(E,V,V,V,[""],L,0,l,L)}}c=p=_=0,I=T=1,C=E="",d=o;break;case 58:d=1+cn(E),_=S;default:if(I<1){if(w==123)--I;else if(w==125&&I++==0&&PE()==125)continue}switch(E+=Rd(w),w*I){case 38:T=p>0?1:(E+="\f",-1);break;case 44:l[c++]=(cn(E)-1)*T,T=1;break;case 64:$r()===45&&(E+=rc(rn())),m=$r(),p=d=cn(C=E+=jE(Oa())),w++;break;case 45:S===45&&cn(E)==2&&(I=0)}}return s}function pm(t,e,n,r,i,s,o,l,u,c,p,d){for(var m=i-1,_=i===0?s:[""],S=dv(_),I=0,N=0,T=0;I<r;++I)for(var w=0,C=Oi(t,m+1,m=cv(N=o[I])),j=t;w<S;++w)(j=hv(N>0?_[w]+" "+C:q(C,/&\f/g,_[w])))&&(u[T++]=j);return Zl(t,e,n,i===0?Xl:l,u,c,p,d)}function OE(t,e,n,r){return Zl(t,e,n,lv,Rd(IE()),Oi(t,2,-2),0,r)}function mm(t,e,n,r,i){return Zl(t,e,n,kd,Oi(t,0,r),Oi(t,r+1,-1),r,i)}function pv(t,e,n){switch(AE(t,e)){case 5103:return se+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return se+t+t;case 4789:return Ms+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return se+t+Ms+t+fe+t+t;case 5936:switch(Oe(t,e+11)){case 114:return se+t+fe+q(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return se+t+fe+q(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return se+t+fe+q(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return se+t+fe+t+t;case 6165:return se+t+fe+"flex-"+t+t;case 5187:return se+t+q(t,/(\w+).+(:[^]+)/,se+"box-$1$2"+fe+"flex-$1$2")+t;case 5443:return se+t+fe+"flex-item-"+q(t,/flex-|-self/g,"")+(Sn(t,/flex-|baseline/)?"":fe+"grid-row-"+q(t,/flex-|-self/g,""))+t;case 4675:return se+t+fe+"flex-line-pack"+q(t,/align-content|flex-|-self/g,"")+t;case 5548:return se+t+fe+q(t,"shrink","negative")+t;case 5292:return se+t+fe+q(t,"basis","preferred-size")+t;case 6060:return se+"box-"+q(t,"-grow","")+se+t+fe+q(t,"grow","positive")+t;case 4554:return se+q(t,/([^-])(transform)/g,"$1"+se+"$2")+t;case 6187:return q(q(q(t,/(zoom-|grab)/,se+"$1"),/(image-set)/,se+"$1"),t,"")+t;case 5495:case 3959:return q(t,/(image-set\([^]*)/,se+"$1$`$1");case 4968:return q(q(t,/(.+:)(flex-)?(.*)/,se+"box-pack:$3"+fe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+se+t+t;case 4200:if(!Sn(t,/flex-|baseline/))return fe+"grid-column-align"+Oi(t,e)+t;break;case 2592:case 3360:return fe+q(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Sn(r.props,/grid-\w+-end/)})?~Ma(t+(n=n[e].value),"span",0)?t:fe+q(t,"-start","")+t+fe+"grid-row-span:"+(~Ma(n,"span",0)?Sn(n,/\d+/):+Sn(n,/\d+/)-+Sn(t,/\d+/))+";":fe+q(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Sn(r.props,/grid-\w+-start/)})?t:fe+q(q(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return q(t,/(.+)-inline(.+)/,se+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cn(t)-1-e>6)switch(Oe(t,e+1)){case 109:if(Oe(t,e+4)!==45)break;case 102:return q(t,/(.+:)(.+)-([^]+)/,"$1"+se+"$2-$3$1"+Ms+(Oe(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ma(t,"stretch",0)?pv(q(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return q(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,l,u,c){return fe+i+":"+s+c+(o?fe+i+"-span:"+(l?u:+u-+s)+c:"")+t});case 4949:if(Oe(t,e+6)===121)return q(t,":",":"+se)+t;break;case 6444:switch(Oe(t,Oe(t,14)===45?18:11)){case 120:return q(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+se+(Oe(t,14)===45?"inline-":"")+"box$3$1"+se+"$2$3$1"+fe+"$2box$3")+t;case 100:return q(t,":",":"+fe)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return q(t,"scroll-","scroll-snap-")+t}return t}function tl(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function VE(t,e,n,r){switch(t.type){case TE:if(t.children.length)break;case xE:case kd:return t.return=t.return||t.value;case lv:return"";case uv:return t.return=t.value+"{"+tl(t.children,r)+"}";case Xl:if(!cn(t.value=t.props.join(",")))return""}return cn(n=tl(t.children,r))?t.return=t.value+"{"+n+"}":""}function LE(t){var e=dv(t);return function(n,r,i,s){for(var o="",l=0;l<e;l++)o+=t[l](n,r,i,s)||"";return o}}function $E(t){return function(e){e.root||(e=e.return)&&t(e)}}function FE(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case kd:t.return=pv(t.value,t.length,n);return;case uv:return tl([Bn(t,{value:q(t.value,"@","@"+se)})],r);case Xl:if(t.length)return CE(n=t.props,function(i){switch(Sn(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ci(Bn(t,{props:[q(i,/:(read-\w+)/,":"+Ms+"$1")]})),ci(Bn(t,{props:[i]})),qc(t,{props:fm(n,r)});break;case"::placeholder":ci(Bn(t,{props:[q(i,/:(plac\w+)/,":"+se+"input-$1")]})),ci(Bn(t,{props:[q(i,/:(plac\w+)/,":"+Ms+"$1")]})),ci(Bn(t,{props:[q(i,/:(plac\w+)/,fe+"input-$1")]})),ci(Bn(t,{props:[i]})),qc(t,{props:fm(n,r)});break}return""})}}var UE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Rt={},Li=typeof process<"u"&&Rt!==void 0&&(Rt.REACT_APP_SC_ATTR||Rt.SC_ATTR)||"data-styled",mv="active",gv="data-styled-version",tu="6.1.13",Nd=`/*!sc*/
`,nl=typeof window<"u"&&"HTMLElement"in window,BE=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Rt!==void 0&&Rt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Rt.REACT_APP_SC_DISABLE_SPEEDY!==""?Rt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Rt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Rt!==void 0&&Rt.SC_DISABLE_SPEEDY!==void 0&&Rt.SC_DISABLE_SPEEDY!==""&&Rt.SC_DISABLE_SPEEDY!=="false"&&Rt.SC_DISABLE_SPEEDY),zE={},nu=Object.freeze([]),$i=Object.freeze({});function yv(t,e,n){return n===void 0&&(n=$i),t.theme!==n.theme&&t.theme||e||n.theme}var vv=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),HE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,WE=/(^-|-$)/g;function gm(t){return t.replace(HE,"-").replace(WE,"")}var GE=/(a)(d)/gi,oa=52,ym=function(t){return String.fromCharCode(t+(t>25?39:97))};function Jc(t){var e,n="";for(e=Math.abs(t);e>oa;e=e/oa|0)n=ym(e%oa)+n;return(ym(e%oa)+n).replace(GE,"$1-$2")}var ic,_v=5381,pi=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},wv=function(t){return pi(_v,t)};function Ev(t){return Jc(wv(t)>>>0)}function KE(t){return t.displayName||t.name||"Component"}function sc(t){return typeof t=="string"&&!0}var Sv=typeof Symbol=="function"&&Symbol.for,xv=Sv?Symbol.for("react.memo"):60115,QE=Sv?Symbol.for("react.forward_ref"):60112,qE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},YE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Tv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XE=((ic={})[QE]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ic[xv]=Tv,ic);function vm(t){return("type"in(e=t)&&e.type.$$typeof)===xv?Tv:"$$typeof"in t?XE[t.$$typeof]:qE;var e}var JE=Object.defineProperty,ZE=Object.getOwnPropertyNames,_m=Object.getOwnPropertySymbols,eS=Object.getOwnPropertyDescriptor,tS=Object.getPrototypeOf,wm=Object.prototype;function Av(t,e,n){if(typeof e!="string"){if(wm){var r=tS(e);r&&r!==wm&&Av(t,r,n)}var i=ZE(e);_m&&(i=i.concat(_m(e)));for(var s=vm(t),o=vm(e),l=0;l<i.length;++l){var u=i[l];if(!(u in YE||n&&n[u]||o&&u in o||s&&u in s)){var c=eS(e,u);try{JE(t,u,c)}catch{}}}}return t}function Fi(t){return typeof t=="function"}function bd(t){return typeof t=="object"&&"styledComponentId"in t}function jr(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Zc(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Js(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function eh(t,e,n){if(n===void 0&&(n=!1),!n&&!Js(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=eh(t[r],e[r]);else if(Js(e))for(var r in e)t[r]=eh(t[r],e[r]);return t}function Dd(t,e){Object.defineProperty(t,"toString",{value:e})}function No(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var nS=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw No(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),u=(o=0,n.length);o<u;o++)this.tag.insertRule(l,n[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(Nd);return n},t}(),La=new Map,rl=new Map,$a=1,aa=function(t){if(La.has(t))return La.get(t);for(;rl.has($a);)$a++;var e=$a++;return La.set(t,e),rl.set(e,t),e},rS=function(t,e){$a=e+1,La.set(t,e),rl.set(e,t)},iS="style[".concat(Li,"][").concat(gv,'="').concat(tu,'"]'),sS=new RegExp("^".concat(Li,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),oS=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},aS=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Nd),i=[],s=0,o=r.length;s<o;s++){var l=r[s].trim();if(l){var u=l.match(sS);if(u){var c=0|parseInt(u[1],10),p=u[2];c!==0&&(rS(p,c),oS(t,p,u[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(l)}}},Em=function(t){for(var e=document.querySelectorAll(iS),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Li)!==mv&&(aS(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function lS(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Cv=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){var u=Array.from(l.querySelectorAll("style[".concat(Li,"]")));return u[u.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Li,mv),r.setAttribute(gv,tu);var o=lS();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},uS=function(){function t(e){this.element=Cv(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw No(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),cS=function(){function t(e){this.element=Cv(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),hS=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Sm=nl,dS={isServer:!nl,useCSSOMInjection:!BE},il=function(){function t(e,n,r){e===void 0&&(e=$i),n===void 0&&(n={});var i=this;this.options=at(at({},dS),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&nl&&Sm&&(Sm=!1,Em(this)),Dd(this,function(){return function(s){for(var o=s.getTag(),l=o.length,u="",c=function(d){var m=function(T){return rl.get(T)}(d);if(m===void 0)return"continue";var _=s.names.get(m),S=o.getGroup(d);if(_===void 0||!_.size||S.length===0)return"continue";var I="".concat(Li,".g").concat(d,'[id="').concat(m,'"]'),N="";_!==void 0&&_.forEach(function(T){T.length>0&&(N+="".concat(T,","))}),u+="".concat(S).concat(I,'{content:"').concat(N,'"}').concat(Nd)},p=0;p<l;p++)c(p);return u}(i)})}return t.registerId=function(e){return aa(e)},t.prototype.rehydrate=function(){!this.server&&nl&&Em(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(at(at({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new hS(i):r?new uS(i):new cS(i)}(this.options),new nS(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(aa(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(aa(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(aa(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),fS=/&/g,pS=/^\s*\/\/.*$/gm;function Iv(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Iv(n.children,e)),n})}function mS(t){var e,n,r,i=$i,s=i.options,o=s===void 0?$i:s,l=i.plugins,u=l===void 0?nu:l,c=function(m,_,S){return S.startsWith(n)&&S.endsWith(n)&&S.replaceAll(n,"").length>0?".".concat(e):m},p=u.slice();p.push(function(m){m.type===Xl&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(fS,n).replace(r,c))}),o.prefix&&p.push(FE),p.push(VE);var d=function(m,_,S,I){_===void 0&&(_=""),S===void 0&&(S=""),I===void 0&&(I="&"),e=I,n=_,r=new RegExp("\\".concat(n,"\\b"),"g");var N=m.replace(pS,""),T=ME(S||_?"".concat(S," ").concat(_," { ").concat(N," }"):N);o.namespace&&(T=Iv(T,o.namespace));var w=[];return tl(T,LE(p.concat($E(function(C){return w.push(C)})))),w};return d.hash=u.length?u.reduce(function(m,_){return _.name||No(15),pi(m,_.name)},_v).toString():"",d}var gS=new il,th=mS(),Pv=nn.createContext({shouldForwardProp:void 0,styleSheet:gS,stylis:th});Pv.Consumer;nn.createContext(void 0);function nh(){return D.useContext(Pv)}var yS=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=th);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Dd(this,function(){throw No(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=th),this.name+e.hash},t}(),vS=function(t){return t>="A"&&t<="Z"};function xm(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;vS(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var kv=function(t){return t==null||t===!1||t===""},Rv=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!kv(s)&&(Array.isArray(s)&&s.isCss||Fi(s)?r.push("".concat(xm(i),":"),s,";"):Js(s)?r.push.apply(r,Xs(Xs(["".concat(i," {")],Rv(s),!1),["}"],!1)):r.push("".concat(xm(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in UE||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Yn(t,e,n,r){if(kv(t))return[];if(bd(t))return[".".concat(t.styledComponentId)];if(Fi(t)){if(!Fi(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Yn(i,e,n,r)}var s;return t instanceof yS?n?(t.inject(n,r),[t.getName(r)]):[t]:Js(t)?Rv(t):Array.isArray(t)?Array.prototype.concat.apply(nu,t.map(function(o){return Yn(o,e,n,r)})):[t.toString()]}function Nv(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Fi(n)&&!bd(n))return!1}return!0}var _S=wv(tu),wS=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Nv(e),this.componentId=n,this.baseHash=pi(_S,n),this.baseStyle=r,il.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=jr(i,this.staticRulesId);else{var s=Zc(Yn(this.rules,e,n,r)),o=Jc(pi(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var l=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,l)}i=jr(i,o),this.staticRulesId=o}else{for(var u=pi(this.baseHash,r.hash),c="",p=0;p<this.rules.length;p++){var d=this.rules[p];if(typeof d=="string")c+=d;else if(d){var m=Zc(Yn(d,e,n,r));u=pi(u,m+p),c+=m}}if(c){var _=Jc(u>>>0);n.hasNameForId(this.componentId,_)||n.insertRules(this.componentId,_,r(c,".".concat(_),void 0,this.componentId)),i=jr(i,_)}}return i},t}(),jd=nn.createContext(void 0);jd.Consumer;var oc={};function ES(t,e,n){var r=bd(t),i=t,s=!sc(t),o=e.attrs,l=o===void 0?nu:o,u=e.componentId,c=u===void 0?function(j,L){var V=typeof j!="string"?"sc":gm(j);oc[V]=(oc[V]||0)+1;var E="".concat(V,"-").concat(Ev(tu+V+oc[V]));return L?"".concat(L,"-").concat(E):E}(e.displayName,e.parentComponentId):u,p=e.displayName,d=p===void 0?function(j){return sc(j)?"styled.".concat(j):"Styled(".concat(KE(j),")")}(t):p,m=e.displayName&&e.componentId?"".concat(gm(e.displayName),"-").concat(e.componentId):e.componentId||c,_=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,S=e.shouldForwardProp;if(r&&i.shouldForwardProp){var I=i.shouldForwardProp;if(e.shouldForwardProp){var N=e.shouldForwardProp;S=function(j,L){return I(j,L)&&N(j,L)}}else S=I}var T=new wS(n,m,r?i.componentStyle:void 0);function w(j,L){return function(V,E,v){var A=V.attrs,x=V.componentStyle,P=V.defaultProps,R=V.foldedComponentIds,k=V.styledComponentId,Ie=V.target,qt=nn.useContext(jd),wr=nh(),It=V.shouldForwardProp||wr.shouldForwardProp,B=yv(E,qt,P)||$i,G=function(gt,ut,yt){for(var Er,yn=at(at({},ut),{className:void 0,theme:yt}),Vn=0;Vn<gt.length;Vn+=1){var vn=Fi(Er=gt[Vn])?Er(yn):Er;for(var Ut in vn)yn[Ut]=Ut==="className"?jr(yn[Ut],vn[Ut]):Ut==="style"?at(at({},yn[Ut]),vn[Ut]):vn[Ut]}return ut.className&&(yn.className=jr(yn.className,ut.className)),yn}(A,E,B),Q=G.as||Ie,oe={};for(var Z in G)G[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&G.theme===B||(Z==="forwardedAs"?oe.as=G.forwardedAs:It&&!It(Z,Q)||(oe[Z]=G[Z]));var ge=function(gt,ut){var yt=nh(),Er=gt.generateAndInjectStyles(ut,yt.styleSheet,yt.stylis);return Er}(x,G),Pt=jr(R,k);return ge&&(Pt+=" "+ge),G.className&&(Pt+=" "+G.className),oe[sc(Q)&&!vv.has(Q)?"class":"className"]=Pt,oe.ref=v,D.createElement(Q,oe)}(C,j,L)}w.displayName=d;var C=nn.forwardRef(w);return C.attrs=_,C.componentStyle=T,C.displayName=d,C.shouldForwardProp=S,C.foldedComponentIds=r?jr(i.foldedComponentIds,i.styledComponentId):"",C.styledComponentId=m,C.target=r?i.target:t,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(j){this._foldedDefaultProps=r?function(L){for(var V=[],E=1;E<arguments.length;E++)V[E-1]=arguments[E];for(var v=0,A=V;v<A.length;v++)eh(L,A[v],!0);return L}({},i.defaultProps,j):j}}),Dd(C,function(){return".".concat(C.styledComponentId)}),s&&Av(C,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function Tm(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Am=function(t){return Object.assign(t,{isCss:!0})};function bv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fi(t)||Js(t))return Am(Yn(Tm(nu,Xs([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Yn(r):Am(Yn(Tm(r,e)))}function rh(t,e,n){if(n===void 0&&(n=$i),!e)throw No(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,bv.apply(void 0,Xs([i],s,!1)))};return r.attrs=function(i){return rh(t,e,at(at({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return rh(t,e,at(at({},n),i))},r}var Dv=function(t){return rh(ES,t)},Lt=Dv;vv.forEach(function(t){Lt[t]=Dv(t)});var SS=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=Nv(e),il.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(Zc(Yn(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&il.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function xS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=bv.apply(void 0,Xs([t],e,!1)),i="sc-global-".concat(Ev(JSON.stringify(r))),s=new SS(r,i),o=function(u){var c=nh(),p=nn.useContext(jd),d=nn.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&l(d,u,c.styleSheet,p,c.stylis),nn.useLayoutEffect(function(){if(!c.styleSheet.server)return l(d,u,c.styleSheet,p,c.stylis),function(){return s.removeStyles(d,c.styleSheet)}},[d,u,c.styleSheet,p,c.stylis]),null};function l(u,c,p,d,m){if(s.isStatic)s.renderStyles(u,zE,p,m);else{var _=at(at({},c),{theme:yv(c,d,o.defaultProps)});s.renderStyles(u,_,p,m)}}return nn.memo(o)}const kn=Lt.div`
  margin: 0 0.5rem;
`;var ih=function(t,e){return ih=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ih(t,e)};function ts(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ih(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function sh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oh(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function ah(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function dn(t){return typeof t=="function"}function Md(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ac=Md(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function lh(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ru=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var l=sh(o),u=l.next();!u.done;u=l.next()){var c=u.value;c.remove(this)}}catch(I){e={error:I}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}else o.remove(this);var p=this.initialTeardown;if(dn(p))try{p()}catch(I){s=I instanceof ac?I.errors:[I]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var m=sh(d),_=m.next();!_.done;_=m.next()){var S=_.value;try{Cm(S)}catch(I){s=s??[],I instanceof ac?s=ah(ah([],oh(s)),oh(I.errors)):s.push(I)}}}catch(I){r={error:I}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}}if(s)throw new ac(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Cm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&lh(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&lh(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),jv=ru.EMPTY;function Mv(t){return t instanceof ru||t&&"closed"in t&&dn(t.remove)&&dn(t.add)&&dn(t.unsubscribe)}function Cm(t){dn(t)?t():t.unsubscribe()}var Ov={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},TS={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,ah([t,e],oh(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function AS(t){TS.setTimeout(function(){throw t})}function Im(){}function Fa(t){t()}var Od=function(t){ts(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Mv(n)&&n.add(r)):r.destination=kS,r}return e.create=function(n,r,i){return new uh(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(ru),CS=Function.prototype.bind;function lc(t,e){return CS.call(t,e)}var IS=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){la(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){la(r)}else la(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){la(n)}},t}(),uh=function(t){ts(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(dn(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var l;s&&Ov.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&lc(n.next,l),error:n.error&&lc(n.error,l),complete:n.complete&&lc(n.complete,l)}):o=n}return s.destination=new IS(o),s}return e}(Od);function la(t){AS(t)}function PS(t){throw t}var kS={closed:!0,next:Im,error:PS,complete:Im},RS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Vv(t){return t}function NS(t){return t.length===0?Vv:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var ch=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=DS(e)?e:new uh(e,n,r);return Fa(function(){var o=i,l=o.operator,u=o.source;s.add(l?l.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Pm(n),new n(function(i,s){var o=new uh({next:function(l){try{e(l)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[RS]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return NS(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Pm(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function Pm(t){var e;return(e=t??Ov.Promise)!==null&&e!==void 0?e:Promise}function bS(t){return t&&dn(t.next)&&dn(t.error)&&dn(t.complete)}function DS(t){return t&&t instanceof Od||bS(t)&&Mv(t)}function jS(t){return dn(t==null?void 0:t.lift)}function Vd(t){return function(e){if(jS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ld(t,e,n,r,i){return new MS(t,e,n,r,i)}var MS=function(t){ts(e,t);function e(n,r,i,s,o,l){var u=t.call(this,n)||this;return u.onFinalize=o,u.shouldUnsubscribe=l,u._next=r?function(c){try{r(c)}catch(p){n.error(p)}}:t.prototype._next,u._error=s?function(c){try{s(c)}catch(p){n.error(p)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(Od),OS=Md(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ei=function(t){ts(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new km(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new OS},e.prototype.next=function(n){var r=this;Fa(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=sh(r.currentObservers),l=o.next();!l.done;l=o.next()){var u=l.value;u.next(n)}}catch(c){i={error:c}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Fa(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Fa(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,l=i.observers;return s||o?jv:(this.currentObservers=null,l.push(n),new ru(function(){r.currentObservers=null,lh(l,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new ch;return n.source=this,n},e.create=function(n,r){return new km(n,r)},e}(ch),km=function(t){ts(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:jv},e}(ei),Rm=function(t){ts(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(ei),VS=new ch(function(t){return t.complete()}),Lv=Md(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function LS(t){return Vd(function(e,n){var r=!1;e.subscribe(Ld(n,function(i){r=!0,n.next(i)},function(){r||n.next(t),n.complete()}))})}function $S(t){return t<=0?function(){return VS}:Vd(function(e,n){var r=0;e.subscribe(Ld(n,function(i){++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function FS(t){return t===void 0&&(t=US),Vd(function(e,n){var r=!1;e.subscribe(Ld(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(t())}))})}function US(){return new Lv}function BS(t,e){var n=arguments.length>=2;return function(r){return r.pipe(Vv,$S(1),n?LS(e):FS(function(){return new Lv}))}}class zS{constructor(){W(this,"errorsFeed$");W(this,"lastError$");this.errorsFeed$=new Rm([]),this.lastError$=new Rm(void 0)}add(e){let n=[];this.errorsFeed$.subscribe(s=>{n=s}).unsubscribe();const i=[...n,e];console.error(i),this.errorsFeed$.next(i),this.lastError$.next(e)}deleteAll(){this.errorsFeed$.next([]),this.lastError$.next(void 0)}}const Zs=new zS,$e=t=>t?new Error(`This code path should have never been executed: ${t}`):new Error("This code path should have never been executed"),HS="small",Cr={fill:"currentColor"};function WS({icon:t}){switch(t){case"arrow-left":return["0 0 512 512",g.jsx("path",{...Cr,d:"M 475,219.46 H 125 L 245,99 A 36.7,36.7 0 0 0 193.33,47.33 L 10.6,230 a 37.1,37.1 0 0 0 0,52 L 193.3,464.7 a 36.7,36.7 0 0 0 51.9,-51.9 L 125,292 h 350.47 c 20.1,0 36.55,-16.45 36.55,-36.55 0,-20.1 -16.8,-36.55 -36.9,-36.55 z"})];case"bin":return["0 0 16 16",[g.jsx("path",{...Cr,d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.8824zM2.53h11V2h-11z"},"bin-1"),g.jsx("path",{...Cr,d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},"bin-2")]];case"pencil":return["0 0 16 16",g.jsx("path",{...Cr,d:"M3.25 10.26l2.47 2.47 6.69-6.69-2.46-2.48-6.7 6.7zM.99 14.99l3.86-1.39-2.46-2.44-1.4 3.83zm12.25-14c-.48 0-.92.2-1.24.51l-1.44 1.44 2.47 2.47 1.44-1.44c.32-.32.51-.75.51-1.24.01-.95-.77-1.74-1.74-1.74z"})];case"gear":return["0 0 512 512",g.jsx("path",{...Cr,d:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"})];case"hidden":return["0 0 512 512",g.jsx("path",{...Cr,d:"m 83.137152,447.79502 c -8.600805,-2.81017 -13.412171,-11.50273 -10.986068,-19.84822 1.190362,-4.0947 0.409542,-3.24165 31.496696,-34.41046 16.08589,-16.12815 29.11451,-29.53845 28.95247,-29.80063 -0.16204,-0.26218 -3.04311,-1.91481 -6.40239,-3.67248 C 87.526445,339.82919 40.560441,305.83914 8.0146439,274.53215 0.23369091,267.04736 -1.7741446,260.51915 1.5234804,253.42697 6.9564418,241.74236 66.198157,194.85478 103.7424,172.52457 c 90.75066,-53.97585 163.91318,-63.82679 245.15808,-33.00921 2.91472,1.1056 5.61106,2.01064 5.99189,2.01121 0.38083,4.6e-4 15.8198,-15.12741 34.30883,-33.61773 38.1894,-38.192075 35.80414,-36.189849 43.118,-36.193834 12.67896,-0.0069 20.4371,14.025897 13.59559,24.591479 -2.77052,4.278595 -349.230286,349.655325 -351.849689,350.749795 -3.11177,1.3002 -8.164193,1.64175 -10.927949,0.73874 z m 91.961798,-125.79005 17.19329,-17.21585 -1.58643,-2.48433 C 145.91714,232.1662 230.63015,146.65218 301.62346,190.33833 l 3.18314,1.95877 12.36965,-12.36329 c 14.57476,-14.56725 13.69735,-12.49294 6.26374,-14.80829 -85.73683,-26.70466 -172.0018,0.70101 -274.189972,87.10786 -10.3595,8.75965 -10.3595,6.69204 0,15.45167 27.723265,23.44186 53.855772,41.90656 81.680962,57.71415 8.17039,4.64163 25.73452,13.79361 26.50561,13.81103 0.258,0.006 8.20606,-7.73653 17.66236,-17.20526 z m 74.26366,75.70461 c -15.26838,-0.75733 -35.68942,-4.08849 -49.71536,-8.10975 l -2.48095,-0.7113 13.31031,-13.34588 13.3103,-13.34588 2.07371,0.22258 c 1.14053,0.12242 4.97689,0.64731 8.52523,1.16642 67.9997,9.94814 150.12854,-23.20717 235.1352,-94.92381 11.69791,-9.86903 11.54182,-7.64403 1.15206,-16.42517 -26.07416,-22.03713 -50.54357,-39.51625 -77.78054,-55.56064 l -2.21084,-1.30234 11.92025,-11.92683 11.92022,-11.92683 1.63569,0.98498 c 23.55398,14.18352 47.77001,31.54263 71.22007,51.05363 40.69854,33.86214 41.23738,36.38662 13.12292,61.47886 -79.69287,71.12604 -174.77743,115.53366 -242.1522,113.09302 -1.01382,-0.0368 -5.05755,-0.22621 -8.98607,-0.42106 z m 0.47791,-57.1541 c -1.63805,-0.2506 -3.08081,-0.55817 -3.20614,-0.6835 -0.25149,-0.25149 92.62824,-93.27665 93.13082,-93.27665 1.33171,0 1.48643,20.52647 0.20668,27.41899 -7.89109,42.49984 -48.98254,72.83637 -90.13136,66.54116 z"})];case"rotate":return["0 0 512 512",g.jsx("path",{...Cr,d:"M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"})];default:throw $e(`unsupported icon '${t}'`)}}function GS({size:t}){switch(t){case"small":return{width:"0.9rem",height:"0.9rem"};case"large":return{width:"1.2rem",height:"1.2rem"};case"extralarge":return{width:"1.5rem",height:"1.5rem"};default:throw $e(`unsupported size '${t}'`)}}function KS({icon:t,size:e}){const{width:n,height:r}=GS({size:e||HS}),[i,s]=WS({icon:t});return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"fill-current","aria-hidden":"true",focusable:"false",viewBox:i,width:n,height:r,role:"icon",children:s})}function X({text:t,active:e,disabled:n,icon:r,iconSize:i,onClick:s}){const o="text-sm py-2 px-3 rounded inline-flex items-center gap-2 focus:outline-none",l=" bg-gray-300  dark:bg-gray-600  text-gray-700  dark:text-gray-300",u=" bg-gray-400  dark:bg-gray-400  text-gray-100  dark:text-gray-800",c=" opacity-50 cursor-not-allowed";let p=o;n?p+=c:e?p+=u:p+=l;let d={};return i&&(d={size:i}),g.jsxs("button",{className:p,disabled:n,onClick:s,children:[r&&g.jsx(KS,{icon:r,...d}),t!==void 0&&g.jsx("span",{children:t})]})}function QS(){const[t,e]=D.useState([]);return D.useEffect(()=>{const n=Zs.errorsFeed$.subscribe(e);return()=>{n.unsubscribe()}},[]),!t||t.length===0?null:g.jsxs("div",{className:"p-3",children:[g.jsx("div",{className:"flex flex-row justify-end pb-3",children:g.jsx(X,{text:"Clear all error messages",onClick:()=>Zs.deleteAll()})}),g.jsx("div",{className:"flex flex-col gap-2",role:"error-list",children:t.map((n,r)=>g.jsx(qS,{error:n},`error-${r}`))})]})}function qS({error:{header:t,description:e}}){return g.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-red-800",role:"error",children:[g.jsx("div",{className:"font-bold",role:"error-header",children:t}),g.jsx("div",{className:"",role:"error-description",children:e})]})}function YS({children:t,className:e}){return g.jsx("div",{className:`h-screen ${e}`,children:t})}function XS({children:t,className:e}){return g.jsx("div",{className:e,children:t})}function JS({children:t,className:e}){return g.jsx("div",{className:`h-screen flex flex-col flex-nowrap justify-center ${e}`,children:t})}const ua={Parent:YS,Content:XS,ContentFullyCentered:JS},sl=":expenseId";var Ke=(t=>(t.root="/",t.expenseEditor=`/expenses/${sl}`,t.expenseSplitsEditor=`/expenses/${sl}/splits`,t.paymentAccounts="/payment-accounts",t.settings="/settings",t.notFound="/*",t))(Ke||{});function ol(t,e){throw new Error(e||`BUG: please make sure this value never reaches here: ${t}`)}const hh="dark",$v=D.createContext({theme:hh,setTheme:t=>{}});function ZS(){const{theme:t,setTheme:e}=D.useContext($v);function n(){switch(t){case"light":return e("dark");case"dark":return e("light");default:ol(t,`unsupported theme: ${t}`)}}return g.jsx("div",{className:"cursor-pointer hover:text-blue-300",onClick:n,children:t})}var Fv={exports:{}},$t={},Uv={exports:{}},Bv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var Q=B.length;B.push(G);e:for(;0<Q;){var oe=Q-1>>>1,Z=B[oe];if(0<i(Z,G))B[oe]=G,B[Q]=Z,Q=oe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],Q=B.pop();if(Q!==G){B[0]=Q;e:for(var oe=0,Z=B.length,ge=Z>>>1;oe<ge;){var Pt=2*(oe+1)-1,gt=B[Pt],ut=Pt+1,yt=B[ut];if(0>i(gt,Q))ut<Z&&0>i(yt,gt)?(B[oe]=yt,B[ut]=Q,oe=ut):(B[oe]=gt,B[Pt]=Q,oe=Pt);else if(ut<Z&&0>i(yt,Q))B[oe]=yt,B[ut]=Q,oe=ut;else break e}}return G}function i(B,G){var Q=B.sortIndex-G.sortIndex;return Q!==0?Q:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],p=1,d=null,m=3,_=!1,S=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(B){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=B)r(c),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(c)}}function j(B){if(I=!1,C(B),!S)if(n(u)!==null)S=!0,wr(L);else{var G=n(c);G!==null&&It(j,G.startTime-B)}}function L(B,G){S=!1,I&&(I=!1,T(v),v=-1),_=!0;var Q=m;try{for(C(G),d=n(u);d!==null&&(!(d.expirationTime>G)||B&&!P());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,m=d.priorityLevel;var Z=oe(d.expirationTime<=G);G=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(u)&&r(u),C(G)}else r(u);d=n(u)}if(d!==null)var ge=!0;else{var Pt=n(c);Pt!==null&&It(j,Pt.startTime-G),ge=!1}return ge}finally{d=null,m=Q,_=!1}}var V=!1,E=null,v=-1,A=5,x=-1;function P(){return!(t.unstable_now()-x<A)}function R(){if(E!==null){var B=t.unstable_now();x=B;var G=!0;try{G=E(!0,B)}finally{G?k():(V=!1,E=null)}}else V=!1}var k;if(typeof w=="function")k=function(){w(R)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,qt=Ie.port2;Ie.port1.onmessage=R,k=function(){qt.postMessage(null)}}else k=function(){N(R,0)};function wr(B){E=B,V||(V=!0,k())}function It(B,G){v=N(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){S||_||(S=!0,wr(L))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var Q=m;m=G;try{return B()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=m;m=B;try{return G()}finally{m=Q}},t.unstable_scheduleCallback=function(B,G,Q){var oe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,B){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Q+Z,B={id:p++,callback:G,priorityLevel:B,startTime:Q,expirationTime:Z,sortIndex:-1},Q>oe?(B.sortIndex=Q,e(c,B),n(u)===null&&B===n(c)&&(I?(T(v),v=-1):I=!0,It(j,Q-oe))):(B.sortIndex=Z,e(u,B),S||_||(S=!0,wr(L))),B},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(B){var G=m;return function(){var Q=m;m=G;try{return B.apply(this,arguments)}finally{m=Q}}}})(Bv);Uv.exports=Bv;var ex=Uv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=D,Vt=ex;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zv=new Set,eo={};function ti(t,e){Ui(t,e),Ui(t+"Capture",e)}function Ui(t,e){for(eo[t]=e,t=0;t<e.length;t++)zv.add(e[t])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dh=Object.prototype.hasOwnProperty,nx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nm={},bm={};function rx(t){return dh.call(bm,t)?!0:dh.call(Nm,t)?!1:nx.test(t)?bm[t]=!0:(Nm[t]=!0,!1)}function ix(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sx(t,e,n,r){if(e===null||typeof e>"u"||ix(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var $d=/[\-:]([a-z])/g;function Fd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($d,Fd);Xe[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($d,Fd);Xe[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($d,Fd);Xe[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ud(t,e,n,r){var i=Xe.hasOwnProperty(e)?Xe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sx(e,n,i,r)&&(n=null),r||i===null?rx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var On=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ca=Symbol.for("react.element"),mi=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),Bd=Symbol.for("react.strict_mode"),fh=Symbol.for("react.profiler"),Hv=Symbol.for("react.provider"),Wv=Symbol.for("react.context"),zd=Symbol.for("react.forward_ref"),ph=Symbol.for("react.suspense"),mh=Symbol.for("react.suspense_list"),Hd=Symbol.for("react.memo"),zn=Symbol.for("react.lazy"),Gv=Symbol.for("react.offscreen"),Dm=Symbol.iterator;function ws(t){return t===null||typeof t!="object"?null:(t=Dm&&t[Dm]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,uc;function Rs(t){if(uc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uc=e&&e[1]||""}return`
`+uc+t}var cc=!1;function hc(t,e){if(!t||cc)return"";cc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{cc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rs(t):""}function ox(t){switch(t.tag){case 5:return Rs(t.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return t=hc(t.type,!1),t;case 11:return t=hc(t.type.render,!1),t;case 1:return t=hc(t.type,!0),t;default:return""}}function gh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gi:return"Fragment";case mi:return"Portal";case fh:return"Profiler";case Bd:return"StrictMode";case ph:return"Suspense";case mh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wv:return(t.displayName||"Context")+".Consumer";case Hv:return(t._context.displayName||"Context")+".Provider";case zd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hd:return e=t.displayName||null,e!==null?e:gh(t.type)||"Memo";case zn:e=t._payload,t=t._init;try{return gh(t(e))}catch{}}return null}function ax(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gh(e);case 8:return e===Bd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lx(t){var e=Kv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ha(t){t._valueTracker||(t._valueTracker=lx(t))}function Qv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yh(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qv(t,e){e=e.checked,e!=null&&Ud(t,"checked",e,!1)}function vh(t,e){qv(t,e);var n=ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_h(t,e.type,n):e.hasOwnProperty("defaultValue")&&_h(t,e.type,ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _h(t,e,n){(e!=="number"||al(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ns=Array.isArray;function Pi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ur(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Om(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Ns(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ur(n)}}function Yv(t,e){var n=ur(e.value),r=ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var da,Jv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=da.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function to(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ux=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(t){ux.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Os[e]=Os[t]})});function Zv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Os.hasOwnProperty(t)&&Os[t]?(""+e).trim():e+"px"}function e0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cx=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sh(t,e){if(e){if(cx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function xh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Th=null;function Wd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ah=null,ki=null,Ri=null;function Lm(t){if(t=jo(t)){if(typeof Ah!="function")throw Error($(280));var e=t.stateNode;e&&(e=lu(e),Ah(t.stateNode,t.type,e))}}function t0(t){ki?Ri?Ri.push(t):Ri=[t]:ki=t}function n0(){if(ki){var t=ki,e=Ri;if(Ri=ki=null,Lm(t),e)for(t=0;t<e.length;t++)Lm(e[t])}}function r0(t,e){return t(e)}function i0(){}var dc=!1;function s0(t,e,n){if(dc)return t(e,n);dc=!0;try{return r0(t,e,n)}finally{dc=!1,(ki!==null||Ri!==null)&&(i0(),n0())}}function no(t,e){var n=t.stateNode;if(n===null)return null;var r=lu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Ch=!1;if(Rn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Ch=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Ch=!1}function hx(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(p){this.onError(p)}}var Vs=!1,ll=null,ul=!1,Ih=null,dx={onError:function(t){Vs=!0,ll=t}};function fx(t,e,n,r,i,s,o,l,u){Vs=!1,ll=null,hx.apply(dx,arguments)}function px(t,e,n,r,i,s,o,l,u){if(fx.apply(this,arguments),Vs){if(Vs){var c=ll;Vs=!1,ll=null}else throw Error($(198));ul||(ul=!0,Ih=c)}}function ni(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $m(t){if(ni(t)!==t)throw Error($(188))}function mx(t){var e=t.alternate;if(!e){if(e=ni(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $m(i),t;if(s===r)return $m(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function a0(t){return t=mx(t),t!==null?l0(t):null}function l0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=l0(t);if(e!==null)return e;t=t.sibling}return null}var u0=Vt.unstable_scheduleCallback,Fm=Vt.unstable_cancelCallback,gx=Vt.unstable_shouldYield,yx=Vt.unstable_requestPaint,Ce=Vt.unstable_now,vx=Vt.unstable_getCurrentPriorityLevel,Gd=Vt.unstable_ImmediatePriority,c0=Vt.unstable_UserBlockingPriority,cl=Vt.unstable_NormalPriority,_x=Vt.unstable_LowPriority,h0=Vt.unstable_IdlePriority,iu=null,fn=null;function wx(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(iu,t,void 0,(t.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:xx,Ex=Math.log,Sx=Math.LN2;function xx(t){return t>>>=0,t===0?32:31-(Ex(t)/Sx|0)|0}var fa=64,pa=4194304;function bs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=bs(l):(s&=o,s!==0&&(r=bs(s)))}else o=n&~i,o!==0?r=bs(o):s!==0&&(r=bs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sn(e),i=1<<n,r|=t[n],e&=~i;return r}function Tx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ax(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-sn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=Tx(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Ph(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function d0(){var t=fa;return fa<<=1,!(fa&4194240)&&(fa=64),t}function fc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sn(e),t[e]=n}function Cx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Kd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function f0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var p0,Qd,m0,g0,y0,kh=!1,ma=[],Xn=null,Jn=null,Zn=null,ro=new Map,io=new Map,Wn=[],Ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Um(t,e){switch(t){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ro.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(e.pointerId)}}function Ss(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=jo(e),e!==null&&Qd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Px(t,e,n,r,i){switch(e){case"focusin":return Xn=Ss(Xn,t,e,n,r,i),!0;case"dragenter":return Jn=Ss(Jn,t,e,n,r,i),!0;case"mouseover":return Zn=Ss(Zn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ro.set(s,Ss(ro.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,io.set(s,Ss(io.get(s)||null,t,e,n,r,i)),!0}return!1}function v0(t){var e=Mr(t.target);if(e!==null){var n=ni(e);if(n!==null){if(e=n.tag,e===13){if(e=o0(n),e!==null){t.blockedOn=e,y0(t.priority,function(){m0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ua(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Th=r,n.target.dispatchEvent(r),Th=null}else return e=jo(n),e!==null&&Qd(e),t.blockedOn=n,!1;e.shift()}return!0}function Bm(t,e,n){Ua(t)&&n.delete(e)}function kx(){kh=!1,Xn!==null&&Ua(Xn)&&(Xn=null),Jn!==null&&Ua(Jn)&&(Jn=null),Zn!==null&&Ua(Zn)&&(Zn=null),ro.forEach(Bm),io.forEach(Bm)}function xs(t,e){t.blockedOn===e&&(t.blockedOn=null,kh||(kh=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,kx)))}function so(t){function e(i){return xs(i,t)}if(0<ma.length){xs(ma[0],t);for(var n=1;n<ma.length;n++){var r=ma[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xn!==null&&xs(Xn,t),Jn!==null&&xs(Jn,t),Zn!==null&&xs(Zn,t),ro.forEach(e),io.forEach(e),n=0;n<Wn.length;n++)r=Wn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wn.length&&(n=Wn[0],n.blockedOn===null);)v0(n),n.blockedOn===null&&Wn.shift()}var Ni=On.ReactCurrentBatchConfig,dl=!0;function Rx(t,e,n,r){var i=le,s=Ni.transition;Ni.transition=null;try{le=1,qd(t,e,n,r)}finally{le=i,Ni.transition=s}}function Nx(t,e,n,r){var i=le,s=Ni.transition;Ni.transition=null;try{le=4,qd(t,e,n,r)}finally{le=i,Ni.transition=s}}function qd(t,e,n,r){if(dl){var i=Rh(t,e,n,r);if(i===null)xc(t,e,r,fl,n),Um(t,r);else if(Px(i,t,e,n,r))r.stopPropagation();else if(Um(t,r),e&4&&-1<Ix.indexOf(t)){for(;i!==null;){var s=jo(i);if(s!==null&&p0(s),s=Rh(t,e,n,r),s===null&&xc(t,e,r,fl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xc(t,e,r,null,n)}}var fl=null;function Rh(t,e,n,r){if(fl=null,t=Wd(r),t=Mr(t),t!==null)if(e=ni(t),e===null)t=null;else if(n=e.tag,n===13){if(t=o0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fl=t,null}function _0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vx()){case Gd:return 1;case c0:return 4;case cl:case _x:return 16;case h0:return 536870912;default:return 16}default:return 16}}var Kn=null,Yd=null,Ba=null;function w0(){if(Ba)return Ba;var t,e=Yd,n=e.length,r,i="value"in Kn?Kn.value:Kn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ba=i.slice(t,1<r?1-r:void 0)}function za(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ga(){return!0}function zm(){return!1}function Ft(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ga:zm,this.isPropagationStopped=zm,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),e}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xd=Ft(ns),Do=Se({},ns,{view:0,detail:0}),bx=Ft(Do),pc,mc,Ts,su=Se({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ts&&(Ts&&t.type==="mousemove"?(pc=t.screenX-Ts.screenX,mc=t.screenY-Ts.screenY):mc=pc=0,Ts=t),pc)},movementY:function(t){return"movementY"in t?t.movementY:mc}}),Hm=Ft(su),Dx=Se({},su,{dataTransfer:0}),jx=Ft(Dx),Mx=Se({},Do,{relatedTarget:0}),gc=Ft(Mx),Ox=Se({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Vx=Ft(Ox),Lx=Se({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$x=Ft(Lx),Fx=Se({},ns,{data:0}),Wm=Ft(Fx),Ux={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zx[t])?!!e[t]:!1}function Jd(){return Hx}var Wx=Se({},Do,{key:function(t){if(t.key){var e=Ux[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jd,charCode:function(t){return t.type==="keypress"?za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gx=Ft(Wx),Kx=Se({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gm=Ft(Kx),Qx=Se({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jd}),qx=Ft(Qx),Yx=Se({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xx=Ft(Yx),Jx=Se({},su,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zx=Ft(Jx),eT=[9,13,27,32],Zd=Rn&&"CompositionEvent"in window,Ls=null;Rn&&"documentMode"in document&&(Ls=document.documentMode);var tT=Rn&&"TextEvent"in window&&!Ls,E0=Rn&&(!Zd||Ls&&8<Ls&&11>=Ls),Km=" ",Qm=!1;function S0(t,e){switch(t){case"keyup":return eT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yi=!1;function nT(t,e){switch(t){case"compositionend":return x0(e);case"keypress":return e.which!==32?null:(Qm=!0,Km);case"textInput":return t=e.data,t===Km&&Qm?null:t;default:return null}}function rT(t,e){if(yi)return t==="compositionend"||!Zd&&S0(t,e)?(t=w0(),Ba=Yd=Kn=null,yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E0&&e.locale!=="ko"?null:e.data;default:return null}}var iT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iT[t.type]:e==="textarea"}function T0(t,e,n,r){t0(r),e=pl(e,"onChange"),0<e.length&&(n=new Xd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $s=null,oo=null;function sT(t){M0(t,0)}function ou(t){var e=wi(t);if(Qv(e))return t}function oT(t,e){if(t==="change")return e}var A0=!1;if(Rn){var yc;if(Rn){var vc="oninput"in document;if(!vc){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),vc=typeof Ym.oninput=="function"}yc=vc}else yc=!1;A0=yc&&(!document.documentMode||9<document.documentMode)}function Xm(){$s&&($s.detachEvent("onpropertychange",C0),oo=$s=null)}function C0(t){if(t.propertyName==="value"&&ou(oo)){var e=[];T0(e,oo,t,Wd(t)),s0(sT,e)}}function aT(t,e,n){t==="focusin"?(Xm(),$s=e,oo=n,$s.attachEvent("onpropertychange",C0)):t==="focusout"&&Xm()}function lT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ou(oo)}function uT(t,e){if(t==="click")return ou(e)}function cT(t,e){if(t==="input"||t==="change")return ou(e)}function hT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var an=typeof Object.is=="function"?Object.is:hT;function ao(t,e){if(an(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dh.call(e,i)||!an(t[i],e[i]))return!1}return!0}function Jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zm(t,e){var n=Jm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jm(n)}}function I0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?I0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function P0(){for(var t=window,e=al();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=al(t.document)}return e}function ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dT(t){var e=P0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&I0(n.ownerDocument.documentElement,n)){if(r!==null&&ef(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Zm(n,s);var o=Zm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fT=Rn&&"documentMode"in document&&11>=document.documentMode,vi=null,Nh=null,Fs=null,bh=!1;function eg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bh||vi==null||vi!==al(r)||(r=vi,"selectionStart"in r&&ef(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fs&&ao(Fs,r)||(Fs=r,r=pl(Nh,"onSelect"),0<r.length&&(e=new Xd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vi)))}function ya(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _i={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},_c={},k0={};Rn&&(k0=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function au(t){if(_c[t])return _c[t];if(!_i[t])return t;var e=_i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k0)return _c[t]=e[n];return t}var R0=au("animationend"),N0=au("animationiteration"),b0=au("animationstart"),D0=au("transitionend"),j0=new Map,tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(t,e){j0.set(t,e),ti(e,[t])}for(var wc=0;wc<tg.length;wc++){var Ec=tg[wc],pT=Ec.toLowerCase(),mT=Ec[0].toUpperCase()+Ec.slice(1);mr(pT,"on"+mT)}mr(R0,"onAnimationEnd");mr(N0,"onAnimationIteration");mr(b0,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(D0,"onTransitionEnd");Ui("onMouseEnter",["mouseout","mouseover"]);Ui("onMouseLeave",["mouseout","mouseover"]);Ui("onPointerEnter",["pointerout","pointerover"]);Ui("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function ng(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,px(r,e,void 0,t),t.currentTarget=null}function M0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;ng(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;ng(i,l,c),s=u}}}if(ul)throw t=Ih,ul=!1,Ih=null,t}function pe(t,e){var n=e[Vh];n===void 0&&(n=e[Vh]=new Set);var r=t+"__bubble";n.has(r)||(O0(e,t,2,!1),n.add(r))}function Sc(t,e,n){var r=0;e&&(r|=4),O0(n,t,r,e)}var va="_reactListening"+Math.random().toString(36).slice(2);function lo(t){if(!t[va]){t[va]=!0,zv.forEach(function(n){n!=="selectionchange"&&(gT.has(n)||Sc(n,!1,t),Sc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[va]||(e[va]=!0,Sc("selectionchange",!1,e))}}function O0(t,e,n,r){switch(_0(e)){case 1:var i=Rx;break;case 4:i=Nx;break;default:i=qd}n=i.bind(null,e,n,t),i=void 0,!Ch||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Mr(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}s0(function(){var c=s,p=Wd(n),d=[];e:{var m=j0.get(t);if(m!==void 0){var _=Xd,S=t;switch(t){case"keypress":if(za(n)===0)break e;case"keydown":case"keyup":_=Gx;break;case"focusin":S="focus",_=gc;break;case"focusout":S="blur",_=gc;break;case"beforeblur":case"afterblur":_=gc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Hm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=jx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=qx;break;case R0:case N0:case b0:_=Vx;break;case D0:_=Xx;break;case"scroll":_=bx;break;case"wheel":_=Zx;break;case"copy":case"cut":case"paste":_=$x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Gm}var I=(e&4)!==0,N=!I&&t==="scroll",T=I?m!==null?m+"Capture":null:m;I=[];for(var w=c,C;w!==null;){C=w;var j=C.stateNode;if(C.tag===5&&j!==null&&(C=j,T!==null&&(j=no(w,T),j!=null&&I.push(uo(w,j,C)))),N)break;w=w.return}0<I.length&&(m=new _(m,S,null,n,p),d.push({event:m,listeners:I}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==Th&&(S=n.relatedTarget||n.fromElement)&&(Mr(S)||S[Nn]))break e;if((_||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=c,S=S?Mr(S):null,S!==null&&(N=ni(S),S!==N||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=c),_!==S)){if(I=Hm,j="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(I=Gm,j="onPointerLeave",T="onPointerEnter",w="pointer"),N=_==null?m:wi(_),C=S==null?m:wi(S),m=new I(j,w+"leave",_,n,p),m.target=N,m.relatedTarget=C,j=null,Mr(p)===c&&(I=new I(T,w+"enter",S,n,p),I.target=C,I.relatedTarget=N,j=I),N=j,_&&S)t:{for(I=_,T=S,w=0,C=I;C;C=hi(C))w++;for(C=0,j=T;j;j=hi(j))C++;for(;0<w-C;)I=hi(I),w--;for(;0<C-w;)T=hi(T),C--;for(;w--;){if(I===T||T!==null&&I===T.alternate)break t;I=hi(I),T=hi(T)}I=null}else I=null;_!==null&&rg(d,m,_,I,!1),S!==null&&N!==null&&rg(d,N,S,I,!0)}}e:{if(m=c?wi(c):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var L=oT;else if(qm(m))if(A0)L=cT;else{L=lT;var V=aT}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=uT);if(L&&(L=L(t,c))){T0(d,L,n,p);break e}V&&V(t,m,c),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&_h(m,"number",m.value)}switch(V=c?wi(c):window,t){case"focusin":(qm(V)||V.contentEditable==="true")&&(vi=V,Nh=c,Fs=null);break;case"focusout":Fs=Nh=vi=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,eg(d,n,p);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":eg(d,n,p)}var E;if(Zd)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else yi?S0(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(E0&&n.locale!=="ko"&&(yi||v!=="onCompositionStart"?v==="onCompositionEnd"&&yi&&(E=w0()):(Kn=p,Yd="value"in Kn?Kn.value:Kn.textContent,yi=!0)),V=pl(c,v),0<V.length&&(v=new Wm(v,t,null,n,p),d.push({event:v,listeners:V}),E?v.data=E:(E=x0(n),E!==null&&(v.data=E)))),(E=tT?nT(t,n):rT(t,n))&&(c=pl(c,"onBeforeInput"),0<c.length&&(p=new Wm("onBeforeInput","beforeinput",null,n,p),d.push({event:p,listeners:c}),p.data=E))}M0(d,e)})}function uo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=no(t,n),s!=null&&r.unshift(uo(t,s,i)),s=no(t,e),s!=null&&r.push(uo(t,s,i))),t=t.return}return r}function hi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=no(n,s),u!=null&&o.unshift(uo(n,u,l))):i||(u=no(n,s),u!=null&&o.push(uo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yT=/\r\n?/g,vT=/\u0000|\uFFFD/g;function ig(t){return(typeof t=="string"?t:""+t).replace(yT,`
`).replace(vT,"")}function _a(t,e,n){if(e=ig(e),ig(t)!==e&&n)throw Error($(425))}function ml(){}var Dh=null,jh=null;function Mh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oh=typeof setTimeout=="function"?setTimeout:void 0,_T=typeof clearTimeout=="function"?clearTimeout:void 0,sg=typeof Promise=="function"?Promise:void 0,wT=typeof queueMicrotask=="function"?queueMicrotask:typeof sg<"u"?function(t){return sg.resolve(null).then(t).catch(ET)}:Oh;function ET(t){setTimeout(function(){throw t})}function Tc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),so(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);so(e)}function er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function og(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rs=Math.random().toString(36).slice(2),hn="__reactFiber$"+rs,co="__reactProps$"+rs,Nn="__reactContainer$"+rs,Vh="__reactEvents$"+rs,ST="__reactListeners$"+rs,xT="__reactHandles$"+rs;function Mr(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nn]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=og(t);t!==null;){if(n=t[hn])return n;t=og(t)}return e}t=n,n=t.parentNode}return null}function jo(t){return t=t[hn]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function lu(t){return t[co]||null}var Lh=[],Ei=-1;function gr(t){return{current:t}}function me(t){0>Ei||(t.current=Lh[Ei],Lh[Ei]=null,Ei--)}function ce(t,e){Ei++,Lh[Ei]=t.current,t.current=e}var cr={},lt=gr(cr),St=gr(!1),Hr=cr;function Bi(t,e){var n=t.type.contextTypes;if(!n)return cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xt(t){return t=t.childContextTypes,t!=null}function gl(){me(St),me(lt)}function ag(t,e,n){if(lt.current!==cr)throw Error($(168));ce(lt,e),ce(St,n)}function V0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,ax(t)||"Unknown",i));return Se({},n,r)}function yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cr,Hr=lt.current,ce(lt,t),ce(St,St.current),!0}function lg(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=V0(t,e,Hr),r.__reactInternalMemoizedMergedChildContext=t,me(St),me(lt),ce(lt,t)):me(St),ce(St,n)}var Tn=null,uu=!1,Ac=!1;function L0(t){Tn===null?Tn=[t]:Tn.push(t)}function TT(t){uu=!0,L0(t)}function yr(){if(!Ac&&Tn!==null){Ac=!0;var t=0,e=le;try{var n=Tn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tn=null,uu=!1}catch(i){throw Tn!==null&&(Tn=Tn.slice(t+1)),u0(Gd,yr),i}finally{le=e,Ac=!1}}return null}var Si=[],xi=0,vl=null,_l=0,Bt=[],zt=0,Wr=null,An=1,Cn="";function kr(t,e){Si[xi++]=_l,Si[xi++]=vl,vl=t,_l=e}function $0(t,e,n){Bt[zt++]=An,Bt[zt++]=Cn,Bt[zt++]=Wr,Wr=t;var r=An;t=Cn;var i=32-sn(r)-1;r&=~(1<<i),n+=1;var s=32-sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,An=1<<32-sn(e)+i|n<<i|r,Cn=s+t}else An=1<<s|n<<i|r,Cn=t}function tf(t){t.return!==null&&(kr(t,1),$0(t,1,0))}function nf(t){for(;t===vl;)vl=Si[--xi],Si[xi]=null,_l=Si[--xi],Si[xi]=null;for(;t===Wr;)Wr=Bt[--zt],Bt[zt]=null,Cn=Bt[--zt],Bt[zt]=null,An=Bt[--zt],Bt[zt]=null}var Mt=null,Dt=null,ve=!1,en=null;function F0(t,e){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ug(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mt=t,Dt=er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wr!==null?{id:An,overflow:Cn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mt=t,Dt=null,!0):!1;default:return!1}}function $h(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fh(t){if(ve){var e=Dt;if(e){var n=e;if(!ug(t,e)){if($h(t))throw Error($(418));e=er(n.nextSibling);var r=Mt;e&&ug(t,e)?F0(r,n):(t.flags=t.flags&-4097|2,ve=!1,Mt=t)}}else{if($h(t))throw Error($(418));t.flags=t.flags&-4097|2,ve=!1,Mt=t}}}function cg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function wa(t){if(t!==Mt)return!1;if(!ve)return cg(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mh(t.type,t.memoizedProps)),e&&(e=Dt)){if($h(t))throw U0(),Error($(418));for(;e;)F0(t,e),e=er(e.nextSibling)}if(cg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Mt?er(t.stateNode.nextSibling):null;return!0}function U0(){for(var t=Dt;t;)t=er(t.nextSibling)}function zi(){Dt=Mt=null,ve=!1}function rf(t){en===null?en=[t]:en.push(t)}var AT=On.ReactCurrentBatchConfig;function As(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Ea(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hg(t){var e=t._init;return e(t._payload)}function B0(t){function e(T,w){if(t){var C=T.deletions;C===null?(T.deletions=[w],T.flags|=16):C.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function i(T,w){return T=ir(T,w),T.index=0,T.sibling=null,T}function s(T,w,C){return T.index=C,t?(C=T.alternate,C!==null?(C=C.index,C<w?(T.flags|=2,w):C):(T.flags|=2,w)):(T.flags|=1048576,w)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,w,C,j){return w===null||w.tag!==6?(w=bc(C,T.mode,j),w.return=T,w):(w=i(w,C),w.return=T,w)}function u(T,w,C,j){var L=C.type;return L===gi?p(T,w,C.props.children,j,C.key):w!==null&&(w.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===zn&&hg(L)===w.type)?(j=i(w,C.props),j.ref=As(T,w,C),j.return=T,j):(j=Ya(C.type,C.key,C.props,null,T.mode,j),j.ref=As(T,w,C),j.return=T,j)}function c(T,w,C,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Dc(C,T.mode,j),w.return=T,w):(w=i(w,C.children||[]),w.return=T,w)}function p(T,w,C,j,L){return w===null||w.tag!==7?(w=Ur(C,T.mode,j,L),w.return=T,w):(w=i(w,C),w.return=T,w)}function d(T,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=bc(""+w,T.mode,C),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ca:return C=Ya(w.type,w.key,w.props,null,T.mode,C),C.ref=As(T,null,w),C.return=T,C;case mi:return w=Dc(w,T.mode,C),w.return=T,w;case zn:var j=w._init;return d(T,j(w._payload),C)}if(Ns(w)||ws(w))return w=Ur(w,T.mode,C,null),w.return=T,w;Ea(T,w)}return null}function m(T,w,C,j){var L=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return L!==null?null:l(T,w,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ca:return C.key===L?u(T,w,C,j):null;case mi:return C.key===L?c(T,w,C,j):null;case zn:return L=C._init,m(T,w,L(C._payload),j)}if(Ns(C)||ws(C))return L!==null?null:p(T,w,C,j,null);Ea(T,C)}return null}function _(T,w,C,j,L){if(typeof j=="string"&&j!==""||typeof j=="number")return T=T.get(C)||null,l(w,T,""+j,L);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ca:return T=T.get(j.key===null?C:j.key)||null,u(w,T,j,L);case mi:return T=T.get(j.key===null?C:j.key)||null,c(w,T,j,L);case zn:var V=j._init;return _(T,w,C,V(j._payload),L)}if(Ns(j)||ws(j))return T=T.get(C)||null,p(w,T,j,L,null);Ea(w,j)}return null}function S(T,w,C,j){for(var L=null,V=null,E=w,v=w=0,A=null;E!==null&&v<C.length;v++){E.index>v?(A=E,E=null):A=E.sibling;var x=m(T,E,C[v],j);if(x===null){E===null&&(E=A);break}t&&E&&x.alternate===null&&e(T,E),w=s(x,w,v),V===null?L=x:V.sibling=x,V=x,E=A}if(v===C.length)return n(T,E),ve&&kr(T,v),L;if(E===null){for(;v<C.length;v++)E=d(T,C[v],j),E!==null&&(w=s(E,w,v),V===null?L=E:V.sibling=E,V=E);return ve&&kr(T,v),L}for(E=r(T,E);v<C.length;v++)A=_(E,T,v,C[v],j),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?v:A.key),w=s(A,w,v),V===null?L=A:V.sibling=A,V=A);return t&&E.forEach(function(P){return e(T,P)}),ve&&kr(T,v),L}function I(T,w,C,j){var L=ws(C);if(typeof L!="function")throw Error($(150));if(C=L.call(C),C==null)throw Error($(151));for(var V=L=null,E=w,v=w=0,A=null,x=C.next();E!==null&&!x.done;v++,x=C.next()){E.index>v?(A=E,E=null):A=E.sibling;var P=m(T,E,x.value,j);if(P===null){E===null&&(E=A);break}t&&E&&P.alternate===null&&e(T,E),w=s(P,w,v),V===null?L=P:V.sibling=P,V=P,E=A}if(x.done)return n(T,E),ve&&kr(T,v),L;if(E===null){for(;!x.done;v++,x=C.next())x=d(T,x.value,j),x!==null&&(w=s(x,w,v),V===null?L=x:V.sibling=x,V=x);return ve&&kr(T,v),L}for(E=r(T,E);!x.done;v++,x=C.next())x=_(E,T,v,x.value,j),x!==null&&(t&&x.alternate!==null&&E.delete(x.key===null?v:x.key),w=s(x,w,v),V===null?L=x:V.sibling=x,V=x);return t&&E.forEach(function(R){return e(T,R)}),ve&&kr(T,v),L}function N(T,w,C,j){if(typeof C=="object"&&C!==null&&C.type===gi&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ca:e:{for(var L=C.key,V=w;V!==null;){if(V.key===L){if(L=C.type,L===gi){if(V.tag===7){n(T,V.sibling),w=i(V,C.props.children),w.return=T,T=w;break e}}else if(V.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===zn&&hg(L)===V.type){n(T,V.sibling),w=i(V,C.props),w.ref=As(T,V,C),w.return=T,T=w;break e}n(T,V);break}else e(T,V);V=V.sibling}C.type===gi?(w=Ur(C.props.children,T.mode,j,C.key),w.return=T,T=w):(j=Ya(C.type,C.key,C.props,null,T.mode,j),j.ref=As(T,w,C),j.return=T,T=j)}return o(T);case mi:e:{for(V=C.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(T,w.sibling),w=i(w,C.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=Dc(C,T.mode,j),w.return=T,T=w}return o(T);case zn:return V=C._init,N(T,w,V(C._payload),j)}if(Ns(C))return S(T,w,C,j);if(ws(C))return I(T,w,C,j);Ea(T,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(T,w.sibling),w=i(w,C),w.return=T,T=w):(n(T,w),w=bc(C,T.mode,j),w.return=T,T=w),o(T)):n(T,w)}return N}var Hi=B0(!0),z0=B0(!1),wl=gr(null),El=null,Ti=null,sf=null;function of(){sf=Ti=El=null}function af(t){var e=wl.current;me(wl),t._currentValue=e}function Uh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bi(t,e){El=t,sf=Ti=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Et=!0),t.firstContext=null)}function Kt(t){var e=t._currentValue;if(sf!==t)if(t={context:t,memoizedValue:e,next:null},Ti===null){if(El===null)throw Error($(308));Ti=t,El.dependencies={lanes:0,firstContext:t}}else Ti=Ti.next=t;return e}var Or=null;function lf(t){Or===null?Or=[t]:Or.push(t)}function H0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lf(e)):(n.next=i.next,i.next=n),e.interleaved=n,bn(t,r)}function bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hn=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function In(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bn(t,n)}return i=r.interleaved,i===null?(e.next=e,lf(r)):(e.next=i.next,i.next=e),r.interleaved=e,bn(t,n)}function Ha(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kd(t,n)}}function dg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sl(t,e,n,r){var i=t.updateQueue;Hn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=c:l.next=c,p.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,p=c=u=null,l=s;do{var m=l.lane,_=l.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,I=l;switch(m=e,_=n,I.tag){case 1:if(S=I.payload,typeof S=="function"){d=S.call(_,d,m);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=I.payload,m=typeof S=="function"?S.call(_,d,m):S,m==null)break e;d=Se({},d,m);break e;case 2:Hn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(c=p=_,u=d):p=p.next=_,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(p===null&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Kr|=o,t.lanes=o,t.memoizedState=d}}function fg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Mo={},pn=gr(Mo),ho=gr(Mo),fo=gr(Mo);function Vr(t){if(t===Mo)throw Error($(174));return t}function cf(t,e){switch(ce(fo,e),ce(ho,t),ce(pn,Mo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Eh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Eh(e,t)}me(pn),ce(pn,e)}function Wi(){me(pn),me(ho),me(fo)}function G0(t){Vr(fo.current);var e=Vr(pn.current),n=Eh(e,t.type);e!==n&&(ce(ho,t),ce(pn,n))}function hf(t){ho.current===t&&(me(pn),me(ho))}var we=gr(0);function xl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cc=[];function df(){for(var t=0;t<Cc.length;t++)Cc[t]._workInProgressVersionPrimary=null;Cc.length=0}var Wa=On.ReactCurrentDispatcher,Ic=On.ReactCurrentBatchConfig,Gr=0,Ee=null,De=null,Ve=null,Tl=!1,Us=!1,po=0,CT=0;function tt(){throw Error($(321))}function ff(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!an(t[n],e[n]))return!1;return!0}function pf(t,e,n,r,i,s){if(Gr=s,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wa.current=t===null||t.memoizedState===null?RT:NT,t=n(r,i),Us){s=0;do{if(Us=!1,po=0,25<=s)throw Error($(301));s+=1,Ve=De=null,e.updateQueue=null,Wa.current=bT,t=n(r,i)}while(Us)}if(Wa.current=Al,e=De!==null&&De.next!==null,Gr=0,Ve=De=Ee=null,Tl=!1,e)throw Error($(300));return t}function mf(){var t=po!==0;return po=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ee.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Qt(){if(De===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=Ve===null?Ee.memoizedState:Ve.next;if(e!==null)Ve=e,De=t;else{if(t===null)throw Error($(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ve===null?Ee.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function mo(t,e){return typeof e=="function"?e(t):e}function Pc(t){var e=Qt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=De,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var p=c.lane;if((Gr&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=d,o=r):u=u.next=d,Ee.lanes|=p,Kr|=p}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,an(r,e.memoizedState)||(Et=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ee.lanes|=s,Kr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kc(t){var e=Qt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);an(s,e.memoizedState)||(Et=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function K0(){}function Q0(t,e){var n=Ee,r=Qt(),i=e(),s=!an(r.memoizedState,i);if(s&&(r.memoizedState=i,Et=!0),r=r.queue,gf(X0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,go(9,Y0.bind(null,n,r,i,e),void 0,null),Fe===null)throw Error($(349));Gr&30||q0(n,e,i)}return i}function q0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Y0(t,e,n,r){e.value=n,e.getSnapshot=r,J0(e)&&Z0(t)}function X0(t,e,n){return n(function(){J0(e)&&Z0(t)})}function J0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!an(t,n)}catch{return!0}}function Z0(t){var e=bn(t,1);e!==null&&on(e,t,1,-1)}function pg(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:t},e.queue=t,t=t.dispatch=kT.bind(null,Ee,t),[e.memoizedState,t]}function go(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function e1(){return Qt().memoizedState}function Ga(t,e,n,r){var i=un();Ee.flags|=t,i.memoizedState=go(1|e,n,void 0,r===void 0?null:r)}function cu(t,e,n,r){var i=Qt();r=r===void 0?null:r;var s=void 0;if(De!==null){var o=De.memoizedState;if(s=o.destroy,r!==null&&ff(r,o.deps)){i.memoizedState=go(e,n,s,r);return}}Ee.flags|=t,i.memoizedState=go(1|e,n,s,r)}function mg(t,e){return Ga(8390656,8,t,e)}function gf(t,e){return cu(2048,8,t,e)}function t1(t,e){return cu(4,2,t,e)}function n1(t,e){return cu(4,4,t,e)}function r1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function i1(t,e,n){return n=n!=null?n.concat([t]):null,cu(4,4,r1.bind(null,e,t),n)}function yf(){}function s1(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ff(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function o1(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ff(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function a1(t,e,n){return Gr&21?(an(n,e)||(n=d0(),Ee.lanes|=n,Kr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=n)}function IT(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=Ic.transition;Ic.transition={};try{t(!1),e()}finally{le=n,Ic.transition=r}}function l1(){return Qt().memoizedState}function PT(t,e,n){var r=rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},u1(t))c1(e,n);else if(n=H0(t,e,n,r),n!==null){var i=ft();on(n,t,r,i),h1(n,e,r)}}function kT(t,e,n){var r=rr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(u1(t))c1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,an(l,o)){var u=e.interleaved;u===null?(i.next=i,lf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=H0(t,e,i,r),n!==null&&(i=ft(),on(n,t,r,i),h1(n,e,r))}}function u1(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function c1(t,e){Us=Tl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function h1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kd(t,n)}}var Al={readContext:Kt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},RT={readContext:Kt,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Kt,useEffect:mg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ga(4194308,4,r1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ga(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ga(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PT.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:pg,useDebugValue:yf,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=pg(!1),e=t[0];return t=IT.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=un();if(ve){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Fe===null)throw Error($(349));Gr&30||q0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,mg(X0.bind(null,r,s,t),[t]),r.flags|=2048,go(9,Y0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=un(),e=Fe.identifierPrefix;if(ve){var n=Cn,r=An;n=(r&~(1<<32-sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=po++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NT={readContext:Kt,useCallback:s1,useContext:Kt,useEffect:gf,useImperativeHandle:i1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:o1,useReducer:Pc,useRef:e1,useState:function(){return Pc(mo)},useDebugValue:yf,useDeferredValue:function(t){var e=Qt();return a1(e,De.memoizedState,t)},useTransition:function(){var t=Pc(mo)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:K0,useSyncExternalStore:Q0,useId:l1,unstable_isNewReconciler:!1},bT={readContext:Kt,useCallback:s1,useContext:Kt,useEffect:gf,useImperativeHandle:i1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:o1,useReducer:kc,useRef:e1,useState:function(){return kc(mo)},useDebugValue:yf,useDeferredValue:function(t){var e=Qt();return De===null?e.memoizedState=t:a1(e,De.memoizedState,t)},useTransition:function(){var t=kc(mo)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:K0,useSyncExternalStore:Q0,useId:l1,unstable_isNewReconciler:!1};function Jt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hu={isMounted:function(t){return(t=t._reactInternals)?ni(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),i=rr(t),s=In(r,i);s.payload=e,n!=null&&(s.callback=n),e=tr(t,s,i),e!==null&&(on(e,t,i,r),Ha(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),i=rr(t),s=In(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=tr(t,s,i),e!==null&&(on(e,t,i,r),Ha(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=rr(t),i=In(n,r);i.tag=2,e!=null&&(i.callback=e),e=tr(t,i,r),e!==null&&(on(e,t,r,n),Ha(e,t,r))}};function gg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ao(n,r)||!ao(i,s):!0}function d1(t,e,n){var r=!1,i=cr,s=e.contextType;return typeof s=="object"&&s!==null?s=Kt(s):(i=xt(e)?Hr:lt.current,r=e.contextTypes,s=(r=r!=null)?Bi(t,i):cr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hu.enqueueReplaceState(e,e.state,null)}function zh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},uf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kt(s):(s=xt(e)?Hr:lt.current,i.context=Bi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hu.enqueueReplaceState(i,i.state,null),Sl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gi(t,e){try{var n="",r=e;do n+=ox(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DT=typeof WeakMap=="function"?WeakMap:Map;function f1(t,e,n){n=In(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Il||(Il=!0,ed=r),Hh(t,e)},n}function p1(t,e,n){n=In(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hh(t,e),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KT.bind(null,t,e,n),e.then(t,t))}function _g(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=In(-1,1),e.tag=2,tr(n,e,1))),n.lanes|=1),t)}var jT=On.ReactCurrentOwner,Et=!1;function dt(t,e,n,r){e.child=t===null?z0(e,null,n,r):Hi(e,t.child,n,r)}function Eg(t,e,n,r,i){n=n.render;var s=e.ref;return bi(e,i),r=pf(t,e,n,r,s,i),n=mf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(ve&&n&&tf(e),e.flags|=1,dt(t,e,r,i),e.child)}function Sg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Af(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,m1(t,e,s,r,i)):(t=Ya(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ao,n(o,r)&&t.ref===e.ref)return Dn(t,e,i)}return e.flags|=1,t=ir(s,r),t.ref=e.ref,t.return=e,e.child=t}function m1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ao(s,r)&&t.ref===e.ref)if(Et=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Et=!0);else return e.lanes=t.lanes,Dn(t,e,i)}return Wh(t,e,n,r,i)}function g1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Ci,Nt),Nt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Ci,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ce(Ci,Nt),Nt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ce(Ci,Nt),Nt|=r;return dt(t,e,i,n),e.child}function y1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wh(t,e,n,r,i){var s=xt(n)?Hr:lt.current;return s=Bi(e,s),bi(e,i),n=pf(t,e,n,r,s,i),r=mf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(ve&&r&&tf(e),e.flags|=1,dt(t,e,n,i),e.child)}function xg(t,e,n,r,i){if(xt(n)){var s=!0;yl(e)}else s=!1;if(bi(e,i),e.stateNode===null)Ka(t,e),d1(e,n,r),zh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kt(c):(c=xt(n)?Hr:lt.current,c=Bi(e,c));var p=n.getDerivedStateFromProps,d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&yg(e,o,r,c),Hn=!1;var m=e.memoizedState;o.state=m,Sl(e,r,o,i),u=e.memoizedState,l!==r||m!==u||St.current||Hn?(typeof p=="function"&&(Bh(e,n,p,r),u=e.memoizedState),(l=Hn||gg(e,n,l,r,m,u,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,W0(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Jt(e.type,l),o.props=c,d=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Kt(u):(u=xt(n)?Hr:lt.current,u=Bi(e,u));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||m!==u)&&yg(e,o,r,u),Hn=!1,m=e.memoizedState,o.state=m,Sl(e,r,o,i);var S=e.memoizedState;l!==d||m!==S||St.current||Hn?(typeof _=="function"&&(Bh(e,n,_,r),S=e.memoizedState),(c=Hn||gg(e,n,c,r,m,S,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Gh(t,e,n,r,s,i)}function Gh(t,e,n,r,i,s){y1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&lg(e,n,!1),Dn(t,e,s);r=e.stateNode,jT.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hi(e,t.child,null,s),e.child=Hi(e,null,l,s)):dt(t,e,l,s),e.memoizedState=r.state,i&&lg(e,n,!0),e.child}function v1(t){var e=t.stateNode;e.pendingContext?ag(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(t,e.context,!1),cf(t,e.containerInfo)}function Tg(t,e,n,r,i){return zi(),rf(i),e.flags|=256,dt(t,e,n,r),e.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Qh(t){return{baseLanes:t,cachePool:null,transitions:null}}function _1(t,e,n){var r=e.pendingProps,i=we.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(we,i&1),t===null)return Fh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pu(o,r,0,null),t=Ur(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qh(n),e.memoizedState=Kh,t):vf(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return MT(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ir(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ir(l,s):(s=Ur(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Kh,r}return s=t.child,t=s.sibling,r=ir(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vf(t,e){return e=pu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sa(t,e,n,r){return r!==null&&rf(r),Hi(e,t.child,null,n),t=vf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MT(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Rc(Error($(422))),Sa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pu({mode:"visible",children:r.children},i,0,null),s=Ur(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hi(e,t.child,null,o),e.child.memoizedState=Qh(o),e.memoizedState=Kh,s);if(!(e.mode&1))return Sa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=Rc(s,r,void 0),Sa(t,e,o,r)}if(l=(o&t.childLanes)!==0,Et||l){if(r=Fe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bn(t,i),on(r,t,i,-1))}return Tf(),r=Rc(Error($(421))),Sa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dt=er(i.nextSibling),Mt=e,ve=!0,en=null,t!==null&&(Bt[zt++]=An,Bt[zt++]=Cn,Bt[zt++]=Wr,An=t.id,Cn=t.overflow,Wr=e),e=vf(e,r.children),e.flags|=4096,e)}function Ag(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uh(t.return,e,n)}function Nc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function w1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ag(t,n,e);else if(t.tag===19)Ag(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nc(e,!0,n,null,s);break;case"together":Nc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ka(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=ir(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ir(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function OT(t,e,n){switch(e.tag){case 3:v1(e),zi();break;case 5:G0(e);break;case 1:xt(e.type)&&yl(e);break;case 4:cf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(wl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?_1(t,e,n):(ce(we,we.current&1),t=Dn(t,e,n),t!==null?t.sibling:null);ce(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return w1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,g1(t,e,n)}return Dn(t,e,n)}var E1,qh,S1,x1;E1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qh=function(){};S1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vr(pn.current);var s=null;switch(n){case"input":i=yh(t,i),r=yh(t,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=wh(t,i),r=wh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ml)}Sh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(eo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(eo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&pe("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};x1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Cs(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function VT(t,e,n){var r=e.pendingProps;switch(nf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return xt(e.type)&&gl(),nt(e),null;case 3:return r=e.stateNode,Wi(),me(St),me(lt),df(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,en!==null&&(rd(en),en=null))),qh(t,e),nt(e),null;case 5:hf(e);var i=Vr(fo.current);if(n=e.type,t!==null&&e.stateNode!=null)S1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return nt(e),null}if(t=Vr(pn.current),wa(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[hn]=e,r[co]=s,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<Ds.length;i++)pe(Ds[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":jm(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Om(r,s),pe("invalid",r)}Sh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&_a(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&_a(r.textContent,l,t),i=["children",""+l]):eo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":ha(r),Mm(r,s,!0);break;case"textarea":ha(r),Vm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ml)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hn]=e,t[co]=r,E1(t,e,!1,!1),e.stateNode=t;e:{switch(o=xh(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ds.length;i++)pe(Ds[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":jm(t,r),i=yh(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Om(t,r),i=wh(t,r),pe("invalid",t);break;default:i=r}Sh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?e0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Jv(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&to(t,u):typeof u=="number"&&to(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(eo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&pe("scroll",t):u!=null&&Ud(t,s,u,o))}switch(n){case"input":ha(t),Mm(t,r,!1);break;case"textarea":ha(t),Vm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ur(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Pi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Pi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)x1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Vr(fo.current),Vr(pn.current),wa(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(s=r.nodeValue!==n)&&(t=Mt,t!==null))switch(t.tag){case 3:_a(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_a(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return nt(e),null;case 13:if(me(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&Dt!==null&&e.mode&1&&!(e.flags&128))U0(),zi(),e.flags|=98560,s=!1;else if(s=wa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[hn]=e}else zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),s=!1}else en!==null&&(rd(en),en=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?je===0&&(je=3):Tf())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return Wi(),qh(t,e),t===null&&lo(e.stateNode.containerInfo),nt(e),null;case 10:return af(e.type._context),nt(e),null;case 17:return xt(e.type)&&gl(),nt(e),null;case 19:if(me(we),s=e.memoizedState,s===null)return nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Cs(s,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xl(t),o!==null){for(e.flags|=128,Cs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(we,we.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ce()>Ki&&(e.flags|=128,r=!0,Cs(s,!1),e.lanes=4194304)}else{if(!r)if(t=xl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Cs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ve)return nt(e),null}else 2*Ce()-s.renderingStartTime>Ki&&n!==1073741824&&(e.flags|=128,r=!0,Cs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ce(),e.sibling=null,n=we.current,ce(we,r?n&1|2:n&1),e):(nt(e),null);case 22:case 23:return xf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nt&1073741824&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function LT(t,e){switch(nf(e),e.tag){case 1:return xt(e.type)&&gl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wi(),me(St),me(lt),df(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hf(e),null;case 13:if(me(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(we),null;case 4:return Wi(),null;case 10:return af(e.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var xa=!1,st=!1,$T=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function Yh(t,e,n){try{n()}catch(r){Te(t,e,r)}}var Cg=!1;function FT(t,e){if(Dh=dl,t=P0(),ef(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,p=0,d=t,m=null;t:for(;;){for(var _;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(_=d.firstChild)!==null;)m=d,d=_;for(;;){if(d===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++p===r&&(u=o),(_=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(jh={focusedElem:t,selectionRange:n},dl=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var I=S.memoizedProps,N=S.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?I:Jt(e.type,I),N);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(j){Te(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return S=Cg,Cg=!1,S}function Bs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Yh(e,n,s)}i=i.next}while(i!==r)}}function du(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function T1(t){var e=t.alternate;e!==null&&(t.alternate=null,T1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[co],delete e[Vh],delete e[ST],delete e[xT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function A1(t){return t.tag===5||t.tag===3||t.tag===4}function Ig(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ml));else if(r!==4&&(t=t.child,t!==null))for(Jh(t,e,n),t=t.sibling;t!==null;)Jh(t,e,n),t=t.sibling}function Zh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zh(t,e,n),t=t.sibling;t!==null;)Zh(t,e,n),t=t.sibling}var He=null,Zt=!1;function Un(t,e,n){for(n=n.child;n!==null;)C1(t,e,n),n=n.sibling}function C1(t,e,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(iu,n)}catch{}switch(n.tag){case 5:st||Ai(n,e);case 6:var r=He,i=Zt;He=null,Un(t,e,n),He=r,Zt=i,He!==null&&(Zt?(t=He,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Zt?(t=He,n=n.stateNode,t.nodeType===8?Tc(t.parentNode,n):t.nodeType===1&&Tc(t,n),so(t)):Tc(He,n.stateNode));break;case 4:r=He,i=Zt,He=n.stateNode.containerInfo,Zt=!0,Un(t,e,n),He=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Yh(n,e,o),i=i.next}while(i!==r)}Un(t,e,n);break;case 1:if(!st&&(Ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,e,l)}Un(t,e,n);break;case 21:Un(t,e,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,Un(t,e,n),st=r):Un(t,e,n);break;default:Un(t,e,n)}}function Pg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $T),e.forEach(function(r){var i=qT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Zt=!1;break e;case 3:He=l.stateNode.containerInfo,Zt=!0;break e;case 4:He=l.stateNode.containerInfo,Zt=!0;break e}l=l.return}if(He===null)throw Error($(160));C1(s,o,i),He=null,Zt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Te(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)I1(e,t),e=e.sibling}function I1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(e,t),ln(t),r&4){try{Bs(3,t,t.return),du(3,t)}catch(I){Te(t,t.return,I)}try{Bs(5,t,t.return)}catch(I){Te(t,t.return,I)}}break;case 1:Xt(e,t),ln(t),r&512&&n!==null&&Ai(n,n.return);break;case 5:if(Xt(e,t),ln(t),r&512&&n!==null&&Ai(n,n.return),t.flags&32){var i=t.stateNode;try{to(i,"")}catch(I){Te(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&qv(i,s),xh(l,o);var c=xh(l,s);for(o=0;o<u.length;o+=2){var p=u[o],d=u[o+1];p==="style"?e0(i,d):p==="dangerouslySetInnerHTML"?Jv(i,d):p==="children"?to(i,d):Ud(i,p,d,c)}switch(l){case"input":vh(i,s);break;case"textarea":Yv(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Pi(i,!!s.multiple,_,!1):m!==!!s.multiple&&(s.defaultValue!=null?Pi(i,!!s.multiple,s.defaultValue,!0):Pi(i,!!s.multiple,s.multiple?[]:"",!1))}i[co]=s}catch(I){Te(t,t.return,I)}}break;case 6:if(Xt(e,t),ln(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Te(t,t.return,I)}}break;case 3:if(Xt(e,t),ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{so(e.containerInfo)}catch(I){Te(t,t.return,I)}break;case 4:Xt(e,t),ln(t);break;case 13:Xt(e,t),ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ef=Ce())),r&4&&Pg(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(st=(c=st)||p,Xt(e,t),st=c):Xt(e,t),ln(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!p&&t.mode&1)for(z=t,p=t.child;p!==null;){for(d=z=p;z!==null;){switch(m=z,_=m.child,m.tag){case 0:case 11:case 14:case 15:Bs(4,m,m.return);break;case 1:Ai(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(I){Te(r,n,I)}}break;case 5:Ai(m,m.return);break;case 22:if(m.memoizedState!==null){Rg(d);continue}}_!==null?(_.return=m,z=_):Rg(d)}p=p.sibling}e:for(p=null,d=t;;){if(d.tag===5){if(p===null){p=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Zv("display",o))}catch(I){Te(t,t.return,I)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(I){Te(t,t.return,I)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xt(e,t),ln(t),r&4&&Pg(t);break;case 21:break;default:Xt(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(A1(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(to(i,""),r.flags&=-33);var s=Ig(t);Zh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ig(t);Jh(t,l,o);break;default:throw Error($(161))}}catch(u){Te(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UT(t,e,n){z=t,P1(t)}function P1(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xa;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||st;l=xa;var c=st;if(xa=o,(st=u)&&!c)for(z=i;z!==null;)o=z,u=o.child,o.tag===22&&o.memoizedState!==null?Ng(i):u!==null?(u.return=o,z=u):Ng(i);for(;s!==null;)z=s,P1(s),s=s.sibling;z=i,xa=l,st=c}kg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):kg(t)}}function kg(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||du(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!st)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fg(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&so(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}st||e.flags&512&&Xh(e)}catch(m){Te(e,e.return,m)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Rg(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function Ng(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{du(4,e)}catch(u){Te(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Te(e,i,u)}}var s=e.return;try{Xh(e)}catch(u){Te(e,s,u)}break;case 5:var o=e.return;try{Xh(e)}catch(u){Te(e,o,u)}}}catch(u){Te(e,e.return,u)}if(e===t){z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,z=l;break}z=e.return}}var BT=Math.ceil,Cl=On.ReactCurrentDispatcher,_f=On.ReactCurrentOwner,Wt=On.ReactCurrentBatchConfig,re=0,Fe=null,Ne=null,qe=0,Nt=0,Ci=gr(0),je=0,yo=null,Kr=0,fu=0,wf=0,zs=null,wt=null,Ef=0,Ki=1/0,xn=null,Il=!1,ed=null,nr=null,Ta=!1,Qn=null,Pl=0,Hs=0,td=null,Qa=-1,qa=0;function ft(){return re&6?Ce():Qa!==-1?Qa:Qa=Ce()}function rr(t){return t.mode&1?re&2&&qe!==0?qe&-qe:AT.transition!==null?(qa===0&&(qa=d0()),qa):(t=le,t!==0||(t=window.event,t=t===void 0?16:_0(t.type)),t):1}function on(t,e,n,r){if(50<Hs)throw Hs=0,td=null,Error($(185));bo(t,n,r),(!(re&2)||t!==Fe)&&(t===Fe&&(!(re&2)&&(fu|=n),je===4&&Gn(t,qe)),Tt(t,r),n===1&&re===0&&!(e.mode&1)&&(Ki=Ce()+500,uu&&yr()))}function Tt(t,e){var n=t.callbackNode;Ax(t,e);var r=hl(t,t===Fe?qe:0);if(r===0)n!==null&&Fm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fm(n),e===1)t.tag===0?TT(bg.bind(null,t)):L0(bg.bind(null,t)),wT(function(){!(re&6)&&yr()}),n=null;else{switch(f0(r)){case 1:n=Gd;break;case 4:n=c0;break;case 16:n=cl;break;case 536870912:n=h0;break;default:n=cl}n=O1(n,k1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function k1(t,e){if(Qa=-1,qa=0,re&6)throw Error($(327));var n=t.callbackNode;if(Di()&&t.callbackNode!==n)return null;var r=hl(t,t===Fe?qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kl(t,r);else{e=r;var i=re;re|=2;var s=N1();(Fe!==t||qe!==e)&&(xn=null,Ki=Ce()+500,Fr(t,e));do try{WT();break}catch(l){R1(t,l)}while(!0);of(),Cl.current=s,re=i,Ne!==null?e=0:(Fe=null,qe=0,e=je)}if(e!==0){if(e===2&&(i=Ph(t),i!==0&&(r=i,e=nd(t,i))),e===1)throw n=yo,Fr(t,0),Gn(t,r),Tt(t,Ce()),n;if(e===6)Gn(t,r);else{if(i=t.current.alternate,!(r&30)&&!zT(i)&&(e=kl(t,r),e===2&&(s=Ph(t),s!==0&&(r=s,e=nd(t,s))),e===1))throw n=yo,Fr(t,0),Gn(t,r),Tt(t,Ce()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Rr(t,wt,xn);break;case 3:if(Gn(t,r),(r&130023424)===r&&(e=Ef+500-Ce(),10<e)){if(hl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Oh(Rr.bind(null,t,wt,xn),e);break}Rr(t,wt,xn);break;case 4:if(Gn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BT(r/1960))-r,10<r){t.timeoutHandle=Oh(Rr.bind(null,t,wt,xn),r);break}Rr(t,wt,xn);break;case 5:Rr(t,wt,xn);break;default:throw Error($(329))}}}return Tt(t,Ce()),t.callbackNode===n?k1.bind(null,t):null}function nd(t,e){var n=zs;return t.current.memoizedState.isDehydrated&&(Fr(t,e).flags|=256),t=kl(t,e),t!==2&&(e=wt,wt=n,e!==null&&rd(e)),t}function rd(t){wt===null?wt=t:wt.push.apply(wt,t)}function zT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!an(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~wf,e&=~fu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sn(e),r=1<<n;t[n]=-1,e&=~r}}function bg(t){if(re&6)throw Error($(327));Di();var e=hl(t,0);if(!(e&1))return Tt(t,Ce()),null;var n=kl(t,e);if(t.tag!==0&&n===2){var r=Ph(t);r!==0&&(e=r,n=nd(t,r))}if(n===1)throw n=yo,Fr(t,0),Gn(t,e),Tt(t,Ce()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rr(t,wt,xn),Tt(t,Ce()),null}function Sf(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Ki=Ce()+500,uu&&yr())}}function Qr(t){Qn!==null&&Qn.tag===0&&!(re&6)&&Di();var e=re;re|=1;var n=Wt.transition,r=le;try{if(Wt.transition=null,le=1,t)return t()}finally{le=r,Wt.transition=n,re=e,!(re&6)&&yr()}}function xf(){Nt=Ci.current,me(Ci)}function Fr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_T(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(nf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gl();break;case 3:Wi(),me(St),me(lt),df();break;case 5:hf(r);break;case 4:Wi();break;case 13:me(we);break;case 19:me(we);break;case 10:af(r.type._context);break;case 22:case 23:xf()}n=n.return}if(Fe=t,Ne=t=ir(t.current,null),qe=Nt=e,je=0,yo=null,wf=fu=Kr=0,wt=zs=null,Or!==null){for(e=0;e<Or.length;e++)if(n=Or[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Or=null}return t}function R1(t,e){do{var n=Ne;try{if(of(),Wa.current=Al,Tl){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tl=!1}if(Gr=0,Ve=De=Ee=null,Us=!1,po=0,_f.current=null,n===null||n.return===null){je=1,yo=e,Ne=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=qe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=l,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=_g(o);if(_!==null){_.flags&=-257,wg(_,o,l,s,e),_.mode&1&&vg(s,c,e),e=_,u=c;var S=e.updateQueue;if(S===null){var I=new Set;I.add(u),e.updateQueue=I}else S.add(u);break e}else{if(!(e&1)){vg(s,c,e),Tf();break e}u=Error($(426))}}else if(ve&&l.mode&1){var N=_g(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),wg(N,o,l,s,e),rf(Gi(u,l));break e}}s=u=Gi(u,l),je!==4&&(je=2),zs===null?zs=[s]:zs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=f1(s,u,e);dg(s,T);break e;case 1:l=u;var w=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(nr===null||!nr.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=p1(s,l,e);dg(s,j);break e}}s=s.return}while(s!==null)}D1(n)}catch(L){e=L,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function N1(){var t=Cl.current;return Cl.current=Al,t===null?Al:t}function Tf(){(je===0||je===3||je===2)&&(je=4),Fe===null||!(Kr&268435455)&&!(fu&268435455)||Gn(Fe,qe)}function kl(t,e){var n=re;re|=2;var r=N1();(Fe!==t||qe!==e)&&(xn=null,Fr(t,e));do try{HT();break}catch(i){R1(t,i)}while(!0);if(of(),re=n,Cl.current=r,Ne!==null)throw Error($(261));return Fe=null,qe=0,je}function HT(){for(;Ne!==null;)b1(Ne)}function WT(){for(;Ne!==null&&!gx();)b1(Ne)}function b1(t){var e=M1(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?D1(t):Ne=e,_f.current=null}function D1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LT(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,Ne=null;return}}else if(n=VT(n,e,Nt),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);je===0&&(je=5)}function Rr(t,e,n){var r=le,i=Wt.transition;try{Wt.transition=null,le=1,GT(t,e,n,r)}finally{Wt.transition=i,le=r}return null}function GT(t,e,n,r){do Di();while(Qn!==null);if(re&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Cx(t,s),t===Fe&&(Ne=Fe=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ta||(Ta=!0,O1(cl,function(){return Di(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wt.transition,Wt.transition=null;var o=le;le=1;var l=re;re|=4,_f.current=null,FT(t,n),I1(n,t),dT(jh),dl=!!Dh,jh=Dh=null,t.current=n,UT(n),yx(),re=l,le=o,Wt.transition=s}else t.current=n;if(Ta&&(Ta=!1,Qn=t,Pl=i),s=t.pendingLanes,s===0&&(nr=null),wx(n.stateNode),Tt(t,Ce()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Il)throw Il=!1,t=ed,ed=null,t;return Pl&1&&t.tag!==0&&Di(),s=t.pendingLanes,s&1?t===td?Hs++:(Hs=0,td=t):Hs=0,yr(),null}function Di(){if(Qn!==null){var t=f0(Pl),e=Wt.transition,n=le;try{if(Wt.transition=null,le=16>t?16:t,Qn===null)var r=!1;else{if(t=Qn,Qn=null,Pl=0,re&6)throw Error($(331));var i=re;for(re|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(z=c;z!==null;){var p=z;switch(p.tag){case 0:case 11:case 15:Bs(8,p,s)}var d=p.child;if(d!==null)d.return=p,z=d;else for(;z!==null;){p=z;var m=p.sibling,_=p.return;if(T1(p),p===c){z=null;break}if(m!==null){m.return=_,z=m;break}z=_}}}var S=s.alternate;if(S!==null){var I=S.child;if(I!==null){S.child=null;do{var N=I.sibling;I.sibling=null,I=N}while(I!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bs(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,z=T;break e}z=s.return}}var w=t.current;for(z=w;z!==null;){o=z;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,z=C;else e:for(o=w;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:du(9,l)}}catch(L){Te(l,l.return,L)}if(l===o){z=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,z=j;break e}z=l.return}}if(re=i,yr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(iu,t)}catch{}r=!0}return r}finally{le=n,Wt.transition=e}}return!1}function Dg(t,e,n){e=Gi(n,e),e=f1(t,e,1),t=tr(t,e,1),e=ft(),t!==null&&(bo(t,1,e),Tt(t,e))}function Te(t,e,n){if(t.tag===3)Dg(t,t,n);else for(;e!==null;){if(e.tag===3){Dg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nr===null||!nr.has(r))){t=Gi(n,t),t=p1(e,t,1),e=tr(e,t,1),t=ft(),e!==null&&(bo(e,1,t),Tt(e,t));break}}e=e.return}}function KT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&(qe&n)===n&&(je===4||je===3&&(qe&130023424)===qe&&500>Ce()-Ef?Fr(t,0):wf|=n),Tt(t,e)}function j1(t,e){e===0&&(t.mode&1?(e=pa,pa<<=1,!(pa&130023424)&&(pa=4194304)):e=1);var n=ft();t=bn(t,e),t!==null&&(bo(t,e,n),Tt(t,n))}function QT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),j1(t,n)}function qT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),j1(t,n)}var M1;M1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)Et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Et=!1,OT(t,e,n);Et=!!(t.flags&131072)}else Et=!1,ve&&e.flags&1048576&&$0(e,_l,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ka(t,e),t=e.pendingProps;var i=Bi(e,lt.current);bi(e,n),i=pf(null,e,r,t,i,n);var s=mf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)?(s=!0,yl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uf(e),i.updater=hu,e.stateNode=i,i._reactInternals=e,zh(e,r,t,n),e=Gh(null,e,r,!0,s,n)):(e.tag=0,ve&&s&&tf(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ka(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XT(r),t=Jt(r,t),i){case 0:e=Wh(null,e,r,t,n);break e;case 1:e=xg(null,e,r,t,n);break e;case 11:e=Eg(null,e,r,t,n);break e;case 14:e=Sg(null,e,r,Jt(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Wh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),xg(t,e,r,i,n);case 3:e:{if(v1(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,W0(t,e),Sl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gi(Error($(423)),e),e=Tg(t,e,r,n,i);break e}else if(r!==i){i=Gi(Error($(424)),e),e=Tg(t,e,r,n,i);break e}else for(Dt=er(e.stateNode.containerInfo.firstChild),Mt=e,ve=!0,en=null,n=z0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zi(),r===i){e=Dn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return G0(e),t===null&&Fh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Mh(r,i)?o=null:s!==null&&Mh(r,s)&&(e.flags|=32),y1(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&Fh(e),null;case 13:return _1(t,e,n);case 4:return cf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hi(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Eg(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ce(wl,r._currentValue),r._currentValue=o,s!==null)if(an(s.value,o)){if(s.children===i.children&&!St.current){e=Dn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=In(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Uh(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bi(e,n),i=Kt(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=Jt(r,e.pendingProps),i=Jt(r.type,i),Sg(t,e,r,i,n);case 15:return m1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Ka(t,e),e.tag=1,xt(r)?(t=!0,yl(e)):t=!1,bi(e,n),d1(e,r,i),zh(e,r,i,n),Gh(null,e,r,!0,t,n);case 19:return w1(t,e,n);case 22:return g1(t,e,n)}throw Error($(156,e.tag))};function O1(t,e){return u0(t,e)}function YT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,n,r){return new YT(t,e,n,r)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XT(t){if(typeof t=="function")return Af(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zd)return 11;if(t===Hd)return 14}return 2}function ir(t,e){var n=t.alternate;return n===null?(n=Ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ya(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Af(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gi:return Ur(n.children,i,s,e);case Bd:o=8,i|=8;break;case fh:return t=Ht(12,n,e,i|2),t.elementType=fh,t.lanes=s,t;case ph:return t=Ht(13,n,e,i),t.elementType=ph,t.lanes=s,t;case mh:return t=Ht(19,n,e,i),t.elementType=mh,t.lanes=s,t;case Gv:return pu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hv:o=10;break e;case Wv:o=9;break e;case zd:o=11;break e;case Hd:o=14;break e;case zn:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Ht(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ur(t,e,n,r){return t=Ht(7,t,r,e),t.lanes=n,t}function pu(t,e,n,r){return t=Ht(22,t,r,e),t.elementType=Gv,t.lanes=n,t.stateNode={isHidden:!1},t}function bc(t,e,n){return t=Ht(6,t,null,e),t.lanes=n,t}function Dc(t,e,n){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fc(0),this.expirationTimes=fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cf(t,e,n,r,i,s,o,l,u){return t=new JT(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ht(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uf(s),t}function ZT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function V1(t){if(!t)return cr;t=t._reactInternals;e:{if(ni(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(xt(n))return V0(t,n,e)}return e}function L1(t,e,n,r,i,s,o,l,u){return t=Cf(n,r,!0,t,i,s,o,l,u),t.context=V1(null),n=t.current,r=ft(),i=rr(n),s=In(r,i),s.callback=e??null,tr(n,s,i),t.current.lanes=i,bo(t,i,r),Tt(t,r),t}function mu(t,e,n,r){var i=e.current,s=ft(),o=rr(i);return n=V1(n),e.context===null?e.context=n:e.pendingContext=n,e=In(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tr(i,e,o),t!==null&&(on(t,i,o,s),Ha(t,i,o)),o}function Rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function If(t,e){jg(t,e),(t=t.alternate)&&jg(t,e)}function eA(){return null}var $1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pf(t){this._internalRoot=t}gu.prototype.render=Pf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));mu(t,e,null,null)};gu.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){mu(null,t,null,null)}),e[Nn]=null}};function gu(t){this._internalRoot=t}gu.prototype.unstable_scheduleHydration=function(t){if(t){var e=g0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wn.length&&e!==0&&e<Wn[n].priority;n++);Wn.splice(n,0,t),n===0&&v0(t)}};function kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mg(){}function tA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Rl(o);s.call(c)}}var o=L1(e,r,t,0,null,!1,!1,"",Mg);return t._reactRootContainer=o,t[Nn]=o.current,lo(t.nodeType===8?t.parentNode:t),Qr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Rl(u);l.call(c)}}var u=Cf(t,0,!1,null,null,!1,!1,"",Mg);return t._reactRootContainer=u,t[Nn]=u.current,lo(t.nodeType===8?t.parentNode:t),Qr(function(){mu(e,u,n,r)}),u}function vu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Rl(o);l.call(u)}}mu(e,o,t,i)}else o=tA(n,e,t,i,r);return Rl(o)}p0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bs(e.pendingLanes);n!==0&&(Kd(e,n|1),Tt(e,Ce()),!(re&6)&&(Ki=Ce()+500,yr()))}break;case 13:Qr(function(){var r=bn(t,1);if(r!==null){var i=ft();on(r,t,1,i)}}),If(t,1)}};Qd=function(t){if(t.tag===13){var e=bn(t,134217728);if(e!==null){var n=ft();on(e,t,134217728,n)}If(t,134217728)}};m0=function(t){if(t.tag===13){var e=rr(t),n=bn(t,e);if(n!==null){var r=ft();on(n,t,e,r)}If(t,e)}};g0=function(){return le};y0=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};Ah=function(t,e,n){switch(e){case"input":if(vh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lu(r);if(!i)throw Error($(90));Qv(r),vh(r,i)}}}break;case"textarea":Yv(t,n);break;case"select":e=n.value,e!=null&&Pi(t,!!n.multiple,e,!1)}};r0=Sf;i0=Qr;var nA={usingClientEntryPoint:!1,Events:[jo,wi,lu,t0,n0,Sf]},Is={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rA={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a0(t),t===null?null:t.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||eA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{iu=Aa.inject(rA),fn=Aa}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nA;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(e))throw Error($(200));return ZT(t,e,null,n)};$t.createRoot=function(t,e){if(!kf(t))throw Error($(299));var n=!1,r="",i=$1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cf(t,1,!1,null,null,n,!1,r,i),t[Nn]=e.current,lo(t.nodeType===8?t.parentNode:t),new Pf(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=a0(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return Qr(t)};$t.hydrate=function(t,e,n){if(!yu(e))throw Error($(200));return vu(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!kf(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=$1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=L1(e,null,t,1,n??null,i,!1,s,o),t[Nn]=e.current,lo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gu(e)};$t.render=function(t,e,n){if(!yu(e))throw Error($(200));return vu(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!yu(t))throw Error($(40));return t._reactRootContainer?(Qr(function(){vu(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};$t.unstable_batchedUpdates=Sf;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yu(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return vu(t,e,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function F1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F1)}catch(t){console.error(t)}}F1(),Fv.exports=$t;var iA=Fv.exports;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vo(){return vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vo.apply(this,arguments)}var qn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qn||(qn={}));const Og="popstate";function sA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return id("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nl(i)}return aA(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function U1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oA(){return Math.random().toString(36).substr(2,8)}function Vg(t,e){return{usr:t.state,key:t.key,idx:e}}function id(t,e,n,r){return n===void 0&&(n=null),vo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?is(e):e,{state:n,key:e&&e.key||r||oA()})}function Nl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function is(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=qn.Pop,u=null,c=p();c==null&&(c=0,o.replaceState(vo({},o.state,{idx:c}),""));function p(){return(o.state||{idx:null}).idx}function d(){l=qn.Pop;let N=p(),T=N==null?null:N-c;c=N,u&&u({action:l,location:I.location,delta:T})}function m(N,T){l=qn.Push;let w=id(I.location,N,T);c=p()+1;let C=Vg(w,c),j=I.createHref(w);try{o.pushState(C,"",j)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(j)}s&&u&&u({action:l,location:I.location,delta:1})}function _(N,T){l=qn.Replace;let w=id(I.location,N,T);c=p();let C=Vg(w,c),j=I.createHref(w);o.replaceState(C,"",j),s&&u&&u({action:l,location:I.location,delta:0})}function S(N){let T=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof N=="string"?N:Nl(N);return w=w.replace(/ $/,"%20"),be(T,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,T)}let I={get action(){return l},get location(){return t(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Og,d),u=N,()=>{i.removeEventListener(Og,d),u=null}},createHref(N){return e(i,N)},createURL:S,encodeLocation(N){let T=S(N);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:_,go(N){return o.go(N)}};return I}var Lg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Lg||(Lg={}));function lA(t,e,n){return n===void 0&&(n="/"),uA(t,e,n,!1)}function uA(t,e,n,r){let i=typeof e=="string"?is(e):e,s=Rf(i.pathname||"/",n);if(s==null)return null;let o=B1(t);cA(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=EA(s);l=_A(o[u],c,r)}return l}function B1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(be(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=sr([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),B1(s.children,e,p,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:yA(c,s.index),routesMeta:p})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of z1(s.path))i(s,o,u)}),e}function z1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=z1(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function cA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hA=/^:[\w-]+$/,dA=3,fA=2,pA=1,mA=10,gA=-2,$g=t=>t==="*";function yA(t,e){let n=t.split("/"),r=n.length;return n.some($g)&&(r+=gA),e&&(r+=fA),n.filter(i=>!$g(i)).reduce((i,s)=>i+(hA.test(s)?dA:s===""?pA:mA),r)}function vA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _A(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",d=Fg({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},p),m=u.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Fg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:sr([s,d.pathname]),pathnameBase:AA(sr([s,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(s=sr([s,d.pathnameBase]))}return o}function Fg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,p,d)=>{let{paramName:m,isOptional:_}=p;if(m==="*"){let I=l[d]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const S=l[d];return _&&!S?c[m]=void 0:c[m]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function wA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),U1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return U1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?is(t):t;return{pathname:n?n.startsWith("/")?n:xA(n,e):e,search:CA(r),hash:IA(i)}}function xA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function H1(t,e){let n=TA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function W1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=is(t):(i=vo({},t),be(!i.pathname||!i.pathname.includes("?"),jc("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),jc("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),jc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),d-=1;i.pathname=m.join("/")}l=d>=0?e[d]:"/"}let u=SA(i,l),c=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const sr=t=>t.join("/").replace(/\/\/+/g,"/"),AA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const G1=["post","put","patch","delete"];new Set(G1);const kA=["get",...G1];new Set(kA);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_o.apply(this,arguments)}const Nf=D.createContext(null),RA=D.createContext(null),ri=D.createContext(null),_u=D.createContext(null),vr=D.createContext({outlet:null,matches:[],isDataRoute:!1}),K1=D.createContext(null);function NA(t,e){let{relative:n}=e===void 0?{}:e;Oo()||be(!1);let{basename:r,navigator:i}=D.useContext(ri),{hash:s,pathname:o,search:l}=Y1(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:sr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function Oo(){return D.useContext(_u)!=null}function Vo(){return Oo()||be(!1),D.useContext(_u).location}function Q1(t){D.useContext(ri).static||D.useLayoutEffect(t)}function Lo(){let{isDataRoute:t}=D.useContext(vr);return t?HA():bA()}function bA(){Oo()||be(!1);let t=D.useContext(Nf),{basename:e,future:n,navigator:r}=D.useContext(ri),{matches:i}=D.useContext(vr),{pathname:s}=Vo(),o=JSON.stringify(H1(i,n.v7_relativeSplatPath)),l=D.useRef(!1);return Q1(()=>{l.current=!0}),D.useCallback(function(c,p){if(p===void 0&&(p={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let d=W1(c,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:sr([e,d.pathname])),(p.replace?r.replace:r.push)(d,p.state,p)},[e,r,o,s,t])}function q1(){let{matches:t}=D.useContext(vr),e=t[t.length-1];return e?e.params:{}}function Y1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(ri),{matches:i}=D.useContext(vr),{pathname:s}=Vo(),o=JSON.stringify(H1(i,r.v7_relativeSplatPath));return D.useMemo(()=>W1(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function DA(t,e){return jA(t,e)}function jA(t,e,n,r){Oo()||be(!1);let{navigator:i}=D.useContext(ri),{matches:s}=D.useContext(vr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Vo(),p;if(e){var d;let N=typeof e=="string"?is(e):e;u==="/"||(d=N.pathname)!=null&&d.startsWith(u)||be(!1),p=N}else p=c;let m=p.pathname||"/",_=m;if(u!=="/"){let N=u.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=lA(t,{pathname:_}),I=$A(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:sr([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:sr([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return e&&I?D.createElement(_u.Provider,{value:{location:_o({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:qn.Pop}},I):I}function MA(){let t=zA(),e=PA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const OA=D.createElement(MA,null);class VA extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(vr.Provider,{value:this.props.routeContext},D.createElement(K1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LA(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(Nf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(vr.Provider,{value:e},r)}function $A(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);p>=0||be(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let d=o[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=p),d.route.id){let{loaderData:m,errors:_}=n,S=d.route.loader&&m[d.route.id]===void 0&&(!_||_[d.route.id]===void 0);if(d.route.lazy||S){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,d,m)=>{let _,S=!1,I=null,N=null;n&&(_=l&&d.route.id?l[d.route.id]:void 0,I=d.route.errorElement||OA,u&&(c<0&&m===0?(S=!0,N=null):c===m&&(S=!0,N=d.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),w=()=>{let C;return _?C=I:S?C=N:d.route.Component?C=D.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=p,D.createElement(LA,{match:d,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?D.createElement(VA,{location:n.location,revalidation:n.revalidation,component:I,error:_,children:w(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):w()},null)}var X1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(X1||{}),bl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bl||{});function FA(t){let e=D.useContext(Nf);return e||be(!1),e}function UA(t){let e=D.useContext(RA);return e||be(!1),e}function BA(t){let e=D.useContext(vr);return e||be(!1),e}function J1(t){let e=BA(),n=e.matches[e.matches.length-1];return n.route.id||be(!1),n.route.id}function zA(){var t;let e=D.useContext(K1),n=UA(bl.UseRouteError),r=J1(bl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function HA(){let{router:t}=FA(X1.UseNavigateStable),e=J1(bl.UseNavigateStable),n=D.useRef(!1);return Q1(()=>{n.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_o({fromRouteId:e},s)))},[t,e])}const Ug={};function WA(t,e){Ug[e]||(Ug[e]=!0,console.warn(e))}const Bg=(t,e,n)=>WA(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function GA(t,e){t!=null&&t.v7_startTransition||Bg("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Bg("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Nr(t){be(!1)}function KA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qn.Pop,navigator:s,static:o=!1,future:l}=t;Oo()&&be(!1);let u=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:u,navigator:s,static:o,future:_o({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=is(r));let{pathname:p="/",search:d="",hash:m="",state:_=null,key:S="default"}=r,I=D.useMemo(()=>{let N=Rf(p,u);return N==null?null:{location:{pathname:N,search:d,hash:m,state:_,key:S},navigationType:i}},[u,p,d,m,_,S,i]);return I==null?null:D.createElement(ri.Provider,{value:c},D.createElement(_u.Provider,{children:n,value:I}))}function QA(t){let{children:e,location:n}=t;return DA(sd(e),n)}new Promise(()=>{});function sd(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let s=[...e,i];if(r.type===D.Fragment){n.push.apply(n,sd(r.props.children,s));return}r.type!==Nr&&be(!1),!r.props.index||!r.props.children||be(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sd(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},od.apply(this,arguments)}function qA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XA(t,e){return t.button===0&&(!e||e==="_self")&&!YA(t)}const JA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZA="6";try{window.__reactRouterVersion=ZA}catch{}const eC="startTransition",zg=gE[eC];function tC(t){let{basename:e,children:n,future:r,window:i}=t,s=D.useRef();s.current==null&&(s.current=sA({window:i,v5Compat:!0}));let o=s.current,[l,u]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},p=D.useCallback(d=>{c&&zg?zg(()=>u(d)):u(d)},[u,c]);return D.useLayoutEffect(()=>o.listen(p),[o,p]),D.useEffect(()=>GA(r),[r]),D.createElement(KA,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const nC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wu=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:p,viewTransition:d}=e,m=qA(e,JA),{basename:_}=D.useContext(ri),S,I=!1;if(typeof c=="string"&&rC.test(c)&&(S=c,nC))try{let C=new URL(window.location.href),j=c.startsWith("//")?new URL(C.protocol+c):new URL(c),L=Rf(j.pathname,_);j.origin===C.origin&&L!=null?c=L+j.search+j.hash:I=!0}catch{}let N=NA(c,{relative:i}),T=iC(c,{replace:o,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:d});function w(C){r&&r(C),C.defaultPrevented||T(C)}return D.createElement("a",od({},m,{href:S||N,onClick:I||s?r:w,ref:n,target:u}))});var Hg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hg||(Hg={}));var Wg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wg||(Wg={}));function iC(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=Lo(),c=Vo(),p=Y1(t,{relative:o});return D.useCallback(d=>{if(XA(d,n)){d.preventDefault();let m=r!==void 0?r:Nl(c)===Nl(p);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[c,u,p,r,i,n,t,s,o,l])}function Mc({title:t,path:e}){let n=Lo();const r=Vo();function i(l){n(l)}const s=r.pathname===e;let o="cursor-pointer hover:text-blue-300";return s&&(o+=" text-blue-800 dark:text-blue-300",o+=" underline underline-offset-8 decoration-2"),g.jsx("div",{className:o,onClick:()=>i(e),children:t})}function sC(){return g.jsxs("div",{className:"flex flex-row justify-between p-4 pr-6",children:[g.jsx("div",{className:"mr-6",children:"expenses"}),g.jsxs("div",{id:"nav-bar",className:"flex flex-row gap-5",children:[g.jsx(Mc,{title:"Expenses",path:Ke.root}),g.jsx(Mc,{title:"Accounts",path:Ke.paymentAccounts}),g.jsx(Mc,{title:"Settings",path:Ke.settings}),g.jsx(ZS,{})]})]})}const oC=["expenses","groceries","eatout","social","ocio","drinks","invite","transport","health","present","home"],aC="expenses-form",lC=2;function wo(){return new Date(new Date().setMilliseconds(0))}const uC="sv-SE",cC=new Intl.DateTimeFormat(uC,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format;function hC(t){const e=t.getTimezoneOffset(),n=e<=0?"+":"-",r=e%60,i=(e-r)/60,s=o=>String(Math.abs(o)).padStart(2,"0");return`${n}${s(i)}:${s(r)}`}function bf(t){const e=cC(t),n=hC(t);return`${e} ${n}`}function Df(t){return bf(t).replace(" ","T").replace(" ","")}function dC(t){return new Date(Date.parse(t))}function Gg({checked:t,label:e,onChange:n}){function r(s){n(s.target.checked)}const i=e.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","");return g.jsxs("label",{htmlFor:i,className:"relative inline-flex flex-row flex-nowrap justify-start items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",id:i,checked:t,onChange:r,className:"hidden peer"}),g.jsx("div",{role:"checkbox-icon-box",className:"w-5 h-5 rounded-sm border-2     border-gray-300       peer-checked:border-blue-500         dark:border-gray-600  dark:peer-checked:border-blue-600              bg-gray-100           peer-checked:bg-blue-500         dark:bg-gray-700      dark:peer-checked:bg-blue-700 transition-all",children:t&&g.jsx("svg",{role:"checkbox-icon-check",className:"w-4 h-4 absolute left-2.5 top-1/2 transform -translate-x-1/2 -translate-y-1/2      stroke-gray-100 dark:stroke-blue-200",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})}),g.jsx("div",{role:"checkbox-label",className:"p-2 text-sm ",children:e})]})}class En{constructor(e,n){W(this,"key");W(this,"type");this.key=e,this.type=n}exists(){return!!window.localStorage.getItem(this.key)}read(){const e=window.localStorage.getItem(this.key);if(e!==null)switch(this.type){case"string":return e;case"number":return Number(e);case"object":return JSON.parse(e);default:throw new Error(`Type ${this.type} is not supported yet`)}}set(e){this.assertType(e);let n="";switch(this.type){case"string":n=e;break;case"number":n=e.toString();break;case"object":n=JSON.stringify(e);break;default:throw new Error(`Type ${this.type} is not supported yet`)}window.localStorage.setItem(this.key,n)}delete(){this.exists()&&window.localStorage.removeItem(this.key)}assertType(e){const n=typeof e,r=this.type;if(n!==r)throw new Error(`Expected ${r}, got ${n} instead`)}}class Z1{constructor(){W(this,"splitwiseApiToken");W(this,"tripTags");W(this,"people");W(this,"expenses");W(this,"paymentAccounts");W(this,"defaultPaymentAccountId");W(this,"firestoreConfig");W(this,"currencies");W(this,"shortcuts");this.splitwiseApiToken=new En("exp_splitwise_api_token","string"),this.tripTags=new En("exp__trip_tags","object"),this.people=new En("exp__people","object"),this.expenses=new En("exp__expenses","object"),this.paymentAccounts=new En("exp__payment_accounts","object"),this.defaultPaymentAccountId=new En("exp__default_payment_account_id","string"),this.firestoreConfig=new En("exp__firestore_config","object"),this.currencies=new En("exp__currencies","string"),this.shortcuts=new En("exp__shortcuts","object")}}const vt=new Z1;function fC(t,e){return new Set([...t,...e])}function pC(t,e){const n=new Set;if(t===void 0||e===void 0)return n;for(const r of t)e.has(r)&&n.add(r);return n}function mC({a:t,b:e}){const n=new Set,r=new Set([...e]);for(const i of t)e.has(i)?r.delete(i):n.add(i);return{inAButNotInB:n,inBButNotInA:r}}const Ir="";function e_({id:t,value:e,placeholder:n,choices:r,onChange:i,allowChoiceCreation:s,className:o}){const l=s===void 0?!0:s,[u,c]=D.useState(Ir),[p,d]=D.useState(!1),m=r.filter(P=>!e.includes(P)),_=m.filter(P=>P.toLowerCase().includes(u.toLowerCase())),S=Ca({chosen:e,notChosen:m,toChoose:_,all:r}),I=D.useRef(null);let N="relative text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 p-3 has-[input:focus]:border-t  border-t-blue-300  dark:has-[input:focus]:border-t-blue-300 has-[input:focus]:border-l  border-l-blue-300  dark:has-[input:focus]:border-l-blue-300 has-[input:focus]:border-r  border-r-blue-300  dark:has-[input:focus]:border-r-blue-300 group rounded has-[input:focus]:rounded-b-none appearance-none leading-tight";o&&(N+=` ${o}`);const T=" text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";function w(){d(!0)}function C(){d(!1)}D.useEffect(()=>{function P(R){R.composedPath().includes(I.current)||C()}document.addEventListener("mousedown",P)},[]);function j(P){c(P)}function L(){const P=gC({choice:u,state:S});Ca(P),i([...P.chosen]),c(Ir)}function V(P){const R=yC({choice:P,state:S});Ca(R),i([...R.chosen]),c(Ir)}function E(P){const R=vC({choice:P,state:S});Ca(R),i([...R.chosen]),c(Ir)}const A=![Ir,void 0].includes(u)&&_.length===0,x=e.length>0?void 0:n;return g.jsxs("div",{ref:I,className:N,role:"multi-choice-dropdown",onFocus:w,children:[g.jsxs("div",{className:"flex flex-row flex-wrap gap-2 overflow-x-hidden",role:"listbox-selected",children:[e.map((P,R)=>g.jsxs("div",{role:"choice",onClick:()=>E(P),className:"px-3 py-2 rounded text-gray-800 dark:text-gray-800   bg-gray-300   dark:bg-gray-400 cursor-pointer",children:[P,"  "]},`${R}-${P}`)),g.jsx("input",{id:t,type:"search",className:T,value:u===void 0?Ir:u,placeholder:x===void 0?Ir:x,onChange:P=>j(P.target.value)})]}),p&&g.jsxs("div",{role:"listbox-selectable",className:"absolute top-full inset-x-0 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 group-focus-within:border-l  group-focus-within:border-l-blue-300  dark:group-focus-within:border-l-blue-300 group-focus-within:border-b  group-focus-within:border-b-blue-300  dark:group-focus-within:border-b-blue-300 group-focus-within:border-r  group-focus-within:border-r-blue-300  dark:group-focus-within:border-r-blue-300 rounded-b -m-px z-10 dark:z-10",children:[A?l?g.jsxs("div",{role:"create-choice",onClick:L,className:"px-3 py-3 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:["Add  ",g.jsx("b",{children:u})]}):g.jsx("div",{role:"choices-not-found",className:"px-3 py-3 text-gray-800  dark:text-gray-200    bg-red-200     dark:bg-red-500",children:"Not found"}):null,m.filter(P=>P.toLowerCase().includes(u.toLowerCase())).map((P,R)=>g.jsx("div",{role:"choice",onClick:()=>V(P),className:"py-3 px-5 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:P},`${R}-${P}`))]})]})}function Ca(t){const e=new Set(t.chosen),n=new Set(t.notChosen),r=new Set(t.all),i=pC(e,n);if(i.size>0)throw $e("invalid state: a choice must only appear in either 'chosen' or 'notChosen' collections, but the following choices appear in both: "+[...i].map(u=>`'${u}'`).sort().join(", "));const s=[],{inAButNotInB:o,inBButNotInA:l}=mC({a:r,b:fC(e,n)});if(o.size>0&&s.push("every choice in the 'all' collection must appear in either 'chosen' or, 'notChosen' collections but these do not: "+[...o].map(u=>`'${u}'`).sort().join(", ")),l.size>0&&s.push("every choice in the 'chosen' and 'notChosen' collections must appear in the 'all' collection, but these do not: "+[...l].map(u=>`'${u}'`).sort().join(", ")),s.length>0)throw $e(`invalid state:
${s.join(`

`)}`);return t}function gC({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:[...e.chosen,t],notChosen:e.notChosen.filter(n=>n!==t),all:[...e.all,t]}}function yC({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:[...e.chosen,t],notChosen:e.notChosen.filter(n=>n!==t),all:[...e.all]}}function vC({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:e.chosen.filter(n=>n!==t),notChosen:[...e.notChosen,t],all:[...e.all]}}function At({id:t,value:e,placeholder:n,onChange:r,className:i,isCode:s}){let o="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";i&&(o+=` ${i}`),s&&(o+=" font-mono");function l(u){let c=u.target.value;c===""&&(c=void 0),r(c)}return g.jsx("input",{id:t,className:o,value:e===void 0?"":e,placeholder:n===void 0?"":n,onChange:l})}var jn=(t=>(t[t.KeepOrder=-1]="KeepOrder",t[t.SwapOrder=1]="SwapOrder",t))(jn||{});let _C=t=>crypto.getRandomValues(new Uint8Array(t)),wC=(t,e,n)=>{let r=(2<<Math.log2(t.length-1))-1,i=-~(1.6*r*e/t.length);return(s=e)=>{let o="";for(;;){let l=n(i),u=i;for(;u--;)if(o+=t[l[u]&r]||"",o.length===s)return o}}},EC=(t,e=21)=>wC(t,e,_C);function SC(){return EC("1234567890abcdef",10)()}function t_(t){return`${t}_${SC()}`}var n_=(t=>(t.local="local",t.pushed="pushed",t.changedSincePushed="changedSincePushed",t))(n_||{});class jf{constructor(){W(this,"change$");W(this,"changeSubject");W(this,"expenses");this.changeSubject=new ei,this.change$=this.changeSubject.asObservable(),this.expenses=new Map}add(e){console.debug("ExpenseManager.add::newExpense:",e);const n=this.generateId(),i={expense:{id:n,...e},status:"local",readyToPublish:!1};this.expenses.set(n,i),this.changeSubject.next({kind:"ExpenseAdded",expenseId:n})}get(e){const n=this.expenses.get(e);if(n===void 0)throw new Error(`Expected a ${e} Expense ID in ${jf.name}, but not found`);return n}getAll(){console.debug("ExpenseManager.getAll()");const e=[];for(const n of this.expenses.values())e.push(n);return e.sort((n,r)=>n.expense.datetime<r.expense.datetime?jn.SwapOrder:jn.KeepOrder)}update(e){console.debug("ExpenseManager.update::expense:",e);const{id:n}=e,r=this.expenses.get(n);if(r===void 0)throw new Error(`Expected an Expense with ID ${n}, but none found.`);const i={...r,expense:e,readyToPublish:xC(e)};this.expenses.set(n,i),this.changeSubject.next({kind:"ExpenseUpdated",expenseId:n})}delete(e){console.debug(`ExpenseManager.delete::id=${e}`),this.expenses.delete(e),this.changeSubject.next({kind:"ExpenseDeleted",expenseId:e})}initialize({appExpenses:e}){console.debug("ExpenseManager.initialize::Starting initialization...");const n=new Set;e.forEach(r=>{const i=r.expense.id;if(n.has(i))throw new Error(`IDs must be unique, and ${i} is repeated`);n.add(i),this.expenses.set(i,r)}),console.debug("ExpenseManager.initialize::Run to completion")}generateId(){return t_("exp")}}function xC(t){return t.amount!==void 0}function TC(t){function e(i){return i.expense.datetime.slice(0,10)}const n=new Map;for(const i of t){const s=e(i),o=n.get(s)||[];n.set(s,[...o,i])}return[...n.keys()].sort().reverse().map(i=>[i,n.get(i)])}const AC=new Set("abcdefghijklmnopqrstuvwxyz0123456789".split(""));function CC(t){const e="",n=" ";function r(d){return d.replaceAll("&","And")}function i(d){return AC.has(d.toLowerCase())===!1}function s(d){return i(d)?n:d}function o(d){return d.split(e).map((m,_)=>_===0?m.toUpperCase():m.toLowerCase()).join(e)}function l(d){return r(d).split(e).map(s).join(e).split(n).map(o).join(e)}const c=t.includes(" via ")?t.split(" via "):[t];if(c.length===0)throw $e("expected 1 or 2 chunks, but got 0");const p=c.map(l);switch(p.length){case 1:return{ok:!0,seller:p[0]};case 2:const[d,m]=p;return{ok:!0,seller:`${d} (via @${m})`};default:throw $e(`expected 1 or 2 chunks, but got ${p.length}`)}}function IC({descriptionSeller:t,onAcceptance:e}){if(t===void 0)return null;const n=CC(t);if(n.ok===!1)return g.jsxs("div",{children:["ERROR when computing seller suggestion: ",n.error]});if(n.seller===t)return null;const r=n.seller;return g.jsxs("div",{className:"m-3 flex flex-col flex-wrap gap-y-3",children:[g.jsx("div",{className:"opacity-70",children:"seller format suggestion:"}),g.jsx("div",{children:r}),g.jsx("div",{children:g.jsx(X,{text:"Apply suggestion",onClick:()=>e(r)})})]})}function PC({name:t,selected:e,onClick:n}){const r=i=>{i.preventDefault(),n()};return g.jsx(X,{text:t,active:e,onClick:r})}const kC=Lt.div`
  display: flex;
  flex-flow: row wrap;
  justify-content: flex-start;
  align-items: stretch;
  align-content: flex-start;
  row-gap: 0.5rem;
  column-gap: 0.5rem;
`;function RC({tags:t,selected:e,onChange:n}){function r(i){const s=new Set([...e.values()]);e.has(i)?s.delete(i):s.add(i),n(s)}return g.jsx(kC,{children:t.map((i,s)=>g.jsx(PC,{name:i,selected:e.has(i),onClick:()=>r(i)},`${i}-${s}`))})}function Dr({main:t,people:e,seller:n,tags:r}){const i=[];if(t&&i.push(t),e&&e.length>0){const s=e.map(o=>`@${o}`);i.push(`with ${s.join(",")}`)}if(n&&i.push(`at @${n}`),r.length>0){const s=r.map(o=>`#${o}`).join(" ");i.push(s)}return i.join(" ")}function Eu({raw:t}){let e=t,n,r,i=[],s,o=[];return e.startsWith("#")?(i=e.split("#").map(u=>u.trim()).filter(u=>u!==""),{main:r,people:o,seller:n,tags:i}):([e,...i]=e.split(" #"),e.startsWith("at @")?(n=e.replace("at @","").trim(),{main:r,people:o,seller:n,tags:i}):([e,n]=e.split(" at @"),e.startsWith("with @")?(o=e.replace("with @","").split(",@"),{main:r,people:o,seller:n,tags:i}):([e,s]=e.split(" with @"),s&&(o=s.split(",@")),e.trim()!==""&&(r=e),{main:r,people:o,seller:n,tags:i})))}const NC=vt.tripTags.read()||[],bC=DC([oC,NC]);function DC(t){const e=new Set([]),n=[];for(const r of t.flatMap(i=>i))e.has(r)||(e.add(r),n.push(r));return n}function Mf({description:t,peopleInSettings:e,onChange:n}){const r=Eu({raw:t}),[i,s]=D.useState([]),o=jC({inSettings:e,addedByUser:i,inExpense:r.people});function l(m){n(Dr({...r,main:m}))}function u(m){n(Dr({...r,seller:m}))}function c(m){const _=m;if(!_)return;const S=new Set(o),I=_.filter(T=>!S.has(T));I.length>0&&s([...i,...I]);const N=_.sort();n(Dr({...r,people:N}))}function p(m){const _=[...m.values()];n(Dr({...r,tags:_}))}function d(m){n(Dr({...r,seller:m}))}return g.jsxs("div",{role:"description-form",className:"mb-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[g.jsx(At,{value:r.main,placeholder:"description",className:"col-start-1 col-span-2",onChange:l}),g.jsx(At,{value:r.seller,placeholder:"seller",className:"col-start-1 col-span-1",onChange:u}),g.jsx(e_,{placeholder:"people",value:r.people,choices:o,onChange:c,allowChoiceCreation:!0})]}),r.seller&&g.jsx(IC,{descriptionSeller:r.seller,onAcceptance:d}),g.jsx(RC,{tags:bC,selected:new Set(r.tags),onChange:p})]})}function jC({inSettings:t,addedByUser:e,inExpense:n}){return[...new Set([...t,...e,...n]).values()].sort()}const MC=void 0,OC=20,qr=Intl.NumberFormat(MC,{maximumFractionDigits:OC}),r_=123456789e-2,VC=qr.formatToParts(r_).filter(t=>t.type==="group")[0].value,Dl=qr.formatToParts(r_).filter(t=>t.type==="decimal")[0].value,Kg="-";function LC(t){if(t==="")return{isNumber:!1};const e=t.replaceAll(VC,""),n=Number(e);return isNaN(n)?{isNumber:!1}:{isNumber:!0,value:n}}function Ws({value:t,placeholder:e,onChange:n,className:r}){function i(c){return c===void 0?void 0:qr.format(c)}const[s,o]=D.useState(i(t));let l="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";r&&(l+=` ${r}`),D.useEffect(()=>{o(i(t))},[t]);function u(c){if(c===""||c===void 0||c===null){o(void 0),n(void 0);return}if(c===Dl){o("0."),n(0);return}if(c===Kg){o("-"),n(void 0);return}if(c===`${Kg}${Dl}`){o("-0."),n(0);return}const p=LC(c);if(!p.isNumber){n(t);return}if(s===void 0){o(c),n(p.value);return}if(c.endsWith("."))if(Qg(c)===1){const S=s.length<c.length,I=c.length<s.length;if(S){o(`${s}.`),n(p.value);return}else if(I){o(c),n(p.value);return}else throw $e()}else if(Qg(c)>1){console.debug(">> NumericInput.handleChange::the user typed a second decimal delimiter, which is not supported");return}else throw $e();const d=$C(c),m="0".repeat(d);let _=qr.format(p.value);d>0&&(_.includes(".")===!1&&(_=`${_}.`),_=`${_}${m}`),o(_),n(p.value)}return g.jsx("input",{type:"text",inputMode:"decimal",className:l,value:s===void 0?"":s,placeholder:e===void 0?"":e,onChange:c=>u(c.target.value)})}function Qg(t){return t.split("").reduce((n,r)=>r===Dl?n+1:n,0)}function $C(t){if(t.length===0)return 0;const[e,n]=t.split(Dl);if(n===void 0)return 0;const r=n.split("").reverse();let i=0;for(const s of r){if(s!=="0")return i;i++}return i}class Su{constructor({expenseManager:e}){W(this,"change$");W(this,"accounts");W(this,"changeSubject");W(this,"defaultAccountId");W(this,"expensesPerAccount");W(this,"expenseManager");this.expenseManager=e,this.accounts=new Map,this.expensesPerAccount=new Map,this.changeSubject=new ei,this.change$=this.changeSubject.asObservable(),this.defaultAccountId=void 0,this.change$.subscribe(n=>console.debug(`${Su.name}.change$:`,n)),this.expenseManager.change$.subscribe(n=>{switch(n.kind){case"ExpenseAdded":return this.updateAccountToExpenseIndex();case"ExpenseUpdated":return this.updateAccountToExpenseIndex();case"ExpenseDeleted":return this.updateAccountToExpenseIndex();default:throw new Error(`PaymentAccountsManager: unsupported change: ${n}`)}})}initialize({accounts:e,defaultAccountId:n}){console.debug("PaymentAccountsManager.initialize::started"),console.debug("PaymentAccountsManager.initialize::defaultAccountId",n);for(const r of e){const{id:i}=r;if(this.accounts.has(i))throw new Error(`PaymentAccountsManager.initialize::same PaymentAccountId found at least twice: ${i}`);this.accounts.set(i,r)}if(n&&this.accounts.has(n)===!1)throw new Error(`PaymentAccountsManager.initialize::no account ID matches the defaultAccountId='${n}'`);this.updateAccountToExpenseIndex(),this.defaultAccountId=n,this.changeSubject.next({kind:"PaymentAccountManagerInitialized"})}get({id:e}){return this.accounts.get(e)}setDefault({id:e}){if(this.accounts.has(e)===!1)throw new Error(`PaymentAccountsManager.setDefault::'${e}' must match an existing Payment Account ID`);this.defaultAccountId=e,this.changeSubject.next({kind:"DefaultPaymentAccountSet",id:e})}getDefault(){if(this.accounts.size!==0){if(this.accounts.size===1)return[...this.accounts.values()][0];if(this.defaultAccountId!==void 0)return this.accounts.get(this.defaultAccountId)}}getAll(){return[...this.accounts.values()].sort(qg)}getAllVisible(){return[...this.accounts.values()].filter(e=>e.isVisible).sort(qg)}add({draft:e}){const n=this.generatePaymentAccountId(),r={id:n,...e};this.accounts.set(n,r),this.changeSubject.next({kind:"PaymentAccountAdded",id:n})}update({account:e}){const{id:n}=e;return this.accounts.has(n)===!1?{ok:!1,reason:`cannot update account because it does not exist, id=${n}`}:e.isVisible===!1&&this.isAccountUsedByExpense(n)?{ok:!1,reason:"cannot save account as hidden because it is used by at least one expense"}:(this.accounts.set(n,e),this.changeSubject.next({kind:"PaymentAccountUpdated",id:n}),{ok:!0})}delete({id:e}){return this.accounts.has(e)===!1?{ok:!1,reason:`cannot delete account because it does not exist, id=${e}`}:this.isAccountUsedByExpense(e)?{ok:!1,reason:"cannot delete account because it is used by at least one expense"}:(this.accounts.delete(e),this.changeSubject.next({kind:"PaymentAccountDeleted",id:e}),{ok:!0})}generatePaymentAccountId(){for(;;){const e=t_("pay");if(this.accounts.has(e)===!1)return e}}updateAccountToExpenseIndex(){const e=new Map;for(const n of this.expenseManager.getAll()){const r=n.expense,i=r.paid_with,s=e.get(i);s===void 0?e.set(i,[r.id]):e.set(i,[...s,r.id])}this.expensesPerAccount=e}isAccountUsedByExpense(e){return this.expensesPerAccount.has(e)}}function qg(t,e){return t.name<=e.name?jn.KeepOrder:jn.SwapOrder}function Ue({htmlFor:t,text:e,children:n}){return g.jsxs("label",{className:"text-gray-600  dark:text-gray-400",htmlFor:t,children:[e,n]})}const Yg={id:"empty-option",label:""};function or({id:t,selected:e,options:n,onSelect:r,className:i,disabled:s}){let o="relative";i&&(o+=` ${i}`);let l="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-100   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none cursor-pointer leading-tight focus:outline-none focus:shadow-outline";s&&(l+=" cursor-not-allowed opacity-20 dark:opacity-50");const u=new Map([]),c=new Map([]);for(const{id:_,label:S}of n)u.set(S,_),c.set(_,S);function p(_){const S=_.currentTarget.value,I=u.get(S);if(I===void 0){console.error("BUG: selected `<option>` has an unexpected `value`:",S);return}r(I)}let d,m=[...n];return e===void 0?(d=Yg.label,m=[Yg,...n]):d=c.get(e),g.jsxs("div",{id:t,className:o,role:"select",children:[g.jsx("select",{value:d,className:l,disabled:s,onChange:p,children:m.map(({id:_,label:S})=>g.jsx("option",{value:S,children:S},_))}),!s&&g.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",role:"fold-unfold-icon",children:g.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-1",fill:"currentColor",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 10l5 5 5-5H7z"})})})]})}function i_({paidWith:t,app:e,onChange:n}){const[r,i]=D.useState(t),[s,o]=D.useState([]);D.useEffect(()=>{const c=e.paymentAccountsManager.change$.subscribe(p=>{o(e.paymentAccountsManager.getAllVisible())});return o(e.paymentAccountsManager.getAllVisible()),()=>{c.unsubscribe()}},[e]);function l(c){const p=e.paymentAccountsManager.get({id:c});if(p===void 0){Zs.add({header:`UNEXPECTED ERROR: no account found with ID ${c}`,description:`When handling account selection in ${i_.name} component, the ID ${c} was picked by the UI but no payment account found with that ID in ${Su.name}`});return}i(c),n(p)}if(s.length===0)return g.jsx("div",{children:"loading accounts..."});const u=s.map(c=>({id:c.id,label:c.name}));return g.jsx("div",{children:g.jsx(Ue,{htmlFor:"paid-with",text:"Paid with:",children:g.jsx(or,{id:"paid-with",selected:r,options:u,onSelect:l})})})}class FC extends Error{constructor(e){super(e),this.name="InvalidDate"}}const ad=1e3,jl=60*ad,ld=60*jl,Gs=24*ld,Xg=6;class _e{constructor({year:e,month:n,day:r,hour:i,minute:s,second:o,ms:l}){W(this,"year");W(this,"month");W(this,"day");W(this,"hour");W(this,"minute");W(this,"second");W(this,"ms");W(this,"nativeDate");const u=Oc(n),c=i||0,p=s||0,d=o||0,m=l||0,_=new Date(e,u,r,c,p,d,m);if(_.getDate()!==r||Pr({value:n,start:1,end:12})||Pr({value:r,start:1,end:31})||Pr({value:c,start:0,end:23})||Pr({value:c,start:0,end:23})||Pr({value:p,start:0,end:59})||Pr({value:d,start:0,end:59})||Pr({value:m,start:0,end:999})){const S=n.toString().padStart(2,"0"),I=r.toString().padStart(2,"0"),N=c.toString().padStart(2,"0"),T=p.toString().padStart(2,"0"),w=d.toString().padStart(2,"0"),C=m.toString().padStart(3,"0");let j=`${e}-${S}-${I} ${N}:${T}:${w}.${C}`;throw new FC(`${j} is not a valid date`)}this.year=e,this.month=n,this.day=r,this.hour=c,this.minute=p,this.second=d,this.ms=m,this.nativeDate=_}static fromNative(e){const n=e.getFullYear(),r=UC(e.getMonth()),i=e.getDate(),s=e.getHours(),o=e.getMinutes(),l=e.getSeconds(),u=e.getMilliseconds();return new _e({year:n,month:r,day:i,hour:s,minute:o,second:l,ms:u})}weekday(){return BC(this.nativeDate.getDay())}toISODate(){return`${this.year}-${this.toISOMonthString()}-${this.toISODayString()}`}toNative(){return this.nativeDate}setYear(e){return new _e({year:e,month:this.month,day:this.day})}setMonth(e){return new _e({year:this.year,month:e,day:this.day})}minusNMonths(e){const n=Math.floor(e/12),r=e%12;let i=this.year-n,s=this.month-r;s<1&&(i=i-1,s=s+12);const o=Oc(s);return new Date(Date.UTC(i,o,this.day)).getUTCDate()!==this.day?this.minusNDays(1).minusNMonths(e):new _e({year:i,month:s,day:this.day})}minusNDays(e){const n=new Date(this.nativeDate.getTime()-e*Gs);return _e.fromNative(n)}minusNHours(e){const n=new Date(this.nativeDate.getTime()-e*ld);return _e.fromNative(n)}minusNMinutes(e){const n=new Date(this.nativeDate.getTime()-e*jl);return _e.fromNative(n)}minusNSeconds(e){const n=new Date(this.nativeDate.getTime()-e*ad);return _e.fromNative(n)}plusNMonths(e){const n=Math.floor(e/12),r=e%12;let i=this.year+n,s=this.month+r;s>12&&(i=i+1,s=s-12);const o=Oc(s);return new Date(Date.UTC(i,o,this.day)).getUTCDate()!==this.day?this.minusNDays(1).plusNMonths(e):new _e({year:i,month:s,day:this.day})}plusNDays(e){const n=new Date(this.nativeDate.getTime()+e*Gs);return _e.fromNative(n)}plusNHours(e){const n=new Date(this.nativeDate.getTime()+e*ld);return _e.fromNative(n)}plusNMinutes(e){const n=new Date(this.nativeDate.getTime()+e*jl);return _e.fromNative(n)}plusNSeconds(e){const n=new Date(this.nativeDate.getTime()+e*ad);return _e.fromNative(n)}isEqualTo(e){return this.year===e.year&&this.month===e.month&&this.day===e.day}toISOMonthString(){return this.month.toString().padStart(2,"0")}toISODayString(){return this.day.toString().padStart(2,"0")}}function Oc(t){return t-1}function UC(t){return t+1}function BC(t){let e=t-1;return e<0&&(e=e+7),e}function zC({year:t,month:e}){const n=[new _e({year:t,month:e,day:1})];for(;;){const r=n.at(-1);if(r===void 0)throw $e();try{n.push(new _e({year:t,month:e,day:r.day+1}))}catch{break}}return n}function Pr({value:t,start:e,end:n}){return t<e||n<t}function HC({of:t,withTimeFrom:e}){const n=t.getTimezoneOffset()*jl,r=Math.floor((t.getTime()-n)/Gs)*Gs,i=e.getTime()%Gs,s=r+i;return new Date(s)}function WC({value:t,defaultValue:e,onChange:n}){const[r,i]=D.useState(e);function s(p){const m=HC({of:p,withTimeFrom:t});n(m),i(t)}function o(){const p=_e.fromNative(t).minusNMonths(1).toNative();s(p)}function l(){const p=_e.fromNative(t).plusNMonths(1).toNative();s(p)}const u="flex flex-row items-center justify-center gap-3 h-14 ",c="w-3 text-xl text-bold cursor-pointer";return g.jsxs("div",{className:"flex flex-col w-80",children:[g.jsxs("div",{className:u,role:"month-and-year-picker",children:[g.jsx("div",{role:"go-to-previous-month",className:c,onClick:()=>o(),children:"<"}),g.jsx(GC,{value:t,onChange:s,className:"w-24"}),g.jsx(KC,{value:t,onChange:s,className:"w-32"}),g.jsx("div",{role:"go-to-next-month",className:c,onClick:()=>l(),children:">"})]}),g.jsx(QC,{value:t,previousValue:r,onChange:s})]})}function GC({value:t,onChange:e,className:n}){const r=qC({reference:t.getFullYear()}),i=`${t.getFullYear()}`,s=r.map(l=>l.toString()).map(l=>({id:l,label:l}));function o(l){const u=s.filter(d=>d.id===l)[0],c=Number(u.label),p=_e.fromNative(t).setYear(c).toNative();e(p)}return g.jsx("div",{className:n,role:"year-picker",children:g.jsx(or,{selected:i,options:s,onSelect:o})})}const Jg=new Map([["January",1],["February",2],["March",3],["April",4],["May",5],["June",6],["July",7],["August",8],["September",9],["October",10],["November",11],["December",12]]);function KC({value:t,onChange:e,className:n}){const r=t.toLocaleString("default",{month:"long"}),i=[...Jg.keys()].map(o=>({id:o,label:o}));function s(o){const l=Jg.get(o);if(l===void 0)throw $e(`failed to map '${o}' to a month`);const u=_e.fromNative(t).setMonth(l).toNative();e(u)}return g.jsx("div",{className:n,role:"month-picker",children:g.jsx(or,{selected:r,options:i,onSelect:s})})}function QC({value:t,previousValue:e,onChange:n}){const r="p-1",i="grid grid-cols-7",s=_e.fromNative(t),o=_e.fromNative(e),l=zC({year:s.year,month:s.month}),u=[{text:"Mo"},{text:"Tu"},{text:"We"},{text:"Th"},{text:"Fr"},{text:"Sa"},{text:"Su"}],c=l[0],p=c.weekday(),d=[];for(let I=p;I>0;I--){const N=c.minusNDays(I);d.push(N)}const m=l[l.length-1],_=m.weekday(),S=[];if(_<Xg){const I=Xg-m.weekday();for(let N=1;N<=I;N++){const T=m.plusNDays(N);S.push(T)}}return g.jsx("div",{className:r,children:g.jsxs("div",{className:i,children:[u.map(I=>g.jsx(Ia,{text:I.text,selected:!1,wasPreviousSelection:!1,grayedOut:!0,onSelect:void 0},I.text)),d.map(I=>g.jsx(Ia,{text:I.day.toString(),selected:!1,wasPreviousSelection:I.isEqualTo(o),grayedOut:!0,onSelect:()=>{n(I.toNative())}},`prev-month-${I.day.toString()}`)),l.map(I=>g.jsx(Ia,{text:I.day.toString(),selected:I.isEqualTo(s),wasPreviousSelection:I.isEqualTo(o),grayedOut:!1,onSelect:()=>{n(I.toNative())}},`this-month-${I.day.toString()}`)),S.map(I=>g.jsx(Ia,{text:I.day.toString(),selected:!1,wasPreviousSelection:I.isEqualTo(o),grayedOut:!0,onSelect:()=>{n(I.toNative())}},`next-month-${I.day.toString()}`))]})})}function Ia({text:t,selected:e,wasPreviousSelection:n,grayedOut:r,onSelect:i}){let s="w-12 p-2 text-xl rounded flex items-center justify-center cursor-pointer",o=" opacity-50",l=" border-2 border-gray-500 border-opacity-30";return e?(s+=" text-white  bg-blue-600  dark:bg-blue-800",s+=" z-10"):n&&r?(s+=l,s+=o):n&&!r?s+=l:r&&(s+=o),g.jsx("div",{className:s,onClick:i?()=>i():void 0,children:t})}function qC({reference:t}){const e=[];for(let i=1;i<10;i++)e.push(t-i);e.push(t);const r=10;for(let i=1;i<r;i++)e.push(t+i);return e.sort()}function YC({value:t,onChange:e}){const n=_e.fromNative(t);function r(){e(n.plusNHours(1).toNative())}function i(){e(n.minusNHours(1).toNative())}function s(){e(n.plusNMinutes(1).toNative())}function o(){e(n.minusNMinutes(1).toNative())}function l(){e(n.plusNSeconds(1).toNative())}function u(){e(n.minusNSeconds(1).toNative())}return g.jsxs("div",{className:"flex flex-row gap-8",children:[g.jsx(Vc,{value:n.hour,onIncrement:r,onDecrement:i}),g.jsx(Vc,{value:n.minute,onIncrement:s,onDecrement:o}),g.jsx(Vc,{value:n.second,onIncrement:l,onDecrement:u})]})}function Vc({value:t,onIncrement:e,onDecrement:n}){return g.jsxs("div",{className:"flex flex-row gap-2 text-xl",children:[g.jsx("div",{role:"increase",className:"cursor-pointer",onClick:e,children:"+"}),g.jsx("div",{role:"value",children:t.toString().padStart(2,"0")}),g.jsx("div",{role:"decrease",className:"cursor-pointer",onClick:n,children:"-"})]})}function XC({children:t,className:e,isOpen:n,onClickOutside:r}){let i="z-10",s="z-10 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none";return e&&(s+=` ${e}`),g.jsxs(g.Fragment,{children:[g.jsx(JC,{onClick:r,isVisible:n,className:i}),g.jsx("dialog",{className:s,open:n,children:t})]})}function JC({isVisible:t,onClick:e,className:n}){let r="absolute top-0  left-0  right-0  bottom-0 bg-gray-900 opacity-60";return t?r+="":r+=" hidden",n&&(r+=` ${n}`),g.jsx("div",{className:r,role:"dialog-backdrop",onClick:e})}const ZC=Lt.span`
  opacity: 0.6;
  margin-left: 1rem;
`;function Zg({date:t}){const[e,n]=D.useState(0);D.useEffect(()=>{const d=setInterval(()=>{n(m=>{const _=wo().getTime()-t.getTime();return Math.round(_/1e3)})},100);return()=>clearInterval(d)},[t]);const r=bf(t),[i,s,o]=r.split(" "),l=e%60,u=(e-l)/60,c=[];u>0&&c.push(`${u}m`),c.push(`${l}s`);const p=c.join(" ");return g.jsxs("span",{children:[i," ",g.jsx("b",{children:s})," ",o,g.jsx(ZC,{children:p})]})}function eI({defaultDate:t,date:e,onChange:n}){const[r,i]=D.useState(!1),s="flex flex-row flex-nowrap justify-between";return g.jsxs("div",{className:"m-1",children:[g.jsx("div",{className:s,children:g.jsx(XC,{className:"p-4 rounded-lg",isOpen:r,onClickOutside:()=>i(!1),children:g.jsxs("div",{className:"flex flex-col gap-8 justify-center align-center",children:[g.jsx(WC,{value:e,defaultValue:t,onChange:n}),g.jsx(YC,{value:e,onChange:n}),g.jsx(Zg,{date:e})]})})}),g.jsxs("div",{className:s,children:[g.jsx(Zg,{date:e}),g.jsx(X,{text:r?"Close":"Edit time",disabled:r,onClick:()=>i(!r)})]})]})}function tI({data:t,select:e}){function n(r,i){r.preventDefault(),e(i)}return g.jsx("div",{className:"flex flex-row flex-wrap my-2 mb-2 gap-2",children:t.length===0?g.jsxs("div",{children:["No shortcuts found. You can add them in the"," ",g.jsx(wu,{to:Ke.settings,children:"Settings"})," page"]}):t.map((r,i)=>g.jsx(X,{text:r.buttonName,onClick:s=>n(s,r.id)},`shortcut-${i}`))})}const nI=Lt.div`
  display: flex;
  flex-flow: row wrap;
`,rI=Lt.div`
  margin-bottom: 1rem;
`;function iI({app:t,expense:e,update:n}){const[r,i]=D.useState(e.originalAmount!==void 0),[s,o]=D.useState(new Set),[l,u]=D.useState(),[c,p]=D.useState([]),[d,m]=D.useState([]);D.useEffect(()=>{const x=t.paymentAccountsManager.change$.subscribe(Ie=>{u(t.paymentAccountsManager.get({id:e.paid_with}))}),P=t.currencyManager.change$.subscribe(Ie=>{o(t.currencyManager.getAll())}),R=t.peopleManager.change$.subscribe(Ie=>{p(t.peopleManager.getAll().map(qt=>qt.name))}),k=t.shortcutsManager.change$.subscribe(Ie=>{m(t.shortcutsManager.getAll())});return u(t.paymentAccountsManager.get({id:e.paid_with})),o(t.currencyManager.getAll()),p(t.peopleManager.getAll().map(Ie=>Ie.name)),m(t.shortcutsManager.getAll()),()=>{x.unsubscribe(),P.unsubscribe(),R.unsubscribe(),k.unsubscribe()}},[t,e.paid_with]);function _(x){const P=Df(x);n({...e,datetime:P})}function S(x){console.debug("Refreshing date"),x.preventDefault(),_(wo())}function I(x){n({...e,paid_with:x.id,currency:x.currency})}function N(x){n({...e,amount:x})}function T(x){n({...e,originalAmount:x})}function w(x){n({...e,originalCurrency:x})}function C(x){console.debug("ExpenseEditor::handleDescriptionChange:description:",x),e.description!==x&&n({...e,description:x})}function j(x){const P=d.filter(R=>R.id===x)[0];C(Dr({main:P.main,people:P.people,seller:P.seller,tags:P.tags}))}function L(x){const P={...e,shared:x,splits:x?e.splits:[]};n(P)}function V(x){x&&n({...e,originalAmount:void 0,originalCurrency:void 0}),i(x)}if(l===void 0)return g.jsxs("div",{children:["Account ",g.jsx("code",{children:e.paid_with})," not found"]});const E=[...s].filter(x=>x!==l.currency).sort(),{showLink:v,help:A}=oI({expense:e,paidInDifferentCurrency:r});return g.jsxs("div",{children:[g.jsx(eI,{date:new Date(Date.parse(e.datetime)),defaultDate:wo(),onChange:_}),g.jsx(nI,{children:g.jsx(rI,{onClick:S,children:g.jsx(X,{text:"now",icon:"rotate",onClick:S})})}),g.jsx(i_,{paidWith:e.paid_with,app:t,onChange:I}),g.jsx("div",{className:"pb-3 flex flex-row flex-no-wrap justify-end",children:g.jsx(Gg,{label:"paid with different currency",checked:r,onChange:V})}),g.jsx("div",{className:"grid grid-col-2 gap-2",children:r?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"col-span-1",children:g.jsx(Ws,{value:e.originalAmount,placeholder:"Amount in payment currency",onChange:T})}),g.jsx("div",{className:"col-start-2 col-span-2",children:g.jsx(or,{id:"payment-currency",selected:e.originalCurrency,options:E.map(x=>({id:x,label:x})),onSelect:w})}),g.jsx("div",{className:"col-span-1",children:g.jsx(Ws,{value:e.amount,placeholder:"Amount in account currency",onChange:N})}),g.jsx("div",{className:"col-start-2 col-span-2",children:g.jsx(or,{id:"account-currency",selected:l.currency,options:[{id:l.currency,label:l.currency}],onSelect:()=>{},disabled:!0})})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"col-span-1",children:g.jsx(Ws,{value:e.amount,placeholder:"Amount",onChange:N})}),g.jsx("div",{className:"col-start-2 col-span-2",children:g.jsx(or,{selected:l.currency,options:[{id:l.currency,label:l.currency}],onSelect:()=>{},disabled:!0})})]})}),g.jsx(tI,{data:d.map(({id:x,buttonName:P})=>({id:x,buttonName:P})),select:j}),g.jsx(Mf,{description:e.description,peopleInSettings:c,onChange:C}),g.jsx("div",{className:"py-4 flex flex-row justify-end",children:g.jsx(Gg,{checked:e.shared,label:"is shared",onChange:L})}),g.jsxs("div",{className:"flex flex-col justify-center mb-5",children:[g.jsx("div",{className:"flex flex-row justify-center",children:g.jsx(wu,{to:Ke.expenseSplitsEditor.replace(sl,e.id),children:g.jsx(X,{text:"split payment",disabled:!v,onClick:()=>{}})})}),A&&g.jsxs("div",{role:"help-to-access-split-editor",className:"flex flex-row justify-center p-2",children:["tip: ",A]})]})]})}function sI(t){const e=t.amount!==void 0,n=t.originalAmount!==void 0&&t.originalCurrency!==void 0,r=e||n;return t.shared&&r}function oI({expense:t,paidInDifferentCurrency:e}){if(t.shared===!1)return{showLink:!1,help:void 0};const n=sI(t);return e===!1?n?{showLink:!0,help:void 0}:{showLink:!1,help:"input amount"}:n?{showLink:n,help:void 0}:{showLink:!1,help:t.originalCurrency===void 0?"either input amount for account currency or choose merchant currency":"input one of the amounts"}}function aI({app:t}){const{expenseId:e}=q1(),n=Lo(),[r,i]=D.useState(void 0);if(e===void 0)return n(Ke.root),null;D.useEffect(()=>{const o=t.expenseManager.change$.subscribe(l=>{i(t.expenseManager.get(e))});return i(t.expenseManager.get(e)),()=>{o.unsubscribe()}},[t]);function s(o){console.debug("ExpenseEditorPage::handleUpdate::expense",o),t.expenseManager.update(o)}return r===void 0?g.jsx(kn,{children:g.jsx("div",{className:"flex flex-row justify-center",children:"loading..."})}):g.jsx(kn,{children:g.jsx(iI,{expense:r.expense,app:t,update:s})})}function Of({children:t,isOpen:e}){const n=`
    overflow-hidden
    transition-all
    duration-300
    ease-in-out
    ${e?"":"max-h-0"}
  `;return g.jsx("div",{className:n,role:"collapse",children:t})}function Vf({uniqueKey:t,isOn:e,labelOn:n,labelOff:r,onToggle:i}){function s(l){i(l.target.checked)}const o=[t,n].map(l=>l.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","")).join("-");return g.jsxs("label",{htmlFor:o,className:"relative inline-flex flex-row flex-nowrap items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",id:o,checked:e,onChange:s,className:"hidden peer"}),g.jsx("div",{role:"toggle-rail",className:"w-11 h-6 bg-gray-200  dark:bg-gray-700 rounded-full peer-checked:bg-blue-600 peer-checked:after:translate-x-full after:h-5 after:w-5 after:absolute  after:top-2  after:start-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:transition-all"}),g.jsx("div",{role:"toggle-label",className:"p-2 text-sm ",children:e?n:r})]})}const lI=new RegExp(/([0-9]{4}[a-z]+)/gm);function uI(t){return lI.exec(t)!==null}function cI(t){var i;const e=Eu({raw:t}),n=e.tags.filter(uI).map(s=>`#${s}`).join(" ");let r=`${(i=e.main)==null?void 0:i.trim()} @ ${e.seller}`;return n&&(r=`${r} ${n}`),r}const hI=Lt.div`
  order: 1;
  flex-grow: 0;
  flex-shrink: 1;
`,dI=Lt.div`
  order: 2;
  flex-grow: 1;
  flex-shrink: 1;
`,fI={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};function pI(t){const e=t.getMonth()+1,n=t.getDate(),r=fI[e],i=n>9?`${n}`:`0${n}`;return`${r}-${i}`}function ey(t){return navigator.clipboard.writeText(t).then(e=>{alert(`Copied to clipboard:
${t}`)}).catch(e=>{Zs.add({header:"Error while trying to copy to clipboard",description:e})})}function mI(t){function e(r,i){return`${qr.format(r)} ${i}`}return t.originalAmount?e(t.originalAmount,t.originalCurrency):t.amount===void 0?"?":e(t.amount,t.currency)}function gI({appExpense:t,deleting:e,edit:n,remove:r,deleteMode:i,app:s}){const{expense:o}=t,[l,u]=D.useState(!1);function c(){console.debug(`ExpenseQueue.handleOnEditClick:: ${o.id}`),n()}function p(){console.debug(`ExpenseQueue.handleOnDeleteClick:: ${o.id}`),!e&&r()}const d=s.paymentAccountsManager.get({id:o.paid_with});let m=cI(o.description),_="flex flex-row flex-nowrap gap-x-2 p-2 dark:p-2";return t.readyToPublish||(_+=" bg-red-200 dark:bg-red-900"),g.jsxs("div",{className:_,children:[g.jsx(hI,{children:i?g.jsx(X,{onClick:p,icon:"bin"}):g.jsx(X,{onClick:c,icon:"pencil"})}),g.jsxs(dI,{children:[g.jsxs("span",{onClick:()=>u(!l),children:[g.jsx("b",{children:mI(o)})," ",o.description]}),g.jsxs(Of,{isOpen:l,children:[g.jsxs("pre",{children:["id: ",o.id]}),g.jsxs("pre",{children:["datetime: ",bf(dC(o.datetime))]}),g.jsxs("pre",{children:["paid_with: ",d&&d.name]}),g.jsxs("pre",{children:["amount:"," ",o.amount===void 0?"--":`${qr.format(o.amount)} ${o.currency}`]}),g.jsxs("pre",{children:["original_amount:"," ",o.originalAmount===void 0?"--":`${qr.format(o.originalAmount)} ${o.originalCurrency}`]}),g.jsxs("pre",{children:["splits:"," ",o.splits.length===0?"--":JSON.stringify(o.splits,null,2)]}),g.jsxs("div",{className:"flex flex-row gap-3 pt-1",children:[g.jsx(X,{text:"Copy full description",onClick:()=>ey(o.description)}),g.jsx(X,{text:"Copy Splitwise description",onClick:()=>ey(m)})]})]})]})]})}function yI({expenses:t,onEditExpense:e,onDelete:n,app:r}){const[i,s]=D.useState(!1);function o(){s(!i)}const l=TC(t);return g.jsxs("div",{children:[g.jsx("div",{className:"flex flex-row justify-end",children:g.jsx(Vf,{uniqueKey:"expenses",isOn:i,labelOn:"enable deletion mode",labelOff:"exit deletion mode",onToggle:()=>o()})}),l.length>0?l.map(([u,c])=>{const p=pI(new Date(Date.parse(u)));return g.jsxs("div",{children:[g.jsx("div",{className:"pt-4 p-2",children:g.jsx("b",{children:p})}),g.jsx("div",{children:c.map(d=>{const m=d.expense.id;return g.jsx(gI,{deleting:!1,appExpense:d,edit:()=>e(m),remove:()=>n(m),deleteMode:i,app:r},`queued-expense-${m}`)})})]},`${u}-expenses`)}):g.jsx("p",{children:"No expenses :)"})]})}const vI=yI;var ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_I=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},o_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,p=s>>2,d=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,_=c&63;u||(_=64,o||(m=64)),r.push(n[p],n[d],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_I(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||d==null)throw new wI;const m=s<<2|l>>4;if(r.push(m),c!==64){const _=l<<4&240|c>>2;if(r.push(_),d!==64){const S=c<<6&192|d;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EI=function(t){const e=s_(t);return o_.encodeByteArray(e,!0)},Ml=function(t){return EI(t).replace(/\./g,"")},SI=function(t){try{return o_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=()=>xI().__FIREBASE_DEFAULTS__,AI=()=>{if(typeof process>"u"||typeof ty>"u")return;const t=ty.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SI(t[1]);return e&&JSON.parse(e)},Lf=()=>{try{return TI()||AI()||CI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},II=t=>{var e,n;return(n=(e=Lf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PI=t=>{const e=II(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a_=()=>{var t;return(t=Lf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ml(JSON.stringify(n)),Ml(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bI(){var t;const e=(t=Lf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DI(){return!bI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jI(){try{return typeof indexedDB=="object"}catch{return!1}}function MI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="FirebaseError";class ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OI,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l_.prototype.create)}}class l_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?VI(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ss(i,l,r)}}function VI(t,e){return t.replace(LI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LI=/\{\$([^}]+)}/g;function ud(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ny(s)&&ny(o)){if(!ud(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ny(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UI(e))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=br){return this.instances.has(e)}getOptions(e=br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=br){return this.component?this.component.multipleInstances?e:br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FI(t){return t===br?void 0:t}function UI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $I(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const zI={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},HI=ne.INFO,WI={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},GI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u_{constructor(e){this.name=e,this._logLevel=HI,this._logHandler=GI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const KI=(t,e)=>e.some(n=>t instanceof n);let ry,iy;function QI(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qI(){return iy||(iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c_=new WeakMap,cd=new WeakMap,h_=new WeakMap,Lc=new WeakMap,$f=new WeakMap;function YI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ar(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&c_.set(n,t)}).catch(()=>{}),$f.set(e,t),e}function XI(t){if(cd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cd.set(t,e)}let hd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JI(t){hd=t(hd)}function ZI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($c(this),e,...n);return h_.set(r,e.sort?e.sort():[e]),ar(r)}:qI().includes(t)?function(...e){return t.apply($c(this),e),ar(c_.get(this))}:function(...e){return ar(t.apply($c(this),e))}}function e2(t){return typeof t=="function"?ZI(t):(t instanceof IDBTransaction&&XI(t),KI(t,QI())?new Proxy(t,hd):t)}function ar(t){if(t instanceof IDBRequest)return YI(t);if(Lc.has(t))return Lc.get(t);const e=e2(t);return e!==t&&(Lc.set(t,e),$f.set(e,t)),e}const $c=t=>$f.get(t);function t2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=ar(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ar(o.result),u.oldVersion,u.newVersion,ar(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const n2=["get","getKey","getAll","getAllKeys","count"],r2=["put","add","delete","clear"],Fc=new Map;function sy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fc.get(e))return Fc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=r2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||n2.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Fc.set(e,s),s}JI(t=>({...t,get:(e,n,r)=>sy(e,n)||t.get(e,n,r),has:(e,n)=>!!sy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dd="@firebase/app",oy="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new u_("@firebase/app"),o2="@firebase/app-compat",a2="@firebase/analytics-compat",l2="@firebase/analytics",u2="@firebase/app-check-compat",c2="@firebase/app-check",h2="@firebase/auth",d2="@firebase/auth-compat",f2="@firebase/database",p2="@firebase/data-connect",m2="@firebase/database-compat",g2="@firebase/functions",y2="@firebase/functions-compat",v2="@firebase/installations",_2="@firebase/installations-compat",w2="@firebase/messaging",E2="@firebase/messaging-compat",S2="@firebase/performance",x2="@firebase/performance-compat",T2="@firebase/remote-config",A2="@firebase/remote-config-compat",C2="@firebase/storage",I2="@firebase/storage-compat",P2="@firebase/firestore",k2="@firebase/vertexai",R2="@firebase/firestore-compat",N2="firebase",b2="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="[DEFAULT]",D2={[dd]:"fire-core",[o2]:"fire-core-compat",[l2]:"fire-analytics",[a2]:"fire-analytics-compat",[c2]:"fire-app-check",[u2]:"fire-app-check-compat",[h2]:"fire-auth",[d2]:"fire-auth-compat",[f2]:"fire-rtdb",[p2]:"fire-data-connect",[m2]:"fire-rtdb-compat",[g2]:"fire-fn",[y2]:"fire-fn-compat",[v2]:"fire-iid",[_2]:"fire-iid-compat",[w2]:"fire-fcm",[E2]:"fire-fcm-compat",[S2]:"fire-perf",[x2]:"fire-perf-compat",[T2]:"fire-rc",[A2]:"fire-rc-compat",[C2]:"fire-gcs",[I2]:"fire-gcs-compat",[P2]:"fire-fst",[R2]:"fire-fst-compat",[k2]:"fire-vertex","fire-js":"fire-js",[N2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new Map,j2=new Map,pd=new Map;function ay(t,e){try{t.container.addComponent(e)}catch(n){Mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vl(t){const e=t.name;if(pd.has(e))return Mn.debug(`There were multiple attempts to register component ${e}.`),!1;pd.set(e,t);for(const n of Ol.values())ay(n,t);for(const n of j2.values())ay(n,t);return!0}function M2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new l_("app","Firebase",O2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=b2;function d_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw lr.create("bad-app-name",{appName:String(i)});if(n||(n=a_()),!n)throw lr.create("no-options");const s=Ol.get(i);if(s){if(ud(n,s.options)&&ud(r,s.config))return s;throw lr.create("duplicate-app",{appName:i})}const o=new BI(i);for(const u of pd.values())o.addComponent(u);const l=new V2(n,r,o);return Ol.set(i,l),l}function $2(t=fd){const e=Ol.get(t);if(!e&&t===fd&&a_())return d_();if(!e)throw lr.create("no-app",{appName:t});return e}function ji(t,e,n){var r;let i=(r=D2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mn.warn(l.join(" "));return}Vl(new Eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="firebase-heartbeat-database",U2=1,So="firebase-heartbeat-store";let Uc=null;function f_(){return Uc||(Uc=t2(F2,U2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(So)}catch(n){console.warn(n)}}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),Uc}async function B2(t){try{const n=(await f_()).transaction(So),r=await n.objectStore(So).get(p_(t));return await n.done,r}catch(e){if(e instanceof ss)Mn.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mn.warn(n.message)}}}async function ly(t,e){try{const r=(await f_()).transaction(So,"readwrite");await r.objectStore(So).put(e,p_(t)),await r.done}catch(n){if(n instanceof ss)Mn.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mn.warn(r.message)}}}function p_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=1024,H2=30*24*60*60*1e3;class W2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=H2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uy(),{heartbeatsToSend:r,unsentEntries:i}=G2(this._heartbeatsCache.heartbeats),s=Ml(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Mn.warn(n),""}}}function uy(){return new Date().toISOString().substring(0,10)}function G2(t,e=z2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class K2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jI()?MI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ly(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ly(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cy(t){return Ml(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){Vl(new Eo("platform-logger",e=>new i2(e),"PRIVATE")),Vl(new Eo("heartbeat",e=>new W2(e),"PRIVATE")),ji(dd,oy,t),ji(dd,oy,"esm2017"),ji("fire-js","")}Q2("");var q2="firebase",Y2="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(q2,Y2,"app");var hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,v){function A(){}A.prototype=v.prototype,E.D=v.prototype,E.prototype=new A,E.prototype.constructor=E,E.C=function(x,P,R){for(var k=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)k[Ie-2]=arguments[Ie];return v.prototype[P].apply(x,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,A){A||(A=0);var x=Array(16);if(typeof v=="string")for(var P=0;16>P;++P)x[P]=v.charCodeAt(A++)|v.charCodeAt(A++)<<8|v.charCodeAt(A++)<<16|v.charCodeAt(A++)<<24;else for(P=0;16>P;++P)x[P]=v[A++]|v[A++]<<8|v[A++]<<16|v[A++]<<24;v=E.g[0],A=E.g[1],P=E.g[2];var R=E.g[3],k=v+(R^A&(P^R))+x[0]+3614090360&4294967295;v=A+(k<<7&4294967295|k>>>25),k=R+(P^v&(A^P))+x[1]+3905402710&4294967295,R=v+(k<<12&4294967295|k>>>20),k=P+(A^R&(v^A))+x[2]+606105819&4294967295,P=R+(k<<17&4294967295|k>>>15),k=A+(v^P&(R^v))+x[3]+3250441966&4294967295,A=P+(k<<22&4294967295|k>>>10),k=v+(R^A&(P^R))+x[4]+4118548399&4294967295,v=A+(k<<7&4294967295|k>>>25),k=R+(P^v&(A^P))+x[5]+1200080426&4294967295,R=v+(k<<12&4294967295|k>>>20),k=P+(A^R&(v^A))+x[6]+2821735955&4294967295,P=R+(k<<17&4294967295|k>>>15),k=A+(v^P&(R^v))+x[7]+4249261313&4294967295,A=P+(k<<22&4294967295|k>>>10),k=v+(R^A&(P^R))+x[8]+1770035416&4294967295,v=A+(k<<7&4294967295|k>>>25),k=R+(P^v&(A^P))+x[9]+2336552879&4294967295,R=v+(k<<12&4294967295|k>>>20),k=P+(A^R&(v^A))+x[10]+4294925233&4294967295,P=R+(k<<17&4294967295|k>>>15),k=A+(v^P&(R^v))+x[11]+2304563134&4294967295,A=P+(k<<22&4294967295|k>>>10),k=v+(R^A&(P^R))+x[12]+1804603682&4294967295,v=A+(k<<7&4294967295|k>>>25),k=R+(P^v&(A^P))+x[13]+4254626195&4294967295,R=v+(k<<12&4294967295|k>>>20),k=P+(A^R&(v^A))+x[14]+2792965006&4294967295,P=R+(k<<17&4294967295|k>>>15),k=A+(v^P&(R^v))+x[15]+1236535329&4294967295,A=P+(k<<22&4294967295|k>>>10),k=v+(P^R&(A^P))+x[1]+4129170786&4294967295,v=A+(k<<5&4294967295|k>>>27),k=R+(A^P&(v^A))+x[6]+3225465664&4294967295,R=v+(k<<9&4294967295|k>>>23),k=P+(v^A&(R^v))+x[11]+643717713&4294967295,P=R+(k<<14&4294967295|k>>>18),k=A+(R^v&(P^R))+x[0]+3921069994&4294967295,A=P+(k<<20&4294967295|k>>>12),k=v+(P^R&(A^P))+x[5]+3593408605&4294967295,v=A+(k<<5&4294967295|k>>>27),k=R+(A^P&(v^A))+x[10]+38016083&4294967295,R=v+(k<<9&4294967295|k>>>23),k=P+(v^A&(R^v))+x[15]+3634488961&4294967295,P=R+(k<<14&4294967295|k>>>18),k=A+(R^v&(P^R))+x[4]+3889429448&4294967295,A=P+(k<<20&4294967295|k>>>12),k=v+(P^R&(A^P))+x[9]+568446438&4294967295,v=A+(k<<5&4294967295|k>>>27),k=R+(A^P&(v^A))+x[14]+3275163606&4294967295,R=v+(k<<9&4294967295|k>>>23),k=P+(v^A&(R^v))+x[3]+4107603335&4294967295,P=R+(k<<14&4294967295|k>>>18),k=A+(R^v&(P^R))+x[8]+1163531501&4294967295,A=P+(k<<20&4294967295|k>>>12),k=v+(P^R&(A^P))+x[13]+2850285829&4294967295,v=A+(k<<5&4294967295|k>>>27),k=R+(A^P&(v^A))+x[2]+4243563512&4294967295,R=v+(k<<9&4294967295|k>>>23),k=P+(v^A&(R^v))+x[7]+1735328473&4294967295,P=R+(k<<14&4294967295|k>>>18),k=A+(R^v&(P^R))+x[12]+2368359562&4294967295,A=P+(k<<20&4294967295|k>>>12),k=v+(A^P^R)+x[5]+4294588738&4294967295,v=A+(k<<4&4294967295|k>>>28),k=R+(v^A^P)+x[8]+2272392833&4294967295,R=v+(k<<11&4294967295|k>>>21),k=P+(R^v^A)+x[11]+1839030562&4294967295,P=R+(k<<16&4294967295|k>>>16),k=A+(P^R^v)+x[14]+4259657740&4294967295,A=P+(k<<23&4294967295|k>>>9),k=v+(A^P^R)+x[1]+2763975236&4294967295,v=A+(k<<4&4294967295|k>>>28),k=R+(v^A^P)+x[4]+1272893353&4294967295,R=v+(k<<11&4294967295|k>>>21),k=P+(R^v^A)+x[7]+4139469664&4294967295,P=R+(k<<16&4294967295|k>>>16),k=A+(P^R^v)+x[10]+3200236656&4294967295,A=P+(k<<23&4294967295|k>>>9),k=v+(A^P^R)+x[13]+681279174&4294967295,v=A+(k<<4&4294967295|k>>>28),k=R+(v^A^P)+x[0]+3936430074&4294967295,R=v+(k<<11&4294967295|k>>>21),k=P+(R^v^A)+x[3]+3572445317&4294967295,P=R+(k<<16&4294967295|k>>>16),k=A+(P^R^v)+x[6]+76029189&4294967295,A=P+(k<<23&4294967295|k>>>9),k=v+(A^P^R)+x[9]+3654602809&4294967295,v=A+(k<<4&4294967295|k>>>28),k=R+(v^A^P)+x[12]+3873151461&4294967295,R=v+(k<<11&4294967295|k>>>21),k=P+(R^v^A)+x[15]+530742520&4294967295,P=R+(k<<16&4294967295|k>>>16),k=A+(P^R^v)+x[2]+3299628645&4294967295,A=P+(k<<23&4294967295|k>>>9),k=v+(P^(A|~R))+x[0]+4096336452&4294967295,v=A+(k<<6&4294967295|k>>>26),k=R+(A^(v|~P))+x[7]+1126891415&4294967295,R=v+(k<<10&4294967295|k>>>22),k=P+(v^(R|~A))+x[14]+2878612391&4294967295,P=R+(k<<15&4294967295|k>>>17),k=A+(R^(P|~v))+x[5]+4237533241&4294967295,A=P+(k<<21&4294967295|k>>>11),k=v+(P^(A|~R))+x[12]+1700485571&4294967295,v=A+(k<<6&4294967295|k>>>26),k=R+(A^(v|~P))+x[3]+2399980690&4294967295,R=v+(k<<10&4294967295|k>>>22),k=P+(v^(R|~A))+x[10]+4293915773&4294967295,P=R+(k<<15&4294967295|k>>>17),k=A+(R^(P|~v))+x[1]+2240044497&4294967295,A=P+(k<<21&4294967295|k>>>11),k=v+(P^(A|~R))+x[8]+1873313359&4294967295,v=A+(k<<6&4294967295|k>>>26),k=R+(A^(v|~P))+x[15]+4264355552&4294967295,R=v+(k<<10&4294967295|k>>>22),k=P+(v^(R|~A))+x[6]+2734768916&4294967295,P=R+(k<<15&4294967295|k>>>17),k=A+(R^(P|~v))+x[13]+1309151649&4294967295,A=P+(k<<21&4294967295|k>>>11),k=v+(P^(A|~R))+x[4]+4149444226&4294967295,v=A+(k<<6&4294967295|k>>>26),k=R+(A^(v|~P))+x[11]+3174756917&4294967295,R=v+(k<<10&4294967295|k>>>22),k=P+(v^(R|~A))+x[2]+718787259&4294967295,P=R+(k<<15&4294967295|k>>>17),k=A+(R^(P|~v))+x[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+R&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var A=v-this.blockSize,x=this.B,P=this.h,R=0;R<v;){if(P==0)for(;R<=A;)i(this,E,R),R+=this.blockSize;if(typeof E=="string"){for(;R<v;)if(x[P++]=E.charCodeAt(R++),P==this.blockSize){i(this,x),P=0;break}}else for(;R<v;)if(x[P++]=E[R++],P==this.blockSize){i(this,x),P=0;break}}this.h=P,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var A=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=A&255,A/=256;for(this.u(E),E=Array(16),v=A=0;4>v;++v)for(var x=0;32>x;x+=8)E[A++]=this.g[v]>>>x&255;return E};function s(E,v){var A=l;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=v(E)}function o(E,v){this.h=v;for(var A=[],x=!0,P=E.length-1;0<=P;P--){var R=E[P]|0;x&&R==v||(A[P]=R,x=!1)}this.g=A}var l={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return d;if(0>E)return N(c(-E));for(var v=[],A=1,x=0;E>=A;x++)v[x]=E/A|0,A*=4294967296;return new o(v,0)}function p(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return N(p(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(v,8)),x=d,P=0;P<E.length;P+=8){var R=Math.min(8,E.length-P),k=parseInt(E.substring(P,P+R),v);8>R?(R=c(Math.pow(v,R)),x=x.j(R).add(c(k))):(x=x.j(A),x=x.add(c(k)))}return x}var d=u(0),m=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-N(this).m();for(var E=0,v=1,A=0;A<this.g.length;A++){var x=this.i(A);E+=(0<=x?x:4294967296+x)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(I(this))return"-"+N(this).toString(E);for(var v=c(Math.pow(E,6)),A=this,x="";;){var P=j(A,v).g;A=T(A,P.j(v));var R=((0<A.g.length?A.g[0]:A.h)>>>0).toString(E);if(A=P,S(A))return R+x;for(;6>R.length;)R="0"+R;x=R+x}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function I(E){return E.h==-1}t.l=function(E){return E=T(this,E),I(E)?-1:S(E)?0:1};function N(E){for(var v=E.g.length,A=[],x=0;x<v;x++)A[x]=~E.g[x];return new o(A,~E.h).add(m)}t.abs=function(){return I(this)?N(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),A=[],x=0,P=0;P<=v;P++){var R=x+(this.i(P)&65535)+(E.i(P)&65535),k=(R>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);x=k>>>16,R&=65535,k&=65535,A[P]=k<<16|R}return new o(A,A[A.length-1]&-2147483648?-1:0)};function T(E,v){return E.add(N(v))}t.j=function(E){if(S(this)||S(E))return d;if(I(this))return I(E)?N(this).j(N(E)):N(N(this).j(E));if(I(E))return N(this.j(N(E)));if(0>this.l(_)&&0>E.l(_))return c(this.m()*E.m());for(var v=this.g.length+E.g.length,A=[],x=0;x<2*v;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<E.g.length;P++){var R=this.i(x)>>>16,k=this.i(x)&65535,Ie=E.i(P)>>>16,qt=E.i(P)&65535;A[2*x+2*P]+=k*qt,w(A,2*x+2*P),A[2*x+2*P+1]+=R*qt,w(A,2*x+2*P+1),A[2*x+2*P+1]+=k*Ie,w(A,2*x+2*P+1),A[2*x+2*P+2]+=R*Ie,w(A,2*x+2*P+2)}for(x=0;x<v;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=v;x<2*v;x++)A[x]=0;return new o(A,0)};function w(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function C(E,v){this.g=E,this.h=v}function j(E,v){if(S(v))throw Error("division by zero");if(S(E))return new C(d,d);if(I(E))return v=j(N(E),v),new C(N(v.g),N(v.h));if(I(v))return v=j(E,N(v)),new C(N(v.g),v.h);if(30<E.g.length){if(I(E)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var A=m,x=v;0>=x.l(E);)A=L(A),x=L(x);var P=V(A,1),R=V(x,1);for(x=V(x,2),A=V(A,2);!S(x);){var k=R.add(x);0>=k.l(E)&&(P=P.add(A),R=k),x=V(x,1),A=V(A,1)}return v=T(E,P.j(v)),new C(P,v)}for(P=d;0<=E.l(v);){for(A=Math.max(1,Math.floor(E.m()/v.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),R=c(A),k=R.j(v);I(k)||0<k.l(E);)A-=x,R=c(A),k=R.j(v);S(R)&&(R=m),P=P.add(R),E=T(E,k)}return new C(P,E)}t.A=function(E){return j(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),A=[],x=0;x<v;x++)A[x]=this.i(x)&E.i(x);return new o(A,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),A=[],x=0;x<v;x++)A[x]=this.i(x)|E.i(x);return new o(A,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),A=[],x=0;x<v;x++)A[x]=this.i(x)^E.i(x);return new o(A,this.h^E.h)};function L(E){for(var v=E.g.length+1,A=[],x=0;x<v;x++)A[x]=E.i(x)<<1|E.i(x-1)>>>31;return new o(A,E.h)}function V(E,v){var A=v>>5;v%=32;for(var x=E.g.length-A,P=[],R=0;R<x;R++)P[R]=0<v?E.i(R+A)>>>v|E.i(R+A+1)<<32-v:E.i(R+A);return new o(P,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=p,m_=o}).apply(typeof hy<"u"?hy:typeof self<"u"?self:typeof window<"u"?window:{});var Pa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g_,js,y_,Xa,md,v_,__,w_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,f){return a==Array.prototype||a==Object.prototype||(a[h]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pa=="object"&&Pa];for(var h=0;h<a.length;++h){var f=a[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var f=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var b=a[y];if(!(b in f))break e;f=f[b]}a=a[a.length-1],y=f[a],h=h(y),h!=y&&h!=null&&e(f,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var f=0,y=!1,b={next:function(){if(!y&&f<a.length){var M=f++;return{value:h(M,a[M]),done:!1}}return y=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function p(a,h,f){return a.call.apply(a.bind,arguments)}function d(a,h,f){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,y),a.apply(h,b)}}return function(){return a.apply(h,arguments)}}function m(a,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:d,m.apply(null,arguments)}function _(a,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function S(a,h){function f(){}f.prototype=h.prototype,a.aa=h.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(y,b,M){for(var U=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)U[ue-2]=arguments[ue];return h.prototype[b].apply(y,U)}}function I(a){const h=a.length;if(0<h){const f=Array(h);for(let y=0;y<h;y++)f[y]=a[y];return f}return[]}function N(a,h){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(u(y)){const b=a.length||0,M=y.length||0;a.length=b+M;for(let U=0;U<M;U++)a[b+U]=y[U]}else a.push(y)}}class T{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function w(a){return/^[\s\xa0]*$/.test(a)}function C(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function j(a){return j[" "](a),a}j[" "]=function(){};var L=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function V(a,h,f){for(const y in a)h.call(f,a[y],y,a)}function E(a,h){for(const f in a)h.call(void 0,a[f],f,a)}function v(a){const h={};for(const f in a)h[f]=a[f];return h}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(a,h){let f,y;for(let b=1;b<arguments.length;b++){y=arguments[b];for(f in y)a[f]=y[f];for(let M=0;M<A.length;M++)f=A[M],Object.prototype.hasOwnProperty.call(y,f)&&(a[f]=y[f])}}function P(a){var h=1;a=a.split(":");const f=[];for(;0<h&&a.length;)f.push(a.shift()),h--;return a.length&&f.push(a.join(":")),f}function R(a){l.setTimeout(()=>{throw a},0)}function k(){var a=G;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class Ie{constructor(){this.h=this.g=null}add(h,f){const y=qt.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var qt=new T(()=>new wr,a=>a.reset());class wr{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let It,B=!1,G=new Ie,Q=()=>{const a=l.Promise.resolve(void 0);It=()=>{a.then(oe)}};var oe=()=>{for(var a;a=k();){try{a.h.call(a.g)}catch(f){R(f)}var h=qt;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}B=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Pt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,h),l.removeEventListener("test",f,h)}catch{}return a}();function gt(a,h){if(ge.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(L){e:{try{j(h.nodeName);var b=!0;break e}catch{}b=!1}b||(h=null)}}else f=="mouseover"?h=a.fromElement:f=="mouseout"&&(h=a.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ut[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&gt.aa.h.call(this)}}S(gt,ge);var ut={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Er=0;function yn(a,h,f,y,b){this.listener=a,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=b,this.key=++Er,this.da=this.fa=!1}function Vn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function vn(a){this.src=a,this.g={},this.h=0}vn.prototype.add=function(a,h,f,y,b){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var U=ju(a,h,y,b);return-1<U?(h=a[U],f||(h.fa=!1)):(h=new yn(h,this.src,M,!!y,b),h.fa=f,a.push(h)),h};function Ut(a,h){var f=h.type;if(f in a.g){var y=a.g[f],b=Array.prototype.indexOf.call(y,h,void 0),M;(M=0<=b)&&Array.prototype.splice.call(y,b,1),M&&(Vn(h),a.g[f].length==0&&(delete a.g[f],a.h--))}}function ju(a,h,f,y){for(var b=0;b<a.length;++b){var M=a[b];if(!M.da&&M.listener==h&&M.capture==!!f&&M.ha==y)return b}return-1}var Mu="closure_lm_"+(1e6*Math.random()|0),Ou={};function hp(a,h,f,y,b){if(Array.isArray(h)){for(var M=0;M<h.length;M++)hp(a,h[M],f,y,b);return null}return f=pp(f),a&&a[yt]?a.K(h,f,c(y)?!!y.capture:!!y,b):Sw(a,h,f,!1,y,b)}function Sw(a,h,f,y,b,M){if(!h)throw Error("Invalid event type");var U=c(b)?!!b.capture:!!b,ue=Lu(a);if(ue||(a[Mu]=ue=new vn(a)),f=ue.add(h,f,y,U,M),f.proxy)return f;if(y=xw(),f.proxy=y,y.src=a,y.listener=f,a.addEventListener)Pt||(b=U),b===void 0&&(b=!1),a.addEventListener(h.toString(),y,b);else if(a.attachEvent)a.attachEvent(fp(h.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function xw(){function a(f){return h.call(a.src,a.listener,f)}const h=Tw;return a}function dp(a,h,f,y,b){if(Array.isArray(h))for(var M=0;M<h.length;M++)dp(a,h[M],f,y,b);else y=c(y)?!!y.capture:!!y,f=pp(f),a&&a[yt]?(a=a.i,h=String(h).toString(),h in a.g&&(M=a.g[h],f=ju(M,f,y,b),-1<f&&(Vn(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete a.g[h],a.h--)))):a&&(a=Lu(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ju(h,f,y,b)),(f=-1<a?h[a]:null)&&Vu(f))}function Vu(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[yt])Ut(h.i,a);else{var f=a.type,y=a.proxy;h.removeEventListener?h.removeEventListener(f,y,a.capture):h.detachEvent?h.detachEvent(fp(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=Lu(h))?(Ut(f,a),f.h==0&&(f.src=null,h[Mu]=null)):Vn(a)}}}function fp(a){return a in Ou?Ou[a]:Ou[a]="on"+a}function Tw(a,h){if(a.da)a=!0;else{h=new gt(h,this);var f=a.listener,y=a.ha||a.src;a.fa&&Vu(a),a=f.call(y,h)}return a}function Lu(a){return a=a[Mu],a instanceof vn?a:null}var $u="__closure_events_fn_"+(1e9*Math.random()>>>0);function pp(a){return typeof a=="function"?a:(a[$u]||(a[$u]=function(h){return a.handleEvent(h)}),a[$u])}function Je(){Z.call(this),this.i=new vn(this),this.M=this,this.F=null}S(Je,Z),Je.prototype[yt]=!0,Je.prototype.removeEventListener=function(a,h,f,y){dp(this,a,h,f,y)};function ct(a,h){var f,y=a.F;if(y)for(f=[];y;y=y.F)f.push(y);if(a=a.M,y=h.type||h,typeof h=="string")h=new ge(h,a);else if(h instanceof ge)h.target=h.target||a;else{var b=h;h=new ge(y,a),x(h,b)}if(b=!0,f)for(var M=f.length-1;0<=M;M--){var U=h.g=f[M];b=zo(U,y,!0,h)&&b}if(U=h.g=a,b=zo(U,y,!0,h)&&b,b=zo(U,y,!1,h)&&b,f)for(M=0;M<f.length;M++)U=h.g=f[M],b=zo(U,y,!1,h)&&b}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var f=a.g[h],y=0;y<f.length;y++)Vn(f[y]);delete a.g[h],a.h--}}this.F=null},Je.prototype.K=function(a,h,f,y){return this.i.add(String(a),h,!1,f,y)},Je.prototype.L=function(a,h,f,y){return this.i.add(String(a),h,!0,f,y)};function zo(a,h,f,y){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var b=!0,M=0;M<h.length;++M){var U=h[M];if(U&&!U.da&&U.capture==f){var ue=U.listener,ze=U.ha||U.src;U.fa&&Ut(a.i,U),b=ue.call(ze,y)!==!1&&b}}return b&&!y.defaultPrevented}function mp(a,h,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function gp(a){a.g=mp(()=>{a.g=null,a.i&&(a.i=!1,gp(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Aw extends Z{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:gp(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(a){Z.call(this),this.h=a,this.g={}}S(as,Z);var yp=[];function vp(a){V(a.g,function(h,f){this.g.hasOwnProperty(f)&&Vu(h)},a),a.g={}}as.prototype.N=function(){as.aa.N.call(this),vp(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fu=l.JSON.stringify,Cw=l.JSON.parse,Iw=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Uu(){}Uu.prototype.h=null;function _p(a){return a.h||(a.h=a.i())}function wp(){}var ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bu(){ge.call(this,"d")}S(Bu,ge);function zu(){ge.call(this,"c")}S(zu,ge);var Sr={},Ep=null;function Ho(){return Ep=Ep||new Je}Sr.La="serverreachability";function Sp(a){ge.call(this,Sr.La,a)}S(Sp,ge);function us(a){const h=Ho();ct(h,new Sp(h))}Sr.STAT_EVENT="statevent";function xp(a,h){ge.call(this,Sr.STAT_EVENT,a),this.stat=h}S(xp,ge);function ht(a){const h=Ho();ct(h,new xp(h,a))}Sr.Ma="timingevent";function Tp(a,h){ge.call(this,Sr.Ma,a),this.size=h}S(Tp,ge);function cs(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function hs(){this.g=!0}hs.prototype.xa=function(){this.g=!1};function Pw(a,h,f,y,b,M){a.info(function(){if(a.g)if(M)for(var U="",ue=M.split("&"),ze=0;ze<ue.length;ze++){var ie=ue[ze].split("=");if(1<ie.length){var Ze=ie[0];ie=ie[1];var et=Ze.split("_");U=2<=et.length&&et[1]=="type"?U+(Ze+"="+ie+"&"):U+(Ze+"=redacted&")}}else U=null;else U=M;return"XMLHTTP REQ ("+y+") [attempt "+b+"]: "+h+`
`+f+`
`+U})}function kw(a,h,f,y,b,M,U){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+b+"]: "+h+`
`+f+`
`+M+" "+U})}function oi(a,h,f,y){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Nw(a,f)+(y?" "+y:"")})}function Rw(a,h){a.info(function(){return"TIMEOUT: "+h})}hs.prototype.info=function(){};function Nw(a,h){if(!a.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var y=f[a];if(!(2>y.length)){var b=y[1];if(Array.isArray(b)&&!(1>b.length)){var M=b[0];if(M!="noop"&&M!="stop"&&M!="close")for(var U=1;U<b.length;U++)b[U]=""}}}}return Fu(f)}catch{return h}}var Wo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ap={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hu;function Go(){}S(Go,Uu),Go.prototype.g=function(){return new XMLHttpRequest},Go.prototype.i=function(){return{}},Hu=new Go;function Ln(a,h,f,y){this.j=a,this.i=h,this.l=f,this.R=y||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cp}function Cp(){this.i=null,this.g="",this.h=!1}var Ip={},Wu={};function Gu(a,h,f){a.L=1,a.v=Yo(_n(h)),a.m=f,a.P=!0,Pp(a,null)}function Pp(a,h){a.F=Date.now(),Ko(a),a.A=_n(a.v);var f=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),Bp(f.i,"t",y),a.C=0,f=a.j.J,a.h=new Cp,a.g=om(a.j,f?h:null,!a.m),0<a.O&&(a.M=new Aw(m(a.Y,a,a.g),a.O)),h=a.U,f=a.g,y=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(yp[0]=b.toString()),b=yp);for(var M=0;M<b.length;M++){var U=hp(f,b[M],y||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),us(),Pw(a.i,a.u,a.A,a.l,a.R,a.m)}Ln.prototype.ca=function(a){a=a.target;const h=this.M;h&&wn(a)==3?h.j():this.Y(a)},Ln.prototype.Y=function(a){try{if(a==this.g)e:{const et=wn(this.g);var h=this.g.Ba();const ui=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||qp(this.g)))){this.J||et!=4||h==7||(h==8||0>=ui?us(3):us(2)),Ku(this);var f=this.g.Z();this.X=f;t:if(kp(this)){var y=qp(this.g);a="";var b=y.length,M=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),ds(this);var U="";break t}this.h.i=new l.TextDecoder}for(h=0;h<b;h++)this.h.h=!0,a+=this.h.i.decode(y[h],{stream:!(M&&h==b-1)});y.length=0,this.h.g+=a,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,kw(this.i,this.u,this.A,this.l,this.R,et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ue,ze=this.g;if((ue=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(ue)){var ie=ue;break t}}ie=null}if(f=ie)oi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qu(this,f);else{this.o=!1,this.s=3,ht(12),xr(this),ds(this);break e}}if(this.P){f=!0;let Yt;for(;!this.J&&this.C<U.length;)if(Yt=bw(this,U),Yt==Wu){et==4&&(this.s=4,ht(14),f=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Ip){this.s=4,ht(15),oi(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else oi(this.i,this.l,Yt,null),Qu(this,Yt);if(kp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||U.length!=0||this.h.h||(this.s=1,ht(16),f=!1),this.o=this.o&&f,!f)oi(this.i,this.l,U,"[Invalid Chunked Response]"),xr(this),ds(this);else if(0<U.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ec(Ze),Ze.M=!0,ht(11))}}else oi(this.i,this.l,U,null),Qu(this,U);et==4&&xr(this),this.o&&!this.J&&(et==4?nm(this.j,this):(this.o=!1,Ko(this)))}else qw(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),xr(this),ds(this)}}}catch{}finally{}};function kp(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function bw(a,h){var f=a.C,y=h.indexOf(`
`,f);return y==-1?Wu:(f=Number(h.substring(f,y)),isNaN(f)?Ip:(y+=1,y+f>h.length?Wu:(h=h.slice(y,y+f),a.C=y+f,h)))}Ln.prototype.cancel=function(){this.J=!0,xr(this)};function Ko(a){a.S=Date.now()+a.I,Rp(a,a.I)}function Rp(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=cs(m(a.ba,a),h)}function Ku(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Ln.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Rw(this.i,this.A),this.L!=2&&(us(),ht(17)),xr(this),this.s=2,ds(this)):Rp(this,this.S-a)};function ds(a){a.j.G==0||a.J||nm(a.j,a)}function xr(a){Ku(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,vp(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Qu(a,h){try{var f=a.j;if(f.G!=0&&(f.g==a||qu(f.h,a))){if(!a.K&&qu(f.h,a)&&f.G==3){try{var y=f.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var b=y;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)na(f),ea(f);else break e;Zu(f),ht(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=cs(m(f.Za,f),6e3));if(1>=Dp(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ar(f,11)}else if((a.K||f.g==a)&&na(f),!w(h))for(b=f.Da.g.parse(h),h=0;h<b.length;h++){let ie=b[h];if(f.T=ie[0],ie=ie[1],f.G==2)if(ie[0]=="c"){f.K=ie[1],f.ia=ie[2];const Ze=ie[3];Ze!=null&&(f.la=Ze,f.j.info("VER="+f.la));const et=ie[4];et!=null&&(f.Aa=et,f.j.info("SVER="+f.Aa));const ui=ie[5];ui!=null&&typeof ui=="number"&&0<ui&&(y=1.5*ui,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const Yt=a.g;if(Yt){const ia=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var M=y.h;M.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Yu(M,M.h),M.h=null))}if(y.D){const tc=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;tc&&(y.ya=tc,de(y.I,y.D,tc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var U=a;if(y.qa=sm(y,y.J?y.ia:null,y.W),U.K){jp(y.h,U);var ue=U,ze=y.L;ze&&(ue.I=ze),ue.B&&(Ku(ue),Ko(ue)),y.g=U}else em(y);0<f.i.length&&ta(f)}else ie[0]!="stop"&&ie[0]!="close"||Ar(f,7);else f.G==3&&(ie[0]=="stop"||ie[0]=="close"?ie[0]=="stop"?Ar(f,7):Ju(f):ie[0]!="noop"&&f.l&&f.l.ta(ie),f.v=0)}}us(4)}catch{}}var Dw=class{constructor(a,h){this.g=a,this.map=h}};function Np(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Dp(a){return a.h?1:a.g?a.g.size:0}function qu(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Yu(a,h){a.g?a.g.add(h):a.h=h}function jp(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Np.prototype.cancel=function(){if(this.i=Mp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Mp(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const f of a.g.values())h=h.concat(f.D);return h}return I(a.i)}function jw(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],f=a.length,y=0;y<f;y++)h.push(a[y]);return h}h=[],f=0;for(y in a)h[f++]=a[y];return h}function Mw(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var f=0;f<a;f++)h.push(f);return h}h=[],f=0;for(const y in a)h[f++]=y;return h}}}function Op(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var f=Mw(a),y=jw(a),b=y.length,M=0;M<b;M++)h.call(void 0,y[M],f&&f[M],a)}var Vp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ow(a,h){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var y=a[f].indexOf("="),b=null;if(0<=y){var M=a[f].substring(0,y);b=a[f].substring(y+1)}else M=a[f];h(M,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Tr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Tr){this.h=a.h,Qo(this,a.j),this.o=a.o,this.g=a.g,qo(this,a.s),this.l=a.l;var h=a.i,f=new ms;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),Lp(this,f),this.m=a.m}else a&&(h=String(a).match(Vp))?(this.h=!1,Qo(this,h[1]||"",!0),this.o=fs(h[2]||""),this.g=fs(h[3]||"",!0),qo(this,h[4]),this.l=fs(h[5]||"",!0),Lp(this,h[6]||"",!0),this.m=fs(h[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}Tr.prototype.toString=function(){var a=[],h=this.j;h&&a.push(ps(h,$p,!0),":");var f=this.g;return(f||h=="file")&&(a.push("//"),(h=this.o)&&a.push(ps(h,$p,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(ps(f,f.charAt(0)=="/"?$w:Lw,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",ps(f,Uw)),a.join("")};function _n(a){return new Tr(a)}function Qo(a,h,f){a.j=f?fs(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function qo(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Lp(a,h,f){h instanceof ms?(a.i=h,Bw(a.i,a.h)):(f||(h=ps(h,Fw)),a.i=new ms(h,a.h))}function de(a,h,f){a.i.set(h,f)}function Yo(a){return de(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function fs(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ps(a,h,f){return typeof a=="string"?(a=encodeURI(a).replace(h,Vw),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Vw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var $p=/[#\/\?@]/g,Lw=/[#\?:]/g,$w=/[#\?]/g,Fw=/[#\?@]/g,Uw=/#/g;function ms(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function $n(a){a.g||(a.g=new Map,a.h=0,a.i&&Ow(a.i,function(h,f){a.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=ms.prototype,t.add=function(a,h){$n(this),this.i=null,a=ai(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(h),this.h+=1,this};function Fp(a,h){$n(a),h=ai(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Up(a,h){return $n(a),h=ai(a,h),a.g.has(h)}t.forEach=function(a,h){$n(this),this.g.forEach(function(f,y){f.forEach(function(b){a.call(h,b,y,this)},this)},this)},t.na=function(){$n(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let y=0;y<h.length;y++){const b=a[y];for(let M=0;M<b.length;M++)f.push(h[y])}return f},t.V=function(a){$n(this);let h=[];if(typeof a=="string")Up(this,a)&&(h=h.concat(this.g.get(ai(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)h=h.concat(a[f])}return h},t.set=function(a,h){return $n(this),this.i=null,a=ai(this,a),Up(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Bp(a,h,f){Fp(a,h),0<f.length&&(a.i=null,a.g.set(ai(a,h),I(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var y=h[f];const M=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var b=M;U[y]!==""&&(b+="="+encodeURIComponent(String(U[y]))),a.push(b)}}return this.i=a.join("&")};function ai(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Bw(a,h){h&&!a.j&&($n(a),a.i=null,a.g.forEach(function(f,y){var b=y.toLowerCase();y!=b&&(Fp(this,y),Bp(this,b,f))},a)),a.j=h}function zw(a,h){const f=new hs;if(l.Image){const y=new Image;y.onload=_(Fn,f,"TestLoadImage: loaded",!0,h,y),y.onerror=_(Fn,f,"TestLoadImage: error",!1,h,y),y.onabort=_(Fn,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=_(Fn,f,"TestLoadImage: timeout",!1,h,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else h(!1)}function Hw(a,h){const f=new hs,y=new AbortController,b=setTimeout(()=>{y.abort(),Fn(f,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:y.signal}).then(M=>{clearTimeout(b),M.ok?Fn(f,"TestPingServer: ok",!0,h):Fn(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(b),Fn(f,"TestPingServer: error",!1,h)})}function Fn(a,h,f,y,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),y(f)}catch{}}function Ww(){this.g=new Iw}function Gw(a,h,f){const y=f||"";try{Op(a,function(b,M){let U=b;c(b)&&(U=Fu(b)),h.push(y+M+"="+encodeURIComponent(U))})}catch(b){throw h.push(y+"type="+encodeURIComponent("_badmap")),b}}function Xo(a){this.l=a.Ub||null,this.j=a.eb||!1}S(Xo,Uu),Xo.prototype.g=function(){return new Jo(this.l,this.j)},Xo.prototype.i=function(a){return function(){return a}}({});function Jo(a,h){Je.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Jo,Je),t=Jo.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,ys(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function zp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?gs(this):ys(this),this.readyState==3&&zp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,gs(this))},t.Qa=function(a){this.g&&(this.response=a,gs(this))},t.ga=function(){this.g&&gs(this)};function gs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ys(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=h.next();return a.join(`\r
`)};function ys(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Jo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Hp(a){let h="";return V(a,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function Xu(a,h,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=Hp(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):de(a,h,f))}function xe(a){Je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(xe,Je);var Kw=/^https?$/i,Qw=["POST","PUT"];t=xe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hu.g(),this.v=this.o?_p(this.o):_p(Hu),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(M){Wp(this,M);return}if(a=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var b in y)f.set(b,y[b]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const M of y.keys())f.set(M,y.get(M));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),b=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Qw,h,void 0))||y||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,U]of f)this.g.setRequestHeader(M,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qp(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){Wp(this,M)}};function Wp(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Gp(a),Zo(a)}function Gp(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),Zo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zo(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kp(this):this.bb())},t.bb=function(){Kp(this)};function Kp(a){if(a.h&&typeof o<"u"&&(!a.v[1]||wn(a)!=4||a.Z()!=2)){if(a.u&&wn(a)==4)mp(a.Ea,0,a);else if(ct(a,"readystatechange"),wn(a)==4){a.h=!1;try{const U=a.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var y;if(y=U===0){var b=String(a.D).match(Vp)[1]||null;!b&&l.self&&l.self.location&&(b=l.self.location.protocol.slice(0,-1)),y=!Kw.test(b?b.toLowerCase():"")}f=y}if(f)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var M=2<wn(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",Gp(a)}}finally{Zo(a)}}}}function Zo(a,h){if(a.g){Qp(a);const f=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||ct(a,"ready");try{f.onreadystatechange=y}catch{}}}function Qp(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function wn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Cw(h)}};function qp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function qw(a){const h={};a=(a.g&&2<=wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(w(a[y]))continue;var f=P(a[y]);const b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const M=h[b]||[];h[b]=M,M.push(f)}E(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(a,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||h}function Yp(a){this.Aa=0,this.i=[],this.j=new hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,a),this.cb=vs("retryDelaySeedMs",1e4,a),this.Wa=vs("forwardChannelMaxRetries",2,a),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Np(a&&a.concurrentRequestLimit),this.Da=new Ww,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yp.prototype,t.la=8,t.G=1,t.connect=function(a,h,f,y){ht(0),this.W=a,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=sm(this,null,this.W),ta(this)};function Ju(a){if(Xp(a),a.G==3){var h=a.U++,f=_n(a.I);if(de(f,"SID",a.K),de(f,"RID",h),de(f,"TYPE","terminate"),_s(a,f),h=new Ln(a,a.j,h),h.L=2,h.v=Yo(_n(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=h.v,f=!0),f||(h.g=om(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ko(h)}im(a)}function ea(a){a.g&&(ec(a),a.g.cancel(),a.g=null)}function Xp(a){ea(a),a.u&&(l.clearTimeout(a.u),a.u=null),na(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ta(a){if(!bp(a.h)&&!a.s){a.s=!0;var h=a.Ga;It||Q(),B||(It(),B=!0),G.add(h,a),a.B=0}}function Yw(a,h){return Dp(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=cs(m(a.Ga,a,h),rm(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const b=new Ln(this,this.j,a);let M=this.o;if(this.S&&(M?(M=v(M),x(M,this.S)):M=this.S),this.m!==null||this.O||(b.H=M,M=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=Zp(this,b,h),f=_n(this.I),de(f,"RID",a),de(f,"CVER",22),this.D&&de(f,"X-HTTP-Session-Id",this.D),_s(this,f),M&&(this.O?h="headers="+encodeURIComponent(String(Hp(M)))+"&"+h:this.m&&Xu(f,this.m,M)),Yu(this.h,b),this.Ua&&de(f,"TYPE","init"),this.P?(de(f,"$req",h),de(f,"SID","null"),b.T=!0,Gu(b,f,null)):Gu(b,f,h),this.G=2}}else this.G==3&&(a?Jp(this,a):this.i.length==0||bp(this.h)||Jp(this))};function Jp(a,h){var f;h?f=h.l:f=a.U++;const y=_n(a.I);de(y,"SID",a.K),de(y,"RID",f),de(y,"AID",a.T),_s(a,y),a.m&&a.o&&Xu(y,a.m,a.o),f=new Ln(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Zp(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Yu(a.h,f),Gu(f,y,h)}function _s(a,h){a.H&&V(a.H,function(f,y){de(h,y,f)}),a.l&&Op({},function(f,y){de(h,y,f)})}function Zp(a,h,f){f=Math.min(a.i.length,f);var y=a.l?m(a.l.Na,a.l,a):null;e:{var b=a.i;let M=-1;for(;;){const U=["count="+f];M==-1?0<f?(M=b[0].g,U.push("ofs="+M)):M=0:U.push("ofs="+M);let ue=!0;for(let ze=0;ze<f;ze++){let ie=b[ze].g;const Ze=b[ze].map;if(ie-=M,0>ie)M=Math.max(0,b[ze].g-100),ue=!1;else try{Gw(Ze,U,"req"+ie+"_")}catch{y&&y(Ze)}}if(ue){y=U.join("&");break e}}}return a=a.i.splice(0,f),h.D=a,y}function em(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;It||Q(),B||(It(),B=!0),G.add(h,a),a.v=0}}function Zu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=cs(m(a.Fa,a),rm(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,tm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=cs(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),ea(this),tm(this))};function ec(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function tm(a){a.g=new Ln(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=_n(a.qa);de(h,"RID","rpc"),de(h,"SID",a.K),de(h,"AID",a.T),de(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&de(h,"TO",a.ja),de(h,"TYPE","xmlhttp"),_s(a,h),a.m&&a.o&&Xu(h,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Yo(_n(h)),f.m=null,f.P=!0,Pp(f,a)}t.Za=function(){this.C!=null&&(this.C=null,ea(this),Zu(this),ht(19))};function na(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function nm(a,h){var f=null;if(a.g==h){na(a),ec(a),a.g=null;var y=2}else if(qu(a.h,h))f=h.D,jp(a.h,h),y=1;else return;if(a.G!=0){if(h.o)if(y==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var b=a.B;y=Ho(),ct(y,new Tp(y,f)),ta(a)}else em(a);else if(b=h.s,b==3||b==0&&0<h.X||!(y==1&&Yw(a,h)||y==2&&Zu(a)))switch(f&&0<f.length&&(h=a.h,h.i=h.i.concat(f)),b){case 1:Ar(a,5);break;case 4:Ar(a,10);break;case 3:Ar(a,6);break;default:Ar(a,2)}}}function rm(a,h){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*h}function Ar(a,h){if(a.j.info("Error code "+h),h==2){var f=m(a.fb,a),y=a.Xa;const b=!y;y=new Tr(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Qo(y,"https"),Yo(y),b?zw(y.toString(),f):Hw(y.toString(),f)}else ht(2);a.G=0,a.l&&a.l.sa(h),im(a),Xp(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function im(a){if(a.G=0,a.ka=[],a.l){const h=Mp(a.h);(h.length!=0||a.i.length!=0)&&(N(a.ka,h),N(a.ka,a.i),a.h.i.length=0,I(a.i),a.i.length=0),a.l.ra()}}function sm(a,h,f){var y=f instanceof Tr?_n(f):new Tr(f);if(y.g!="")h&&(y.g=h+"."+y.g),qo(y,y.s);else{var b=l.location;y=b.protocol,h=h?h+"."+b.hostname:b.hostname,b=+b.port;var M=new Tr(null);y&&Qo(M,y),h&&(M.g=h),b&&qo(M,b),f&&(M.l=f),y=M}return f=a.D,h=a.ya,f&&h&&de(y,f,h),de(y,"VER",a.la),_s(a,y),y}function om(a,h,f){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new xe(new Xo({eb:f})):new xe(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function am(){}t=am.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ra(){}ra.prototype.g=function(a,h){return new kt(a,h)};function kt(a,h){Je.call(this),this.g=new Yp(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!w(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new li(this)}S(kt,Je),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Ju(this.g)},kt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Fu(a),a=f);h.i.push(new Dw(h.Ya++,a)),h.G==3&&ta(h)},kt.prototype.N=function(){this.g.l=null,delete this.j,Ju(this.g),delete this.g,kt.aa.N.call(this)};function lm(a){Bu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const f in h){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}S(lm,Bu);function um(){zu.call(this),this.status=1}S(um,zu);function li(a){this.g=a}S(li,am),li.prototype.ua=function(){ct(this.g,"a")},li.prototype.ta=function(a){ct(this.g,new lm(a))},li.prototype.sa=function(a){ct(this.g,new um)},li.prototype.ra=function(){ct(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,w_=function(){return new ra},__=function(){return Ho()},v_=Sr,md={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wo.NO_ERROR=0,Wo.TIMEOUT=8,Wo.HTTP_ERROR=6,Xa=Wo,Ap.COMPLETE="complete",y_=Ap,wp.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",Je.prototype.listen=Je.prototype.K,js=wp,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,g_=xe}).apply(typeof Pa<"u"?Pa:typeof self<"u"?self:typeof window<"u"?window:{});const dy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let os="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new u_("@firebase/firestore");function di(){return Yr.logLevel}function H(t,...e){if(Yr.logLevel<=ne.DEBUG){const n=e.map(Ff);Yr.debug(`Firestore (${os}): ${t}`,...n)}}function Xr(t,...e){if(Yr.logLevel<=ne.ERROR){const n=e.map(Ff);Yr.error(`Firestore (${os}): ${t}`,...n)}}function Ll(t,...e){if(Yr.logLevel<=ne.WARN){const n=e.map(Ff);Yr.warn(`Firestore (${os}): ${t}`,...n)}}function Ff(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${os}) INTERNAL ASSERTION FAILED: `+t;throw Xr(e),new Error(e)}function Ae(t,e){t||ee()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}}class J2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z2{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Br,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Br)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new E_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new it(e)}}class eP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new eP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ae(this.o===void 0);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new nP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Qi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Be(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Be(0,0))}static max(){return new ye(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends xo{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const sP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends xo{construct(e,n,r){return new Qe(e,n,r)}static isValidIdentifier(e){return sP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new K(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new K(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Re.fromString(e))}static fromName(e){return new Y(Re.fromString(e).popFirst(5))}static empty(){return new Y(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Re(e.slice()))}}function oP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new dr(i,Y.empty(),e)}function aP(t){return new dr(t.readTime,t.key,-1)}class dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dr(ye.min(),Y.empty(),-1)}static max(){return new dr(ye.max(),Y.empty(),-1)}}function lP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==uP)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(p=>{o[c]=p,++l,l===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function hP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bf.oe=-1;function zf(t){return t==null}function $l(t){return t===0&&1/t==-1/0}function dP(t){return typeof t=="number"&&Number.isInteger(t)&&!$l(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fy(e)),e=pP(t.get(n),e);return fy(e)}function pP(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function fy(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||We.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ka(this.root,e,this.comparator,!0)}}class ka{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??We.RED,this.left=i??We.EMPTY,this.right=s??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new We(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return We.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new We(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new my(this.data.getIterator())}getIteratorFrom(e){return new my(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class my{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new jt([])}unionWith(e){let n=new Ye(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mP("Invalid base64 string: "+s):s}}(e);return new mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const gP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=gP.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qi(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wf(t){const e=t.mapValue.fields.__previous_value__;return Hf(e)?Wf(e):e}function Fl(t){const e=Jr(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Ul{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hf(t)?4:_P(t)?9007199254740991:vP(t)?10:11:ee()}function gn(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fl(t).isEqual(Fl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Jr(i.timestampValue),l=Jr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qi(i.bytesValue).isEqual(qi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ge(i.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ge(i.integerValue)===Ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ge(i.doubleValue),l=Ge(s.doubleValue);return o===l?$l(o)===$l(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Qi(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(py(o)!==py(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!gn(o[u],l[u])))return!1;return!0}(t,e);default:return ee()}}function To(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function Yi(t,e){if(t===e)return 0;const n=Zr(t),r=Zr(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Ge(s.integerValue||s.doubleValue),u=Ge(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return gy(t.timestampValue,e.timestampValue);case 4:return gy(Fl(t),Fl(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(s,o){const l=qi(s),u=qi(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const p=ae(l[c],u[c]);if(p!==0)return p}return ae(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ae(Ge(s.latitude),Ge(o.latitude));return l!==0?l:ae(Ge(s.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yy(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,p;const d=s.fields||{},m=o.fields||{},_=(l=d.value)===null||l===void 0?void 0:l.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,I=ae(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return I!==0?I:yy(_,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ra.mapValue&&o===Ra.mapValue)return 0;if(s===Ra.mapValue)return 1;if(o===Ra.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},p=Object.keys(c);u.sort(),p.sort();for(let d=0;d<u.length&&d<p.length;++d){const m=ae(u[d],p[d]);if(m!==0)return m;const _=Yi(l[u[d]],c[p[d]]);if(_!==0)return _}return ae(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ee()}}function gy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Jr(t),r=Jr(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function yy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Yi(n[i],r[i]);if(s)return s}return ae(n.length,r.length)}function Xi(t){return gd(t)}function gd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=gd(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${gd(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function Ja(t){switch(Zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wf(t);return e?16+Ja(e):16;case 5:return 2*t.stringValue.length;case 6:return qi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ja(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ii(r.fields,(s,o)=>{i+=s.length+Ja(o)}),i}(t.mapValue);default:throw ee()}}function yd(t){return!!t&&"integerValue"in t}function Gf(t){return!!t&&"arrayValue"in t}function Za(t){return!!t&&"mapValue"in t}function vP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ks(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ks(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ks(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _P(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Za(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ks(n)}setAll(e){let n=Qe.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ks(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Za(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Za(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ii(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bt(Ks(this.value))}}function T_(t){const e=[];return ii(t.fields,(n,r)=>{const i=new Qe([n]);if(Za(r)){const s=T_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new tn(e,0,ye.min(),ye.min(),ye.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new tn(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new tn(e,2,n,ye.min(),ye.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,ye.min(),ye.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.position=e,this.inclusive=n}}function vy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Yi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _y(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function wP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{}class Le extends A_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SP(e,n,r):n==="array-contains"?new AP(e,r):n==="in"?new CP(e,r):n==="not-in"?new IP(e,r):n==="array-contains-any"?new PP(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xP(e,r):new TP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yi(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Yi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends A_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new fr(e,n)}matches(e){return C_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function C_(t){return t.op==="and"}function I_(t){return EP(t)&&C_(t)}function EP(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function vd(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+Xi(t.value);if(I_(t))return t.filters.map(e=>vd(e)).join(",");{const e=t.filters.map(n=>vd(n)).join(",");return`${t.op}(${e})`}}function P_(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&gn(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&P_(o,i.filters[l]),!0):!1}(t,e):void ee()}function k_(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${Xi(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(k_).join(" ,")+"}"}(t):"Filter"}class SP extends Le{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class xP extends Le{constructor(e,n){super(e,"in",n),this.keys=R_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TP extends Le{constructor(e,n){super(e,"not-in",n),this.keys=R_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function R_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class AP extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gf(n)&&To(n.arrayValue,this.value)}}class CP extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&To(this.value.arrayValue,n)}}class IP extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!To(this.value.arrayValue,n)}}class PP extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>To(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function wy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new kP(t,e,n,r,i,s,o)}function Kf(t){const e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xi(r)).join(",")),e.ue=n}return e.ue}function Qf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_y(t.startAt,e.startAt)&&_y(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function RP(t,e,n,r,i,s,o,l){return new xu(t,e,n,r,i,s,o,l)}function NP(t){return new xu(t)}function Ey(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bP(t){return t.collectionGroup!==null}function Qs(t){const e=he(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ye(Qe.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new zl(s,r))}),n.has(Qe.keyField().canonicalString())||e.ce.push(new zl(Qe.keyField(),r))}return e.ce}function zr(t){const e=he(t);return e.le||(e.le=DP(e,Qs(t))),e.le}function DP(t,e){if(t.limitType==="F")return wy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new zl(i.field,s)});const n=t.endAt?new Bl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bl(t.startAt.position,t.startAt.inclusive):null;return wy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _d(t,e,n){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function N_(t,e){return Qf(zr(t),zr(e))&&t.limitType===e.limitType}function b_(t){return`${Kf(zr(t))}|lt:${t.limitType}`}function Ps(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>k_(i)).join(", ")}]`),zf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xi(i)).join(",")),`Target(${r})`}(zr(t))}; limitType=${t.limitType})`}function qf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Qs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=vy(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Qs(r),i)||r.endAt&&!function(o,l,u){const c=vy(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Qs(r),i))}(t,e)}function jP(t){return(e,n)=>{let r=!1;for(const i of Qs(t)){const s=MP(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function MP(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Yi(u,c):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return x_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new Ct(Y.comparator);function Hl(){return OP}const D_=new Ct(Y.comparator);function Na(...t){let e=D_;for(const n of t)e=e.insert(n.key,n);return e}function j_(t){let e=D_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lr(){return qs()}function M_(){return qs()}function qs(){return new si(t=>t.toString(),(t,e)=>t.isEqual(e))}const VP=new Ct(Y.comparator),LP=new Ye(Y.comparator);function ot(...t){let e=LP;for(const n of t)e=e.add(n);return e}const $P=new Ye(ae);function FP(){return $P}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$l(e)?"-0":e}}function O_(t){return{integerValue:""+t}}function UP(t,e){return dP(e)?O_(e):Yf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this._=void 0}}function BP(t,e,n){return t instanceof Wl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hf(s)&&(s=Wf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ao?L_(t,e):t instanceof Co?$_(t,e):function(i,s){const o=V_(i,s),l=Sy(o)+Sy(i.Pe);return yd(o)&&yd(i.Pe)?O_(l):Yf(i.serializer,l)}(t,e)}function zP(t,e,n){return t instanceof Ao?L_(t,e):t instanceof Co?$_(t,e):n}function V_(t,e){return t instanceof Gl?function(r){return yd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Wl extends Tu{}class Ao extends Tu{constructor(e){super(),this.elements=e}}function L_(t,e){const n=F_(e);for(const r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Co extends Tu{constructor(e){super(),this.elements=e}}function $_(t,e){let n=F_(e);for(const r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}class Gl extends Tu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Sy(t){return Ge(t.integerValue||t.doubleValue)}function F_(t){return Gf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HP(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ao&&i instanceof Ao||r instanceof Co&&i instanceof Co?Qi(r.elements,i.elements,gn):r instanceof Gl&&i instanceof Gl?gn(r.Pe,i.Pe):r instanceof Wl&&i instanceof Wl}(t.transform,e.transform)}class WP{constructor(e,n){this.version=e,this.transformResults=n}}class Ot{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ot}static exists(e){return new Ot(void 0,e)}static updateTime(e){return new Ot(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function el(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Au{}function U_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cu(t.key,Ot.none()):new Fo(t.key,t.data,Ot.none());{const n=t.data,r=bt.empty();let i=new Ye(Qe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new _r(t.key,r,new jt(i.toArray()),Ot.none())}}function GP(t,e,n){t instanceof Fo?function(i,s,o){const l=i.value.clone(),u=Ty(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof _r?function(i,s,o){if(!el(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Ty(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(B_(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ys(t,e,n,r){return t instanceof Fo?function(s,o,l,u){if(!el(s.precondition,o))return l;const c=s.value.clone(),p=Ay(s.fieldTransforms,u,o);return c.setAll(p),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof _r?function(s,o,l,u){if(!el(s.precondition,o))return l;const c=Ay(s.fieldTransforms,u,o),p=o.data;return p.setAll(B_(s)),p.setAll(c),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,l){return el(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function KP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=V_(r.transform,i||null);s!=null&&(n===null&&(n=bt.empty()),n.set(r.field,s))}return n||null}function xy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qi(r,i,(s,o)=>HP(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fo extends Au{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _r extends Au{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function B_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ty(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,zP(o,l,n[i]))}return r}function Ay(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,BP(s,o,e))}return r}class Cu extends Au{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QP extends Au{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&GP(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ys(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ys(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=U_(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&Qi(this.mutations,e.mutations,(n,r)=>xy(n,r))&&Qi(this.baseMutations,e.baseMutations,(n,r)=>xy(n,r))}}class Xf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return VP}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Xf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,te;function XP(t){switch(t){default:return ee();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function JP(t){if(t===void 0)return Xr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Pe.OK:return F.OK;case Pe.CANCELLED:return F.CANCELLED;case Pe.UNKNOWN:return F.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return F.INTERNAL;case Pe.UNAVAILABLE:return F.UNAVAILABLE;case Pe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Pe.NOT_FOUND:return F.NOT_FOUND;case Pe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Pe.ABORTED:return F.ABORTED;case Pe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Pe.DATA_LOSS:return F.DATA_LOSS;default:return ee()}}(te=Pe||(Pe={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new m_([4294967295,4294967295],0);class ZP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ek(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tk(t,e){return wd(t,e.toTimestamp())}function Mi(t){return Ae(!!t),ye.fromTimestamp(function(n){const r=Jr(n);return new Be(r.seconds,r.nanos)}(t))}function z_(t,e){return Ed(t,e).canonicalString()}function Ed(t,e){const n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nk(t){const e=Re.fromString(t);return Ae(ck(e)),e}function Sd(t,e){return z_(t.databaseId,e.path)}function rk(t){const e=nk(t);return e.length===4?Re.emptyPath():sk(e)}function ik(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sk(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Cy(t,e,n){return{name:Sd(t,e),fields:n.value.mapValue.fields}}function ok(t,e){let n;if(e instanceof Fo)n={update:Cy(t,e.key,e.value)};else if(e instanceof Cu)n={delete:Sd(t,e.key)};else if(e instanceof _r)n={update:Cy(t,e.key,e.data),updateMask:uk(e.fieldMask)};else{if(!(e instanceof QP))return ee();n={verify:Sd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Wl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ao)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Co)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Gl)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:tk(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function ak(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Mi(i.updateTime):Mi(s);return o.isEqual(ye.min())&&(o=Mi(s)),new WP(o,i.transformResults||[])}(n,e))):[]}function lk(t){let e=rk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(d){const m=H_(d);return m instanceof fr&&I_(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(m=>function(S){return new zl(fi(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(d){let m;return m=typeof d=="object"?d.value:d,zf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(d){const m=!!d.before,_=d.values||[];return new Bl(_,m)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const m=!d.before,_=d.values||[];return new Bl(_,m)}(n.endAt)),RP(e,i,o,s,l,"F",u,c)}function H_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fi(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fi(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fi(n.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fi(n.unaryFilter.field);return Le.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Le.create(fi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>H_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function fi(t){return Qe.fromServerFormat(t.fieldPath)}function uk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.ct=e}}function dk(t){const e=lk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_d(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.un=new pk}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(dr.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class pk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(Re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _t(e,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t.DEFAULT_COLLECTION_PERCENTILE=10,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_t.DEFAULT=new _t(41943040,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_t.DISABLED=new _t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ji(0)}static kn(){return new Ji(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class mk{constructor(e){this.Un=e,this.buffer=new Ye(Py),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Py(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){H("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?H("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Uf(n)}await this.Hn(3e5)})}}class yk{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(Bf.oe);const r=new mk(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(Iy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iy):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,l,u,c;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,l=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),di()<=ne.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${d} documents in `+(c-u)+`ms
Total Duration: ${c-p}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function vk(t,e){return new yk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.changes=new si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ys(r.mutation,i,jt.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=Lr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Na();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Hl();const o=qs(),l=function(){return qs()}();return n.forEach((u,c)=>{const p=r.get(c.key);i.has(c.key)&&(p===void 0||p.mutation instanceof _r)?s=s.insert(c.key,c):p!==void 0?(o.set(c.key,p.mutation.getFieldMask()),Ys(p.mutation,c,p.mutation.getFieldMask(),Be.now())):o.set(c.key,jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,p)=>o.set(c,p)),n.forEach((c,p)=>{var d;return l.set(c,new wk(p,(d=o.get(c))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,n){const r=qs();let i=new Ct((o,l)=>o-l),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let p=r.get(u)||jt.empty();p=l.applyToLocalView(c,p),r.set(u,p);const d=(i.get(l.batchId)||ot()).add(u);i=i.insert(l.batchId,d)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,p=u.value,d=M_();p.forEach(m=>{if(!s.has(m)){const _=U_(n.get(m),r.get(m));_!==null&&d.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(Lr());let l=-1,u=s;return o.next(c=>O.forEach(c,(p,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),s.get(p)?O.resolve():this.remoteDocumentCache.getEntry(e,p).next(m=>{u=u.insert(p,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ot())).next(p=>({batchId:l,changes:j_(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=Na();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Na();return this.indexManager.getCollectionParents(e,s).next(l=>O.forEach(l,u=>{const c=function(d,m){return new xu(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(p=>{p.forEach((d,m)=>{o=o.insert(d,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const p=c.getKey();o.get(p)===null&&(o=o.insert(p,tn.newInvalidDocument(p)))});let l=Na();return o.forEach((u,c)=>{const p=s.get(u);p!==void 0&&Ys(p.mutation,c,jt.empty(),Be.now()),qf(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mi(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:dk(i.bundledQuery),readTime:Mi(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.overlays=new Ct(Y.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Lr();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=Lr(),s=n.length+1,o=new Y(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ct((c,p)=>c-p);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let p=s.get(c.largestBatchId);p===null&&(p=Lr(),s=s.insert(c.largestBatchId,p)),p.set(c.getKey(),c)}}const l=Lr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,p)=>l.set(c,p)),!(l.size()>=i)););return O.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new YP(n,r));let s=this.Ir.get(n);s===void 0&&(s=ot(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this.Tr=new Ye(Me.Er),this.dr=new Ye(Me.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Me(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Me(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Y(new Re([])),r=new Me(n,e),i=new Me(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Y(new Re([])),r=new Me(n,e),i=new Me(n,e+1);let s=ot();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Me(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Me{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||ae(e.wr,n.wr)}static Ar(e,n){return ae(e.wr,n.wr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ye(Me.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qP(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new Me(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Me(n,0),i=new Me(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(ae);return n.forEach(i=>{const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new Me(new Y(s),0);let l=new Ye(ae);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},o),O.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{const s=new Me(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Me(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.Mr=e,this.docs=function(){return new Ct(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=Hl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hl();const o=n.path,l=new Y(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:p}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lP(aP(p),r)<=0||(i.has(p.key)||qf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ik(this)}getSize(e){return O.resolve(this.size)}}class Ik extends _k{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.persistence=e,this.Nr=new si(n=>Kf(n),Qf),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jf,this.targetCount=0,this.kr=Ji.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ji(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Bf(0),this.Kr=!1,this.Kr=!0,this.$r=new Tk,this.referenceDelegate=e(this),this.Ur=new Pk(this),this.indexManager=new fk,this.remoteDocumentCache=function(i){return new Ck(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hk(n),this.Gr=new Sk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Ak(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new kk(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class kk extends cP{constructor(e){super(),this.currentSequenceNumber=e}}class Zf{constructor(e){this.persistence=e,this.Jr=new Jf,this.Yr=null}static Zr(e){return new Zf(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{const i=Y.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Kl{constructor(e,n){this.persistence=e,this.ti=new si(r=>fP(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vk(this,n)}static Zr(e,n){return new Kl(e,n)}zr(){}jr(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return O.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?O.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(l=>{l||(r++,s.removeEntry(o,ye.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),O.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ja(e.data.value)),n}nr(e,n,r){return O.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ot(),i=ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ep(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return DI()?8:hP(NI())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Rk;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(di()<=ne.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(di()<=ne.DEBUG&&H("QueryEngine","Query:",Ps(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(di()<=ne.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):O.resolve())}Yi(e,n){if(Ey(n))return O.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_d(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ot(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,o,u.readTime)?this.Yi(e,_d(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return Ey(n)||i.isEqual(ye.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?O.resolve(null):(di()<=ne.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ps(n)),this.rs(e,o,n,oP(i,-1)).next(l=>l))})}ts(e,n){let r=new Ye(jP(e));return n.forEach((i,s)=>{qf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return di()<=ne.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ps(n)),this.Ji.getDocumentsMatchingQuery(e,n,dr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ct(ae),this._s=new si(s=>Kf(s),Qf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ek(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Dk(t,e,n,r){return new bk(t,e,n,r)}async function G_(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=ot();for(const c of i){o.push(c.batchId);for(const p of c.mutations)u=u.add(p.key)}for(const c of s){l.push(c.batchId);for(const p of c.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:l}))})})}function jk(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,p){const d=c.batch,m=d.keys();let _=O.resolve();return m.forEach(S=>{_=_.next(()=>p.getEntry(u,S)).next(I=>{const N=c.docVersions.get(S);Ae(N!==null),I.version.compareTo(N)<0&&(d.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),p.addEntry(I)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ot();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Mk(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Ok(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class ky{constructor(){this.activeTargetIds=FP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vk{constructor(){this.so=new ky,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ky,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba=null;function Bc(){return ba===null?ba=function(){return 268435456+Math.round(2147483648*Math.random())}():ba++,"0x"+ba.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt="WebChannelConnection";class Uk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=Bc(),u=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(p=>(H("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw Ll("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+os}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=$k[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Bc();return new Promise((o,l)=>{const u=new g_;u.setWithCredentials(!0),u.listenOnce(y_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xa.NO_ERROR:const p=u.getResponseJson();H(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case Xa.TIMEOUT:H(rt,`RPC '${e}' ${s} timed out`),l(new K(F.DEADLINE_EXCEEDED,"Request time out"));break;case Xa.HTTP_ERROR:const d=u.getStatus();if(H(rt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const S=function(N){const T=N.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(T)>=0?T:F.UNKNOWN}(_.status);l(new K(S,_.message))}else l(new K(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K(F.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{H(rt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);H(rt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Bc(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=w_(),l=__(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");H(rt,`Creating RPC '${e}' stream ${i}: ${p}`,u);const d=o.createWebChannel(p,u);let m=!1,_=!1;const S=new Fk({Io:N=>{_?H(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(H(rt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),H(rt,`RPC '${e}' stream ${i} sending:`,N),d.send(N))},To:()=>d.close()}),I=(N,T,w)=>{N.listen(T,C=>{try{w(C)}catch(j){setTimeout(()=>{throw j},0)}})};return I(d,js.EventType.OPEN,()=>{_||(H(rt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),I(d,js.EventType.CLOSE,()=>{_||(_=!0,H(rt,`RPC '${e}' stream ${i} transport closed`),S.So())}),I(d,js.EventType.ERROR,N=>{_||(_=!0,Ll(rt,`RPC '${e}' stream ${i} transport errored:`,N),S.So(new K(F.UNAVAILABLE,"The operation could not be completed")))}),I(d,js.EventType.MESSAGE,N=>{var T;if(!_){const w=N.data[0];Ae(!!w);const C=w,j=C.error||((T=C[0])===null||T===void 0?void 0:T.error);if(j){H(rt,`RPC '${e}' stream ${i} received error:`,j);const L=j.status;let V=function(A){const x=Pe[A];if(x!==void 0)return JP(x)}(L),E=j.message;V===void 0&&(V=F.INTERNAL,E="Unknown error status: "+L+" with message "+j.message),_=!0,S.So(new K(V,E)),d.close()}else H(rt,`RPC '${e}' stream ${i} received:`,w),S.bo(w)}}),I(l,v_.STAT_EVENT,N=>{N.stat===md.PROXY?H(rt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===md.NOPROXY&&H(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function zc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){return new ZP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new K_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new K(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zk extends Bk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ak(e.writeResults,e.commitTime),r=Mi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ik(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ok(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ed(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(F.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Ed(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Wk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xr(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Bo(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=he(u);c.L_.add(4),await Uo(c),c.q_.set("Unknown"),c.L_.delete(4),await Pu(c)}(this))})}),this.q_=new Wk(r,i)}}async function Pu(t){if(Bo(t))for(const e of t.B_)await e(!0)}async function Uo(t){for(const e of t.B_)await e(!1)}function Bo(t){return he(t).L_.size===0}async function Q_(t,e,n){if(!$o(e))throw e;t.L_.add(1),await Uo(t),t.q_.set("Offline"),n||(n=()=>Mk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Pu(t)})}function q_(t,e){return e().catch(n=>Q_(t,n,e))}async function ku(t){const e=he(t),n=pr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Kk(e);)try{const i=await Ok(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Qk(e,i)}catch(i){await Q_(e,i)}Y_(e)&&X_(e)}function Kk(t){return Bo(t)&&t.O_.length<10}function Qk(t,e){t.O_.push(e);const n=pr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Y_(t){return Bo(t)&&!pr(t).n_()&&t.O_.length>0}function X_(t){pr(t).start()}async function qk(t){pr(t).p_()}async function Yk(t){const e=pr(t);for(const n of t.O_)e.m_(n.mutations)}async function Xk(t,e,n){const r=t.O_.shift(),i=Xf.from(r,e,n);await q_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ku(t)}async function Jk(t,e){e&&pr(t).V_&&await async function(r,i){if(function(o){return XP(o)&&o!==F.ABORTED}(i.code)){const s=r.O_.shift();pr(r).s_(),await q_(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ku(r)}}(t,e),Y_(t)&&X_(t)}async function Ny(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Bo(n);n.L_.add(3),await Uo(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Pu(n)}async function Zk(t,e){const n=he(t);e?(n.L_.delete(2),await Pu(n)):e||(n.L_.add(2),await Uo(n),n.q_.set("Unknown"))}function pr(t){return t.U_||(t.U_=function(n,r,i){const s=he(n);return s.w_(),new zk(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:qk.bind(null,t),mo:Jk.bind(null,t),f_:Yk.bind(null,t),g_:Xk.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ku(t)):(await t.U_.stop(),t.O_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new tp(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J_(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),$o(t))return new K(F.UNAVAILABLE,`${e}: ${t}`);throw t}class eR{constructor(){this.queries=by(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=he(n),s=i.queries;i.queries=by(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new K(F.ABORTED,"Firestore shutting down"))}}function by(){return new si(t=>b_(t),N_)}function tR(t){t.Y_.forEach(e=>{e.next()})}var Dy,jy;(jy=Dy||(Dy={})).ea="default",jy.Cache="cache";class nR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new si(l=>b_(l),N_),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(Y.comparator),this.Na=new Map,this.La=new Jf,this.Ba={},this.ka=new Map,this.qa=Ji.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function rR(t,e,n){const r=aR(t);try{const i=await function(o,l){const u=he(o),c=Be.now(),p=l.reduce((_,S)=>_.add(S.key),ot());let d,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=Hl(),I=ot();return u.cs.getEntries(_,p).next(N=>{S=N,S.forEach((T,w)=>{w.isValidDocument()||(I=I.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,S)).next(N=>{d=N;const T=[];for(const w of l){const C=KP(w,d.get(w.key).overlayedDocument);C!=null&&T.push(new _r(w.key,C,T_(C.value.mapValue),Ot.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,T,l)}).next(N=>{m=N;const T=N.applyToLocalDocumentSet(d,I);return u.documentOverlayCache.saveOverlays(_,N.batchId,T)})}).then(()=>({batchId:m.batchId,changes:j_(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ct(ae)),c=c.insert(l,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ru(r,i.changes),await ku(r.remoteStore)}catch(i){const s=J_(i,"Failed to persist write");n.reject(s)}}function My(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=he(o);u.onlineState=l;let c=!1;u.queries.forEach((p,d)=>{for(const m of d.j_)m.Z_(l)&&(c=!0)}),c&&tR(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iR(t,e){const n=he(t),r=e.batch.batchId;try{const i=await jk(n.localStore,e);ew(n,r,null),Z_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ru(n,i)}catch(i){await Uf(i)}}async function sR(t,e,n){const r=he(t);try{const i=await function(o,l){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let p;return u.mutationQueue.lookupMutationBatch(c,l).next(d=>(Ae(d!==null),p=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,p)).next(()=>u.localDocuments.getDocuments(c,p))})}(r.localStore,e);ew(r,e,n),Z_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ru(r,i)}catch(i){await Uf(i)}}function Z_(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ew(t,e,n){const r=he(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}async function Ru(t,e,n){const r=he(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(c=>{var p;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(p=void 0)===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){i.push(c);const d=ep.Wi(u.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const p=he(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>O.forEach(c,m=>O.forEach(m.$i,_=>p.persistence.referenceDelegate.addReference(d,m.targetId,_)).next(()=>O.forEach(m.Ui,_=>p.persistence.referenceDelegate.removeReference(d,m.targetId,_)))))}catch(d){if(!$o(d))throw d;H("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const m=d.targetId;if(!d.fromCache){const _=p.os.get(m),S=_.snapshotVersion,I=_.withLastLimboFreeSnapshotVersion(S);p.os=p.os.insert(m,I)}}}(r.localStore,s))}async function oR(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await G_(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new K(F.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ru(n,r.hs)}}function aR(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sR.bind(null,e),e}class Ql{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Iu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Dk(this.persistence,new Nk,e.initialUser,this.serializer)}Ga(e){return new W_(Zf.Zr,this.serializer)}Wa(e){return new Vk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ql.provider={build:()=>new Ql};class lR extends Ql{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Ae(this.persistence.referenceDelegate instanceof Kl);const r=this.persistence.referenceDelegate.garbageCollector;return new gk(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?_t.withCacheSize(this.cacheSizeBytes):_t.DEFAULT;return new W_(r=>Kl.Zr(r,n),this.serializer)}}class xd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>My(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oR.bind(null,this.syncEngine),await Zk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eR}()}createDatastore(e){const n=Iu(e.databaseInfo.databaseId),r=function(s){return new Uk(s)}(e.databaseInfo);return function(s,o,l,u){return new Hk(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new Gk(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>My(this.syncEngine,n,0),function(){return Ry.D()?new Ry:new Lk}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,p){const d=new nR(i,s,o,l,u,c);return p&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=he(i);H("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Uo(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xd.provider={build:()=>new xd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uR=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=S_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{H("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=J_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Hc(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await G_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Oy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cR(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ny(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ny(e.remoteStore,i)),t._onlineComponents=e}async function cR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ll("Error using user provided cache. Falling back to memory cache: "+n),await Hc(t,new Ql)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await Hc(t,new lR(void 0));return t._offlineComponents}async function hR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await Oy(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await Oy(t,new xd))),t._onlineComponents}function dR(t){return hR(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t,e,n){if(!n)throw new K(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pR(t,e,n,r){if(e===!0&&r===!0)throw new K(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ly(t){if(!Y.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function np(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function Io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=np(t);throw new K(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $y({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $y(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new X2;switch(r.type){case"firstParty":return new tP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Vy.get(n);r&&(H("ComponentProvider","Removing Datastore"),Vy.delete(n),r.terminate())}(this),Promise.resolve()}}function mR(t,e,n,r={}){var i;const s=(t=Io(t,rp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=it.MOCK_USER;else{l=RI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new K(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new it(c)}t._authCredentials=new J2(new E_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ip(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Po extends ip{constructor(e,n,r){super(e,n,NP(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Y(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function gR(t,e,...n){if(t=hr(t),arguments.length===1&&(e=S_.newId()),fR("doc","path",e),t instanceof rp){const r=Re.fromString(e,...n);return Ly(r),new Pn(t,null,new Y(r))}{if(!(t instanceof Pn||t instanceof Po))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return Ly(r),new Pn(t.firestore,t instanceof Po?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new K_(this,"async_queue_retry"),this.Vu=()=>{const r=zc();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=zc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=zc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Br;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$o(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=tp.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Nu extends rp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Fy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fy(e),this._firestoreClient=void 0,await e}}}function yR(t,e){const n=typeof t=="object"?t:$2(),r=typeof t=="string"?t:"(default)",i=M2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=PI("firestore");s&&mR(i,...s)}return i}function nw(t){if(t._terminated)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vR(t),t._firestoreClient}function vR(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,p){return new yP(l,u,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tw(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uR(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(mn.fromBase64String(e))}catch(n){throw new K(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ko(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=/^__.*__$/;class wR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fo(e,this.data,n,this.fieldTransforms)}}class sw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ow(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class ap{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ql(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ow(this.Cu)&&_R.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ER{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Iu(e)}Qu(e,n,r,i=!1){return new ap({Cu:e,methodName:n,qu:r,path:Qe.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aw(t){const e=t._freezeSettings(),n=Iu(t._databaseId);return new ER(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lw(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);lp("Data must be an object, but it was:",o,r);const l=uw(r,o);let u,c;if(s.merge)u=new jt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const d of s.mergeFields){const m=Td(e,d,n);if(!o.contains(m))throw new K(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);dw(p,m)||p.push(m)}u=new jt(p),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new wR(new bt(l),u,c)}class bu extends op{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bu}}function SR(t,e,n,r){const i=t.Qu(1,e,n);lp("Data must be an object, but it was:",i,r);const s=[],o=bt.empty();ii(r,(u,c)=>{const p=hw(e,u,n);c=hr(c);const d=i.Nu(p);if(c instanceof bu)s.push(p);else{const m=Du(c,d);m!=null&&(s.push(p),o.set(p,m))}});const l=new jt(s);return new sw(o,l,i.fieldTransforms)}function xR(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[Td(e,r,n)],u=[i];if(s.length%2!=0)throw new K(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(Td(e,s[m])),u.push(s[m+1]);const c=[],p=bt.empty();for(let m=l.length-1;m>=0;--m)if(!dw(c,l[m])){const _=l[m];let S=u[m];S=hr(S);const I=o.Nu(_);if(S instanceof bu)c.push(_);else{const N=Du(S,I);N!=null&&(c.push(_),p.set(_,N))}}const d=new jt(c);return new sw(p,d,o.fieldTransforms)}function Du(t,e){if(cw(t=hr(t)))return lp("Unsupported field value:",e,t),uw(t,e);if(t instanceof op)return function(r,i){if(!ow(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Du(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=hr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Be.fromDate(r);return{timestampValue:wd(i.serializer,s)}}if(r instanceof Be){const s=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wd(i.serializer,s)}}if(r instanceof rw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:ek(i.serializer,r._byteString)};if(r instanceof Pn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:z_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof iw)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return Yf(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${np(r)}`)}(t,e)}function uw(t,e){const n={};return x_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(t,(r,i)=>{const s=Du(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function cw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof rw||t instanceof ko||t instanceof Pn||t instanceof op||t instanceof iw)}function lp(t,e,n){if(!cw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=np(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Td(t,e,n){if((e=hr(e))instanceof sp)return e._internalPath;if(typeof e=="string")return hw(t,e);throw ql("Field path arguments must be of type string or ",t,!1,void 0,n)}const TR=new RegExp("[~\\*/\\[\\]]");function hw(t,e,n){if(e.search(TR)>=0)throw ql(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sp(...e.split("."))._internalPath}catch{throw ql(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ql(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new K(F.INVALID_ARGUMENT,l+t+u)}function dw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function AR(t,e,n){t=Io(t,Pn);const r=Io(t.firestore,Nu),i=fw(t.converter,e,n);return up(r,[lw(aw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ot.none())])}function CR(t){return up(Io(t.firestore,Nu),[new Cu(t._key,Ot.none())])}function up(t,e){return function(r,i){const s=new Br;return r.asyncQueue.enqueueAndForget(async()=>rR(await dR(r),i,s)),s.promise}(nw(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=aw(e)}set(e,n,r){this._verifyNotCommitted();const i=Wc(e,this._firestore),s=fw(i.converter,n,r),o=lw(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ot.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Wc(e,this._firestore);let o;return o=typeof(n=hr(n))=="string"||n instanceof sp?xR(this._dataReader,"WriteBatch.update",s._key,n,r,i):SR(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ot.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Wc(e,this._firestore);return this._mutations=this._mutations.concat(new Cu(n._key,Ot.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new K(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wc(t,e){if((t=hr(t)).firestore!==e)throw new K(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){return nw(t=Io(t,Nu)),new IR(t,e=>up(t,e))}(function(e,n=!0){(function(i){os=i})(L2),Vl(new Eo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Nu(new Z2(r.getProvider("auth-internal")),new rP(r.getProvider("app-check-internal")),function(c,p){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(c.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ji(dy,"4.7.4",e),ji(dy,"4.7.4","esm2017")})();class kR{constructor({config:e}){W(this,"expenseCollection");W(this,"app");W(this,"db");this.expenseCollection="expenses",this.app=d_(e),this.db=yR(this.app)}async addExpense(e){console.debug("FirestoreClient.addExpense::",e);const n=this.getExpenseDocRef(e.id);await AR(n,e),console.debug("FirestoreClient.addExpense::completed without error")}async deleteExpense(e){console.debug("FirestoreClient.deleteExpense::expenseId=",e);const n=this.getExpenseDocRef(e);await CR(n),console.debug("FirestoreClient.deleteExpense:: completed without error")}async setAll(e){const n=PR(this.db);e.map(RR).forEach(r=>{const i=this.getExpenseDocRef(r.id);n.set(i,r)}),await n.commit()}getExpenseDocRef(e){return gR(this.db,this.expenseCollection,e)}}function RR(t){return Object.entries(t).filter(([e,n])=>n!==void 0).reduce((e,[n,r])=>(e[n]=r,e),{})}function Uy(t){const e=JSON.stringify(t,null,2);return new Blob([e],{type:"application/json"})}const NR=Lt.div`
  padding: 1rem 0;
`;function bR(t,e){const n=URL.createObjectURL(t),r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="blob",r.onload=function(i){if(this.status===200){const s=this.response,o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=e,o.click()}else{const s=[`Status 200 expected but got ${this.status} instead. No idea what happened`,`here:
`,`
`,`blob=${t.text()}
`,`
`,`filename=${e}
`,`
`,`fileUrl=${n}
`,`
`].join("");throw new Error(s)}},r.send()}function By(){return navigator.share===void 0}function DR(){return new Date().toISOString().slice(0,19).replaceAll(":","").replaceAll("-","").replace("T","-")}function jR({expenses:t,app:e}){const[n,r]=D.useState(!1),s=`expenses-form-${DR()}.json`,o=By()===!1;function l(){const d=Uy(t);bR(d,s)}function u(){const d=Uy(t),m=new File([d],s,{type:"text/csv"});if(By()){alert("Your device is not compatible with the Web Share API, sorry :)");return}const _={title:"fitness-tracker CSV",files:[m]};if(!navigator.canShare(_)){alert("You cannot share the CSV for some reason, sorry :)");return}navigator.share(_).then(()=>alert("all good")).catch(I=>{alert(I)})}function c(d){const m=e.paymentAccountsManager.get({id:d.paid_with});if(m===void 0)throw $e(`failed to clean Expense because Account ID ${d.paid_with} was not found`);const _={id:d.id,amount:d.amount,currency:d.currency,description:d.description,datetime:d.datetime,paid_with:m.ledgerName,shared:d.shared,pending:d.pending,splits:d.splits,published_at:Df(wo())};return d.originalAmount===void 0?_:{..._,originalAmount:d.originalAmount,originalCurrency:d.originalCurrency}}function p(){const d=t.map(c),m=vt.firestoreConfig.read();if(m===void 0){alert("Please, set up Firestore config in settings");return}const _=new kR({config:m});r(!0),_.setAll(d).then(()=>{r(!1)}).catch(S=>{Zs.add({header:"Failed to push all expenses to Firestore",description:S})})}return g.jsxs(NR,{children:[g.jsx(X,{text:"Download CSV",onClick:()=>l()}),g.jsx(X,{text:"Share CSV",onClick:()=>u(),disabled:o===!1}),g.jsx(X,{text:"Push to Firestore",onClick:()=>p(),disabled:n,icon:n?"rotate":void 0})]})}function MR({app:t}){const e=Lo(),[n,r]=D.useState([]),[i,s]=D.useState();D.useEffect(()=>{const d=t.expenseManager.change$.subscribe(m=>{s(t.paymentAccountsManager.getDefault()),r(t.expenseManager.getAll())});return s(t.paymentAccountsManager.getDefault()),r(t.expenseManager.getAll()),()=>{d.unsubscribe()}},[t]);function o(d){e(Ke.expenseEditor.replace(":expenseId",d))}function l(){t.expenseManager.change$.pipe(BS()).subscribe(_=>{o(_.expenseId)});const d=t.paymentAccountsManager.getDefault();if(d===void 0)throw $e("No default account found");const m={datetime:Df(wo()),amount:void 0,originalAmount:void 0,currency:d.currency,originalCurrency:void 0,description:"",shared:!1,pending:!0,paid_with:d.id,splits:[]};t.expenseManager.add(m)}function u(){window.location.reload(!0)}const c=i!==void 0,p=n.filter(d=>d.readyToPublish).map(d=>d.expense);return g.jsxs(kn,{children:[g.jsx(X,{text:"reload PWA",icon:"rotate",onClick:u}),c?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex justify-center items-center p-4",role:"warning",children:g.jsx("div",{children:"Add expense or select an existing one"})}),g.jsx(X,{text:"Add expense",onClick:l})]}):g.jsx("div",{className:"flex justify-center p-4",role:"warning",children:g.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[g.jsxs("div",{children:["Must ",g.jsx("b",{children:"select a default account"}),' in "Accounts" page to add an expense.']}),g.jsx(wu,{to:Ke.paymentAccounts,children:g.jsx(X,{text:"Go to Accounts"})})]})}),p.length>0&&g.jsx(jR,{expenses:p,app:t}),g.jsx("div",{className:"mt-4",children:g.jsx(vI,{expenses:n,onEditExpense:o,onDelete:d=>t.expenseManager.delete(d),app:t})})]})}function OR({split:t,onChange:e}){const[n,r]=D.useState(t.paid),[i,s]=D.useState(t.owed);D.useEffect(()=>{r(t.paid),s(t.owed)},[t]);function o(u){s(u),e({...t,owed:u})}function l(u){r(u),e({...t,paid:u})}return g.jsxs("li",{role:"split",className:"px-4",children:[g.jsx("div",{role:"split-name",className:"text-lg pt-3",children:t.person}),g.jsxs("div",{className:"grid grid-col-2 gap-3",children:[g.jsx("div",{role:"split-paid",className:"col-start-0 col-start-1",children:g.jsx(Ue,{htmlFor:`paid-${t.person}`,text:"paid",children:g.jsx("div",{className:"pt-1",children:g.jsx(Ws,{value:n,placeholder:"Paid amount",onChange:l})})})}),g.jsx("div",{role:"split-owed",className:"col-start-1 col-start-2",children:g.jsx(Ue,{htmlFor:`paid-${t.person}`,text:"owed",children:g.jsx("div",{className:"pt-1",children:g.jsx(Ws,{value:i,placeholder:"Owed amount",onChange:o})})})})]})]})}function Gc(t){const e=Math.pow(10,lC),n=t.map(d=>d.paid||0).reduce((d,m)=>d+m,0),r=t.length,i=e*n/r,s=Math.floor(i),o=n*e-s*t.length,l=1,u=[];let c=0;for(let d=0;d<t.length;d++)c<o?(c+=l,u.push(s+l)):u.push(s);return t.map((d,m)=>({...d,paid:d.paid===void 0?0:d.paid,owed:u[m]/e}))}function VR(t){let e=0,n=0;for(const r of t)e+=r.paid||0,n+=r.owed||0;return e!==n?{isValid:!1,reason:"total paid amount does not match total owed amount"}:{isValid:!0}}const zy="DavidTorralba",Hy="AngelaPerez";function LR({splits:t,amount:e,onChange:n}){function r(){const l=Gc([{person:zy,paid:e,owed:void 0},{person:Hy,paid:void 0,owed:void 0}]);n(l)}function i(){const l=Gc([{person:Hy,paid:e,owed:void 0},{person:zy,paid:void 0,owed:void 0}]);n(l)}function s(){const l=Gc(t);n(l)}const o=VR(t);return g.jsxs("div",{role:"split-default-actions",className:"p-3",children:[g.jsxs("div",{className:"flex flex-column justify-center gap-x-3",children:[g.jsx(X,{text:"David paid",onClick:r}),g.jsx(X,{text:"Angela paid",onClick:i}),g.jsx(X,{text:"split equally",onClick:s})]}),o.isValid===!1&&g.jsxs("div",{role:"invalid-splits",className:"pt-3 flex flex-column justify-center",children:["INVALID SPLITS: ",o.reason]})]})}function $R({splits:t,amount:e,selectablePeople:n,onChange:r}){const[i,s]=D.useState(t),[o,l]=D.useState(Kc(t));D.useEffect(()=>{s(t),l(Kc(t))},[t]);function u(m){s(m),r(m)}function c(m){l(Kc(m)),u(m)}function p(m){function _(S){const I=i.map((N,T)=>m===T?S:{...N});u(I)}return _}function d(m){l(m);const S=[],I=new Set([...m.values()]),N=new Set;for(const T of i){const w=T.person;I.has(w)!==!1&&(S.push(T),I.delete(w),N.add(w))}for(const T of I.values()){if(S.length===0){S.push({person:T,paid:e,owed:void 0});continue}S.push({person:T,paid:void 0,owed:void 0})}u(S)}return g.jsxs("div",{role:"splits-container",className:"pb-3",children:[g.jsx("div",{role:"participants",children:g.jsx(Ue,{htmlFor:"participants",text:"Participants",children:g.jsx("div",{className:"pt-2",children:g.jsx(e_,{id:"participants",placeholder:"participant names",value:o,choices:n,onChange:d,allowChoiceCreation:!1})})})}),g.jsx(LR,{amount:e,splits:i,onChange:c}),i.length>0&&g.jsx("ol",{children:i.map((m,_)=>g.jsx(OR,{split:m,onChange:p(_)},`split-${m.person}`))})]})}function Kc(t){return t.map(e=>e.person)}function FR({app:t,expense:e,onUpdate:n}){function r(_){return _.peopleManager.getAll().map(S=>S.name)}const[i,s]=D.useState(r(t)),[o,l]=D.useState(Wy(e)),[u,c]=D.useState(e.splits);D.useEffect(()=>{const _=t.peopleManager.change$.subscribe(S=>{s(r(t))});return s(r(t)),()=>{_.unsubscribe()}},[t]),D.useEffect(()=>{l(Wy(e))},[e.amount]),D.useEffect(()=>{c(e.splits)},[e.splits]);function p(_){console.debug("ExpenseSplitsEditor::handleSplitsChange::expense",e);const S={...e,splits:_};t.expenseManager.update(S)}function d(_){console.debug(`>> ExpenseSplits.Editor.handleAmountSelection::amount: ${_}`),l(_);const S=UR(u);console.log(">> ExpenseSplits.Editor.handleAmountSelection::updatedSplits:",JSON.stringify(S)),c(S),p(S)}if(e.shared===!1)return g.jsxs("div",{children:["To assign splits, the expense ",g.jsx("code",{children:e.id}),` is must be marked as "shared", and it's not.`]});const m=pw({amountInAccountCurrency:e.amount,amountInMerchantCurrency:e.originalAmount,merchantCurrency:e.originalCurrency});return g.jsxs(g.Fragment,{children:[g.jsx("div",{role:"payment-currency-selector",children:g.jsx(BR,{scenario:m,selectedAmount:o,amountInAccountCurrency:e.amount,accountCurrency:e.currency,amountInMerchantCurrency:e.originalAmount,merchantCurrency:e.originalCurrency,onSelect:d})}),g.jsx("div",{role:"split-editor",children:o!==void 0&&g.jsx($R,{splits:u,amount:o,selectablePeople:i,onChange:p})})]})}function Wy(t){const e=pw({amountInAccountCurrency:t.amount,amountInMerchantCurrency:t.originalAmount,merchantCurrency:t.originalCurrency});if(t.splits.length===0)switch(e){case"useAccountCurrency":return t.amount;case"useMerchantCurrency":return t.originalAmount;case"allowUserToChooseCurrency":return;default:throw $e(`scenario=${e} - failed to infer amount from expense=${JSON.stringify(t,null,2)}`)}return t.splits.map(r=>r.paid||0).reduce((r,i)=>r+i,0)}function UR(t){return t.map(e=>({person:e.person,paid:void 0,owed:void 0}))}function BR({scenario:t,selectedAmount:e,amountInAccountCurrency:n,accountCurrency:r,amountInMerchantCurrency:i,merchantCurrency:s,onSelect:o}){switch(t){case"useAccountCurrency":return`splitting ${n} ${r}`;case"useMerchantCurrency":return`splitting ${i} ${s}`;case"allowUserToChooseCurrency":{if(n===void 0||i===void 0||s===void 0)throw $e();return g.jsxs("div",{className:"flex flex-row justify-center gap-x-3",children:[g.jsx(X,{text:`${n} ${r}`,onClick:()=>o(n),disabled:e===n},`split-currency-${r.toLowerCase()}`),g.jsx(X,{text:`${i} ${s}`,onClick:()=>o(i),disabled:e===i},`split-currency-${s.toLowerCase()}`)]})}}}function pw({amountInAccountCurrency:t,amountInMerchantCurrency:e,merchantCurrency:n}){if(n!==void 0===!1)return"useAccountCurrency";const i=t!==void 0,s=e!==void 0;return i?s?"allowUserToChooseCurrency":"useAccountCurrency":s?"useMerchantCurrency":"invalidAppState"}function zR({app:t}){const{expenseId:e}=q1(),n=Lo(),[r,i]=D.useState(void 0);if(e===void 0)return n(Ke.root),null;D.useEffect(()=>{const o=t.expenseManager.change$.subscribe(l=>{i(t.expenseManager.get(e))});return i(t.expenseManager.get(e)),()=>{o.unsubscribe()}},[t]);function s(o){console.debug("ExpenseEditorPage::handleUpdate::expense",o),t.expenseManager.update(o)}return r===void 0?g.jsx(kn,{children:g.jsx("div",{className:"flex flex-row justify-center",children:"loading..."})}):g.jsxs(kn,{children:[g.jsx(wu,{to:Ke.expenseEditor.replace(sl,r.expense.id),children:g.jsx(X,{icon:"arrow-left",text:"back"})}),g.jsx(FR,{expense:r.expense,app:t,onUpdate:s})]})}const HR=Lt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  row-gap: 3.5rem;
  height: 100vh;
`,WR=Lt.span`
  font-size: 8rem;
  font-weight: 100;
  color: #aaa;
`,GR=Lt.p`
  margin-top: 1.5rem;
`;function KR(){return g.jsx(kn,{children:g.jsxs(HR,{children:[g.jsx("h1",{children:"Ooops...!"}),g.jsx(WR,{children:"404"}),g.jsx(GR,{children:"Page not found"})]})})}const Gy=!0;function QR({currencies:t,onAddPaymentAccount:e}){const[n,r]=D.useState(void 0),[i,s]=D.useState(void 0),[o,l]=D.useState(void 0),[u,c]=D.useState(Gy);function p(){n===void 0||i===void 0||o===void 0||u===void 0||(e({name:n,ledgerName:i,currency:o,isVisible:u}),r(void 0),s(void 0),l(void 0),c(Gy))}const d=n!==void 0&&i!==void 0;return g.jsxs("div",{className:"flex flex-col gap-3 ",children:[g.jsx(Ue,{htmlFor:"new-account-name",text:"Account name: *",children:g.jsx(At,{id:"new-account-name",value:n,placeholder:"Name",onChange:r,className:"mt-1"})}),g.jsx(Ue,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:g.jsx(At,{id:"new-account-ledger-name",value:i,placeholder:"Ledger name",onChange:s,className:"mt-1"})}),g.jsx(Ue,{htmlFor:"new-account-currency",text:"Account currency:",children:g.jsx(or,{id:"new-account-currency",selected:o,options:t.map(m=>({id:m,label:m})),onSelect:l,className:"mt-1"})}),g.jsx(Vf,{uniqueKey:"new-account",isOn:u,labelOn:"account is visible",labelOff:"account is hidden",onToggle:()=>c(!u)}),g.jsx("div",{className:"flex justify-end p-4",children:g.jsx(X,{text:d?"Create":"fill details above",onClick:p,disabled:!d})})]})}function qR({account:t,isDefault:e,currencies:n,onUpdate:r}){const[i,s]=D.useState(t.name),[o,l]=D.useState(t.ledgerName),[u,c]=D.useState(t.currency),[p,d]=D.useState(t.isVisible),m=i===t.name&&o===t.ledgerName&&u===t.currency&&p===t.isVisible;function _(){if(i===void 0||o===void 0||u===void 0||m)return;const N=r({...t,name:i,ledgerName:o,currency:u,isVisible:p});N.ok===!1&&alert(N.reason)}function S(N){e?alert("default account cannot be hidden"):d(N)}const I=i!==void 0&&o!==void 0;return g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx(Ue,{htmlFor:"new-account-name",text:"Account name: *",children:g.jsx(At,{id:"new-account-name",value:i,placeholder:"Name",onChange:s,className:"mt-1"})}),g.jsx(Ue,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:g.jsx(At,{id:"new-account-ledger-name",value:o,placeholder:"Ledger name",onChange:l,className:"mt-1"})}),g.jsx(Ue,{htmlFor:"new-account-currency",text:"Account currency:",children:g.jsx(or,{id:"new-account-currency",selected:u,options:n.map(N=>({id:N,label:N})),onSelect:c,className:"mt-1"})}),g.jsx(Vf,{uniqueKey:t.id,isOn:p,labelOn:"account is visible",labelOff:"account is hidden",onToggle:S}),g.jsx("div",{className:"flex justify-end m-3",children:g.jsx(X,{onClick:_,disabled:!I||m,text:I?"Save":"'name' and 'ledger name' must not be empty"})})]})}function YR({account:t,isDefault:e,currencies:n,onUpdate:r,onDelete:i,onMarkAsDefault:s}){const[o,l]=D.useState(!1);let u="px-4 py-3 rounded relative";if(e&&o)u+=" bg-blue-200  dark:bg-blue-900 dark:bg-opacity-50";else if(e&&!o)u+=" bg-blue-200  dark:bg-blue-900";else if(!e&&!o)u+=" bg-gray-100  dark:bg-gray-700";else if(!e&&o)u+=" bg-gray-300  dark:bg-gray-900";else throw $e();if(o===!1){const{name:p,ledgerName:d}=t;return g.jsxs("div",{role:"payment-account",className:u,onClick:()=>l(!0),children:[e&&g.jsx("div",{className:"absolute top-2 right-3 text-xs flex justify-end z-10 opacity-50",role:"default-payment-account-indicator",children:"default"}),g.jsx("div",{children:g.jsx("b",{children:p})}),g.jsx("div",{children:d})]})}function c(){const p=i(t.id);p.ok===!1&&alert(p.reason)}return g.jsxs("div",{role:"payment-account",className:u,children:[g.jsx(qR,{account:t,isDefault:e,currencies:n,onUpdate:r}),g.jsx(X,{text:"Delete",onClick:c}),g.jsx(X,{text:"Close",onClick:()=>l(!1)}),g.jsx(X,{text:e?"is default payment method":"Mark as default",onClick:s,disabled:e})]})}function XR({app:t}){const[e,n]=D.useState([]),[r,i]=D.useState(),[s,o]=D.useState([]);D.useEffect(()=>{var S;const m=t.paymentAccountsManager.change$.subscribe(I=>{var N;n(t.paymentAccountsManager.getAll()),i((N=t.paymentAccountsManager.getDefault())==null?void 0:N.id)}),_=t.currencyManager.change$.subscribe(I=>{o([...t.currencyManager.getAll()].sort())});return n(t.paymentAccountsManager.getAll()),i((S=t.paymentAccountsManager.getDefault())==null?void 0:S.id),o([...t.currencyManager.getAll()].sort()),()=>{m.unsubscribe(),_.unsubscribe()}},[t]);function l(m){t.paymentAccountsManager.add({draft:m})}function u(m){return t.paymentAccountsManager.update({account:m})}function c(m){return t.paymentAccountsManager.delete({id:m})}function p(m){t.paymentAccountsManager.setDefault({id:m})}const d=s.length>0;return g.jsx(kn,{children:d?g.jsxs(g.Fragment,{children:[g.jsx(QR,{currencies:s,onAddPaymentAccount:l}),r===void 0&&e.length>0&&g.jsx("div",{role:"warning",className:"p-4 flex justify-center",children:g.jsx("p",{children:g.jsx("b",{children:"please, select your default payment account"})})}),g.jsx("div",{className:"flex flex-col gap-3",role:"payment-accounts",children:e.length>0?e.map((m,_)=>g.jsx(YR,{account:m,isDefault:m.id===r,currencies:s,onUpdate:u,onDelete:c,onMarkAsDefault:()=>p(m.id)},`${_}-${m.id}`)):g.jsx("p",{children:"No payment accounts :)"})})]}):g.jsx("div",{children:"You must add currencies in the Settings page to be able to add Payment Accounts here"})})}function JR({app:t}){const[e,n]=D.useState([]),[r,i]=D.useState();D.useEffect(()=>{const c=t.peopleManager.change$.subscribe(p=>{n(t.peopleManager.getAll())});return n(t.peopleManager.getAll()),()=>c.unsubscribe()},[t]);function s(c){i(c)}function o(){if(r===void 0)return;const c=r;t.peopleManager.add(c),i(void 0)}function l(c){t.peopleManager.update({person:c})}function u(c){t.peopleManager.delete(c)}return g.jsx(Ue,{htmlFor:"people",text:"People",children:g.jsxs("div",{role:"people-form",className:"pt-2 px-2",children:[e.length===0?g.jsx("div",{children:"No people found"}):g.jsx("div",{role:"person-list",className:"flex flex-col gap-2",children:e.map(c=>g.jsx(ZR,{person:c,onUpdate:l,onDelete:u},`person-${c.name}`))}),g.jsxs("div",{className:"pt-3",children:[g.jsx(Ue,{htmlFor:"add-person",text:"Add person",children:g.jsx(At,{id:"add-person",value:r,placeholder:"Name",onChange:s,className:"mt-1"})}),g.jsx("div",{className:"flex justify-end p-2",children:g.jsx(X,{text:"Add",onClick:o,disabled:!r})})]})]})})}function ZR({person:t,onUpdate:e,onDelete:n}){const[r,i]=D.useState(!1),[s,o]=D.useState(t.splitwiseId),l=s!==t.splitwiseId;function u(){i(!r)}function c(){l!==!1&&e({...t,splitwiseId:s})}return g.jsxs("div",{role:"person",children:[g.jsxs("div",{className:"flex flex-row items-center gap-2 px-4 py-3 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded",children:[g.jsx(X,{icon:"pencil",onClick:u}),g.jsx("div",{role:"person-name",className:"w-full",children:t.name}),g.jsx(X,{icon:"bin",onClick:()=>n(t.name)})]}),g.jsx(Of,{isOpen:r,children:g.jsxs("div",{className:"flex flex-row items-center gap-2 pl-6 pt-1 pr-2 pb-4",children:[g.jsx(X,{icon:"rotate",disabled:l===!1,onClick:c}),g.jsx(At,{id:"splitwise-id",value:s,placeholder:"Splitwise ID",onChange:o})]})})]})}function e4({app:t,shortcut:e,onUpdate:n}){const[r,i]=D.useState(e.buttonName),s=Dr(e),[o,l]=D.useState(s),[u,c]=D.useState([]),p=r!=null&&r!=="",d=r!==e.buttonName||o!==s,m=p&&d;D.useEffect(()=>{const S=t.peopleManager.change$.subscribe(I=>{c(t.peopleManager.getAll().map(N=>N.name))});return c(t.peopleManager.getAll().map(I=>I.name)),()=>{S.unsubscribe()}},[t]);function _(){if(!m)return;const{main:S,seller:I,people:N,tags:T}=Eu({raw:o});n({id:e.id,buttonName:r,main:S,seller:I,people:[...N],tags:[...T]})}return g.jsxs("div",{children:[g.jsx(At,{id:`shortcut-${e.id}-button-name`,value:r,placeholder:"Button name (required)",onChange:i,className:"mt-1"}),g.jsx(Mf,{description:o,peopleInSettings:u,onChange:l}),g.jsx("div",{className:"flex justify-end p-2",children:g.jsx(X,{text:d?"Update":"No changes",onClick:_,disabled:!m})})]})}function t4({shortcut:t,onUpdate:e,onDelete:n,app:r}){const[i,s]=D.useState(!1);function o(){s(!i)}return g.jsxs("div",{role:"shortcut",children:[g.jsxs("div",{className:"flex flex-row items-center gap-2 px-4 py-3 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded",children:[g.jsx(X,{icon:i?"arrow-left":"pencil",onClick:o}),g.jsx("div",{role:"shortcut-name",className:"w-full",children:t.buttonName}),g.jsx(X,{icon:"bin",onClick:()=>n(t.id)})]}),g.jsx(Of,{isOpen:i,children:g.jsx("div",{className:"flex flex-row items-center gap-2 pl-6 pt-1 pr-2 pb-4",children:g.jsx(e4,{app:r,shortcut:t,onUpdate:e})})})]})}const Qc="";function n4({app:t}){const[e,n]=D.useState([]),[r,i]=D.useState([]),[s,o]=D.useState(),[l,u]=D.useState(Qc);D.useEffect(()=>{const S=t.peopleManager.change$.subscribe(N=>{i(t.peopleManager.getAll().map(T=>T.name))}),I=t.shortcutsManager.change$.subscribe(N=>{n(t.shortcutsManager.getAll())});return i(t.peopleManager.getAll().map(N=>N.name)),n(t.shortcutsManager.getAll()),()=>{S.unsubscribe(),I.unsubscribe()}},[t]);function c(){o(void 0),u(Qc)}function p(){const{main:S,seller:I,people:N,tags:T}=Eu({raw:l});if(s==null||s===""){alert("button name must not be empty");return}if(S==null||S===""){alert("main description name must not be empty");return}t.shortcutsManager.add({buttonName:s,main:S,people:[...N],seller:I,tags:[...T]}),c()}function d(S){t.shortcutsManager.update({shortcut:S})}function m(S){t.shortcutsManager.delete(S)}function _(){return!(s==null||s===""||l===Qc)}return g.jsx(Ue,{htmlFor:"shortcuts",text:"Shortcuts",children:g.jsxs("div",{role:"shortcuts-form",className:"pt-2 px-2",children:[e.length===0?g.jsx("div",{children:"No shortcuts found"}):g.jsx("div",{role:"shortcut-list",className:"flex flex-col gap-2",children:e.map(S=>g.jsx(t4,{shortcut:S,onUpdate:d,onDelete:m,app:t},`shortcut-${S.id}`))}),g.jsxs("div",{className:"pt-3",children:[g.jsxs(Ue,{htmlFor:"add-shortcut",text:"Add shortcut",children:[g.jsx(At,{id:"new-shortcut-button-name",value:s,placeholder:"Button name",onChange:o,className:"mt-1"}),g.jsx(Mf,{description:l,peopleInSettings:r,onChange:u})]}),g.jsx("div",{className:"flex justify-end p-2",children:g.jsx(X,{text:"Add",onClick:p,disabled:!_()})})]})]})})}function r4({app:t}){const[e,n]=D.useState([]),[r,i]=D.useState(),[s,o]=D.useState();D.useEffect(()=>{const d=t.currencyManager.change$.subscribe(m=>{n([...t.currencyManager.getAll()].sort())});return n([...t.currencyManager.getAll()].sort()),()=>{d.unsubscribe()}},[t]);function l(d){o(void 0),i(d)}function u(){const d=Ky(r);if(d.ok===!1)throw $e(`attempted to add an invalid currency (invalid currency reason: ${d.reason})`);const m=r,_=t.currencyManager.add(m);if(_.ok===!1){o(_.reason);return}i(void 0)}function c(d){const m=t.deleteCurrencySafe(d);if(m.ok===!1){alert(m.reason);return}}const p=Ky(r);return g.jsxs("div",{className:"flex flex-col gap-3 ",children:[g.jsx("h2",{children:"Currencies"}),g.jsx("div",{className:"flex flex-row flex-wrap gap-3",children:e.length===0?g.jsx("p",{children:"no currencies, please add some below"}):e.map(d=>g.jsx("div",{children:g.jsx(X,{icon:"bin",text:d,onClick:()=>c(d)})},`currency-${d.toLowerCase()}`))}),g.jsxs(Ue,{htmlFor:"new-currency-code",text:"Currency code: *",children:[g.jsx(At,{id:"new-currency-code",value:r,placeholder:"USD, EUR...",onChange:l,className:"mt-1"}),s&&g.jsxs("div",{children:["ERROR: ",s]})]}),g.jsx("div",{className:"flex justify-end p-4",children:g.jsx(X,{text:p.ok?"Add":"Invalid currency",onClick:u,disabled:p.ok===!1})})]})}function Ky(t){return[void 0,null,""].includes(t)?{ok:!1,reason:"expected a 3 uppercase character, but got an empty string"}:/^[ABCDEFGHIJKLMNOPQRSTUVWXZ]{3}$/.exec(t)===null?{ok:!1,reason:`expected a 3 uppercase character, but got "${t}" instead`}:{ok:!0}}function i4(t){return t.join(",")}function s4(t){const e=t.split(",").filter(r=>r!=="").map(r=>`"${r}"`).join(",");return JSON.parse(`[${e}]`)}function o4({app:t}){const[e,n]=D.useState(void 0),[r,i]=D.useState(void 0),[s,o]=D.useState(void 0);D.useEffect(()=>{if(vt.splitwiseApiToken.exists()&&n(vt.splitwiseApiToken.read()),vt.tripTags.exists()&&i(i4(vt.tripTags.read())),vt.firestoreConfig.exists()){const p=vt.firestoreConfig.read();o(JSON.stringify(p))}},[]);function l(p){if(p===void 0||p===""){n(void 0),vt.splitwiseApiToken.delete();return}n(p),vt.splitwiseApiToken.set(p)}function u(p){if(p===void 0||p===""){i(void 0),vt.tripTags.delete();return}i(p);const d=s4(p);vt.tripTags.set(d)}function c(p){if(p===void 0||p===""){o(void 0),vt.firestoreConfig.delete();return}o(p);const d=JSON.parse(p);vt.firestoreConfig.set(d)}return g.jsx(kn,{children:g.jsxs("div",{className:"px-3 flex flex-col gap-4",children:[g.jsx(Ue,{htmlFor:"splitwise-api-token",text:"Splitwise API token",children:g.jsx(At,{id:"splitwise-api-token",value:e,placeholder:"Splitwise API token",onChange:l,className:"mt-1"})}),g.jsx(Ue,{htmlFor:"trip-tags",text:"Trip tags",children:g.jsx(At,{id:"trip-tags",value:r,placeholder:"trip tags",onChange:u,className:"mt-1"})}),g.jsx(Ue,{htmlFor:"firestore-config",text:"Firestore config",children:g.jsx(At,{id:"firestore-config",value:s,placeholder:'{"a":1,"b":2}',onChange:c,isCode:!0,className:"mt-1"})}),g.jsx(r4,{app:t}),g.jsx(JR,{app:t}),g.jsx(n4,{app:t})]})})}const a4="50px",l4=Lt.div`
  height: calc(100vh - ${a4});
  overflow-y: scroll;
`;function u4({app:t}){const[e,n]=D.useState(!0),[r,i]=D.useState(hh);D.useEffect(()=>{t.initialize(),n(!1)},[t]);const s="bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-200";return e?g.jsx(ua.Parent,{className:hh,children:g.jsx(ua.ContentFullyCentered,{className:s,children:g.jsx(kn,{children:g.jsx("div",{className:"flex flex-row justify-center",children:"Loading data..."})})})}):g.jsx($v.Provider,{value:{theme:r,setTheme:i},children:g.jsx(tC,{basename:aC,children:g.jsx(ua.Parent,{className:r,children:g.jsxs(ua.Content,{className:s,children:[g.jsx(QS,{}),g.jsx(sC,{}),g.jsx(l4,{children:g.jsxs(QA,{children:[g.jsx(Nr,{path:Ke.root,element:g.jsx(MR,{app:t})}),g.jsx(Nr,{path:Ke.expenseEditor,element:g.jsx(aI,{app:t})}),g.jsx(Nr,{path:Ke.expenseSplitsEditor,element:g.jsx(zR,{app:t})}),g.jsx(Nr,{path:Ke.paymentAccounts,element:g.jsx(XR,{app:t})}),g.jsx(Nr,{path:Ke.settings,element:g.jsx(o4,{app:t})}),g.jsx(Nr,{path:Ke.notFound,element:g.jsx(KR,{})})]})})]})})})})}class c4{constructor({expenseManager:e,paymentAccountsManager:n,browserStorage:r,currencyManager:i,peopleManager:s,shortcutsManager:o}){W(this,"expenseManager");W(this,"paymentAccountsManager");W(this,"currencyManager");W(this,"peopleManager");W(this,"shortcutsManager");W(this,"initialized",!1);W(this,"browserStorage");this.expenseManager=e,this.paymentAccountsManager=n,this.browserStorage=r,this.currencyManager=i,this.peopleManager=s,this.shortcutsManager=o,this.paymentAccountsManager.change$.subscribe(l=>this.handlePaymentAccountChange(l))}initialize(){if(console.debug("App.initialize::started"),this.initialized)console.debug("App.initialize::already initialized");else{const e=this.browserStorage.readExpenses();this.expenseManager.initialize({appExpenses:e});const n=this.browserStorage.readCurrencies(),r=this.browserStorage.readPaymentAccounts();this.currencyManager.initialize({currencies:[...n,...r.map(i=>i.currency)]}),this.paymentAccountsManager.initialize({accounts:r,defaultAccountId:this.browserStorage.readDefaultAccountId()}),this.peopleManager.initialize({people:this.browserStorage.readPeople()}),this.shortcutsManager.initialize({shortcuts:this.browserStorage.readShortcuts()}),this.initialized=!0}console.debug("App.initialize::completed")}deleteCurrencySafe(e){if(this.paymentAccountsManager.getAll().filter(s=>s.currency===e).length>0)return{ok:!1,reason:`currency ${e} was not deleted because it used by one or more account`};if(this.expenseManager.getAll().filter(s=>[s.expense.currency,s.expense.originalCurrency].includes(e)).length>0)return{ok:!1,reason:`currency ${e} was not deleted because it used as an 'original currency' by one or more expenses`};const i=this.currencyManager.deleteUnsafe(e);return i.ok===!1?{ok:!1,reason:i.reason}:i}handlePaymentAccountChange(e){switch(e.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return;case"PaymentAccountUpdated":return;case"PaymentAccountDeleted":return;case"DefaultPaymentAccountSet":return this.handleDefaultPaymentAccountChange(e.id);default:ol(e,`unsupported PaymentAccountChange: ${e}`)}}handleDefaultPaymentAccountChange(e){this.browserStorage.setDefaultAccountId({id:e})}}var mw,Qy=iA;mw=Qy.createRoot,Qy.hydrateRoot;class h4{constructor(){W(this,"change$");W(this,"people");W(this,"changesSubject");this.people=new Map,this.changesSubject=new ei,this.change$=this.changesSubject.asObservable()}initialize({people:e}){console.debug("PeopleManager.initialize:: initializing people:",e);const n=[void 0,null,""," "];for(const r of e)n.includes(r.name)||this.people.set(r.name,r);this.changesSubject.next({kind:"PeopleManagerInitialized"})}getAll(){return[...this.people.values()].sort(d4)}add(e){if(this.people.has(e)){console.warn(`PeopleManager.add: '${e}' not added because already existed`);return}const r={name:e};this.people.set(e,r),this.changesSubject.next({kind:"PersonAdded",name:e})}update({person:e}){const n=e.name,r=this.people.get(n);return r===void 0?{success:!1,reason:`person '${n}' not found`}:r.splitwiseId===e.splitwiseId?{success:!1,reason:`person '${n}' is already up to date`}:(this.people.set(n,e),this.changesSubject.next({kind:"PersonUpdated",name:n}),{success:!0})}delete(e){if(this.people.delete(e)===!1){console.warn(`PeopleManager.delete: '${e}' not deleted because it was not found`);return}this.changesSubject.next({kind:"PersonDeleted",name:e})}}function d4(t,e){return t.name>e.name?jn.SwapOrder:jn.KeepOrder}class Ii{constructor({client:e,expenseManager:n,paymentAccountsManager:r,peopleManager:i,shortcutsManager:s,currencyManager:o}){W(this,"client");W(this,"expenseManager");W(this,"paymentAccountsManager");W(this,"peopleManager");W(this,"shortcutsManager");W(this,"currencyManager");this.client=e,this.expenseManager=n,this.paymentAccountsManager=r,this.peopleManager=i,this.shortcutsManager=s,this.currencyManager=o,this.expenseManager.change$.subscribe(l=>{switch(console.debug("BrowserStorage.expenseManager.changes:",l),l.kind){case"ExpenseAdded":return this.handleExpenseAdded(l.expenseId);case"ExpenseUpdated":return this.handleExpenseUpdated(l.expenseId);case"ExpenseDeleted":return this.handleExpenseDeleted(l.expenseId);default:throw new Error(`BrowserStorage: unsupported change: ${l}`)}}),this.paymentAccountsManager.change$.subscribe(l=>{switch(console.debug("BrowserStorage.paymentAccountsManager.change$:",l),l.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return this.persistAllPaymentAccounts();case"PaymentAccountUpdated":return this.persistAllPaymentAccounts();case"PaymentAccountDeleted":return this.persistAllPaymentAccounts()}}),this.peopleManager.change$.subscribe(l=>{switch(console.debug("BrowserStorage.peopleManager.change$:",l),l.kind){case"PeopleManagerInitialized":return;case"PersonAdded":return this.persistAllPeople();case"PersonUpdated":return this.persistAllPeople();case"PersonDeleted":return this.persistAllPeople();default:ol(l,`unsupported PeopleChange: ${l}`)}}),this.shortcutsManager.change$.subscribe(l=>{switch(console.debug("BrowserStorage.shortcutsManager.change$:",l),l.kind){case"ShortcutsManagerInitialized":return;case"ShortcutAdded":return this.persistAllShortcuts();case"ShortcutUpdated":return this.persistAllShortcuts();case"ShortcutDeleted":return this.persistAllShortcuts()}}),this.currencyManager.change$.subscribe(l=>{switch(console.debug("BrowserStorage.currencyManager.changes$:",l),l.kind){case"CurrencyManagerInitialized":return;case"CurrencyAdded":return this.persistAllCurrencies();case"CurrencyDeleted":return this.persistAllCurrencies();default:ol(l,`unsupported CurrencyChange: ${l}`)}})}readExpenses(){console.debug("BrowserStorage.readExpenses()");const e=this.client.expenses.read()||{},n=[];for(const r of Object.values(e)){const i={expense:{id:r.expense.id,amount:r.expense.amount,currency:r.expense.currency,originalAmount:r.expense.originalAmount,originalCurrency:r.expense.originalCurrency,description:r.expense.description,datetime:r.expense.datetime,paid_with:r.expense.paid_with,shared:r.expense.shared,pending:r.expense.pending,splits:r.expense.splits},status:n_[r.status],readyToPublish:r.readyToPublish};n.push(i)}return n}readCurrencies(){return console.debug(`${Ii.name}.${this.readCurrencies.name}()`),(this.client.currencies.read()||"").split(",")}readPaymentAccounts(){console.debug(`${Ii.name}.${this.readPaymentAccounts.name}()`);const e=this.client.paymentAccounts.read()||[],n=[];for(const r of e){const i={id:r.id,name:r.name,ledgerName:r.ledgerName,currency:r.currency,isVisible:r.isVisible===void 0?!0:r.isVisible};n.push(i)}return n}readDefaultAccountId(){return console.debug(`${Ii.name}.${this.readDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.read()}readPeople(){console.debug("BrowserStorage.readPeople()");const e=this.client.people.read()||[],n=[];for(const r of e){const i={name:r.name,splitwiseId:r.splitwiseId};n.push(i)}return n}readShortcuts(){console.debug("BrowserStorage.readShortcuts()");const e=this.client.shortcuts.read()||[],n=[];for(const r of e){const i={id:r.id,buttonName:r.buttonName,main:r.main,people:r.people,seller:r.seller,tags:r.tags};n.push(i)}return n}setDefaultAccountId({id:e}){console.debug(`${Ii.name}.${this.setDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.set(e)}persistAppExpense(e){const r={...this.client.expenses.read()||{},[e.expense.id]:e};this.client.expenses.set(r)}deleteExpense(e){console.debug(`BrowserStorage.deleteExpense::id=${e}`);const r={...this.client.expenses.read()||{}};delete r[e],this.client.expenses.set(r)}handleExpenseAdded(e){const n=this.expenseManager.get(e);this.persistAppExpense(n)}handleExpenseUpdated(e){const n=this.expenseManager.get(e);this.persistAppExpense(n)}handleExpenseDeleted(e){this.deleteExpense(e)}persistAllPaymentAccounts(){const e=this.paymentAccountsManager.getAll();this.client.paymentAccounts.set(e)}persistAllPeople(){const e=this.peopleManager.getAll();this.client.people.set(e)}persistAllShortcuts(){const e=this.shortcutsManager.getAll();this.client.shortcuts.set(e)}persistAllCurrencies(){const e=[...this.currencyManager.getAll()].sort().join(",");this.client.currencies.set(e)}}class f4{constructor(){W(this,"change$");W(this,"currencies");W(this,"changeSubject");this.currencies=new Set,this.changeSubject=new ei,this.change$=this.changeSubject.asObservable()}initialize({currencies:e}){for(const n of e)[void 0,null,""].includes(n)||this.currencies.add(n);this.changeSubject.next({kind:"CurrencyManagerInitialized"})}getAll(){return new Set([...this.currencies.values()])}add(e){return this.currencies.has(e)?{ok:!1,reason:`currency ${e} already exists`}:(this.currencies.add(e),this.changeSubject.next({kind:"CurrencyAdded",currency:e}),{ok:!0})}deleteUnsafe(e){return this.currencies.delete(e)===!1?{ok:!1,reason:`currency ${e} was not deleted because it did not exist`}:(this.changeSubject.next({kind:"CurrencyDeleted",currency:e}),{ok:!0})}}var qy={};const p4=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m4(t){if("serviceWorker"in navigator){if(new URL(qy.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const n=`${qy.PUBLIC_URL}/service-worker.js`;p4?(g4(n),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):gw(n)})}}function gw(t,e){navigator.serviceWorker.register(t).then(n=>{n.update(),setInterval(()=>{n.update(),console.debug("Checked for update...")},1e3*60*5),n.onupdatefound=()=>{const r=n.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."):console.log("Content is cached for offline use."))})}}).catch(n=>{console.error("Error during service worker registration:",n)})}function g4(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");n.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(i=>{i.unregister().then(()=>{window.location.reload()})}):gw(t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const y4=xS`
  a {
    color: inherit;
    text-decoration: none;
  }

  ul li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  ol li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  html {
    font-size: 1.2rem;
  }

  body {
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 0;
    text-transform: none;
  }
`,v4="modulepreload",_4=function(t){return"/expenses-form/"+t},Yy={},w4=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=_4(u),u in Yy)return;Yy[u]=!0;const c=u.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":v4,c||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((m,_)=>{d.addEventListener("load",m),d.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function E4(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let l,u,c;const p=async(m=!0)=>{await u,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(l=await w4(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/expenses-form/sw.js",{scope:"/expenses-form/",type:"classic"})).catch(m=>{o==null||o(m)}),!l)return;c=async()=>{await(l==null?void 0:l.messageSkipWaiting())};{let m=!1;const _=()=>{m=!0,l==null||l.addEventListener("controlling",S=>{S.isUpdate&&window.location.reload()}),n==null||n()};l.addEventListener("installed",S=>{typeof S.isUpdate>"u"?typeof S.isExternal<"u"?S.isExternal?_():!m&&(r==null||r()):S.isExternal?window.location.reload():!m&&(r==null||r()):S.isUpdate||r==null||r()}),l.addEventListener("waiting",_),l.addEventListener("externalwaiting",_)}l.register({immediate:e}).then(m=>{s?s("/expenses-form/sw.js",m):i==null||i(m)}).catch(m=>{o==null||o(m)})}}return u=d(),p}class S4{constructor(){W(this,"change$");W(this,"shortcuts");W(this,"changesSubject");this.shortcuts=new Map,this.changesSubject=new ei,this.change$=this.changesSubject.asObservable()}initialize({shortcuts:e}){console.debug("ShortcutsManager.initialize:: initializing shortcuts:",e);for(const n of e)this.shortcuts.set(n.id,n);this.changesSubject.next({kind:"ShortcutsManagerInitialized"})}getAll(){return[...this.shortcuts.values()].sort(x4)}add(e){const n=this.generateId(),r={id:n,...e};this.shortcuts.set(n,r),this.changesSubject.next({kind:"ShortcutAdded",id:n})}update({shortcut:e}){const{id:n}=e;return this.shortcuts.get(n)===void 0?{success:!1,reason:`shortcut '${n}' not found`}:(this.shortcuts.set(n,e),this.changesSubject.next({kind:"ShortcutUpdated",id:n}),{success:!0})}delete(e){if(this.shortcuts.delete(e)===!1){console.warn(`ShortcutsManager.delete: '${e}' not deleted because it was not found`);return}this.changesSubject.next({kind:"ShortcutDeleted",id:e})}generateId(){let e=0;for(;this.shortcuts.has(e)!==!1;)e++;return e}}function x4(t,e){return t.id>e.id?jn.SwapOrder:jn.KeepOrder}const T4=window.location.hostname==="localhost",A4=E4({onNeedRefresh:function(){(T4||confirm("There is an newer version of this app. Do you want to update?"))&&A4(!0)}}),cp=new jf,yw=new Su({expenseManager:cp}),vw=new h4,_w=new S4,ww=new f4,C4=new Ii({expenseManager:cp,paymentAccountsManager:yw,client:new Z1,peopleManager:vw,shortcutsManager:_w,currencyManager:ww}),I4=new c4({browserStorage:C4,expenseManager:cp,paymentAccountsManager:yw,currencyManager:ww,peopleManager:vw,shortcutsManager:_w}),Ew=document.getElementById("root");if(Ew===null)throw new Error('expected to find an element with `id="root"` to render the React app, but found none');const P4=mw(Ew);P4.render(g.jsxs(nn.StrictMode,{children:[g.jsx(y4,{}),g.jsx(u4,{app:I4})]}));m4();
