var MS=Object.defineProperty;var jS=(e,t,n)=>t in e?MS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var U=(e,t,n)=>(jS(e,typeof t!="symbol"?t+"":t,n),n);function LS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function bS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uy={exports:{}},Ul={},cy={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=Symbol.for("react.element"),FS=Symbol.for("react.portal"),US=Symbol.for("react.fragment"),zS=Symbol.for("react.strict_mode"),BS=Symbol.for("react.profiler"),VS=Symbol.for("react.provider"),HS=Symbol.for("react.context"),WS=Symbol.for("react.forward_ref"),GS=Symbol.for("react.suspense"),KS=Symbol.for("react.memo"),QS=Symbol.for("react.lazy"),Ep=Symbol.iterator;function qS(e){return e===null||typeof e!="object"?null:(e=Ep&&e[Ep]||e["@@iterator"],typeof e=="function"?e:null)}var hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dy=Object.assign,fy={};function bi(e,t,n){this.props=e,this.context=t,this.refs=fy,this.updater=n||hy}bi.prototype.isReactComponent={};bi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function py(){}py.prototype=bi.prototype;function Td(e,t,n){this.props=e,this.context=t,this.refs=fy,this.updater=n||hy}var Ad=Td.prototype=new py;Ad.constructor=Td;dy(Ad,bi.prototype);Ad.isPureReactComponent=!0;var xp=Array.isArray,my=Object.prototype.hasOwnProperty,_d={current:null},gy={key:!0,ref:!0,__self:!0,__source:!0};function yy(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)my.call(t,r)&&!gy.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:So,type:e,key:s,ref:o,props:i,_owner:_d.current}}function YS(e,t){return{$$typeof:So,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Id(e){return typeof e=="object"&&e!==null&&e.$$typeof===So}function XS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cp=/\/+/g;function Bu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XS(""+e.key):t.toString(36)}function Ea(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case So:case FS:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Bu(o,0):r,xp(i)?(n="",e!=null&&(n=e.replace(Cp,"$&/")+"/"),Ea(i,t,n,"",function(u){return u})):i!=null&&(Id(i)&&(i=YS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cp,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",xp(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Bu(s,a);o+=Ea(s,t,n,l,i)}else if(l=qS(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Bu(s,a++),o+=Ea(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vo(e,t,n){if(e==null)return e;var r=[],i=0;return Ea(e,r,"","",function(s){return t.call(n,s,i++)}),r}function JS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},xa={transition:null},ZS={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:xa,ReactCurrentOwner:_d};function vy(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Vo,forEach:function(e,t,n){Vo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vo(e,function(){t++}),t},toArray:function(e){return Vo(e,function(t){return t})||[]},only:function(e){if(!Id(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=bi;V.Fragment=US;V.Profiler=BS;V.PureComponent=Td;V.StrictMode=zS;V.Suspense=GS;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZS;V.act=vy;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dy({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=_d.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)my.call(t,l)&&!gy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:So,type:e.type,key:i,ref:s,props:r,_owner:o}};V.createContext=function(e){return e={$$typeof:HS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VS,_context:e},e.Consumer=e};V.createElement=yy;V.createFactory=function(e){var t=yy.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:WS,render:e}};V.isValidElement=Id;V.lazy=function(e){return{$$typeof:QS,_payload:{_status:-1,_result:e},_init:JS}};V.memo=function(e,t){return{$$typeof:KS,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=xa.transition;xa.transition={};try{e()}finally{xa.transition=t}};V.unstable_act=vy;V.useCallback=function(e,t){return tt.current.useCallback(e,t)};V.useContext=function(e){return tt.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};V.useEffect=function(e,t){return tt.current.useEffect(e,t)};V.useId=function(){return tt.current.useId()};V.useImperativeHandle=function(e,t,n){return tt.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return tt.current.useMemo(e,t)};V.useReducer=function(e,t,n){return tt.current.useReducer(e,t,n)};V.useRef=function(e){return tt.current.useRef(e)};V.useState=function(e){return tt.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return tt.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return tt.current.useTransition()};V.version="18.3.1";cy.exports=V;var x=cy.exports;const Ft=bS(x),eE=LS({__proto__:null,default:Ft},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE=x,nE=Symbol.for("react.element"),rE=Symbol.for("react.fragment"),iE=Object.prototype.hasOwnProperty,sE=tE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oE={key:!0,ref:!0,__self:!0,__source:!0};function wy(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)iE.call(t,r)&&!oE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:nE,type:e,key:s,ref:o,props:i,_owner:sE.current}}Ul.Fragment=rE;Ul.jsx=wy;Ul.jsxs=wy;uy.exports=Ul;var f=uy.exports,Ke=function(){return Ke=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ke.apply(this,arguments)};function Ps(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var te="-ms-",gs="-moz-",K="-webkit-",Sy="comm",zl="rule",Nd="decl",aE="@import",Ey="@keyframes",lE="@layer",xy=Math.abs,$d=String.fromCharCode,zc=Object.assign;function uE(e,t){return ke(e,0)^45?(((t<<2^ke(e,0))<<2^ke(e,1))<<2^ke(e,2))<<2^ke(e,3):0}function Cy(e){return e.trim()}function rn(e,t){return(e=t.exec(e))?e[0]:e}function z(e,t,n){return e.replace(t,n)}function Ca(e,t,n){return e.indexOf(t,n)}function ke(e,t){return e.charCodeAt(t)|0}function wi(e,t,n){return e.slice(t,n)}function Gt(e){return e.length}function ky(e){return e.length}function us(e,t){return t.push(e),e}function cE(e,t){return e.map(t).join("")}function kp(e,t){return e.filter(function(n){return!rn(n,t)})}var Bl=1,Si=1,Ty=0,Nt=0,ye=0,Fi="";function Vl(e,t,n,r,i,s,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Bl,column:Si,length:o,return:"",siblings:a}}function kn(e,t){return zc(Vl("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function zr(e){for(;e.root;)e=kn(e.root,{children:[e]});us(e,e.siblings)}function hE(){return ye}function dE(){return ye=Nt>0?ke(Fi,--Nt):0,Si--,ye===10&&(Si=1,Bl--),ye}function Ut(){return ye=Nt<Ty?ke(Fi,Nt++):0,Si++,ye===10&&(Si=1,Bl++),ye}function xr(){return ke(Fi,Nt)}function ka(){return Nt}function Hl(e,t){return wi(Fi,e,t)}function Bc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fE(e){return Bl=Si=1,Ty=Gt(Fi=e),Nt=0,[]}function pE(e){return Fi="",e}function Vu(e){return Cy(Hl(Nt-1,Vc(e===91?e+2:e===40?e+1:e)))}function mE(e){for(;(ye=xr())&&ye<33;)Ut();return Bc(e)>2||Bc(ye)>3?"":" "}function gE(e,t){for(;--t&&Ut()&&!(ye<48||ye>102||ye>57&&ye<65||ye>70&&ye<97););return Hl(e,ka()+(t<6&&xr()==32&&Ut()==32))}function Vc(e){for(;Ut();)switch(ye){case e:return Nt;case 34:case 39:e!==34&&e!==39&&Vc(ye);break;case 40:e===41&&Vc(e);break;case 92:Ut();break}return Nt}function yE(e,t){for(;Ut()&&e+ye!==47+10;)if(e+ye===42+42&&xr()===47)break;return"/*"+Hl(t,Nt-1)+"*"+$d(e===47?e:Ut())}function vE(e){for(;!Bc(xr());)Ut();return Hl(e,Nt)}function wE(e){return pE(Ta("",null,null,null,[""],e=fE(e),0,[0],e))}function Ta(e,t,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,g=0,w=0,y=1,E=1,v=1,p=0,m="",S=i,k=s,_=r,C=m;E;)switch(w=p,p=Ut()){case 40:if(w!=108&&ke(C,h-1)==58){Ca(C+=z(Vu(p),"&","&\f"),"&\f",xy(u?a[u-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:C+=Vu(p);break;case 9:case 10:case 13:case 32:C+=mE(w);break;case 92:C+=gE(ka()-1,7);continue;case 47:switch(xr()){case 42:case 47:us(SE(yE(Ut(),ka()),t,n,l),l);break;default:C+="/"}break;case 123*y:a[u++]=Gt(C)*v;case 125*y:case 59:case 0:switch(p){case 0:case 125:E=0;case 59+c:v==-1&&(C=z(C,/\f/g,"")),g>0&&Gt(C)-h&&us(g>32?Ap(C+";",r,n,h-1,l):Ap(z(C," ","")+";",r,n,h-2,l),l);break;case 59:C+=";";default:if(us(_=Tp(C,t,n,u,c,i,a,m,S=[],k=[],h,s),s),p===123)if(c===0)Ta(C,t,_,_,S,s,h,a,k);else switch(d===99&&ke(C,3)===110?100:d){case 100:case 108:case 109:case 115:Ta(e,_,_,r&&us(Tp(e,_,_,0,0,i,a,m,i,S=[],h,k),k),i,k,h,a,r?S:k);break;default:Ta(C,_,_,_,[""],k,0,a,k)}}u=c=g=0,y=v=1,m=C="",h=o;break;case 58:h=1+Gt(C),g=w;default:if(y<1){if(p==123)--y;else if(p==125&&y++==0&&dE()==125)continue}switch(C+=$d(p),p*y){case 38:v=c>0?1:(C+="\f",-1);break;case 44:a[u++]=(Gt(C)-1)*v,v=1;break;case 64:xr()===45&&(C+=Vu(Ut())),d=xr(),c=h=Gt(m=C+=vE(ka())),p++;break;case 45:w===45&&Gt(C)==2&&(y=0)}}return s}function Tp(e,t,n,r,i,s,o,a,l,u,c,h){for(var d=i-1,g=i===0?s:[""],w=ky(g),y=0,E=0,v=0;y<r;++y)for(var p=0,m=wi(e,d+1,d=xy(E=o[y])),S=e;p<w;++p)(S=Cy(E>0?g[p]+" "+m:z(m,/&\f/g,g[p])))&&(l[v++]=S);return Vl(e,t,n,i===0?zl:a,l,u,c,h)}function SE(e,t,n,r){return Vl(e,t,n,Sy,$d(hE()),wi(e,2,-2),0,r)}function Ap(e,t,n,r,i){return Vl(e,t,n,Nd,wi(e,0,r),wi(e,r+1,-1),r,i)}function Ay(e,t,n){switch(uE(e,t)){case 5103:return K+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return K+e+e;case 4789:return gs+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return K+e+gs+e+te+e+e;case 5936:switch(ke(e,t+11)){case 114:return K+e+te+z(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return K+e+te+z(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return K+e+te+z(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return K+e+te+e+e;case 6165:return K+e+te+"flex-"+e+e;case 5187:return K+e+z(e,/(\w+).+(:[^]+)/,K+"box-$1$2"+te+"flex-$1$2")+e;case 5443:return K+e+te+"flex-item-"+z(e,/flex-|-self/g,"")+(rn(e,/flex-|baseline/)?"":te+"grid-row-"+z(e,/flex-|-self/g,""))+e;case 4675:return K+e+te+"flex-line-pack"+z(e,/align-content|flex-|-self/g,"")+e;case 5548:return K+e+te+z(e,"shrink","negative")+e;case 5292:return K+e+te+z(e,"basis","preferred-size")+e;case 6060:return K+"box-"+z(e,"-grow","")+K+e+te+z(e,"grow","positive")+e;case 4554:return K+z(e,/([^-])(transform)/g,"$1"+K+"$2")+e;case 6187:return z(z(z(e,/(zoom-|grab)/,K+"$1"),/(image-set)/,K+"$1"),e,"")+e;case 5495:case 3959:return z(e,/(image-set\([^]*)/,K+"$1$`$1");case 4968:return z(z(e,/(.+:)(flex-)?(.*)/,K+"box-pack:$3"+te+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+K+e+e;case 4200:if(!rn(e,/flex-|baseline/))return te+"grid-column-align"+wi(e,t)+e;break;case 2592:case 3360:return te+z(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,rn(r.props,/grid-\w+-end/)})?~Ca(e+(n=n[t].value),"span",0)?e:te+z(e,"-start","")+e+te+"grid-row-span:"+(~Ca(n,"span",0)?rn(n,/\d+/):+rn(n,/\d+/)-+rn(e,/\d+/))+";":te+z(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return rn(r.props,/grid-\w+-start/)})?e:te+z(z(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return z(e,/(.+)-inline(.+)/,K+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gt(e)-1-t>6)switch(ke(e,t+1)){case 109:if(ke(e,t+4)!==45)break;case 102:return z(e,/(.+:)(.+)-([^]+)/,"$1"+K+"$2-$3$1"+gs+(ke(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ca(e,"stretch",0)?Ay(z(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return z(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,u){return te+i+":"+s+u+(o?te+i+"-span:"+(a?l:+l-+s)+u:"")+e});case 4949:if(ke(e,t+6)===121)return z(e,":",":"+K)+e;break;case 6444:switch(ke(e,ke(e,14)===45?18:11)){case 120:return z(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+K+(ke(e,14)===45?"inline-":"")+"box$3$1"+K+"$2$3$1"+te+"$2box$3")+e;case 100:return z(e,":",":"+te)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return z(e,"scroll-","scroll-snap-")+e}return e}function za(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function EE(e,t,n,r){switch(e.type){case lE:if(e.children.length)break;case aE:case Nd:return e.return=e.return||e.value;case Sy:return"";case Ey:return e.return=e.value+"{"+za(e.children,r)+"}";case zl:if(!Gt(e.value=e.props.join(",")))return""}return Gt(n=za(e.children,r))?e.return=e.value+"{"+n+"}":""}function xE(e){var t=ky(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function CE(e){return function(t){t.root||(t=t.return)&&e(t)}}function kE(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Nd:e.return=Ay(e.value,e.length,n);return;case Ey:return za([kn(e,{value:z(e.value,"@","@"+K)})],r);case zl:if(e.length)return cE(n=e.props,function(i){switch(rn(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":zr(kn(e,{props:[z(i,/:(read-\w+)/,":"+gs+"$1")]})),zr(kn(e,{props:[i]})),zc(e,{props:kp(n,r)});break;case"::placeholder":zr(kn(e,{props:[z(i,/:(plac\w+)/,":"+K+"input-$1")]})),zr(kn(e,{props:[z(i,/:(plac\w+)/,":"+gs+"$1")]})),zr(kn(e,{props:[z(i,/:(plac\w+)/,te+"input-$1")]})),zr(kn(e,{props:[i]})),zc(e,{props:kp(n,r)});break}return""})}}var TE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ei=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",_y="active",Iy="data-styled-version",Wl="6.1.13",Dd=`/*!sc*/
`,Ba=typeof window<"u"&&"HTMLElement"in window,AE=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),_E={},Gl=Object.freeze([]),xi=Object.freeze({});function Ny(e,t,n){return n===void 0&&(n=xi),e.theme!==n.theme&&e.theme||t||n.theme}var $y=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),IE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,NE=/(^-|-$)/g;function _p(e){return e.replace(IE,"-").replace(NE,"")}var $E=/(a)(d)/gi,Ho=52,Ip=function(e){return String.fromCharCode(e+(e>25?39:97))};function Hc(e){var t,n="";for(t=Math.abs(e);t>Ho;t=t/Ho|0)n=Ip(t%Ho)+n;return(Ip(t%Ho)+n).replace($E,"$1-$2")}var Hu,Dy=5381,Qr=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Py=function(e){return Qr(Dy,e)};function Ry(e){return Hc(Py(e)>>>0)}function DE(e){return e.displayName||e.name||"Component"}function Wu(e){return typeof e=="string"&&!0}var Oy=typeof Symbol=="function"&&Symbol.for,My=Oy?Symbol.for("react.memo"):60115,PE=Oy?Symbol.for("react.forward_ref"):60112,RE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},OE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jy={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ME=((Hu={})[PE]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Hu[My]=jy,Hu);function Np(e){return("type"in(t=e)&&t.type.$$typeof)===My?jy:"$$typeof"in e?ME[e.$$typeof]:RE;var t}var jE=Object.defineProperty,LE=Object.getOwnPropertyNames,$p=Object.getOwnPropertySymbols,bE=Object.getOwnPropertyDescriptor,FE=Object.getPrototypeOf,Dp=Object.prototype;function Ly(e,t,n){if(typeof t!="string"){if(Dp){var r=FE(t);r&&r!==Dp&&Ly(e,r,n)}var i=LE(t);$p&&(i=i.concat($p(t)));for(var s=Np(e),o=Np(t),a=0;a<i.length;++a){var l=i[a];if(!(l in OE||n&&n[l]||o&&l in o||s&&l in s)){var u=bE(t,l);try{jE(e,l,u)}catch{}}}}return e}function Ci(e){return typeof e=="function"}function Pd(e){return typeof e=="object"&&"styledComponentId"in e}function pr(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Wc(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Rs(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Gc(e,t,n){if(n===void 0&&(n=!1),!n&&!Rs(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Gc(e[r],t[r]);else if(Rs(t))for(var r in t)e[r]=Gc(e[r],t[r]);return e}function Rd(e,t){Object.defineProperty(e,"toString",{value:t})}function Eo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var UE=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;t>=s;)if((s<<=1)<0)throw Eo(16,"".concat(t));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(Dd);return n},e}(),Aa=new Map,Va=new Map,_a=1,Wo=function(e){if(Aa.has(e))return Aa.get(e);for(;Va.has(_a);)_a++;var t=_a++;return Aa.set(e,t),Va.set(t,e),t},zE=function(e,t){_a=t+1,Aa.set(e,t),Va.set(t,e)},BE="style[".concat(Ei,"][").concat(Iy,'="').concat(Wl,'"]'),VE=new RegExp("^".concat(Ei,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),HE=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},WE=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(Dd),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(VE);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(zE(c,u),HE(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}},Pp=function(e){for(var t=document.querySelectorAll(BE),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Ei)!==_y&&(WE(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function GE(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var by=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Ei,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Ei,_y),r.setAttribute(Iy,Wl);var o=GE();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},KE=function(){function e(t){this.element=by(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Eo(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),QE=function(){function e(t){this.element=by(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),qE=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Rp=Ba,YE={isServer:!Ba,useCSSOMInjection:!AE},Ha=function(){function e(t,n,r){t===void 0&&(t=xi),n===void 0&&(n={});var i=this;this.options=Ke(Ke({},YE),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Ba&&Rp&&(Rp=!1,Pp(this)),Rd(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(h){var d=function(v){return Va.get(v)}(h);if(d===void 0)return"continue";var g=s.names.get(d),w=o.getGroup(h);if(g===void 0||!g.size||w.length===0)return"continue";var y="".concat(Ei,".g").concat(h,'[id="').concat(d,'"]'),E="";g!==void 0&&g.forEach(function(v){v.length>0&&(E+="".concat(v,","))}),l+="".concat(w).concat(y,'{content:"').concat(E,'"}').concat(Dd)},c=0;c<a;c++)u(c);return l}(i)})}return e.registerId=function(t){return Wo(t)},e.prototype.rehydrate=function(){!this.server&&Ba&&Pp(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Ke(Ke({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new qE(i):r?new KE(i):new QE(i)}(this.options),new UE(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Wo(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(Wo(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Wo(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),XE=/&/g,JE=/^\s*\/\/.*$/gm;function Fy(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Fy(n.children,t)),n})}function ZE(e){var t,n,r,i=e===void 0?xi:e,s=i.options,o=s===void 0?xi:s,a=i.plugins,l=a===void 0?Gl:a,u=function(d,g,w){return w.startsWith(n)&&w.endsWith(n)&&w.replaceAll(n,"").length>0?".".concat(t):d},c=l.slice();c.push(function(d){d.type===zl&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(XE,n).replace(r,u))}),o.prefix&&c.push(kE),c.push(EE);var h=function(d,g,w,y){g===void 0&&(g=""),w===void 0&&(w=""),y===void 0&&(y="&"),t=y,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var E=d.replace(JE,""),v=wE(w||g?"".concat(w," ").concat(g," { ").concat(E," }"):E);o.namespace&&(v=Fy(v,o.namespace));var p=[];return za(v,xE(c.concat(CE(function(m){return p.push(m)})))),p};return h.hash=l.length?l.reduce(function(d,g){return g.name||Eo(15),Qr(d,g.name)},Dy).toString():"",h}var ex=new Ha,Kc=ZE(),Uy=Ft.createContext({shouldForwardProp:void 0,styleSheet:ex,stylis:Kc});Uy.Consumer;Ft.createContext(void 0);function Qc(){return x.useContext(Uy)}var tx=function(){function e(t,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Kc);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Rd(this,function(){throw Eo(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Kc),this.name+t.hash},e}(),nx=function(e){return e>="A"&&e<="Z"};function Op(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;nx(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var zy=function(e){return e==null||e===!1||e===""},By=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!zy(s)&&(Array.isArray(s)&&s.isCss||Ci(s)?r.push("".concat(Op(i),":"),s,";"):Rs(s)?r.push.apply(r,Ps(Ps(["".concat(i," {")],By(s),!1),["}"],!1)):r.push("".concat(Op(i),": ").concat((t=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in TE||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Pn(e,t,n,r){if(zy(e))return[];if(Pd(e))return[".".concat(e.styledComponentId)];if(Ci(e)){if(!Ci(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var i=e(t);return Pn(i,t,n,r)}var s;return e instanceof tx?n?(e.inject(n,r),[e.getName(r)]):[e]:Rs(e)?By(e):Array.isArray(e)?Array.prototype.concat.apply(Gl,e.map(function(o){return Pn(o,t,n,r)})):[e.toString()]}function Vy(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ci(n)&&!Pd(n))return!1}return!0}var rx=Py(Wl),ix=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Vy(t),this.componentId=n,this.baseHash=Qr(rx,n),this.baseStyle=r,Ha.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=pr(i,this.staticRulesId);else{var s=Wc(Pn(this.rules,t,n,r)),o=Hc(Qr(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=pr(i,o),this.staticRulesId=o}else{for(var l=Qr(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var h=this.rules[c];if(typeof h=="string")u+=h;else if(h){var d=Wc(Pn(h,t,n,r));l=Qr(l,d+c),u+=d}}if(u){var g=Hc(l>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(u,".".concat(g),void 0,this.componentId)),i=pr(i,g)}}return i},e}(),Od=Ft.createContext(void 0);Od.Consumer;var Gu={};function sx(e,t,n){var r=Pd(e),i=e,s=!Wu(e),o=t.attrs,a=o===void 0?Gl:o,l=t.componentId,u=l===void 0?function(S,k){var _=typeof S!="string"?"sc":_p(S);Gu[_]=(Gu[_]||0)+1;var C="".concat(_,"-").concat(Ry(Wl+_+Gu[_]));return k?"".concat(k,"-").concat(C):C}(t.displayName,t.parentComponentId):l,c=t.displayName,h=c===void 0?function(S){return Wu(S)?"styled.".concat(S):"Styled(".concat(DE(S),")")}(e):c,d=t.displayName&&t.componentId?"".concat(_p(t.displayName),"-").concat(t.componentId):t.componentId||u,g=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,w=t.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(t.shouldForwardProp){var E=t.shouldForwardProp;w=function(S,k){return y(S,k)&&E(S,k)}}else w=y}var v=new ix(n,d,r?i.componentStyle:void 0);function p(S,k){return function(_,C,P){var R=_.attrs,j=_.componentStyle,rt=_.defaultProps,ir=_.foldedComponentIds,sr=_.styledComponentId,zo=_.target,Uu=Ft.useContext(Od),Yi=Qc(),or=_.shouldForwardProp||Yi.shouldForwardProp,$=Ny(C,Uu,rt)||xi,M=function(Sn,ct,nn){for(var Xi,lr=Ke(Ke({},ct),{className:void 0,theme:nn}),zu=0;zu<Sn.length;zu+=1){var Bo=Ci(Xi=Sn[zu])?Xi(lr):Xi;for(var En in Bo)lr[En]=En==="className"?pr(lr[En],Bo[En]):En==="style"?Ke(Ke({},lr[En]),Bo[En]):Bo[En]}return ct.className&&(lr.className=pr(lr.className,ct.className)),lr}(R,C,$),F=M.as||zo,X={};for(var J in M)M[J]===void 0||J[0]==="$"||J==="as"||J==="theme"&&M.theme===$||(J==="forwardedAs"?X.as=M.forwardedAs:or&&!or(J,F)||(X[J]=M[J]));var ar=function(Sn,ct){var nn=Qc(),Xi=Sn.generateAndInjectStyles(ct,nn.styleSheet,nn.stylis);return Xi}(j,M),Pt=pr(ir,sr);return ar&&(Pt+=" "+ar),M.className&&(Pt+=" "+M.className),X[Wu(F)&&!$y.has(F)?"class":"className"]=Pt,X.ref=P,x.createElement(F,X)}(m,S,k)}p.displayName=h;var m=Ft.forwardRef(p);return m.attrs=g,m.componentStyle=v,m.displayName=h,m.shouldForwardProp=w,m.foldedComponentIds=r?pr(i.foldedComponentIds,i.styledComponentId):"",m.styledComponentId=d,m.target=r?i.target:e,Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=r?function(k){for(var _=[],C=1;C<arguments.length;C++)_[C-1]=arguments[C];for(var P=0,R=_;P<R.length;P++)Gc(k,R[P],!0);return k}({},i.defaultProps,S):S}}),Rd(m,function(){return".".concat(m.styledComponentId)}),s&&Ly(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),m}function Mp(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var jp=function(e){return Object.assign(e,{isCss:!0})};function Hy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ci(e)||Rs(e))return jp(Pn(Mp(Gl,Ps([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Pn(r):jp(Pn(Mp(r,t)))}function qc(e,t,n){if(n===void 0&&(n=xi),!t)throw Eo(1,t);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return e(t,n,Hy.apply(void 0,Ps([i],s,!1)))};return r.attrs=function(i){return qc(e,t,Ke(Ke({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return qc(e,t,Ke(Ke({},n),i))},r}var Wy=function(e){return qc(sx,e)},wt=Wy;$y.forEach(function(e){wt[e]=Wy(e)});var ox=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=Vy(t),Ha.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,i){var s=i(Wc(Pn(this.rules,n,r,i)),""),o=this.componentId+t;r.insertRules(o,o,s)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,i){t>2&&Ha.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,i)},e}();function ax(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Hy.apply(void 0,Ps([e],t,!1)),i="sc-global-".concat(Ry(JSON.stringify(r))),s=new ox(r,i),o=function(l){var u=Qc(),c=Ft.useContext(Od),h=Ft.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&a(h,l,u.styleSheet,c,u.stylis),Ft.useLayoutEffect(function(){if(!u.styleSheet.server)return a(h,l,u.styleSheet,c,u.stylis),function(){return s.removeStyles(h,u.styleSheet)}},[h,l,u.styleSheet,c,u.stylis]),null};function a(l,u,c,h,d){if(s.isStatic)s.renderStyles(l,_E,c,d);else{var g=Ke(Ke({},u),{theme:Ny(u,h,o.defaultProps)});s.renderStyles(l,g,c,d)}}return Ft.memo(o)}const _r=wt.div`
  margin: 0 0.5rem;
`;var Yc=function(e,t){return Yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Yc(e,t)};function Ui(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Xc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wa(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Ga(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Xt(e){return typeof e=="function"}function Md(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ku=Md(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Jc(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Kl=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Xc(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(y){t={error:y}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else o.remove(this);var c=this.initialTeardown;if(Xt(c))try{c()}catch(y){s=y instanceof Ku?y.errors:[y]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=Xc(h),g=d.next();!g.done;g=d.next()){var w=g.value;try{Lp(w)}catch(y){s=s??[],y instanceof Ku?s=Ga(Ga([],Wa(s)),Wa(y.errors)):s.push(y)}}}catch(y){r={error:y}}finally{try{g&&!g.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new Ku(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Lp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Jc(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Jc(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Gy=Kl.EMPTY;function Ky(e){return e instanceof Kl||e&&"closed"in e&&Xt(e.remove)&&Xt(e.add)&&Xt(e.unsubscribe)}function Lp(e){Xt(e)?e():e.unsubscribe()}var Qy={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Zc={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Zc.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Ga([e,t],Wa(n))):setTimeout.apply(void 0,Ga([e,t],Wa(n)))},clearTimeout:function(e){var t=Zc.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function lx(e){Zc.setTimeout(function(){throw e})}function bp(){}function Ia(e){e()}var jd=function(e){Ui(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Ky(n)&&n.add(r)):r.destination=dx,r}return t.create=function(n,r,i){return new eh(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Kl),ux=Function.prototype.bind;function Qu(e,t){return ux.call(e,t)}var cx=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Go(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Go(r)}else Go(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Go(n)}},e}(),eh=function(e){Ui(t,e);function t(n,r,i){var s=e.call(this)||this,o;if(Xt(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&Qy.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Qu(n.next,a),error:n.error&&Qu(n.error,a),complete:n.complete&&Qu(n.complete,a)}):o=n}return s.destination=new cx(o),s}return t}(jd);function Go(e){lx(e)}function hx(e){throw e}var dx={closed:!0,next:bp,error:hx,complete:bp},fx=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function qy(e){return e}function px(e){return e.length===0?qy:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var th=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,s=gx(t)?t:new eh(t,n,r);return Ia(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Fp(n),new n(function(i,s){var o=new eh({next:function(a){try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[fx]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return px(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Fp(t),new t(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function Fp(e){var t;return(t=e??Qy.Promise)!==null&&t!==void 0?t:Promise}function mx(e){return e&&Xt(e.next)&&Xt(e.error)&&Xt(e.complete)}function gx(e){return e&&e instanceof jd||mx(e)&&Ky(e)}function yx(e){return Xt(e==null?void 0:e.lift)}function Ql(e){return function(t){if(yx(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ql(e,t,n,r,i){return new vx(e,t,n,r,i)}var vx=function(e){Ui(t,e);function t(n,r,i,s,o,a){var l=e.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:e.prototype._next,l._error=s?function(u){try{s(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(jd),wx=Md(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),xo=function(e){Ui(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Up(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new wx},t.prototype.next=function(n){var r=this;Ia(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Xc(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;Ia(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;Ia(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?Gy:(this.currentObservers=null,a.push(n),new Kl(function(){r.currentObservers=null,Jc(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},t.prototype.asObservable=function(){var n=new th;return n.source=this,n},t.create=function(n,r){return new Up(n,r)},t}(th),Up=function(e){Ui(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Gy},t}(xo),zp=function(e){Ui(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(xo),Sx=new th(function(e){return e.complete()}),Yy=Md(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ex(e,t){return Ql(function(n,r){var i=0;n.subscribe(ql(r,function(s){return e.call(t,s,i++)&&r.next(s)}))})}function xx(e){return Ql(function(t,n){var r=!1;t.subscribe(ql(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}function Cx(e){return e<=0?function(){return Sx}:Ql(function(t,n){var r=0;t.subscribe(ql(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function kx(e){return e===void 0&&(e=Tx),Ql(function(t,n){var r=!1;t.subscribe(ql(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(e())}))})}function Tx(){return new Yy}function Ax(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Ex(function(i,s){return e(i,s,r)}):qy,Cx(1),n?xx(t):kx(function(){return new Yy}))}}class _x{constructor(){U(this,"errorsFeed$");U(this,"lastError$");this.errorsFeed$=new zp([]),this.lastError$=new zp(void 0)}add(t){let n=[];this.errorsFeed$.subscribe(s=>{n=s}).unsubscribe();const i=[...n,t];console.error(i),this.errorsFeed$.next(i),this.lastError$.next(t)}deleteAll(){this.errorsFeed$.next([]),this.lastError$.next(void 0)}}const Os=new _x,dn=e=>e?new Error(`This code path should have never been executed: ${e}`):new Error("This code path should have never been executed"),Ix="small",Br={fill:"currentColor"};function Nx({icon:e}){switch(e){case"arrow-left":return["0 0 512 512",f.jsx("path",{...Br,d:"M 475,219.46 H 125 L 245,99 A 36.7,36.7 0 0 0 193.33,47.33 L 10.6,230 a 37.1,37.1 0 0 0 0,52 L 193.3,464.7 a 36.7,36.7 0 0 0 51.9,-51.9 L 125,292 h 350.47 c 20.1,0 36.55,-16.45 36.55,-36.55 0,-20.1 -16.8,-36.55 -36.9,-36.55 z"})];case"bin":return["0 0 16 16",[f.jsx("path",{...Br,d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.8824zM2.53h11V2h-11z"},"bin-1"),f.jsx("path",{...Br,d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},"bin-2")]];case"pencil":return["0 0 16 16",f.jsx("path",{...Br,d:"M3.25 10.26l2.47 2.47 6.69-6.69-2.46-2.48-6.7 6.7zM.99 14.99l3.86-1.39-2.46-2.44-1.4 3.83zm12.25-14c-.48 0-.92.2-1.24.51l-1.44 1.44 2.47 2.47 1.44-1.44c.32-.32.51-.75.51-1.24.01-.95-.77-1.74-1.74-1.74z"})];case"gear":return["0 0 512 512",f.jsx("path",{...Br,d:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"})];case"rotate":return["0 0 512 512",f.jsx("path",{...Br,d:"M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"})];default:throw dn(`unsupported icon '${e}'`)}}function $x({size:e}){switch(e){case"small":return{width:"0.9rem",height:"0.9rem"};case"large":return{width:"1.2rem",height:"1.2rem"};case"extralarge":return{width:"1.5rem",height:"1.5rem"};default:throw dn(`unsupported size '${e}'`)}}function Dx({icon:e,size:t}){const{width:n,height:r}=$x({size:t||Ix}),[i,s]=Nx({icon:e});return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"fill-current","aria-hidden":"true",focusable:"false",viewBox:i,width:n,height:r,role:"icon",children:s})}function _e({text:e,active:t,disabled:n,icon:r,iconSize:i,onClick:s}){const o="text-sm py-2 px-3 rounded inline-flex items-center gap-2 focus:outline-none",a=" bg-gray-300  dark:bg-gray-600  text-gray-700  dark:text-gray-300",l=" bg-gray-400  dark:bg-gray-400  text-gray-100  dark:text-gray-800",u=" opacity-50 cursor-not-allowed";let c=o;n?c+=u:t?c+=l:c+=a;let h={};return i&&(h={size:i}),f.jsxs("button",{className:c,disabled:n,onClick:s,children:[r&&f.jsx(Dx,{icon:r,...h}),e!==void 0&&f.jsx("span",{children:e})]})}function Px(){const[e,t]=x.useState([]);return x.useEffect(()=>{const n=Os.errorsFeed$.subscribe(t);return()=>{n.unsubscribe()}},[]),!e||e.length===0?null:f.jsxs("div",{className:"p-3",children:[f.jsx("div",{className:"flex flex-row justify-end pb-3",children:f.jsx(_e,{text:"Clear all error messages",onClick:()=>Os.deleteAll()})}),f.jsx("div",{className:"flex flex-col gap-2",role:"error-list",children:e.map((n,r)=>f.jsx(Rx,{error:n},`error-${r}`))})]})}function Rx({error:{header:e,description:t}}){return f.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-red-800",role:"error",children:[f.jsx("div",{className:"font-bold",role:"error-header",children:e}),f.jsx("div",{className:"",role:"error-description",children:t})]})}function Ox({children:e,className:t}){return f.jsx("div",{className:`h-screen ${t}`,children:e})}function Mx({children:e,className:t}){return f.jsx("div",{className:t,children:e})}function jx({children:e,className:t}){return f.jsx("div",{className:`h-screen flex flex-col flex-nowrap justify-center ${t}`,children:e})}const Ko={Parent:Ox,Content:Mx,ContentFullyCentered:jx};var kt=(e=>(e.root="/",e.expenseEditor="/expenses/:expenseId",e.paymentAccounts="/payment-accounts",e.settings="/settings",e.notFound="/*",e))(kt||{});function Xy(e,t){throw new Error(t||`BUG: please make sure this value never reaches here: ${e}`)}const nh="dark",Jy=x.createContext({theme:nh,setTheme:e=>{}});function Lx(){const{theme:e,setTheme:t}=x.useContext(Jy);function n(){switch(e){case"light":return t("dark");case"dark":return t("light");default:Xy(e,`unsupported theme: ${e}`)}}return f.jsx("div",{className:"cursor-pointer hover:text-blue-300",onClick:n,children:e})}var Zy={exports:{}},St={},ev={exports:{}},tv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,M){var F=$.length;$.push(M);e:for(;0<F;){var X=F-1>>>1,J=$[X];if(0<i(J,M))$[X]=M,$[F]=J,F=X;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var M=$[0],F=$.pop();if(F!==M){$[0]=F;e:for(var X=0,J=$.length,ar=J>>>1;X<ar;){var Pt=2*(X+1)-1,Sn=$[Pt],ct=Pt+1,nn=$[ct];if(0>i(Sn,F))ct<J&&0>i(nn,Sn)?($[X]=nn,$[ct]=F,X=ct):($[X]=Sn,$[Pt]=F,X=Pt);else if(ct<J&&0>i(nn,F))$[X]=nn,$[ct]=F,X=ct;else break e}}return M}function i($,M){var F=$.sortIndex-M.sortIndex;return F!==0?F:$.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,g=!1,w=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m($){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=$)r(u),M.sortIndex=M.expirationTime,t(l,M);else break;M=n(u)}}function S($){if(y=!1,m($),!w)if(n(l)!==null)w=!0,Yi(k);else{var M=n(u);M!==null&&or(S,M.startTime-$)}}function k($,M){w=!1,y&&(y=!1,v(P),P=-1),g=!0;var F=d;try{for(m(M),h=n(l);h!==null&&(!(h.expirationTime>M)||$&&!rt());){var X=h.callback;if(typeof X=="function"){h.callback=null,d=h.priorityLevel;var J=X(h.expirationTime<=M);M=e.unstable_now(),typeof J=="function"?h.callback=J:h===n(l)&&r(l),m(M)}else r(l);h=n(l)}if(h!==null)var ar=!0;else{var Pt=n(u);Pt!==null&&or(S,Pt.startTime-M),ar=!1}return ar}finally{h=null,d=F,g=!1}}var _=!1,C=null,P=-1,R=5,j=-1;function rt(){return!(e.unstable_now()-j<R)}function ir(){if(C!==null){var $=e.unstable_now();j=$;var M=!0;try{M=C(!0,$)}finally{M?sr():(_=!1,C=null)}}else _=!1}var sr;if(typeof p=="function")sr=function(){p(ir)};else if(typeof MessageChannel<"u"){var zo=new MessageChannel,Uu=zo.port2;zo.port1.onmessage=ir,sr=function(){Uu.postMessage(null)}}else sr=function(){E(ir,0)};function Yi($){C=$,_||(_=!0,sr())}function or($,M){P=E(function(){$(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,Yi(k))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function($){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var F=d;d=M;try{return $()}finally{d=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,M){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var F=d;d=$;try{return M()}finally{d=F}},e.unstable_scheduleCallback=function($,M,F){var X=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?X+F:X):F=X,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,$={id:c++,callback:M,priorityLevel:$,startTime:F,expirationTime:J,sortIndex:-1},F>X?($.sortIndex=F,t(u,$),n(l)===null&&$===n(u)&&(y?(v(P),P=-1):y=!0,or(S,F-X))):($.sortIndex=J,t(l,$),w||g||(w=!0,Yi(k))),$},e.unstable_shouldYield=rt,e.unstable_wrapCallback=function($){var M=d;return function(){var F=d;d=M;try{return $.apply(this,arguments)}finally{d=F}}}})(tv);ev.exports=tv;var bx=ev.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx=x,yt=bx;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nv=new Set,Ms={};function Lr(e,t){ki(e,t),ki(e+"Capture",t)}function ki(e,t){for(Ms[e]=t,e=0;e<t.length;e++)nv.add(t[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=Object.prototype.hasOwnProperty,Ux=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bp={},Vp={};function zx(e){return rh.call(Vp,e)?!0:rh.call(Bp,e)?!1:Ux.test(e)?Vp[e]=!0:(Bp[e]=!0,!1)}function Bx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vx(e,t,n,r){if(t===null||typeof t>"u"||Bx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ld=/[\-:]([a-z])/g;function bd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ld,bd);Fe[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ld,bd);Fe[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ld,bd);Fe[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fd(e,t,n,r){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vx(t,n,i,r)&&(n=null),r||i===null?zx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wn=Fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qo=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),Ud=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),rv=Symbol.for("react.provider"),iv=Symbol.for("react.context"),zd=Symbol.for("react.forward_ref"),sh=Symbol.for("react.suspense"),oh=Symbol.for("react.suspense_list"),Bd=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),sv=Symbol.for("react.offscreen"),Hp=Symbol.iterator;function Ji(e){return e===null||typeof e!="object"?null:(e=Hp&&e[Hp]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,qu;function cs(e){if(qu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qu=t&&t[1]||""}return`
`+qu+e}var Yu=!1;function Xu(e,t){if(!e||Yu)return"";Yu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cs(e):""}function Hx(e){switch(e.tag){case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return e=Xu(e.type,!1),e;case 11:return e=Xu(e.type.render,!1),e;case 1:return e=Xu(e.type,!0),e;default:return""}}function ah(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yr:return"Fragment";case qr:return"Portal";case ih:return"Profiler";case Ud:return"StrictMode";case sh:return"Suspense";case oh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iv:return(e.displayName||"Context")+".Consumer";case rv:return(e._context.displayName||"Context")+".Provider";case zd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bd:return t=e.displayName||null,t!==null?t:ah(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return ah(e(t))}catch{}}return null}function Wx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ah(t);case 8:return t===Ud?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ov(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gx(e){var t=ov(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qo(e){e._valueTracker||(e._valueTracker=Gx(e))}function av(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ov(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lh(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lv(e,t){t=t.checked,t!=null&&Fd(e,"checked",t,!1)}function uh(e,t){lv(e,t);var n=Wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ch(e,t.type,n):t.hasOwnProperty("defaultValue")&&ch(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ch(e,t,n){(t!=="number"||Ka(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hs=Array.isArray;function ui(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(hs(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wn(n)}}function uv(e,t){var n=Wn(t.value),r=Wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yo,hv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yo=Yo||document.createElement("div"),Yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kx=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(e){Kx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ys[t]=ys[e]})});function dv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ys.hasOwnProperty(e)&&ys[e]?(""+t).trim():t+"px"}function fv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Qx=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fh(e,t){if(t){if(Qx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function ph(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=null;function Vd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gh=null,ci=null,hi=null;function qp(e){if(e=To(e)){if(typeof gh!="function")throw Error(T(280));var t=e.stateNode;t&&(t=eu(t),gh(e.stateNode,e.type,t))}}function pv(e){ci?hi?hi.push(e):hi=[e]:ci=e}function mv(){if(ci){var e=ci,t=hi;if(hi=ci=null,qp(e),t)for(e=0;e<t.length;e++)qp(t[e])}}function gv(e,t){return e(t)}function yv(){}var Ju=!1;function vv(e,t,n){if(Ju)return e(t,n);Ju=!0;try{return gv(e,t,n)}finally{Ju=!1,(ci!==null||hi!==null)&&(yv(),mv())}}function Ls(e,t){var n=e.stateNode;if(n===null)return null;var r=eu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var yh=!1;if(fn)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){yh=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{yh=!1}function qx(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var vs=!1,Qa=null,qa=!1,vh=null,Yx={onError:function(e){vs=!0,Qa=e}};function Xx(e,t,n,r,i,s,o,a,l){vs=!1,Qa=null,qx.apply(Yx,arguments)}function Jx(e,t,n,r,i,s,o,a,l){if(Xx.apply(this,arguments),vs){if(vs){var u=Qa;vs=!1,Qa=null}else throw Error(T(198));qa||(qa=!0,vh=u)}}function br(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yp(e){if(br(e)!==e)throw Error(T(188))}function Zx(e){var t=e.alternate;if(!t){if(t=br(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yp(i),e;if(s===r)return Yp(i),t;s=s.sibling}throw Error(T(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Sv(e){return e=Zx(e),e!==null?Ev(e):null}function Ev(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ev(e);if(t!==null)return t;e=e.sibling}return null}var xv=yt.unstable_scheduleCallback,Xp=yt.unstable_cancelCallback,e2=yt.unstable_shouldYield,t2=yt.unstable_requestPaint,me=yt.unstable_now,n2=yt.unstable_getCurrentPriorityLevel,Hd=yt.unstable_ImmediatePriority,Cv=yt.unstable_UserBlockingPriority,Ya=yt.unstable_NormalPriority,r2=yt.unstable_LowPriority,kv=yt.unstable_IdlePriority,Yl=null,Jt=null;function i2(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Yl,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:a2,s2=Math.log,o2=Math.LN2;function a2(e){return e>>>=0,e===0?32:31-(s2(e)/o2|0)|0}var Xo=64,Jo=4194304;function ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ds(a):(s&=o,s!==0&&(r=ds(s)))}else o=n&~i,o!==0?r=ds(o):s!==0&&(r=ds(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),i=1<<n,r|=e[n],t&=~i;return r}function l2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-zt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=l2(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function wh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tv(){var e=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),e}function Zu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Co(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function c2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-zt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Wd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var q=0;function Av(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _v,Gd,Iv,Nv,$v,Sh=!1,Zo=[],Rn=null,On=null,Mn=null,bs=new Map,Fs=new Map,_n=[],h2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jp(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function es(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=To(t),t!==null&&Gd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function d2(e,t,n,r,i){switch(t){case"focusin":return Rn=es(Rn,e,t,n,r,i),!0;case"dragenter":return On=es(On,e,t,n,r,i),!0;case"mouseover":return Mn=es(Mn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return bs.set(s,es(bs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fs.set(s,es(Fs.get(s)||null,e,t,n,r,i)),!0}return!1}function Dv(e){var t=mr(e.target);if(t!==null){var n=br(t);if(n!==null){if(t=n.tag,t===13){if(t=wv(n),t!==null){e.blockedOn=t,$v(e.priority,function(){Iv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mh=r,n.target.dispatchEvent(r),mh=null}else return t=To(n),t!==null&&Gd(t),e.blockedOn=n,!1;t.shift()}return!0}function Zp(e,t,n){Na(e)&&n.delete(t)}function f2(){Sh=!1,Rn!==null&&Na(Rn)&&(Rn=null),On!==null&&Na(On)&&(On=null),Mn!==null&&Na(Mn)&&(Mn=null),bs.forEach(Zp),Fs.forEach(Zp)}function ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Sh||(Sh=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,f2)))}function Us(e){function t(i){return ts(i,e)}if(0<Zo.length){ts(Zo[0],e);for(var n=1;n<Zo.length;n++){var r=Zo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rn!==null&&ts(Rn,e),On!==null&&ts(On,e),Mn!==null&&ts(Mn,e),bs.forEach(t),Fs.forEach(t),n=0;n<_n.length;n++)r=_n[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)Dv(n),n.blockedOn===null&&_n.shift()}var di=wn.ReactCurrentBatchConfig,Ja=!0;function p2(e,t,n,r){var i=q,s=di.transition;di.transition=null;try{q=1,Kd(e,t,n,r)}finally{q=i,di.transition=s}}function m2(e,t,n,r){var i=q,s=di.transition;di.transition=null;try{q=4,Kd(e,t,n,r)}finally{q=i,di.transition=s}}function Kd(e,t,n,r){if(Ja){var i=Eh(e,t,n,r);if(i===null)uc(e,t,r,Za,n),Jp(e,r);else if(d2(i,e,t,n,r))r.stopPropagation();else if(Jp(e,r),t&4&&-1<h2.indexOf(e)){for(;i!==null;){var s=To(i);if(s!==null&&_v(s),s=Eh(e,t,n,r),s===null&&uc(e,t,r,Za,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else uc(e,t,r,null,n)}}var Za=null;function Eh(e,t,n,r){if(Za=null,e=Vd(r),e=mr(e),e!==null)if(t=br(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Za=e,null}function Pv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n2()){case Hd:return 1;case Cv:return 4;case Ya:case r2:return 16;case kv:return 536870912;default:return 16}default:return 16}}var Nn=null,Qd=null,$a=null;function Rv(){if($a)return $a;var e,t=Qd,n=t.length,r,i="value"in Nn?Nn.value:Nn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return $a=i.slice(e,1<r?1-r:void 0)}function Da(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ea(){return!0}function em(){return!1}function Et(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ea:em,this.isPropagationStopped=em,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),t}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=Et(zi),ko=de({},zi,{view:0,detail:0}),g2=Et(ko),ec,tc,ns,Xl=de({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ns&&(ns&&e.type==="mousemove"?(ec=e.screenX-ns.screenX,tc=e.screenY-ns.screenY):tc=ec=0,ns=e),ec)},movementY:function(e){return"movementY"in e?e.movementY:tc}}),tm=Et(Xl),y2=de({},Xl,{dataTransfer:0}),v2=Et(y2),w2=de({},ko,{relatedTarget:0}),nc=Et(w2),S2=de({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),E2=Et(S2),x2=de({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C2=Et(x2),k2=de({},zi,{data:0}),nm=Et(k2),T2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_2[e])?!!t[e]:!1}function Yd(){return I2}var N2=de({},ko,{key:function(e){if(e.key){var t=T2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Da(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yd,charCode:function(e){return e.type==="keypress"?Da(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Da(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$2=Et(N2),D2=de({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rm=Et(D2),P2=de({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yd}),R2=Et(P2),O2=de({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),M2=Et(O2),j2=de({},Xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L2=Et(j2),b2=[9,13,27,32],Xd=fn&&"CompositionEvent"in window,ws=null;fn&&"documentMode"in document&&(ws=document.documentMode);var F2=fn&&"TextEvent"in window&&!ws,Ov=fn&&(!Xd||ws&&8<ws&&11>=ws),im=String.fromCharCode(32),sm=!1;function Mv(e,t){switch(e){case"keyup":return b2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function U2(e,t){switch(e){case"compositionend":return jv(t);case"keypress":return t.which!==32?null:(sm=!0,im);case"textInput":return e=t.data,e===im&&sm?null:e;default:return null}}function z2(e,t){if(Xr)return e==="compositionend"||!Xd&&Mv(e,t)?(e=Rv(),$a=Qd=Nn=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ov&&t.locale!=="ko"?null:t.data;default:return null}}var B2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B2[e.type]:t==="textarea"}function Lv(e,t,n,r){pv(r),t=el(t,"onChange"),0<t.length&&(n=new qd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ss=null,zs=null;function V2(e){Qv(e,0)}function Jl(e){var t=ei(e);if(av(t))return e}function H2(e,t){if(e==="change")return t}var bv=!1;if(fn){var rc;if(fn){var ic="oninput"in document;if(!ic){var am=document.createElement("div");am.setAttribute("oninput","return;"),ic=typeof am.oninput=="function"}rc=ic}else rc=!1;bv=rc&&(!document.documentMode||9<document.documentMode)}function lm(){Ss&&(Ss.detachEvent("onpropertychange",Fv),zs=Ss=null)}function Fv(e){if(e.propertyName==="value"&&Jl(zs)){var t=[];Lv(t,zs,e,Vd(e)),vv(V2,t)}}function W2(e,t,n){e==="focusin"?(lm(),Ss=t,zs=n,Ss.attachEvent("onpropertychange",Fv)):e==="focusout"&&lm()}function G2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(zs)}function K2(e,t){if(e==="click")return Jl(t)}function Q2(e,t){if(e==="input"||e==="change")return Jl(t)}function q2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:q2;function Bs(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rh.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function um(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cm(e,t){var n=um(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=um(n)}}function Uv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zv(){for(var e=window,t=Ka();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ka(e.document)}return t}function Jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Y2(e){var t=zv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Uv(n.ownerDocument.documentElement,n)){if(r!==null&&Jd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cm(n,s);var o=cm(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var X2=fn&&"documentMode"in document&&11>=document.documentMode,Jr=null,xh=null,Es=null,Ch=!1;function hm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ch||Jr==null||Jr!==Ka(r)||(r=Jr,"selectionStart"in r&&Jd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Es&&Bs(Es,r)||(Es=r,r=el(xh,"onSelect"),0<r.length&&(t=new qd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jr)))}function ta(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},sc={},Bv={};fn&&(Bv=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function Zl(e){if(sc[e])return sc[e];if(!Zr[e])return e;var t=Zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bv)return sc[e]=t[n];return e}var Vv=Zl("animationend"),Hv=Zl("animationiteration"),Wv=Zl("animationstart"),Gv=Zl("transitionend"),Kv=new Map,dm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,t){Kv.set(e,t),Lr(t,[e])}for(var oc=0;oc<dm.length;oc++){var ac=dm[oc],J2=ac.toLowerCase(),Z2=ac[0].toUpperCase()+ac.slice(1);Xn(J2,"on"+Z2)}Xn(Vv,"onAnimationEnd");Xn(Hv,"onAnimationIteration");Xn(Wv,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(Gv,"onTransitionEnd");ki("onMouseEnter",["mouseout","mouseover"]);ki("onMouseLeave",["mouseout","mouseover"]);ki("onPointerEnter",["pointerout","pointerover"]);ki("onPointerLeave",["pointerout","pointerover"]);Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eC=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function fm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Jx(r,t,void 0,e),e.currentTarget=null}function Qv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;fm(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;fm(i,a,u),s=l}}}if(qa)throw e=vh,qa=!1,vh=null,e}function ne(e,t){var n=t[Ih];n===void 0&&(n=t[Ih]=new Set);var r=e+"__bubble";n.has(r)||(qv(t,e,2,!1),n.add(r))}function lc(e,t,n){var r=0;t&&(r|=4),qv(n,e,r,t)}var na="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[na]){e[na]=!0,nv.forEach(function(n){n!=="selectionchange"&&(eC.has(n)||lc(n,!1,e),lc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[na]||(t[na]=!0,lc("selectionchange",!1,t))}}function qv(e,t,n,r){switch(Pv(t)){case 1:var i=p2;break;case 4:i=m2;break;default:i=Kd}n=i.bind(null,t,n,e),i=void 0,!yh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function uc(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=mr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}vv(function(){var u=s,c=Vd(n),h=[];e:{var d=Kv.get(e);if(d!==void 0){var g=qd,w=e;switch(e){case"keypress":if(Da(n)===0)break e;case"keydown":case"keyup":g=$2;break;case"focusin":w="focus",g=nc;break;case"focusout":w="blur",g=nc;break;case"beforeblur":case"afterblur":g=nc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=v2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=R2;break;case Vv:case Hv:case Wv:g=E2;break;case Gv:g=M2;break;case"scroll":g=g2;break;case"wheel":g=L2;break;case"copy":case"cut":case"paste":g=C2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=rm}var y=(t&4)!==0,E=!y&&e==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var p=u,m;p!==null;){m=p;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,v!==null&&(S=Ls(p,v),S!=null&&y.push(Hs(p,S,m)))),E)break;p=p.return}0<y.length&&(d=new g(d,w,null,n,c),h.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==mh&&(w=n.relatedTarget||n.fromElement)&&(mr(w)||w[pn]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?mr(w):null,w!==null&&(E=br(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(y=tm,S="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=rm,S="onPointerLeave",v="onPointerEnter",p="pointer"),E=g==null?d:ei(g),m=w==null?d:ei(w),d=new y(S,p+"leave",g,n,c),d.target=E,d.relatedTarget=m,S=null,mr(c)===u&&(y=new y(v,p+"enter",w,n,c),y.target=m,y.relatedTarget=E,S=y),E=S,g&&w)t:{for(y=g,v=w,p=0,m=y;m;m=Vr(m))p++;for(m=0,S=v;S;S=Vr(S))m++;for(;0<p-m;)y=Vr(y),p--;for(;0<m-p;)v=Vr(v),m--;for(;p--;){if(y===v||v!==null&&y===v.alternate)break t;y=Vr(y),v=Vr(v)}y=null}else y=null;g!==null&&pm(h,d,g,y,!1),w!==null&&E!==null&&pm(h,E,w,y,!0)}}e:{if(d=u?ei(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var k=H2;else if(om(d))if(bv)k=Q2;else{k=G2;var _=W2}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=K2);if(k&&(k=k(e,u))){Lv(h,k,n,c);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&ch(d,"number",d.value)}switch(_=u?ei(u):window,e){case"focusin":(om(_)||_.contentEditable==="true")&&(Jr=_,xh=u,Es=null);break;case"focusout":Es=xh=Jr=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,hm(h,n,c);break;case"selectionchange":if(X2)break;case"keydown":case"keyup":hm(h,n,c)}var C;if(Xd)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xr?Mv(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Ov&&n.locale!=="ko"&&(Xr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xr&&(C=Rv()):(Nn=c,Qd="value"in Nn?Nn.value:Nn.textContent,Xr=!0)),_=el(u,P),0<_.length&&(P=new nm(P,e,null,n,c),h.push({event:P,listeners:_}),C?P.data=C:(C=jv(n),C!==null&&(P.data=C)))),(C=F2?U2(e,n):z2(e,n))&&(u=el(u,"onBeforeInput"),0<u.length&&(c=new nm("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=C))}Qv(h,t)})}function Hs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function el(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ls(e,n),s!=null&&r.unshift(Hs(e,s,i)),s=Ls(e,t),s!=null&&r.push(Hs(e,s,i))),e=e.return}return r}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pm(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ls(n,s),l!=null&&o.unshift(Hs(n,l,a))):i||(l=Ls(n,s),l!=null&&o.push(Hs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var tC=/\r\n?/g,nC=/\u0000|\uFFFD/g;function mm(e){return(typeof e=="string"?e:""+e).replace(tC,`
`).replace(nC,"")}function ra(e,t,n){if(t=mm(t),mm(e)!==t&&n)throw Error(T(425))}function tl(){}var kh=null,Th=null;function Ah(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,rC=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,iC=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(e){return gm.resolve(null).then(e).catch(sC)}:_h;function sC(e){setTimeout(function(){throw e})}function cc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Us(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Us(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ym(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Bi,Ws="__reactProps$"+Bi,pn="__reactContainer$"+Bi,Ih="__reactEvents$"+Bi,oC="__reactListeners$"+Bi,aC="__reactHandles$"+Bi;function mr(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ym(e);e!==null;){if(n=e[Kt])return n;e=ym(e)}return t}e=n,n=e.parentNode}return null}function To(e){return e=e[Kt]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function eu(e){return e[Ws]||null}var Nh=[],ti=-1;function Jn(e){return{current:e}}function ie(e){0>ti||(e.current=Nh[ti],Nh[ti]=null,ti--)}function ee(e,t){ti++,Nh[ti]=e.current,e.current=t}var Gn={},Ye=Jn(Gn),ot=Jn(!1),Ir=Gn;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function at(e){return e=e.childContextTypes,e!=null}function nl(){ie(ot),ie(Ye)}function vm(e,t,n){if(Ye.current!==Gn)throw Error(T(168));ee(Ye,t),ee(ot,n)}function Yv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(T(108,Wx(e)||"Unknown",i));return de({},n,r)}function rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,Ir=Ye.current,ee(Ye,e),ee(ot,ot.current),!0}function wm(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=Yv(e,t,Ir),r.__reactInternalMemoizedMergedChildContext=e,ie(ot),ie(Ye),ee(Ye,e)):ie(ot),ee(ot,n)}var on=null,tu=!1,hc=!1;function Xv(e){on===null?on=[e]:on.push(e)}function lC(e){tu=!0,Xv(e)}function Zn(){if(!hc&&on!==null){hc=!0;var e=0,t=q;try{var n=on;for(q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}on=null,tu=!1}catch(i){throw on!==null&&(on=on.slice(e+1)),xv(Hd,Zn),i}finally{q=t,hc=!1}}return null}var ni=[],ri=0,il=null,sl=0,xt=[],Ct=0,Nr=null,an=1,ln="";function hr(e,t){ni[ri++]=sl,ni[ri++]=il,il=e,sl=t}function Jv(e,t,n){xt[Ct++]=an,xt[Ct++]=ln,xt[Ct++]=Nr,Nr=e;var r=an;e=ln;var i=32-zt(r)-1;r&=~(1<<i),n+=1;var s=32-zt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,an=1<<32-zt(t)+i|n<<i|r,ln=s+e}else an=1<<s|n<<i|r,ln=e}function Zd(e){e.return!==null&&(hr(e,1),Jv(e,1,0))}function ef(e){for(;e===il;)il=ni[--ri],ni[ri]=null,sl=ni[--ri],ni[ri]=null;for(;e===Nr;)Nr=xt[--Ct],xt[Ct]=null,ln=xt[--Ct],xt[Ct]=null,an=xt[--Ct],xt[Ct]=null}var mt=null,ft=null,oe=!1,jt=null;function Zv(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,ft=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nr!==null?{id:an,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,ft=null,!0):!1;default:return!1}}function $h(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dh(e){if(oe){var t=ft;if(t){var n=t;if(!Sm(e,t)){if($h(e))throw Error(T(418));t=jn(n.nextSibling);var r=mt;t&&Sm(e,t)?Zv(r,n):(e.flags=e.flags&-4097|2,oe=!1,mt=e)}}else{if($h(e))throw Error(T(418));e.flags=e.flags&-4097|2,oe=!1,mt=e}}}function Em(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function ia(e){if(e!==mt)return!1;if(!oe)return Em(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ah(e.type,e.memoizedProps)),t&&(t=ft)){if($h(e))throw e0(),Error(T(418));for(;t;)Zv(e,t),t=jn(t.nextSibling)}if(Em(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ft=jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=mt?jn(e.stateNode.nextSibling):null;return!0}function e0(){for(var e=ft;e;)e=jn(e.nextSibling)}function Ai(){ft=mt=null,oe=!1}function tf(e){jt===null?jt=[e]:jt.push(e)}var uC=wn.ReactCurrentBatchConfig;function rs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function sa(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xm(e){var t=e._init;return t(e._payload)}function t0(e){function t(v,p){if(e){var m=v.deletions;m===null?(v.deletions=[p],v.flags|=16):m.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function i(v,p){return v=Un(v,p),v.index=0,v.sibling=null,v}function s(v,p,m){return v.index=m,e?(m=v.alternate,m!==null?(m=m.index,m<p?(v.flags|=2,p):m):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,p,m,S){return p===null||p.tag!==6?(p=vc(m,v.mode,S),p.return=v,p):(p=i(p,m),p.return=v,p)}function l(v,p,m,S){var k=m.type;return k===Yr?c(v,p,m.props.children,S,m.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tn&&xm(k)===p.type)?(S=i(p,m.props),S.ref=rs(v,p,m),S.return=v,S):(S=ba(m.type,m.key,m.props,null,v.mode,S),S.ref=rs(v,p,m),S.return=v,S)}function u(v,p,m,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=wc(m,v.mode,S),p.return=v,p):(p=i(p,m.children||[]),p.return=v,p)}function c(v,p,m,S,k){return p===null||p.tag!==7?(p=kr(m,v.mode,S,k),p.return=v,p):(p=i(p,m),p.return=v,p)}function h(v,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=vc(""+p,v.mode,m),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qo:return m=ba(p.type,p.key,p.props,null,v.mode,m),m.ref=rs(v,null,p),m.return=v,m;case qr:return p=wc(p,v.mode,m),p.return=v,p;case Tn:var S=p._init;return h(v,S(p._payload),m)}if(hs(p)||Ji(p))return p=kr(p,v.mode,m,null),p.return=v,p;sa(v,p)}return null}function d(v,p,m,S){var k=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:a(v,p,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Qo:return m.key===k?l(v,p,m,S):null;case qr:return m.key===k?u(v,p,m,S):null;case Tn:return k=m._init,d(v,p,k(m._payload),S)}if(hs(m)||Ji(m))return k!==null?null:c(v,p,m,S,null);sa(v,m)}return null}function g(v,p,m,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(m)||null,a(p,v,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qo:return v=v.get(S.key===null?m:S.key)||null,l(p,v,S,k);case qr:return v=v.get(S.key===null?m:S.key)||null,u(p,v,S,k);case Tn:var _=S._init;return g(v,p,m,_(S._payload),k)}if(hs(S)||Ji(S))return v=v.get(m)||null,c(p,v,S,k,null);sa(p,S)}return null}function w(v,p,m,S){for(var k=null,_=null,C=p,P=p=0,R=null;C!==null&&P<m.length;P++){C.index>P?(R=C,C=null):R=C.sibling;var j=d(v,C,m[P],S);if(j===null){C===null&&(C=R);break}e&&C&&j.alternate===null&&t(v,C),p=s(j,p,P),_===null?k=j:_.sibling=j,_=j,C=R}if(P===m.length)return n(v,C),oe&&hr(v,P),k;if(C===null){for(;P<m.length;P++)C=h(v,m[P],S),C!==null&&(p=s(C,p,P),_===null?k=C:_.sibling=C,_=C);return oe&&hr(v,P),k}for(C=r(v,C);P<m.length;P++)R=g(C,v,P,m[P],S),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?P:R.key),p=s(R,p,P),_===null?k=R:_.sibling=R,_=R);return e&&C.forEach(function(rt){return t(v,rt)}),oe&&hr(v,P),k}function y(v,p,m,S){var k=Ji(m);if(typeof k!="function")throw Error(T(150));if(m=k.call(m),m==null)throw Error(T(151));for(var _=k=null,C=p,P=p=0,R=null,j=m.next();C!==null&&!j.done;P++,j=m.next()){C.index>P?(R=C,C=null):R=C.sibling;var rt=d(v,C,j.value,S);if(rt===null){C===null&&(C=R);break}e&&C&&rt.alternate===null&&t(v,C),p=s(rt,p,P),_===null?k=rt:_.sibling=rt,_=rt,C=R}if(j.done)return n(v,C),oe&&hr(v,P),k;if(C===null){for(;!j.done;P++,j=m.next())j=h(v,j.value,S),j!==null&&(p=s(j,p,P),_===null?k=j:_.sibling=j,_=j);return oe&&hr(v,P),k}for(C=r(v,C);!j.done;P++,j=m.next())j=g(C,v,P,j.value,S),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?P:j.key),p=s(j,p,P),_===null?k=j:_.sibling=j,_=j);return e&&C.forEach(function(ir){return t(v,ir)}),oe&&hr(v,P),k}function E(v,p,m,S){if(typeof m=="object"&&m!==null&&m.type===Yr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Qo:e:{for(var k=m.key,_=p;_!==null;){if(_.key===k){if(k=m.type,k===Yr){if(_.tag===7){n(v,_.sibling),p=i(_,m.props.children),p.return=v,v=p;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tn&&xm(k)===_.type){n(v,_.sibling),p=i(_,m.props),p.ref=rs(v,_,m),p.return=v,v=p;break e}n(v,_);break}else t(v,_);_=_.sibling}m.type===Yr?(p=kr(m.props.children,v.mode,S,m.key),p.return=v,v=p):(S=ba(m.type,m.key,m.props,null,v.mode,S),S.ref=rs(v,p,m),S.return=v,v=S)}return o(v);case qr:e:{for(_=m.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(v,p.sibling),p=i(p,m.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=wc(m,v.mode,S),p.return=v,v=p}return o(v);case Tn:return _=m._init,E(v,p,_(m._payload),S)}if(hs(m))return w(v,p,m,S);if(Ji(m))return y(v,p,m,S);sa(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(v,p.sibling),p=i(p,m),p.return=v,v=p):(n(v,p),p=vc(m,v.mode,S),p.return=v,v=p),o(v)):n(v,p)}return E}var _i=t0(!0),n0=t0(!1),ol=Jn(null),al=null,ii=null,nf=null;function rf(){nf=ii=al=null}function sf(e){var t=ol.current;ie(ol),e._currentValue=t}function Ph(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fi(e,t){al=e,nf=ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(nf!==e)if(e={context:e,memoizedValue:t,next:null},ii===null){if(al===null)throw Error(T(308));ii=e,al.dependencies={lanes:0,firstContext:e}}else ii=ii.next=e;return t}var gr=null;function of(e){gr===null?gr=[e]:gr.push(e)}function r0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,of(t)):(n.next=i.next,i.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var An=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mn(e,n)}return i=r.interleaved,i===null?(t.next=t,of(r)):(t.next=i.next,i.next=t),r.interleaved=t,mn(e,n)}function Pa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wd(e,n)}}function Cm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ll(e,t,n,r){var i=e.updateQueue;An=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,g=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(d=t,g=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(g,h,d);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,d=typeof w=="function"?w.call(g,h,d):w,d==null)break e;h=de({},h,d);break e;case 2:An=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Dr|=o,e.lanes=o,e.memoizedState=h}}function km(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(T(191,i));i.call(r)}}}var Ao={},Zt=Jn(Ao),Gs=Jn(Ao),Ks=Jn(Ao);function yr(e){if(e===Ao)throw Error(T(174));return e}function lf(e,t){switch(ee(Ks,t),ee(Gs,e),ee(Zt,Ao),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dh(t,e)}ie(Zt),ee(Zt,t)}function Ii(){ie(Zt),ie(Gs),ie(Ks)}function s0(e){yr(Ks.current);var t=yr(Zt.current),n=dh(t,e.type);t!==n&&(ee(Gs,e),ee(Zt,n))}function uf(e){Gs.current===e&&(ie(Zt),ie(Gs))}var ce=Jn(0);function ul(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dc=[];function cf(){for(var e=0;e<dc.length;e++)dc[e]._workInProgressVersionPrimary=null;dc.length=0}var Ra=wn.ReactCurrentDispatcher,fc=wn.ReactCurrentBatchConfig,$r=0,he=null,Ee=null,Te=null,cl=!1,xs=!1,Qs=0,cC=0;function Ue(){throw Error(T(321))}function hf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function df(e,t,n,r,i,s){if($r=s,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ra.current=e===null||e.memoizedState===null?pC:mC,e=n(r,i),xs){s=0;do{if(xs=!1,Qs=0,25<=s)throw Error(T(301));s+=1,Te=Ee=null,t.updateQueue=null,Ra.current=gC,e=n(r,i)}while(xs)}if(Ra.current=hl,t=Ee!==null&&Ee.next!==null,$r=0,Te=Ee=he=null,cl=!1,t)throw Error(T(300));return e}function ff(){var e=Qs!==0;return Qs=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?he.memoizedState=Te=e:Te=Te.next=e,Te}function Dt(){if(Ee===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Te===null?he.memoizedState:Te.next;if(t!==null)Te=t,Ee=e;else{if(e===null)throw Error(T(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Te===null?he.memoizedState=Te=e:Te=Te.next=e}return Te}function qs(e,t){return typeof t=="function"?t(e):t}function pc(e){var t=Dt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=Ee,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if(($r&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,he.lanes|=c,Dr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Vt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,he.lanes|=s,Dr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function mc(e){var t=Dt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Vt(s,t.memoizedState)||(st=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function o0(){}function a0(e,t){var n=he,r=Dt(),i=t(),s=!Vt(r.memoizedState,i);if(s&&(r.memoizedState=i,st=!0),r=r.queue,pf(c0.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Ys(9,u0.bind(null,n,r,i,t),void 0,null),Ie===null)throw Error(T(349));$r&30||l0(n,t,i)}return i}function l0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function u0(e,t,n,r){t.value=n,t.getSnapshot=r,h0(t)&&d0(e)}function c0(e,t,n){return n(function(){h0(t)&&d0(e)})}function h0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function d0(e){var t=mn(e,1);t!==null&&Bt(t,e,1,-1)}function Tm(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t.queue=e,e=e.dispatch=fC.bind(null,he,e),[t.memoizedState,e]}function Ys(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function f0(){return Dt().memoizedState}function Oa(e,t,n,r){var i=Wt();he.flags|=e,i.memoizedState=Ys(1|t,n,void 0,r===void 0?null:r)}function nu(e,t,n,r){var i=Dt();r=r===void 0?null:r;var s=void 0;if(Ee!==null){var o=Ee.memoizedState;if(s=o.destroy,r!==null&&hf(r,o.deps)){i.memoizedState=Ys(t,n,s,r);return}}he.flags|=e,i.memoizedState=Ys(1|t,n,s,r)}function Am(e,t){return Oa(8390656,8,e,t)}function pf(e,t){return nu(2048,8,e,t)}function p0(e,t){return nu(4,2,e,t)}function m0(e,t){return nu(4,4,e,t)}function g0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function y0(e,t,n){return n=n!=null?n.concat([e]):null,nu(4,4,g0.bind(null,t,e),n)}function mf(){}function v0(e,t){var n=Dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function w0(e,t){var n=Dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function S0(e,t,n){return $r&21?(Vt(n,t)||(n=Tv(),he.lanes|=n,Dr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function hC(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var r=fc.transition;fc.transition={};try{e(!1),t()}finally{q=n,fc.transition=r}}function E0(){return Dt().memoizedState}function dC(e,t,n){var r=Fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},x0(e))C0(t,n);else if(n=r0(e,t,n,r),n!==null){var i=Ze();Bt(n,e,r,i),k0(n,t,r)}}function fC(e,t,n){var r=Fn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(x0(e))C0(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Vt(a,o)){var l=t.interleaved;l===null?(i.next=i,of(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=r0(e,t,i,r),n!==null&&(i=Ze(),Bt(n,e,r,i),k0(n,t,r))}}function x0(e){var t=e.alternate;return e===he||t!==null&&t===he}function C0(e,t){xs=cl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function k0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wd(e,n)}}var hl={readContext:$t,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},pC={readContext:$t,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:Am,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oa(4194308,4,g0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dC.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Tm,useDebugValue:mf,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Tm(!1),t=e[0];return e=hC.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,i=Wt();if(oe){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),Ie===null)throw Error(T(349));$r&30||l0(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Am(c0.bind(null,r,s,e),[e]),r.flags|=2048,Ys(9,u0.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Wt(),t=Ie.identifierPrefix;if(oe){var n=ln,r=an;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mC={readContext:$t,useCallback:v0,useContext:$t,useEffect:pf,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:m0,useMemo:w0,useReducer:pc,useRef:f0,useState:function(){return pc(qs)},useDebugValue:mf,useDeferredValue:function(e){var t=Dt();return S0(t,Ee.memoizedState,e)},useTransition:function(){var e=pc(qs)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:o0,useSyncExternalStore:a0,useId:E0,unstable_isNewReconciler:!1},gC={readContext:$t,useCallback:v0,useContext:$t,useEffect:pf,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:m0,useMemo:w0,useReducer:mc,useRef:f0,useState:function(){return mc(qs)},useDebugValue:mf,useDeferredValue:function(e){var t=Dt();return Ee===null?t.memoizedState=e:S0(t,Ee.memoizedState,e)},useTransition:function(){var e=mc(qs)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:o0,useSyncExternalStore:a0,useId:E0,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ru={isMounted:function(e){return(e=e._reactInternals)?br(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),i=Fn(e),s=cn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ln(e,s,i),t!==null&&(Bt(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),i=Fn(e),s=cn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ln(e,s,i),t!==null&&(Bt(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=Fn(e),i=cn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ln(e,i,r),t!==null&&(Bt(t,e,r,n),Pa(t,e,r))}};function _m(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Bs(n,r)||!Bs(i,s):!0}function T0(e,t,n){var r=!1,i=Gn,s=t.contextType;return typeof s=="object"&&s!==null?s=$t(s):(i=at(t)?Ir:Ye.current,r=t.contextTypes,s=(r=r!=null)?Ti(e,i):Gn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ru,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Im(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ru.enqueueReplaceState(t,t.state,null)}function Oh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},af(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=$t(s):(s=at(t)?Ir:Ye.current,i.context=Ti(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Rh(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ru.enqueueReplaceState(i,i.state,null),ll(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ni(e,t){try{var n="",r=t;do n+=Hx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function gc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yC=typeof WeakMap=="function"?WeakMap:Map;function A0(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fl||(fl=!0,Wh=r),Mh(e,t)},n}function _0(e,t,n){n=cn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Mh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mh(e,t),typeof r!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Nm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yC;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=DC.bind(null,e,t,n),t.then(e,e))}function $m(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dm(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,Ln(n,t,1))),n.lanes|=1),e)}var vC=wn.ReactCurrentOwner,st=!1;function Xe(e,t,n,r){t.child=e===null?n0(t,null,n,r):_i(t,e.child,n,r)}function Pm(e,t,n,r,i){n=n.render;var s=t.ref;return fi(t,i),r=df(e,t,n,r,s,i),n=ff(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(oe&&n&&Zd(t),t.flags|=1,Xe(e,t,r,i),t.child)}function Rm(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Cf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,I0(e,t,s,r,i)):(e=ba(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bs,n(o,r)&&e.ref===t.ref)return gn(e,t,i)}return t.flags|=1,e=Un(s,r),e.ref=t.ref,e.return=t,t.child=e}function I0(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Bs(s,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,gn(e,t,i)}return jh(e,t,n,r,i)}function N0(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(oi,ht),ht|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(oi,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ee(oi,ht),ht|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ee(oi,ht),ht|=r;return Xe(e,t,i,n),t.child}function $0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jh(e,t,n,r,i){var s=at(n)?Ir:Ye.current;return s=Ti(t,s),fi(t,i),n=df(e,t,n,r,s,i),r=ff(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gn(e,t,i)):(oe&&r&&Zd(t),t.flags|=1,Xe(e,t,n,i),t.child)}function Om(e,t,n,r,i){if(at(n)){var s=!0;rl(t)}else s=!1;if(fi(t,i),t.stateNode===null)Ma(e,t),T0(t,n,r),Oh(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=at(n)?Ir:Ye.current,u=Ti(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Im(t,o,r,u),An=!1;var d=t.memoizedState;o.state=d,ll(t,r,o,i),l=t.memoizedState,a!==r||d!==l||ot.current||An?(typeof c=="function"&&(Rh(t,n,c,r),l=t.memoizedState),(a=An||_m(t,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,i0(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ot(t.type,a),o.props=u,h=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=at(n)?Ir:Ye.current,l=Ti(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Im(t,o,r,l),An=!1,d=t.memoizedState,o.state=d,ll(t,r,o,i);var w=t.memoizedState;a!==h||d!==w||ot.current||An?(typeof g=="function"&&(Rh(t,n,g,r),w=t.memoizedState),(u=An||_m(t,n,u,r,d,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Lh(e,t,n,r,s,i)}function Lh(e,t,n,r,i,s){$0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&wm(t,n,!1),gn(e,t,s);r=t.stateNode,vC.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=_i(t,e.child,null,s),t.child=_i(t,null,a,s)):Xe(e,t,a,s),t.memoizedState=r.state,i&&wm(t,n,!0),t.child}function D0(e){var t=e.stateNode;t.pendingContext?vm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vm(e,t.context,!1),lf(e,t.containerInfo)}function Mm(e,t,n,r,i){return Ai(),tf(i),t.flags|=256,Xe(e,t,n,r),t.child}var bh={dehydrated:null,treeContext:null,retryLane:0};function Fh(e){return{baseLanes:e,cachePool:null,transitions:null}}function P0(e,t,n){var r=t.pendingProps,i=ce.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ee(ce,i&1),e===null)return Dh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ou(o,r,0,null),e=kr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fh(n),t.memoizedState=bh,e):gf(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wC(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Un(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Un(a,s):(s=kr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Fh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=bh,r}return s=e.child,e=s.sibling,r=Un(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gf(e,t){return t=ou({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,n,r){return r!==null&&tf(r),_i(t,e.child,null,n),e=gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wC(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=gc(Error(T(422))),oa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=ou({mode:"visible",children:r.children},i,0,null),s=kr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&_i(t,e.child,null,o),t.child.memoizedState=Fh(o),t.memoizedState=bh,s);if(!(t.mode&1))return oa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(T(419)),r=gc(s,r,void 0),oa(e,t,o,r)}if(a=(o&e.childLanes)!==0,st||a){if(r=Ie,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mn(e,i),Bt(r,e,i,-1))}return xf(),r=gc(Error(T(421))),oa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=PC.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ft=jn(i.nextSibling),mt=t,oe=!0,jt=null,e!==null&&(xt[Ct++]=an,xt[Ct++]=ln,xt[Ct++]=Nr,an=e.id,ln=e.overflow,Nr=t),t=gf(t,r.children),t.flags|=4096,t)}function jm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ph(e.return,t,n)}function yc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function R0(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Xe(e,t,r.children,n),r=ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jm(e,n,t);else if(e.tag===19)jm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(ce,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ul(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ul(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yc(t,!0,n,null,s);break;case"together":yc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ma(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SC(e,t,n){switch(t.tag){case 3:D0(t),Ai();break;case 5:s0(t);break;case 1:at(t.type)&&rl(t);break;case 4:lf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ee(ol,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(ce,ce.current&1),t.flags|=128,null):n&t.child.childLanes?P0(e,t,n):(ee(ce,ce.current&1),e=gn(e,t,n),e!==null?e.sibling:null);ee(ce,ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return R0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(ce,ce.current),r)break;return null;case 22:case 23:return t.lanes=0,N0(e,t,n)}return gn(e,t,n)}var O0,Uh,M0,j0;O0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uh=function(){};M0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,yr(Zt.current);var s=null;switch(n){case"input":i=lh(e,i),r=lh(e,r),s=[];break;case"select":i=de({},i,{value:void 0}),r=de({},r,{value:void 0}),s=[];break;case"textarea":i=hh(e,i),r=hh(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=tl)}fh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ms.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ms.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};j0=function(e,t,n,r){n!==r&&(t.flags|=4)};function is(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function EC(e,t,n){var r=t.pendingProps;switch(ef(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return at(t.type)&&nl(),ze(t),null;case 3:return r=t.stateNode,Ii(),ie(ot),ie(Ye),cf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(Qh(jt),jt=null))),Uh(e,t),ze(t),null;case 5:uf(t);var i=yr(Ks.current);if(n=t.type,e!==null&&t.stateNode!=null)M0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return ze(t),null}if(e=yr(Zt.current),ia(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kt]=t,r[Ws]=s,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(i=0;i<fs.length;i++)ne(fs[i],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Wp(r,s),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ne("invalid",r);break;case"textarea":Kp(r,s),ne("invalid",r)}fh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ra(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ra(r.textContent,a,e),i=["children",""+a]):Ms.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":qo(r),Gp(r,s,!0);break;case"textarea":qo(r),Qp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Kt]=t,e[Ws]=r,O0(e,t,!1,!1),t.stateNode=e;e:{switch(o=ph(n,r),n){case"dialog":ne("cancel",e),ne("close",e),i=r;break;case"iframe":case"object":case"embed":ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<fs.length;i++)ne(fs[i],e);i=r;break;case"source":ne("error",e),i=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),i=r;break;case"details":ne("toggle",e),i=r;break;case"input":Wp(e,r),i=lh(e,r),ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=de({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Kp(e,r),i=hh(e,r),ne("invalid",e);break;default:i=r}fh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fv(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hv(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&js(e,l):typeof l=="number"&&js(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ms.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ne("scroll",e):l!=null&&Fd(e,s,l,o))}switch(n){case"input":qo(e),Gp(e,r,!1);break;case"textarea":qo(e),Qp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ui(e,!!r.multiple,s,!1):r.defaultValue!=null&&ui(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=tl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)j0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=yr(Ks.current),yr(Zt.current),ia(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(s=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:ra(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ra(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return ze(t),null;case 13:if(ie(ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&ft!==null&&t.mode&1&&!(t.flags&128))e0(),Ai(),t.flags|=98560,s=!1;else if(s=ia(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(T(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[Kt]=t}else Ai(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),s=!1}else jt!==null&&(Qh(jt),jt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?xe===0&&(xe=3):xf())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return Ii(),Uh(e,t),e===null&&Vs(t.stateNode.containerInfo),ze(t),null;case 10:return sf(t.type._context),ze(t),null;case 17:return at(t.type)&&nl(),ze(t),null;case 19:if(ie(ce),s=t.memoizedState,s===null)return ze(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)is(s,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ul(e),o!==null){for(t.flags|=128,is(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(ce,ce.current&1|2),t.child}e=e.sibling}s.tail!==null&&me()>$i&&(t.flags|=128,r=!0,is(s,!1),t.lanes=4194304)}else{if(!r)if(e=ul(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),is(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!oe)return ze(t),null}else 2*me()-s.renderingStartTime>$i&&n!==1073741824&&(t.flags|=128,r=!0,is(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=me(),t.sibling=null,n=ce.current,ee(ce,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Ef(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ht&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function xC(e,t){switch(ef(t),t.tag){case 1:return at(t.type)&&nl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ii(),ie(ot),ie(Ye),cf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uf(t),null;case 13:if(ie(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ce),null;case 4:return Ii(),null;case 10:return sf(t.type._context),null;case 22:case 23:return Ef(),null;case 24:return null;default:return null}}var aa=!1,He=!1,CC=typeof WeakSet=="function"?WeakSet:Set,D=null;function si(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function zh(e,t,n){try{n()}catch(r){fe(e,t,r)}}var Lm=!1;function kC(e,t){if(kh=Ja,e=zv(),Jd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===e)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Th={focusedElem:e,selectionRange:n},Ja=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,E=w.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ot(t.type,y),E);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(S){fe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return w=Lm,Lm=!1,w}function Cs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&zh(t,n,s)}i=i.next}while(i!==r)}}function iu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function L0(e){var t=e.alternate;t!==null&&(e.alternate=null,L0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[Ws],delete t[Ih],delete t[oC],delete t[aC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b0(e){return e.tag===5||e.tag===3||e.tag===4}function bm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tl));else if(r!==4&&(e=e.child,e!==null))for(Vh(e,t,n),e=e.sibling;e!==null;)Vh(e,t,n),e=e.sibling}function Hh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hh(e,t,n),e=e.sibling;e!==null;)Hh(e,t,n),e=e.sibling}var Re=null,Mt=!1;function xn(e,t,n){for(n=n.child;n!==null;)F0(e,t,n),n=n.sibling}function F0(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Yl,n)}catch{}switch(n.tag){case 5:He||si(n,t);case 6:var r=Re,i=Mt;Re=null,xn(e,t,n),Re=r,Mt=i,Re!==null&&(Mt?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(Mt?(e=Re,n=n.stateNode,e.nodeType===8?cc(e.parentNode,n):e.nodeType===1&&cc(e,n),Us(e)):cc(Re,n.stateNode));break;case 4:r=Re,i=Mt,Re=n.stateNode.containerInfo,Mt=!0,xn(e,t,n),Re=r,Mt=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zh(n,t,o),i=i.next}while(i!==r)}xn(e,t,n);break;case 1:if(!He&&(si(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,t,a)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,xn(e,t,n),He=r):xn(e,t,n);break;default:xn(e,t,n)}}function Fm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CC),t.forEach(function(r){var i=RC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Re=a.stateNode,Mt=!1;break e;case 3:Re=a.stateNode.containerInfo,Mt=!0;break e;case 4:Re=a.stateNode.containerInfo,Mt=!0;break e}a=a.return}if(Re===null)throw Error(T(160));F0(s,o,i),Re=null,Mt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){fe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)U0(t,e),t=t.sibling}function U0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Ht(e),r&4){try{Cs(3,e,e.return),iu(3,e)}catch(y){fe(e,e.return,y)}try{Cs(5,e,e.return)}catch(y){fe(e,e.return,y)}}break;case 1:Rt(t,e),Ht(e),r&512&&n!==null&&si(n,n.return);break;case 5:if(Rt(t,e),Ht(e),r&512&&n!==null&&si(n,n.return),e.flags&32){var i=e.stateNode;try{js(i,"")}catch(y){fe(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lv(i,s),ph(a,o);var u=ph(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?fv(i,h):c==="dangerouslySetInnerHTML"?hv(i,h):c==="children"?js(i,h):Fd(i,c,h,u)}switch(a){case"input":uh(i,s);break;case"textarea":uv(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ui(i,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?ui(i,!!s.multiple,s.defaultValue,!0):ui(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ws]=s}catch(y){fe(e,e.return,y)}}break;case 6:if(Rt(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(T(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){fe(e,e.return,y)}}break;case 3:if(Rt(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Us(t.containerInfo)}catch(y){fe(e,e.return,y)}break;case 4:Rt(t,e),Ht(e);break;case 13:Rt(t,e),Ht(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(wf=me())),r&4&&Fm(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||c,Rt(t,e),He=u):Rt(t,e),Ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(D=e,c=e.child;c!==null;){for(h=D=c;D!==null;){switch(d=D,g=d.child,d.tag){case 0:case 11:case 14:case 15:Cs(4,d,d.return);break;case 1:si(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){fe(r,n,y)}}break;case 5:si(d,d.return);break;case 22:if(d.memoizedState!==null){zm(h);continue}}g!==null?(g.return=d,D=g):zm(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dv("display",o))}catch(y){fe(e,e.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){fe(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rt(t,e),Ht(e),r&4&&Fm(e);break;case 21:break;default:Rt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(b0(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(js(i,""),r.flags&=-33);var s=bm(e);Hh(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bm(e);Vh(e,a,o);break;default:throw Error(T(161))}}catch(l){fe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TC(e,t,n){D=e,z0(e)}function z0(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var i=D,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||aa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||He;a=aa;var u=He;if(aa=o,(He=l)&&!u)for(D=i;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Bm(i):l!==null?(l.return=o,D=l):Bm(i);for(;s!==null;)D=s,z0(s),s=s.sibling;D=i,aa=a,He=u}Um(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,D=s):Um(e)}}function Um(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||iu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&km(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}km(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Us(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}He||t.flags&512&&Bh(t)}catch(d){fe(t,t.return,d)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function zm(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Bm(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(l){fe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){fe(t,i,l)}}var s=t.return;try{Bh(t)}catch(l){fe(t,s,l)}break;case 5:var o=t.return;try{Bh(t)}catch(l){fe(t,o,l)}}}catch(l){fe(t,t.return,l)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var AC=Math.ceil,dl=wn.ReactCurrentDispatcher,yf=wn.ReactCurrentOwner,It=wn.ReactCurrentBatchConfig,G=0,Ie=null,we=null,Le=0,ht=0,oi=Jn(0),xe=0,Xs=null,Dr=0,su=0,vf=0,ks=null,it=null,wf=0,$i=1/0,sn=null,fl=!1,Wh=null,bn=null,la=!1,$n=null,pl=0,Ts=0,Gh=null,ja=-1,La=0;function Ze(){return G&6?me():ja!==-1?ja:ja=me()}function Fn(e){return e.mode&1?G&2&&Le!==0?Le&-Le:uC.transition!==null?(La===0&&(La=Tv()),La):(e=q,e!==0||(e=window.event,e=e===void 0?16:Pv(e.type)),e):1}function Bt(e,t,n,r){if(50<Ts)throw Ts=0,Gh=null,Error(T(185));Co(e,n,r),(!(G&2)||e!==Ie)&&(e===Ie&&(!(G&2)&&(su|=n),xe===4&&In(e,Le)),lt(e,r),n===1&&G===0&&!(t.mode&1)&&($i=me()+500,tu&&Zn()))}function lt(e,t){var n=e.callbackNode;u2(e,t);var r=Xa(e,e===Ie?Le:0);if(r===0)n!==null&&Xp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xp(n),t===1)e.tag===0?lC(Vm.bind(null,e)):Xv(Vm.bind(null,e)),iC(function(){!(G&6)&&Zn()}),n=null;else{switch(Av(r)){case 1:n=Hd;break;case 4:n=Cv;break;case 16:n=Ya;break;case 536870912:n=kv;break;default:n=Ya}n=q0(n,B0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function B0(e,t){if(ja=-1,La=0,G&6)throw Error(T(327));var n=e.callbackNode;if(pi()&&e.callbackNode!==n)return null;var r=Xa(e,e===Ie?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ml(e,r);else{t=r;var i=G;G|=2;var s=H0();(Ie!==e||Le!==t)&&(sn=null,$i=me()+500,Cr(e,t));do try{NC();break}catch(a){V0(e,a)}while(1);rf(),dl.current=s,G=i,we!==null?t=0:(Ie=null,Le=0,t=xe)}if(t!==0){if(t===2&&(i=wh(e),i!==0&&(r=i,t=Kh(e,i))),t===1)throw n=Xs,Cr(e,0),In(e,r),lt(e,me()),n;if(t===6)In(e,r);else{if(i=e.current.alternate,!(r&30)&&!_C(i)&&(t=ml(e,r),t===2&&(s=wh(e),s!==0&&(r=s,t=Kh(e,s))),t===1))throw n=Xs,Cr(e,0),In(e,r),lt(e,me()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:dr(e,it,sn);break;case 3:if(In(e,r),(r&130023424)===r&&(t=wf+500-me(),10<t)){if(Xa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_h(dr.bind(null,e,it,sn),t);break}dr(e,it,sn);break;case 4:if(In(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-zt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AC(r/1960))-r,10<r){e.timeoutHandle=_h(dr.bind(null,e,it,sn),r);break}dr(e,it,sn);break;case 5:dr(e,it,sn);break;default:throw Error(T(329))}}}return lt(e,me()),e.callbackNode===n?B0.bind(null,e):null}function Kh(e,t){var n=ks;return e.current.memoizedState.isDehydrated&&(Cr(e,t).flags|=256),e=ml(e,t),e!==2&&(t=it,it=n,t!==null&&Qh(t)),e}function Qh(e){it===null?it=e:it.push.apply(it,e)}function _C(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function In(e,t){for(t&=~vf,t&=~su,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function Vm(e){if(G&6)throw Error(T(327));pi();var t=Xa(e,0);if(!(t&1))return lt(e,me()),null;var n=ml(e,t);if(e.tag!==0&&n===2){var r=wh(e);r!==0&&(t=r,n=Kh(e,r))}if(n===1)throw n=Xs,Cr(e,0),In(e,t),lt(e,me()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dr(e,it,sn),lt(e,me()),null}function Sf(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&($i=me()+500,tu&&Zn())}}function Pr(e){$n!==null&&$n.tag===0&&!(G&6)&&pi();var t=G;G|=1;var n=It.transition,r=q;try{if(It.transition=null,q=1,e)return e()}finally{q=r,It.transition=n,G=t,!(G&6)&&Zn()}}function Ef(){ht=oi.current,ie(oi)}function Cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rC(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(ef(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nl();break;case 3:Ii(),ie(ot),ie(Ye),cf();break;case 5:uf(r);break;case 4:Ii();break;case 13:ie(ce);break;case 19:ie(ce);break;case 10:sf(r.type._context);break;case 22:case 23:Ef()}n=n.return}if(Ie=e,we=e=Un(e.current,null),Le=ht=t,xe=0,Xs=null,vf=su=Dr=0,it=ks=null,gr!==null){for(t=0;t<gr.length;t++)if(n=gr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}gr=null}return e}function V0(e,t){do{var n=we;try{if(rf(),Ra.current=hl,cl){for(var r=he.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cl=!1}if($r=0,Te=Ee=he=null,xs=!1,Qs=0,yf.current=null,n===null||n.return===null){xe=1,Xs=t,we=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Le,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=$m(o);if(g!==null){g.flags&=-257,Dm(g,o,a,s,t),g.mode&1&&Nm(s,u,t),t=g,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){Nm(s,u,t),xf();break e}l=Error(T(426))}}else if(oe&&a.mode&1){var E=$m(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Dm(E,o,a,s,t),tf(Ni(l,a));break e}}s=l=Ni(l,a),xe!==4&&(xe=2),ks===null?ks=[s]:ks.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=A0(s,l,t);Cm(s,v);break e;case 1:a=l;var p=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(bn===null||!bn.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=_0(s,a,t);Cm(s,S);break e}}s=s.return}while(s!==null)}G0(n)}catch(k){t=k,we===n&&n!==null&&(we=n=n.return);continue}break}while(1)}function H0(){var e=dl.current;return dl.current=hl,e===null?hl:e}function xf(){(xe===0||xe===3||xe===2)&&(xe=4),Ie===null||!(Dr&268435455)&&!(su&268435455)||In(Ie,Le)}function ml(e,t){var n=G;G|=2;var r=H0();(Ie!==e||Le!==t)&&(sn=null,Cr(e,t));do try{IC();break}catch(i){V0(e,i)}while(1);if(rf(),G=n,dl.current=r,we!==null)throw Error(T(261));return Ie=null,Le=0,xe}function IC(){for(;we!==null;)W0(we)}function NC(){for(;we!==null&&!e2();)W0(we)}function W0(e){var t=Q0(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?G0(e):we=t,yf.current=null}function G0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xC(n,t),n!==null){n.flags&=32767,we=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,we=null;return}}else if(n=EC(n,t,ht),n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);xe===0&&(xe=5)}function dr(e,t,n){var r=q,i=It.transition;try{It.transition=null,q=1,$C(e,t,n,r)}finally{It.transition=i,q=r}return null}function $C(e,t,n,r){do pi();while($n!==null);if(G&6)throw Error(T(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(c2(e,s),e===Ie&&(we=Ie=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||la||(la=!0,q0(Ya,function(){return pi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=It.transition,It.transition=null;var o=q;q=1;var a=G;G|=4,yf.current=null,kC(e,n),U0(n,e),Y2(Th),Ja=!!kh,Th=kh=null,e.current=n,TC(n),t2(),G=a,q=o,It.transition=s}else e.current=n;if(la&&(la=!1,$n=e,pl=i),s=e.pendingLanes,s===0&&(bn=null),i2(n.stateNode),lt(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fl)throw fl=!1,e=Wh,Wh=null,e;return pl&1&&e.tag!==0&&pi(),s=e.pendingLanes,s&1?e===Gh?Ts++:(Ts=0,Gh=e):Ts=0,Zn(),null}function pi(){if($n!==null){var e=Av(pl),t=It.transition,n=q;try{if(It.transition=null,q=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,pl=0,G&6)throw Error(T(331));var i=G;for(G|=4,D=e.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:Cs(8,c,s)}var h=c.child;if(h!==null)h.return=c,D=h;else for(;D!==null;){c=D;var d=c.sibling,g=c.return;if(L0(c),c===u){D=null;break}if(d!==null){d.return=g,D=d;break}D=g}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cs(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,D=v;break e}D=s.return}}var p=e.current;for(D=p;D!==null;){o=D;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,D=m;else e:for(o=p;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:iu(9,a)}}catch(k){fe(a,a.return,k)}if(a===o){D=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,D=S;break e}D=a.return}}if(G=i,Zn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Yl,e)}catch{}r=!0}return r}finally{q=n,It.transition=t}}return!1}function Hm(e,t,n){t=Ni(n,t),t=A0(e,t,1),e=Ln(e,t,1),t=Ze(),e!==null&&(Co(e,1,t),lt(e,t))}function fe(e,t,n){if(e.tag===3)Hm(e,e,n);else for(;t!==null;){if(t.tag===3){Hm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bn===null||!bn.has(r))){e=Ni(n,e),e=_0(t,e,1),t=Ln(t,e,1),e=Ze(),t!==null&&(Co(t,1,e),lt(t,e));break}}t=t.return}}function DC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&(Le&n)===n&&(xe===4||xe===3&&(Le&130023424)===Le&&500>me()-wf?Cr(e,0):vf|=n),lt(e,t)}function K0(e,t){t===0&&(e.mode&1?(t=Jo,Jo<<=1,!(Jo&130023424)&&(Jo=4194304)):t=1);var n=Ze();e=mn(e,t),e!==null&&(Co(e,t,n),lt(e,n))}function PC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),K0(e,n)}function RC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),K0(e,n)}var Q0;Q0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,SC(e,t,n);st=!!(e.flags&131072)}else st=!1,oe&&t.flags&1048576&&Jv(t,sl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ma(e,t),e=t.pendingProps;var i=Ti(t,Ye.current);fi(t,n),i=df(null,t,r,e,i,n);var s=ff();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(s=!0,rl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,af(t),i.updater=ru,t.stateNode=i,i._reactInternals=t,Oh(t,r,e,n),t=Lh(null,t,r,!0,s,n)):(t.tag=0,oe&&s&&Zd(t),Xe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ma(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=MC(r),e=Ot(r,e),i){case 0:t=jh(null,t,r,e,n);break e;case 1:t=Om(null,t,r,e,n);break e;case 11:t=Pm(null,t,r,e,n);break e;case 14:t=Rm(null,t,r,Ot(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),jh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Om(e,t,r,i,n);case 3:e:{if(D0(t),e===null)throw Error(T(387));r=t.pendingProps,s=t.memoizedState,i=s.element,i0(e,t),ll(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ni(Error(T(423)),t),t=Mm(e,t,r,n,i);break e}else if(r!==i){i=Ni(Error(T(424)),t),t=Mm(e,t,r,n,i);break e}else for(ft=jn(t.stateNode.containerInfo.firstChild),mt=t,oe=!0,jt=null,n=n0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ai(),r===i){t=gn(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return s0(t),e===null&&Dh(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ah(r,i)?o=null:s!==null&&Ah(r,s)&&(t.flags|=32),$0(e,t),Xe(e,t,o,n),t.child;case 6:return e===null&&Dh(t),null;case 13:return P0(e,t,n);case 4:return lf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_i(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Pm(e,t,r,i,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ee(ol,r._currentValue),r._currentValue=o,s!==null)if(Vt(s.value,o)){if(s.children===i.children&&!ot.current){t=gn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=cn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ph(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ph(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fi(t,n),i=$t(i),r=r(i),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,i=Ot(r,t.pendingProps),i=Ot(r.type,i),Rm(e,t,r,i,n);case 15:return I0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Ma(e,t),t.tag=1,at(r)?(e=!0,rl(t)):e=!1,fi(t,n),T0(t,r,i),Oh(t,r,i,n),Lh(null,t,r,!0,e,n);case 19:return R0(e,t,n);case 22:return N0(e,t,n)}throw Error(T(156,t.tag))};function q0(e,t){return xv(e,t)}function OC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new OC(e,t,n,r)}function Cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MC(e){if(typeof e=="function")return Cf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zd)return 11;if(e===Bd)return 14}return 2}function Un(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ba(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Cf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yr:return kr(n.children,i,s,t);case Ud:o=8,i|=8;break;case ih:return e=_t(12,n,t,i|2),e.elementType=ih,e.lanes=s,e;case sh:return e=_t(13,n,t,i),e.elementType=sh,e.lanes=s,e;case oh:return e=_t(19,n,t,i),e.elementType=oh,e.lanes=s,e;case sv:return ou(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rv:o=10;break e;case iv:o=9;break e;case zd:o=11;break e;case Bd:o=14;break e;case Tn:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=_t(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function kr(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function ou(e,t,n,r){return e=_t(22,e,r,t),e.elementType=sv,e.lanes=n,e.stateNode={isHidden:!1},e}function vc(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function wc(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zu(0),this.expirationTimes=Zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kf(e,t,n,r,i,s,o,a,l){return e=new jC(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=_t(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},af(s),e}function LC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Y0(e){if(!e)return Gn;e=e._reactInternals;e:{if(br(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(at(n))return Yv(e,n,t)}return t}function X0(e,t,n,r,i,s,o,a,l){return e=kf(n,r,!0,e,i,s,o,a,l),e.context=Y0(null),n=e.current,r=Ze(),i=Fn(n),s=cn(r,i),s.callback=t??null,Ln(n,s,i),e.current.lanes=i,Co(e,i,r),lt(e,r),e}function au(e,t,n,r){var i=t.current,s=Ze(),o=Fn(i);return n=Y0(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ln(i,t,o),e!==null&&(Bt(e,i,o,s),Pa(e,i,o)),o}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tf(e,t){Wm(e,t),(e=e.alternate)&&Wm(e,t)}function bC(){return null}var J0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Af(e){this._internalRoot=e}lu.prototype.render=Af.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));au(e,t,null,null)};lu.prototype.unmount=Af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){au(null,e,null,null)}),t[pn]=null}};function lu(e){this._internalRoot=e}lu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_n.length&&t!==0&&t<_n[n].priority;n++);_n.splice(n,0,e),n===0&&Dv(e)}};function _f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gm(){}function FC(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=gl(o);s.call(u)}}var o=X0(t,r,e,0,null,!1,!1,"",Gm);return e._reactRootContainer=o,e[pn]=o.current,Vs(e.nodeType===8?e.parentNode:e),Pr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=gl(l);a.call(u)}}var l=kf(e,0,!1,null,null,!1,!1,"",Gm);return e._reactRootContainer=l,e[pn]=l.current,Vs(e.nodeType===8?e.parentNode:e),Pr(function(){au(t,l,n,r)}),l}function cu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=gl(o);a.call(l)}}au(t,o,e,i)}else o=FC(n,t,e,i,r);return gl(o)}_v=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ds(t.pendingLanes);n!==0&&(Wd(t,n|1),lt(t,me()),!(G&6)&&($i=me()+500,Zn()))}break;case 13:Pr(function(){var r=mn(e,1);if(r!==null){var i=Ze();Bt(r,e,1,i)}}),Tf(e,1)}};Gd=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=Ze();Bt(t,e,134217728,n)}Tf(e,134217728)}};Iv=function(e){if(e.tag===13){var t=Fn(e),n=mn(e,t);if(n!==null){var r=Ze();Bt(n,e,t,r)}Tf(e,t)}};Nv=function(){return q};$v=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};gh=function(e,t,n){switch(t){case"input":if(uh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=eu(r);if(!i)throw Error(T(90));av(r),uh(r,i)}}}break;case"textarea":uv(e,n);break;case"select":t=n.value,t!=null&&ui(e,!!n.multiple,t,!1)}};gv=Sf;yv=Pr;var UC={usingClientEntryPoint:!1,Events:[To,ei,eu,pv,mv,Sf]},ss={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zC={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sv(e),e===null?null:e.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||bC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ua.isDisabled&&ua.supportsFiber)try{Yl=ua.inject(zC),Jt=ua}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UC;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_f(t))throw Error(T(200));return LC(e,t,null,n)};St.createRoot=function(e,t){if(!_f(e))throw Error(T(299));var n=!1,r="",i=J0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=kf(e,1,!1,null,null,n,!1,r,i),e[pn]=t.current,Vs(e.nodeType===8?e.parentNode:e),new Af(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Sv(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return Pr(e)};St.hydrate=function(e,t,n){if(!uu(t))throw Error(T(200));return cu(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!_f(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=J0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=X0(t,null,e,1,n??null,i,!1,s,o),e[pn]=t.current,Vs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lu(t)};St.render=function(e,t,n){if(!uu(t))throw Error(T(200));return cu(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!uu(e))throw Error(T(40));return e._reactRootContainer?(Pr(function(){cu(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1};St.unstable_batchedUpdates=Sf;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uu(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return cu(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function Z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z0)}catch(e){console.error(e)}}Z0(),Zy.exports=St;var BC=Zy.exports;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Js.apply(this,arguments)}var Dn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dn||(Dn={}));const Km="popstate";function VC(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return qh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yl(i)}return WC(t,n,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function e1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HC(){return Math.random().toString(36).substr(2,8)}function Qm(e,t){return{usr:e.state,key:e.key,idx:t}}function qh(e,t,n,r){return n===void 0&&(n=null),Js({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vi(t):t,{state:n,key:t&&t.key||r||HC()})}function yl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function WC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Dn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Js({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Dn.Pop;let E=c(),v=E==null?null:E-u;u=E,l&&l({action:a,location:y.location,delta:v})}function d(E,v){a=Dn.Push;let p=qh(y.location,E,v);n&&n(p,E),u=c()+1;let m=Qm(p,u),S=y.createHref(p);try{o.pushState(m,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}s&&l&&l({action:a,location:y.location,delta:1})}function g(E,v){a=Dn.Replace;let p=qh(y.location,E,v);n&&n(p,E),u=c();let m=Qm(p,u),S=y.createHref(p);o.replaceState(m,"",S),s&&l&&l({action:a,location:y.location,delta:0})}function w(E){let v=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:yl(E);return p=p.replace(/ $/,"%20"),Se(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let y={get action(){return a},get location(){return e(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Km,h),l=E,()=>{i.removeEventListener(Km,h),l=null}},createHref(E){return t(i,E)},createURL:w,encodeLocation(E){let v=w(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:g,go(E){return o.go(E)}};return y}var qm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qm||(qm={}));function GC(e,t,n){return n===void 0&&(n="/"),KC(e,t,n,!1)}function KC(e,t,n,r){let i=typeof t=="string"?Vi(t):t,s=If(i.pathname||"/",n);if(s==null)return null;let o=t1(e);QC(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=sk(s);a=rk(o[l],u,r)}return a}function t1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zn([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),t1(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:tk(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of n1(s.path))i(s,o,l)}),t}function n1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=n1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function QC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qC=/^:[\w-]+$/,YC=3,XC=2,JC=1,ZC=10,ek=-2,Ym=e=>e==="*";function tk(e,t){let n=e.split("/"),r=n.length;return n.some(Ym)&&(r+=ek),t&&(r+=XC),n.filter(i=>!Ym(i)).reduce((i,s)=>i+(qC.test(s)?YC:s===""?JC:ZC),r)}function nk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function rk(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",h=Xm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Xm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:zn([s,h.pathname]),pathnameBase:uk(zn([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=zn([s,h.pathnameBase]))}return o}function Xm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ik(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:g}=c;if(d==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?u[d]=void 0:u[d]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function ik(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),e1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function sk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return e1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function If(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ok(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Vi(e):e;return{pathname:n?n.startsWith("/")?n:ak(n,t):t,search:ck(r),hash:hk(i)}}function ak(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function r1(e,t){let n=lk(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function i1(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Vi(e):(i=Js({},e),Se(!i.pathname||!i.pathname.includes("?"),Sc("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),Sc("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),Sc("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?t[h]:"/"}let l=ok(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const zn=e=>e.join("/").replace(/\/\/+/g,"/"),uk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ck=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const s1=["post","put","patch","delete"];new Set(s1);const fk=["get",...s1];new Set(fk);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zs.apply(this,arguments)}const Nf=x.createContext(null),pk=x.createContext(null),Fr=x.createContext(null),hu=x.createContext(null),er=x.createContext({outlet:null,matches:[],isDataRoute:!1}),o1=x.createContext(null);function mk(e,t){let{relative:n}=t===void 0?{}:t;_o()||Se(!1);let{basename:r,navigator:i}=x.useContext(Fr),{hash:s,pathname:o,search:a}=l1(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zn([r,o])),i.createHref({pathname:l,search:a,hash:s})}function _o(){return x.useContext(hu)!=null}function Io(){return _o()||Se(!1),x.useContext(hu).location}function a1(e){x.useContext(Fr).static||x.useLayoutEffect(e)}function du(){let{isDataRoute:e}=x.useContext(er);return e?Nk():gk()}function gk(){_o()||Se(!1);let e=x.useContext(Nf),{basename:t,future:n,navigator:r}=x.useContext(Fr),{matches:i}=x.useContext(er),{pathname:s}=Io(),o=JSON.stringify(r1(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return a1(()=>{a.current=!0}),x.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=i1(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:zn([t,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[t,r,o,s,e])}function yk(){let{matches:e}=x.useContext(er),t=e[e.length-1];return t?t.params:{}}function l1(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Fr),{matches:i}=x.useContext(er),{pathname:s}=Io(),o=JSON.stringify(r1(i,r.v7_relativeSplatPath));return x.useMemo(()=>i1(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function vk(e,t){return wk(e,t)}function wk(e,t,n,r){_o()||Se(!1);let{navigator:i}=x.useContext(Fr),{matches:s}=x.useContext(er),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Io(),c;if(t){var h;let E=typeof t=="string"?Vi(t):t;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||Se(!1),c=E}else c=u;let d=c.pathname||"/",g=d;if(l!=="/"){let E=l.replace(/^\//,"").split("/");g="/"+d.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=GC(e,{pathname:g}),y=kk(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:zn([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:zn([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return t&&y?x.createElement(hu.Provider,{value:{location:Zs({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Dn.Pop}},y):y}function Sk(){let e=Ik(),t=dk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,s)}const Ek=x.createElement(Sk,null);class xk extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(er.Provider,{value:this.props.routeContext},x.createElement(o1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ck(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(Nf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(er.Provider,{value:t},r)}function kk(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Se(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:g}=n,w=h.route.loader&&d[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,d)=>{let g,w=!1,y=null,E=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Ek,l&&(u<0&&d===0?($k("route-fallback",!1),w=!0,E=null):u===d&&(w=!0,E=h.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,d+1)),p=()=>{let m;return g?m=y:w?m=E:h.route.Component?m=x.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=c,x.createElement(Ck,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:m})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?x.createElement(xk,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var u1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(u1||{}),vl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vl||{});function Tk(e){let t=x.useContext(Nf);return t||Se(!1),t}function Ak(e){let t=x.useContext(pk);return t||Se(!1),t}function _k(e){let t=x.useContext(er);return t||Se(!1),t}function c1(e){let t=_k(),n=t.matches[t.matches.length-1];return n.route.id||Se(!1),n.route.id}function Ik(){var e;let t=x.useContext(o1),n=Ak(vl.UseRouteError),r=c1(vl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Nk(){let{router:e}=Tk(u1.UseNavigateStable),t=c1(vl.UseNavigateStable),n=x.useRef(!1);return a1(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Zs({fromRouteId:t},s)))},[e,t])}const Jm={};function $k(e,t,n){!t&&!Jm[e]&&(Jm[e]=!0)}const Zm={};function Dk(e,t){Zm[t]||(Zm[t]=!0,console.warn(t))}const Hr=(e,t,n)=>Dk(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Pk(e,t){e!=null&&e.v7_startTransition||Hr("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&(!t||!t.v7_relativeSplatPath)&&Hr("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||Hr("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||Hr("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||Hr("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||Hr("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Gr(e){Se(!1)}function Rk(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Dn.Pop,navigator:s,static:o=!1,future:a}=e;_o()&&Se(!1);let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:s,static:o,future:Zs({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Vi(r));let{pathname:c="/",search:h="",hash:d="",state:g=null,key:w="default"}=r,y=x.useMemo(()=>{let E=If(c,l);return E==null?null:{location:{pathname:E,search:h,hash:d,state:g,key:w},navigationType:i}},[l,c,h,d,g,w,i]);return y==null?null:x.createElement(Fr.Provider,{value:u},x.createElement(hu.Provider,{children:n,value:y}))}function Ok(e){let{children:t,location:n}=e;return vk(Yh(t),n)}new Promise(()=>{});function Yh(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let s=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Yh(r.props.children,s));return}r.type!==Gr&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Yh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xh.apply(this,arguments)}function Mk(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Lk(e,t){return e.button===0&&(!t||t==="_self")&&!jk(e)}const bk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fk="6";try{window.__reactRouterVersion=Fk}catch{}const Uk="startTransition",eg=eE[Uk];function zk(e){let{basename:t,children:n,future:r,window:i}=e,s=x.useRef();s.current==null&&(s.current=VC({window:i,v5Compat:!0}));let o=s.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=x.useCallback(h=>{u&&eg?eg(()=>l(h)):l(h)},[l,u]);return x.useLayoutEffect(()=>o.listen(c),[o,c]),x.useEffect(()=>Pk(r),[r]),x.createElement(Rk,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Bk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hk=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=t,d=Mk(t,bk),{basename:g}=x.useContext(Fr),w,y=!1;if(typeof u=="string"&&Vk.test(u)&&(w=u,Bk))try{let m=new URL(window.location.href),S=u.startsWith("//")?new URL(m.protocol+u):new URL(u),k=If(S.pathname,g);S.origin===m.origin&&k!=null?u=k+S.search+S.hash:y=!0}catch{}let E=mk(u,{relative:i}),v=Wk(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function p(m){r&&r(m),m.defaultPrevented||v(m)}return x.createElement("a",Xh({},d,{href:w||E,onClick:y||s?r:p,ref:n,target:l}))});var tg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tg||(tg={}));var ng;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ng||(ng={}));function Wk(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=t===void 0?{}:t,l=du(),u=Io(),c=l1(e,{relative:o});return x.useCallback(h=>{if(Lk(h,n)){h.preventDefault();let d=r!==void 0?r:yl(u)===yl(c);l(e,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}function Ec({title:e,path:t}){let n=du();const r=Io();function i(a){n(a)}const s=r.pathname===t;let o="cursor-pointer hover:text-blue-300";return s&&(o+=" text-blue-800 dark:text-blue-300",o+=" underline underline-offset-8 decoration-2"),f.jsx("div",{className:o,onClick:()=>i(t),children:e})}function Gk(){return f.jsxs("div",{className:"flex flex-row justify-between p-4 pr-6",children:[f.jsx("div",{className:"mr-6",children:"expenses"}),f.jsxs("div",{id:"nav-bar",className:"flex flex-row gap-5",children:[f.jsx(Ec,{title:"Expenses",path:kt.root}),f.jsx(Ec,{title:"Accounts",path:kt.paymentAccounts}),f.jsx(Ec,{title:"Settings",path:kt.settings}),f.jsx(Lx,{})]})]})}const rg=[{id:1,buttonName:"Sainsbury's",main:"Groceries",people:["AngelaPerez"],seller:"Sainsburys",tags:["groceries"]},{id:2,buttonName:"Morrisons's",main:"Groceries",people:["AngelaPerez"],seller:"Morrisons",tags:["groceries"]},{id:3,buttonName:"Lidl",main:"Groceries",people:["AngelaPerez"],seller:"Lidl",tags:["groceries"]},{id:4,buttonName:"Tesco",main:"Groceries",people:["AngelaPerez"],seller:"Tesco",tags:["groceries"]},{id:5,buttonName:"TfL",main:"Transport",people:[],seller:"TfL",tags:["transport"]},{id:6,buttonName:"Move",main:"Move money between accounts",people:[],seller:"",tags:[]}],Kk=["expenses","groceries","eatout","social","ocio","drinks","invite","transport","health","present","home"],Qk=["AngelaPerez"],qk="expenses-form";function wl(){return new Date(new Date().setMilliseconds(0))}const Yk="sv-SE",Xk=new Intl.DateTimeFormat(Yk,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format;function Jk(e){const t=e.getTimezoneOffset(),n=t<=0?"+":"-",r=t%60,i=(t-r)/60,s=o=>String(Math.abs(o)).padStart(2,"0");return`${n}${s(i)}:${s(r)}`}function $f(e){const t=Xk(e),n=Jk(e);return`${t} ${n}`}function h1(e){return $f(e).replace(" ","T").replace(" ","")}function ig(e){return new Date(Date.parse(e))}function sg({checked:e,label:t,onChange:n}){function r(s){n(s.target.checked)}const i=t.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","");return f.jsxs("label",{htmlFor:i,className:"relative inline-flex flex-row flex-nowrap justify-start items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",id:i,checked:e,onChange:r,className:"hidden peer"}),f.jsx("div",{role:"checkbox-icon-box",className:"w-5 h-5 rounded-sm border-2     border-gray-300       peer-checked:border-blue-500         dark:border-gray-600  dark:peer-checked:border-blue-600              bg-gray-100           peer-checked:bg-blue-500         dark:bg-gray-700      dark:peer-checked:bg-blue-700 transition-all",children:e&&f.jsx("svg",{role:"checkbox-icon-check",className:"w-4 h-4 absolute left-2.5 top-1/2 transform -translate-x-1/2 -translate-y-1/2      stroke-gray-100 dark:stroke-blue-200",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})}),f.jsx("div",{role:"checkbox-label",className:"p-2 text-sm ",children:t})]})}function Zk({data:e,select:t}){function n(r,i){r.preventDefault(),t(i)}return f.jsx("div",{className:"flex flex-row flex-wrap my-2 mb-2 gap-2",children:e.map((r,i)=>f.jsx(_e,{text:r.buttonName,onClick:s=>n(s,r.id)},`shortcut-${i}`))})}class Cn{constructor(t,n){U(this,"key");U(this,"type");this.key=t,this.type=n}exists(){return!!window.localStorage.getItem(this.key)}read(){const t=window.localStorage.getItem(this.key);if(t!==null)switch(this.type){case"string":return t;case"number":return Number(t);case"object":return JSON.parse(t);default:throw new Error(`Type ${this.type} is not supported yet`)}}set(t){this.assertType(t);let n="";switch(this.type){case"string":n=t;break;case"number":n=t.toString();break;case"object":n=JSON.stringify(t);break;default:throw new Error(`Type ${this.type} is not supported yet`)}window.localStorage.setItem(this.key,n)}delete(){this.exists()&&window.localStorage.removeItem(this.key)}assertType(t){const n=typeof t,r=this.type;if(n!==r)throw new Error(`Expected ${r}, got ${n} instead`)}}class d1{constructor(){U(this,"splitwiseApiToken");U(this,"tripTags");U(this,"people");U(this,"expenses");U(this,"paymentAccounts");U(this,"defaultPaymentAccountId");U(this,"firestoreConfig");U(this,"currencies");this.splitwiseApiToken=new Cn("exp_splitwise_api_token","string"),this.tripTags=new Cn("exp__trip_tags","object"),this.people=new Cn("exp__people","object"),this.expenses=new Cn("exp__expenses","object"),this.paymentAccounts=new Cn("exp__payment_accounts","object"),this.defaultPaymentAccountId=new Cn("exp__default_payment_account_id","string"),this.firestoreConfig=new Cn("exp__firestore_config","object"),this.currencies=new Cn("exp__currencies","string")}}const ae=new d1;function eT(e,t){return new Set([...e,...t])}function tT(e,t){const n=new Set;if(e===void 0||t===void 0)return n;for(const r of e)t.has(r)&&n.add(r);return n}function nT({a:e,b:t}){const n=new Set,r=new Set([...t]);for(const i of e)t.has(i)?r.delete(i):n.add(i);return{inAButNotInB:n,inBButNotInA:r}}const ur="";function rT({value:e,placeholder:t,choices:n,onChange:r,className:i}){const s=n.filter(R=>!e.includes(R)),[o,a]=x.useState(ca({chosen:e,toChoose:s,all:n})),[l,u]=x.useState(ur),[c,h]=x.useState(!1),d=x.useRef(null);let g="relative text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 p-3 has-[input:focus]:border-t  border-t-blue-300  dark:has-[input:focus]:border-t-blue-300 has-[input:focus]:border-l  border-l-blue-300  dark:has-[input:focus]:border-l-blue-300 has-[input:focus]:border-r  border-r-blue-300  dark:has-[input:focus]:border-r-blue-300 group rounded has-[input:focus]:rounded-b-none appearance-none leading-tight";i&&(g+=` ${i}`);const w=" text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";function y(){h(!0)}function E(){h(!1)}x.useEffect(()=>{function R(j){j.composedPath().includes(d.current)||E()}document.addEventListener("mousedown",R)},[]);function v(R){u(R)}function p(){const R=iT({choice:l,state:o});a(ca(R)),r([...R.chosen]),u(ur)}function m(R){const j=sT({choice:R,state:o});a(ca(j)),r([...j.chosen]),u(ur)}function S(R){const j=oT({choice:R,state:o});a(ca(j)),r([...j.chosen]),u(ur)}const k=n.map(R=>R.toLowerCase()).includes(l.toLowerCase()),C=![ur,void 0].includes(l)&&!k,P=e.length>0?void 0:t;return f.jsxs("div",{ref:d,className:g,role:"multi-choice-dropdown",onFocus:y,children:[f.jsxs("div",{className:"flex flex-row flex-wrap gap-2 overflow-x-hidden",role:"listbox-selected",children:[e.map((R,j)=>f.jsxs("div",{role:"choice",onClick:()=>S(R),className:"px-3 py-2 rounded text-gray-800 dark:text-gray-800   bg-gray-300   dark:bg-gray-400 cursor-pointer",children:[R,"   ❌"]},`${j}-${R}`)),f.jsx("input",{type:"search",className:w,value:l===void 0?ur:l,placeholder:P===void 0?ur:P,onChange:R=>v(R.target.value)})]}),c&&f.jsxs("div",{role:"listbox-selectable",className:"absolute top-full inset-x-0 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 group-focus-within:border-l  group-focus-within:border-l-blue-300  dark:group-focus-within:border-l-blue-300 group-focus-within:border-b  group-focus-within:border-b-blue-300  dark:group-focus-within:border-b-blue-300 group-focus-within:border-r  group-focus-within:border-r-blue-300  dark:group-focus-within:border-r-blue-300 rounded-b -m-px z-10 dark:z-10",children:[C&&f.jsxs("div",{role:"create-choice",onClick:p,className:"px-3 py-3 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:["Add   ",f.jsx("b",{children:l})]}),s.filter(R=>R.toLowerCase().includes(l.toLowerCase())).map((R,j)=>f.jsx("div",{role:"choice",onClick:()=>m(R),className:"py-3 px-5 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:R},`${j}-${R}`))]})]})}function ca(e){const t=new Set(e.chosen),n=new Set(e.toChoose),r=new Set(e.all),i=tT(t,n);if(i.size>0)throw dn("invalid state: a choice must only appear in either 'chosen' or 'toChoose' collections, but the following choices appear in both: "+[...i].map(l=>`'${l}'`).sort().join(", "));const s=[],{inAButNotInB:o,inBButNotInA:a}=nT({a:r,b:eT(t,n)});if(o.size>0&&s.push("every choice in the 'all' collection must appear in either 'chosen' or, 'toChoose' collections but these do not: "+[...o].map(l=>`'${l}'`).sort().join(", ")),a.size>0&&s.push("every choice in the 'chosen' and 'toChoose' collections must appear in the 'all' collection, but these do not: "+[...a].map(l=>`'${l}'`).sort().join(", ")),s.length>0)throw dn(`invalid state:
${s.join(`

`)}`);return e}function iT({choice:e,state:t}){return{chosen:[...t.chosen,e],toChoose:t.toChoose.filter(n=>n!==e),all:[...t.all,e]}}function sT({choice:e,state:t}){return{chosen:[...t.chosen,e],toChoose:t.toChoose.filter(n=>n!==e),all:t.all}}function oT({choice:e,state:t}){return{chosen:t.chosen.filter(n=>n!==e),toChoose:[...t.toChoose,e],all:t.all}}function bt({id:e,value:t,placeholder:n,onChange:r,className:i,isCode:s}){let o="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";i&&(o+=` ${i}`),s&&(o+=" font-mono");function a(l){let u=l.target.value;u===""&&(u=void 0),r(u)}return f.jsx("input",{id:e,className:o,value:t===void 0?"":t,placeholder:n===void 0?"":n,onChange:a})}function aT({name:e,selected:t,onClick:n}){const r=i=>{i.preventDefault(),n()};return f.jsx(_e,{text:e,active:t,onClick:r})}const lT=wt.div`
  display: flex;
  flex-flow: row wrap;
  justify-content: flex-start;
  align-items: stretch;
  align-content: flex-start;
  row-gap: 0.5rem;
  column-gap: 0.5rem;
`;function uT({tags:e,selected:t,onChange:n}){function r(i){const s=new Set([...t.values()]);t.has(i)?s.delete(i):s.add(i),n(s)}return f.jsx(lT,{children:e.map((i,s)=>f.jsx(aT,{name:i,selected:t.has(i),onClick:()=>r(i)},`${i}-${s}`))})}function os({main:e,people:t,seller:n,tags:r}){const i=[];if(e&&i.push(e),t&&t.length>0){const s=t.map(o=>`@${o}`);i.push(`with ${s.join(",")}`)}if(n&&i.push(`at @${n}`),r.length>0){const s=r.map(o=>`#${o}`).join(" ");i.push(s)}return i.join(" ")}function f1({raw:e}){let t=e,n,r,i=[],s,o=[];return t.startsWith("#")?(i=t.split("#").map(l=>l.trim()).filter(l=>l!==""),{main:r,people:o,seller:n,tags:i}):([t,...i]=t.split(" #"),t.startsWith("at @")?(n=t.replace("at @","").trim(),{main:r,people:o,seller:n,tags:i}):([t,n]=t.split(" at @"),t.startsWith("with @")?(o=t.replace("with @","").split(",@"),{main:r,people:o,seller:n,tags:i}):([t,s]=t.split(" with @"),s&&(o=s.split(",@")),t.trim()!==""&&(r=t),{main:r,people:o,seller:n,tags:i})))}const cT=ae.tripTags.read()||[],hT=p1([Kk,cT]),dT=ae.people.read()||[],fT=p1([Qk,dT]);function p1(e){const t=new Set([]),n=[];for(const r of e.flatMap(i=>i))t.has(r)||(t.add(r),n.push(r));return n}function pT({description:e,onChange:t}){const n=f1({raw:e}),[r,i]=x.useState([]),s=mT({inSettings:fT,addedByUser:r,inExpense:n.people});function o(h){t(os({...n,main:h}))}function a(h){t(os({...n,seller:h}))}function l(h){const d=h;if(!d)return;const g=new Set(s),w=d.filter(E=>!g.has(E));w.length>0&&i([...r,...w]);const y=d.sort();t(os({...n,people:y}))}function u(h){const d=[...h.values()];t(os({...n,tags:d}))}function c(h){const d=rg.filter(g=>g.id===h)[0];t(os({main:d.main,people:d.people,seller:d.seller,tags:d.tags}))}return f.jsxs("div",{role:"description-form",className:"mb-4",children:[f.jsx(Zk,{data:rg.map(({id:h,buttonName:d})=>({id:h,buttonName:d})),select:c}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[f.jsx(bt,{value:n.main,placeholder:"description",className:"col-start-1 col-span-2",onChange:o}),f.jsx(bt,{value:n.seller,placeholder:"seller",className:"col-start-1 col-span-1",onChange:a}),f.jsx(rT,{placeholder:"people",value:n.people,choices:s,onChange:l})]}),f.jsx(uT,{tags:hT,selected:new Set(n.tags),onChange:u})]})}function mT({inSettings:e,addedByUser:t,inExpense:n}){return[...new Set([...e,...t,...n]).values()].sort()}function xc({value:e,placeholder:t,onChange:n,className:r}){let i="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";return r&&(i+=` ${r}`),f.jsx("input",{type:"number",className:i,value:e===void 0?"":e,placeholder:t===void 0?"":t,onChange:s=>n(s.target.value)})}var eo=(e=>(e[e.KeepOrder=-1]="KeepOrder",e[e.SwapOrder=1]="SwapOrder",e))(eo||{});let gT=e=>crypto.getRandomValues(new Uint8Array(e)),yT=(e,t,n)=>{let r=(2<<Math.log2(e.length-1))-1,i=-~(1.6*r*t/e.length);return(s=t)=>{let o="";for(;;){let a=n(i),l=i;for(;l--;)if(o+=e[a[l]&r]||"",o.length===s)return o}}},vT=(e,t=21)=>yT(e,t,gT);function wT(){return vT("1234567890abcdef",10)()}function m1(e){return`${e}_${wT()}`}class vr{constructor(){U(this,"change$");U(this,"accounts");U(this,"changeSubject");U(this,"defaultAccountId");this.accounts=new Map,this.changeSubject=new xo,this.change$=this.changeSubject.asObservable(),this.defaultAccountId=void 0,this.change$.subscribe(t=>console.debug(`${vr.name}.change$:`,t))}initialize({accounts:t,defaultAccountId:n}){console.debug(`${vr.name}.${this.initialize.name}::started`),console.debug(`${vr.name}.${this.initialize.name}::defaultAccountId`,n);for(const r of t){const{id:i}=r;this.accounts.has(i)&&this.error(this.initialize,`same PaymentAccountId found at least twice: ${i}`),this.accounts.set(i,r)}n&&this.accounts.has(n)===!1&&this.error(this.initialize,`no account ID matches the defaultAccountId='${n}'`),this.defaultAccountId=n,this.changeSubject.next({kind:"PaymentAccountManagerInitialized"})}get({id:t}){return this.accounts.get(t)}setDefault({id:t}){this.accounts.has(t)===!1&&this.error(this.setDefault,`'${t}' must match an existing Payment Account ID`),this.defaultAccountId=t,this.changeSubject.next({kind:"DefaultPaymentAccountSet",id:t})}getDefault(){if(this.accounts.size!==0){if(this.accounts.size===1)return[...this.accounts.values()][0];if(this.defaultAccountId!==void 0)return this.accounts.get(this.defaultAccountId)}}getAll(){return[...this.accounts.values()].sort(ST)}add({draft:t}){const n=this.generatePaymentAccountId(),r={id:n,...t};this.accounts.set(n,r),this.changeSubject.next({kind:"PaymentAccountAdded",id:n})}update({account:t}){const{id:n}=t;this.accounts.has(n)===!1&&this.error(this.update,`Cannot update an account because it does not exist, id=${n}`),this.accounts.set(n,t),this.changeSubject.next({kind:"PaymentAccountUpdated",id:n})}delete({id:t}){this.accounts.has(t)===!1&&this.error(this.delete,`Cannot delete an account because it does not exist, id=${t}`),this.accounts.delete(t),this.changeSubject.next({kind:"PaymentAccountUpdated",id:t})}error(t,n){throw new Error(`${vr.name}.${t.name}::${n}`)}generatePaymentAccountId(){for(;;){const t=m1("pay");if(this.accounts.has(t)===!1)return t}}}function ST(e,t){return e.name<=t.name?eo.KeepOrder:eo.SwapOrder}function Tt({htmlFor:e,text:t,children:n}){return f.jsxs("label",{className:"text-gray-600  dark:text-gray-400",htmlFor:e,children:[t,n]})}const og={id:"empty-option",label:""};function Bn({id:e,selected:t,options:n,onSelect:r,className:i,disabled:s}){let o="relative";i&&(o+=` ${i}`);let a="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-100   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none cursor-pointer leading-tight focus:outline-none focus:shadow-outline";s&&(a+=" cursor-not-allowed opacity-20 dark:opacity-50");const l=new Map([]),u=new Map([]);for(const{id:g,label:w}of n)l.set(w,g),u.set(g,w);function c(g){const w=g.currentTarget.value,y=l.get(w);if(y===void 0){console.error("BUG: selected `<option>` has an unexpected `value`:",w);return}r(y)}let h,d=[...n];return t===void 0?(h=og.label,d=[og,...n]):h=u.get(t),f.jsxs("div",{id:e,className:o,role:"select",children:[f.jsx("select",{value:h,className:a,disabled:s,onChange:c,children:d.map(({id:g,label:w})=>f.jsx("option",{value:w,children:w},g))}),!s&&f.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",role:"fold-unfold-icon",children:f.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-1",fill:"currentColor",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 10l5 5 5-5H7z"})})})]})}function g1({paidWith:e,app:t,onChange:n}){const[r,i]=x.useState(e),[s,o]=x.useState([]);x.useEffect(()=>{const u=t.paymentAccountsManager.change$.subscribe(c=>{o(t.paymentAccountsManager.getAll())});return o(t.paymentAccountsManager.getAll()),()=>{u.unsubscribe()}},[t]);function a(u){const c=t.paymentAccountsManager.get({id:u});if(c===void 0){Os.add({header:`UNEXPECTED ERROR: no account found with ID ${u}`,description:`When handling account selection in ${g1.name} component, the ID ${u} was picked by the UI but no payment account found with that ID in ${vr.name}`});return}i(u),n(c)}if(s.length===0)return f.jsx("div",{children:"loading accounts..."});const l=s.map(u=>({id:u.id,label:u.name}));return f.jsx("div",{children:f.jsx(Tt,{htmlFor:"paid-with",text:"Paid with:",children:f.jsx(Bn,{id:"paid-with",selected:r,options:l,onSelect:a})})})}class ET extends Error{constructor(t){super(t),this.name="InvalidDate"}}const Jh=1e3,Sl=60*Jh,Zh=60*Sl,As=24*Zh,ag=6;class le{constructor({year:t,month:n,day:r,hour:i,minute:s,second:o,ms:a}){U(this,"year");U(this,"month");U(this,"day");U(this,"hour");U(this,"minute");U(this,"second");U(this,"ms");U(this,"nativeDate");const l=Cc(n),u=i||0,c=s||0,h=o||0,d=a||0,g=new Date(t,l,r,u,c,h,d);if(g.getDate()!==r||cr({value:n,start:1,end:12})||cr({value:r,start:1,end:31})||cr({value:u,start:0,end:23})||cr({value:u,start:0,end:23})||cr({value:c,start:0,end:59})||cr({value:h,start:0,end:59})||cr({value:d,start:0,end:999})){const w=n.toString().padStart(2,"0"),y=r.toString().padStart(2,"0"),E=u.toString().padStart(2,"0"),v=c.toString().padStart(2,"0"),p=h.toString().padStart(2,"0"),m=d.toString().padStart(3,"0");let S=`${t}-${w}-${y} ${E}:${v}:${p}.${m}`;throw new ET(`${S} is not a valid date`)}this.year=t,this.month=n,this.day=r,this.hour=u,this.minute=c,this.second=h,this.ms=d,this.nativeDate=g}static fromNative(t){const n=t.getFullYear(),r=xT(t.getMonth()),i=t.getDate(),s=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),l=t.getMilliseconds();return new le({year:n,month:r,day:i,hour:s,minute:o,second:a,ms:l})}weekday(){return CT(this.nativeDate.getDay())}toISODate(){return`${this.year}-${this.toISOMonthString()}-${this.toISODayString()}`}toNative(){return this.nativeDate}setYear(t){return new le({year:t,month:this.month,day:this.day})}setMonth(t){return new le({year:this.year,month:t,day:this.day})}minusNMonths(t){const n=Math.floor(t/12),r=t%12;let i=this.year-n,s=this.month-r;s<1&&(i=i-1,s=s+12);const o=Cc(s);return new Date(Date.UTC(i,o,this.day)).getUTCDate()!==this.day?this.minusNDays(1).minusNMonths(t):new le({year:i,month:s,day:this.day})}minusNDays(t){const n=new Date(this.nativeDate.getTime()-t*As);return le.fromNative(n)}minusNHours(t){const n=new Date(this.nativeDate.getTime()-t*Zh);return le.fromNative(n)}minusNMinutes(t){const n=new Date(this.nativeDate.getTime()-t*Sl);return le.fromNative(n)}minusNSeconds(t){const n=new Date(this.nativeDate.getTime()-t*Jh);return le.fromNative(n)}plusNMonths(t){const n=Math.floor(t/12),r=t%12;let i=this.year+n,s=this.month+r;s>12&&(i=i+1,s=s-12);const o=Cc(s);return new Date(Date.UTC(i,o,this.day)).getUTCDate()!==this.day?this.minusNDays(1).plusNMonths(t):new le({year:i,month:s,day:this.day})}plusNDays(t){const n=new Date(this.nativeDate.getTime()+t*As);return le.fromNative(n)}plusNHours(t){const n=new Date(this.nativeDate.getTime()+t*Zh);return le.fromNative(n)}plusNMinutes(t){const n=new Date(this.nativeDate.getTime()+t*Sl);return le.fromNative(n)}plusNSeconds(t){const n=new Date(this.nativeDate.getTime()+t*Jh);return le.fromNative(n)}isEqualTo(t){return this.year===t.year&&this.month===t.month&&this.day===t.day}toISOMonthString(){return this.month.toString().padStart(2,"0")}toISODayString(){return this.day.toString().padStart(2,"0")}}function Cc(e){return e-1}function xT(e){return e+1}function CT(e){let t=e-1;return t<0&&(t=t+7),t}function kT({year:e,month:t}){const n=[new le({year:e,month:t,day:1})];for(;;){const r=n.at(-1);if(r===void 0)throw dn();try{n.push(new le({year:e,month:t,day:r.day+1}))}catch{break}}return n}function cr({value:e,start:t,end:n}){return e<t||n<e}function TT({of:e,withTimeFrom:t}){const n=e.getTimezoneOffset()*Sl,r=Math.floor((e.getTime()-n)/As)*As,i=t.getTime()%As,s=r+i;return new Date(s)}function AT({value:e,defaultValue:t,onChange:n}){const[r,i]=x.useState(t);function s(c){const d=TT({of:c,withTimeFrom:e});n(d),i(e)}function o(){const c=le.fromNative(e).minusNMonths(1).toNative();s(c)}function a(){const c=le.fromNative(e).plusNMonths(1).toNative();s(c)}const l="flex flex-row items-center justify-center gap-3 h-14 ",u="w-3 text-xl text-bold cursor-pointer";return f.jsxs("div",{className:"flex flex-col w-80",children:[f.jsxs("div",{className:l,role:"month-and-year-picker",children:[f.jsx("div",{role:"go-to-previous-month",className:u,onClick:()=>o(),children:"<"}),f.jsx(_T,{value:e,onChange:s,className:"w-24"}),f.jsx(IT,{value:e,onChange:s,className:"w-32"}),f.jsx("div",{role:"go-to-next-month",className:u,onClick:()=>a(),children:">"})]}),f.jsx(NT,{value:e,previousValue:r,onChange:s})]})}function _T({value:e,onChange:t,className:n}){const r=$T({reference:e.getFullYear()}),i=`${e.getFullYear()}`,s=r.map(a=>a.toString()).map(a=>({id:a,label:a}));function o(a){const l=s.filter(h=>h.id===a)[0],u=Number(l.label),c=le.fromNative(e).setYear(u).toNative();t(c)}return f.jsx("div",{className:n,role:"year-picker",children:f.jsx(Bn,{selected:i,options:s,onSelect:o})})}const lg=new Map([["January",1],["February",2],["March",3],["April",4],["May",5],["June",6],["July",7],["August",8],["September",9],["October",10],["November",11],["December",12]]);function IT({value:e,onChange:t,className:n}){const r=e.toLocaleString("default",{month:"long"}),i=[...lg.keys()].map(o=>({id:o,label:o}));function s(o){const a=lg.get(o);if(a===void 0)throw dn(`failed to map '${o}' to a month`);const l=le.fromNative(e).setMonth(a).toNative();t(l)}return f.jsx("div",{className:n,role:"month-picker",children:f.jsx(Bn,{selected:r,options:i,onSelect:s})})}function NT({value:e,previousValue:t,onChange:n}){const r="p-1",i="grid grid-cols-7",s=le.fromNative(e),o=le.fromNative(t),a=kT({year:s.year,month:s.month}),l=[{text:"Mo"},{text:"Tu"},{text:"We"},{text:"Th"},{text:"Fr"},{text:"Sa"},{text:"Su"}],u=a[0],c=u.weekday(),h=[];for(let y=c;y>0;y--){const E=u.minusNDays(y);h.push(E)}const d=a[a.length-1],g=d.weekday(),w=[];if(g<ag){const y=ag-d.weekday();for(let E=1;E<=y;E++){const v=d.plusNDays(E);w.push(v)}}return f.jsx("div",{className:r,children:f.jsxs("div",{className:i,children:[l.map(y=>f.jsx(ha,{text:y.text,selected:!1,wasPreviousSelection:!1,grayedOut:!0,onSelect:void 0},y.text)),h.map(y=>f.jsx(ha,{text:y.day.toString(),selected:!1,wasPreviousSelection:y.isEqualTo(o),grayedOut:!0,onSelect:()=>{n(y.toNative())}},`prev-month-${y.day.toString()}`)),a.map(y=>f.jsx(ha,{text:y.day.toString(),selected:y.isEqualTo(s),wasPreviousSelection:y.isEqualTo(o),grayedOut:!1,onSelect:()=>{n(y.toNative())}},`this-month-${y.day.toString()}`)),w.map(y=>f.jsx(ha,{text:y.day.toString(),selected:!1,wasPreviousSelection:y.isEqualTo(o),grayedOut:!0,onSelect:()=>{n(y.toNative())}},`next-month-${y.day.toString()}`))]})})}function ha({text:e,selected:t,wasPreviousSelection:n,grayedOut:r,onSelect:i}){let s="w-12 p-2 text-xl rounded flex items-center justify-center cursor-pointer",o=" opacity-50",a=" border-2 border-gray-500 border-opacity-30";return t?(s+=" text-white  bg-blue-600  dark:bg-blue-800",s+=" z-10"):n&&r?(s+=a,s+=o):n&&!r?s+=a:r&&(s+=o),f.jsx("div",{className:s,onClick:i?()=>i():void 0,children:e})}function $T({reference:e}){const t=[];for(let i=1;i<10;i++)t.push(e-i);t.push(e);const r=10;for(let i=1;i<r;i++)t.push(e+i);return t.sort()}function DT({value:e,onChange:t}){const n=le.fromNative(e);function r(){t(n.plusNHours(1).toNative())}function i(){t(n.minusNHours(1).toNative())}function s(){t(n.plusNMinutes(1).toNative())}function o(){t(n.minusNMinutes(1).toNative())}function a(){t(n.plusNSeconds(1).toNative())}function l(){t(n.minusNSeconds(1).toNative())}return f.jsxs("div",{className:"flex flex-row gap-8",children:[f.jsx(kc,{value:n.hour,onIncrement:r,onDecrement:i}),f.jsx(kc,{value:n.minute,onIncrement:s,onDecrement:o}),f.jsx(kc,{value:n.second,onIncrement:a,onDecrement:l})]})}function kc({value:e,onIncrement:t,onDecrement:n}){return f.jsxs("div",{className:"flex flex-row gap-2 text-xl",children:[f.jsx("div",{role:"increase",className:"cursor-pointer",onClick:t,children:"+"}),f.jsx("div",{role:"value",children:e.toString().padStart(2,"0")}),f.jsx("div",{role:"decrease",className:"cursor-pointer",onClick:n,children:"-"})]})}function PT({children:e,className:t,isOpen:n,onClickOutside:r}){let i="z-10",s="z-10 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none";return t&&(s+=` ${t}`),f.jsxs(f.Fragment,{children:[f.jsx(RT,{onClick:r,isVisible:n,className:i}),f.jsx("dialog",{className:s,open:n,children:e})]})}function RT({isVisible:e,onClick:t,className:n}){let r="absolute top-0  left-0  right-0  bottom-0 bg-gray-900 opacity-60";return e?r+="":r+=" hidden",n&&(r+=` ${n}`),f.jsx("div",{className:r,role:"dialog-backdrop",onClick:t})}const OT=wt.span`
  opacity: 0.6;
  margin-left: 1rem;
`;function ug({date:e}){const[t,n]=x.useState(0);x.useEffect(()=>{const h=setInterval(()=>{n(d=>{const g=wl().getTime()-e.getTime();return Math.round(g/1e3)})},100);return()=>clearInterval(h)},[e]);const r=$f(e),[i,s,o]=r.split(" "),a=t%60,l=(t-a)/60,u=[];l>0&&u.push(`${l}m`),u.push(`${a}s`);const c=u.join(" ");return f.jsxs("span",{children:[i," ",f.jsx("b",{children:s})," ",o,f.jsx(OT,{children:c})]})}function MT({defaultDate:e,date:t,onChange:n}){const[r,i]=x.useState(!1),s="flex flex-row flex-nowrap justify-between";return f.jsxs("div",{className:"m-1",children:[f.jsx("div",{className:s,children:f.jsx(PT,{className:"p-4 rounded-lg",isOpen:r,onClickOutside:()=>i(!1),children:f.jsxs("div",{className:"flex flex-col gap-8 justify-center align-center",children:[f.jsx(AT,{value:t,defaultValue:e,onChange:n}),f.jsx(DT,{value:t,onChange:n}),f.jsx(ug,{date:t})]})})}),f.jsxs("div",{className:s,children:[f.jsx(ug,{date:t}),f.jsx(_e,{text:r?"Close":"Edit time",disabled:r,onClick:()=>i(!r)})]})]})}const jT=wt.div`
  display: flex;
  flex-flow: row wrap;
`,LT=wt.div`
  margin-bottom: 1rem;
`;function bT({app:e,expense:t,update:n}){const[r,i]=x.useState(t.originalAmount!==void 0),[s,o]=x.useState(new Set),[a,l]=x.useState();x.useEffect(()=>{const m=e.paymentAccountsManager.change$.subscribe(k=>{l(e.paymentAccountsManager.get({id:t.paid_with}))}),S=e.currencyManager.change$.subscribe(k=>{o(e.currencyManager.getAll())});return l(e.paymentAccountsManager.get({id:t.paid_with})),o(e.currencyManager.getAll()),()=>{m.unsubscribe(),S.unsubscribe()}},[e,t.paid_with]);function u(m){const S=h1(m);n({...t,datetime:S})}function c(m){console.debug("Refreshing date"),m.preventDefault(),u(wl())}function h(m){n({...t,paid_with:m.id,currency:m.currency})}function d(m){let S=m===""?void 0:Number(m);n({...t,amount:S})}function g(m){let S=m===""?void 0:Number(m);n({...t,originalAmount:S})}function w(m){n({...t,originalCurrency:m})}function y(m){console.debug("ExpenseEditor::handleDescriptionChange:description:",m),t.description!==m&&n({...t,description:m})}function E(m){n({...t,shared:m})}function v(m){m&&n({...t,originalAmount:void 0,originalCurrency:void 0}),i(m)}if(a===void 0)return f.jsxs("div",{children:["Account ",f.jsx("code",{children:t.paid_with})," not found"]});const p=[...s].filter(m=>m!==a.currency).sort();return f.jsxs("div",{children:[f.jsx(MT,{date:new Date(Date.parse(t.datetime)),defaultDate:wl(),onChange:u}),f.jsx(jT,{children:f.jsx(LT,{onClick:c,children:f.jsx(_e,{text:"now",icon:"rotate",onClick:c})})}),f.jsx(g1,{paidWith:t.paid_with,app:e,onChange:h}),f.jsx("div",{className:"pb-3 flex flex-row flex-no-wrap justify-end",children:f.jsx(sg,{label:"paid with different currency",checked:r,onChange:v})}),f.jsx("div",{className:"grid grid-col-2 gap-2",children:r?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"col-span-1",children:f.jsx(xc,{value:t.originalAmount,placeholder:"Amount in payment currency",onChange:g})}),f.jsx("div",{className:"col-start-2 col-span-2",children:f.jsx(Bn,{id:"payment-currency",selected:t.originalCurrency,options:p.map(m=>({id:m,label:m})),onSelect:w})}),f.jsx("div",{className:"col-span-1",children:f.jsx(xc,{value:t.amount,placeholder:"Amount in account currency",onChange:d})}),f.jsx("div",{className:"col-start-2 col-span-2",children:f.jsx(Bn,{id:"account-currency",selected:a.currency,options:[{id:a.currency,label:a.currency}],onSelect:()=>{},disabled:!0})})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"col-span-1",children:f.jsx(xc,{value:t.amount,placeholder:"Amount",onChange:d})}),f.jsx("div",{className:"col-start-2 col-span-2",children:f.jsx(Bn,{selected:a.currency,options:[{id:a.currency,label:a.currency}],onSelect:()=>{},disabled:!0})})]})}),f.jsx(pT,{description:t.description,onChange:y}),f.jsx("div",{className:"py-4 flex flex-row justify-end",children:f.jsx(sg,{checked:t.shared,label:"Splitwise",onChange:E})})]})}function FT({app:e}){const{expenseId:t}=yk(),n=du(),[r,i]=x.useState(void 0);if(t===void 0)return n(kt.root),null;x.useEffect(()=>{const o=e.expenseManager.change$.subscribe(a=>{i(e.expenseManager.get(t))});return i(e.expenseManager.get(t)),()=>{o.unsubscribe()}},[e]);function s(o){console.debug("ExpenseEditorPage::handleUpdate::expense",o),e.expenseManager.update(o)}return r===void 0?f.jsx(_r,{children:f.jsx("div",{className:"flex flex-row justify-center",children:"loading..."})}):f.jsx(_r,{children:f.jsx(bT,{expense:r.expense,app:e,update:s})})}function UT({children:e,isOpen:t}){const n=`
    overflow-hidden
    transition-all
    duration-300
    ease-in-out
    ${t?"max-h-96":"max-h-0"}
  `;return f.jsx("div",{className:n,role:"collapse",children:e})}function zT({isOn:e,labelOn:t,labelOff:n,onToggle:r}){function i(o){r(o.target.checked)}const s=t.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","");return f.jsxs("label",{htmlFor:s,className:"relative inline-flex flex-row flex-nowrap items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",id:s,checked:e,onChange:i,className:"hidden peer"}),f.jsx("div",{role:"toggle-rail",className:"w-11 h-6 bg-gray-200  dark:bg-gray-700 rounded-full peer-checked:bg-blue-600 peer-checked:after:translate-x-full after:h-5 after:w-5 after:absolute  after:top-2  after:start-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:transition-all"}),f.jsx("div",{role:"toggle-label",className:"p-2 text-sm ",children:e?t:n})]})}const BT=new RegExp(/([0-9]{4}[a-z]+)/gm);function VT(e){return BT.exec(e)!==null}function HT(e){var i;const t=f1({raw:e}),n=t.tags.filter(VT).map(s=>`#${s}`).join(" ");let r=`${(i=t.main)==null?void 0:i.trim()} @ ${t.seller}`;return n&&(r=`${r} ${n}`),r}const WT=wt.div`
  order: 1;
  flex-grow: 0;
  flex-shrink: 1;
`,GT=wt.div`
  order: 2;
  flex-grow: 1;
  flex-shrink: 1;
`,KT={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};function QT(e){const t=e.getMonth()+1,n=e.getDate(),r=KT[t],i=n>9?`${n}`:`0${n}`;return`${r}-${i}`}function cg(e){return navigator.clipboard.writeText(e).then(t=>{alert(`Copied to clipboard:
${e}`)}).catch(t=>{Os.add({header:"Error while trying to copy to clipboard",description:t})})}function qT(e){return e.originalAmount?`${e.originalAmount} ${e.originalCurrency}`:e.amount===void 0?"?":`${e.amount} ${e.currency}`}function YT({appExpense:e,editing:t,deleting:n,edit:r,remove:i,deleteMode:s,app:o}){const{expense:a}=e,[l,u]=x.useState(!1);function c(){console.debug(`ExpenseQueue.handleOnEditClick:: ${a.id}`),r()}function h(){console.debug(`ExpenseQueue.handleOnDeleteClick:: ${a.id}`),!n&&i()}const d=o.paymentAccountsManager.get({id:a.paid_with});let g=HT(a.description),w="flex flex-row flex-nowrap gap-x-2 p-2 dark:p-2";return e.readyToPublish||(w+=" bg-red-200 dark:bg-red-900"),f.jsxs("div",{className:w,children:[f.jsx(WT,{children:s?f.jsx(_e,{onClick:h,icon:"bin"}):f.jsx(_e,{onClick:c,icon:"pencil"})}),f.jsxs(GT,{children:[f.jsxs("span",{onClick:()=>u(!l),children:[QT(ig(a.datetime))," ",f.jsx("b",{children:qT(a)})," ",a.description]}),f.jsxs(UT,{isOpen:l,children:[f.jsxs("pre",{children:["id: ",a.id]}),f.jsxs("pre",{children:["datetime: ",$f(ig(a.datetime))]}),f.jsxs("pre",{children:["paid_with: ",d&&d.name]}),f.jsxs("pre",{children:["original_amount: ",a.originalAmount," ",a.originalCurrency]}),f.jsx("p",{onClick:()=>cg(a.description),children:"Click to copy description"}),f.jsxs("pre",{onClick:()=>cg(g),children:["Splitwise: ",g]})]})]})]})}function XT({expenses:e,underEdition:t,onEditExpense:n,onDelete:r,app:i}){const[s,o]=x.useState(!1);function a(){o(!s)}return f.jsxs("div",{children:[f.jsx("div",{className:"flex flex-row justify-end",children:f.jsx(zT,{isOn:s,labelOn:"enable deletion mode",labelOff:"exit deletion mode",onToggle:()=>a()})}),e.length>0?e.map(l=>{const u=l.expense.id;return f.jsx(YT,{editing:t===u,deleting:!1,appExpense:l,edit:()=>n(u),remove:()=>r(u),deleteMode:s,app:i},`queued-expense-${u}`)}):f.jsx("p",{children:"No expenses :)"})]})}const JT=XT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ZT=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},v1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(d=64)),r.push(n[c],n[h],n[d],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(y1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ZT(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new eA;const d=s<<2|a>>4;if(r.push(d),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const w=u<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tA=function(e){const t=y1(e);return v1.encodeByteArray(t,!0)},El=function(e){return tA(e).replace(/\./g,"")},nA=function(e){try{return v1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=()=>rA().__FIREBASE_DEFAULTS__,sA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},oA=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&nA(e[1]);return t&&JSON.parse(t)},w1=()=>{try{return iA()||sA()||oA()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},aA=e=>{var t,n;return(n=(t=w1())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},lA=e=>{const t=aA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},S1=()=>{var e;return(e=w1())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[El(JSON.stringify(n)),El(JSON.stringify(o)),a].join(".")}function hA(){try{return typeof indexedDB=="object"}catch{return!1}}function dA(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="FirebaseError";class Hi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=fA,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E1.prototype.create)}}class E1{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?pA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Hi(i,a,r)}}function pA(e,t){return e.replace(mA,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const mA=/\{\$([^}]+)}/g;function ed(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(hg(s)&&hg(o)){if(!ed(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(e){return e&&e._delegate?e._delegate:e}class to{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new uA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vA(t))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fr){return this.instances.has(t)}getOptions(t=fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yA(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=fr){return this.component?this.component.multipleInstances?t:fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yA(e){return e===fr?void 0:e}function vA(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new gA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Q||(Q={}));const SA={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},EA=Q.INFO,xA={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},CA=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=xA[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class x1{constructor(t){this.name=t,this._logLevel=EA,this._logHandler=CA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Q))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...t),this._logHandler(this,Q.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...t),this._logHandler(this,Q.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...t),this._logHandler(this,Q.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...t),this._logHandler(this,Q.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...t),this._logHandler(this,Q.ERROR,...t)}}const kA=(e,t)=>t.some(n=>e instanceof n);let dg,fg;function TA(){return dg||(dg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AA(){return fg||(fg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C1=new WeakMap,td=new WeakMap,k1=new WeakMap,Tc=new WeakMap,Df=new WeakMap;function _A(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Vn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&C1.set(n,e)}).catch(()=>{}),Df.set(t,e),t}function IA(e){if(td.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});td.set(e,t)}let nd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return td.get(e);if(t==="objectStoreNames")return e.objectStoreNames||k1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function NA(e){nd=e(nd)}function $A(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ac(this),t,...n);return k1.set(r,t.sort?t.sort():[t]),Vn(r)}:AA().includes(e)?function(...t){return e.apply(Ac(this),t),Vn(C1.get(this))}:function(...t){return Vn(e.apply(Ac(this),t))}}function DA(e){return typeof e=="function"?$A(e):(e instanceof IDBTransaction&&IA(e),kA(e,TA())?new Proxy(e,nd):e)}function Vn(e){if(e instanceof IDBRequest)return _A(e);if(Tc.has(e))return Tc.get(e);const t=DA(e);return t!==e&&(Tc.set(e,t),Df.set(t,e)),t}const Ac=e=>Df.get(e);function PA(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Vn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Vn(o.result),l.oldVersion,l.newVersion,Vn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const RA=["get","getKey","getAll","getAllKeys","count"],OA=["put","add","delete","clear"],_c=new Map;function pg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_c.get(t))return _c.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=OA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RA.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _c.set(t,s),s}NA(e=>({...e,get:(t,n,r)=>pg(t,n)||e.get(t,n,r),has:(t,n)=>!!pg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jA(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rd="@firebase/app",mg="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new x1("@firebase/app"),LA="@firebase/app-compat",bA="@firebase/analytics-compat",FA="@firebase/analytics",UA="@firebase/app-check-compat",zA="@firebase/app-check",BA="@firebase/auth",VA="@firebase/auth-compat",HA="@firebase/database",WA="@firebase/database-compat",GA="@firebase/functions",KA="@firebase/functions-compat",QA="@firebase/installations",qA="@firebase/installations-compat",YA="@firebase/messaging",XA="@firebase/messaging-compat",JA="@firebase/performance",ZA="@firebase/performance-compat",e_="@firebase/remote-config",t_="@firebase/remote-config-compat",n_="@firebase/storage",r_="@firebase/storage-compat",i_="@firebase/firestore",s_="@firebase/firestore-compat",o_="firebase",a_="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="[DEFAULT]",l_={[rd]:"fire-core",[LA]:"fire-core-compat",[FA]:"fire-analytics",[bA]:"fire-analytics-compat",[zA]:"fire-app-check",[UA]:"fire-app-check-compat",[BA]:"fire-auth",[VA]:"fire-auth-compat",[HA]:"fire-rtdb",[WA]:"fire-rtdb-compat",[GA]:"fire-fn",[KA]:"fire-fn-compat",[QA]:"fire-iid",[qA]:"fire-iid-compat",[YA]:"fire-fcm",[XA]:"fire-fcm-compat",[JA]:"fire-perf",[ZA]:"fire-perf-compat",[e_]:"fire-rc",[t_]:"fire-rc-compat",[n_]:"fire-gcs",[r_]:"fire-gcs-compat",[i_]:"fire-fst",[s_]:"fire-fst-compat","fire-js":"fire-js",[o_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new Map,sd=new Map;function u_(e,t){try{e.container.addComponent(t)}catch(n){Rr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Cl(e){const t=e.name;if(sd.has(t))return Rr.debug(`There were multiple attempts to register component ${t}.`),!1;sd.set(t,e);for(const n of xl.values())u_(n,e);return!0}function c_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hn=new E1("app","Firebase",h_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=a_;function T1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:id,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Hn.create("bad-app-name",{appName:String(i)});if(n||(n=S1()),!n)throw Hn.create("no-options");const s=xl.get(i);if(s){if(ed(n,s.options)&&ed(r,s.config))return s;throw Hn.create("duplicate-app",{appName:i})}const o=new wA(i);for(const l of sd.values())o.addComponent(l);const a=new d_(n,r,o);return xl.set(i,a),a}function p_(e=id){const t=xl.get(e);if(!t&&e===id&&S1())return T1();if(!t)throw Hn.create("no-app",{appName:e});return t}function mi(e,t,n){var r;let i=(r=l_[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Rr.warn(a.join(" "));return}Cl(new to(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="firebase-heartbeat-database",g_=1,no="firebase-heartbeat-store";let Ic=null;function A1(){return Ic||(Ic=PA(m_,g_,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(no)}}}).catch(e=>{throw Hn.create("idb-open",{originalErrorMessage:e.message})})),Ic}async function y_(e){try{return await(await A1()).transaction(no).objectStore(no).get(_1(e))}catch(t){if(t instanceof Hi)Rr.warn(t.message);else{const n=Hn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Rr.warn(n.message)}}}async function gg(e,t){try{const r=(await A1()).transaction(no,"readwrite");await r.objectStore(no).put(t,_1(e)),await r.done}catch(n){if(n instanceof Hi)Rr.warn(n.message);else{const r=Hn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rr.warn(r.message)}}}function _1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=1024,w_=30*24*60*60*1e3;class S_{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=w_}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yg(),{heartbeatsToSend:n,unsentEntries:r}=E_(this._heartbeatsCache.heartbeats),i=El(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function yg(){return new Date().toISOString().substring(0,10)}function E_(e,t=v_){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vg(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vg(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class x_{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hA()?dA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await y_(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function vg(e){return El(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(e){Cl(new to("platform-logger",t=>new MA(t),"PRIVATE")),Cl(new to("heartbeat",t=>new S_(t),"PRIVATE")),mi(rd,mg,e),mi(rd,mg,"esm2017"),mi("fire-js","")}C_("");var k_="firebase",T_="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(k_,T_,"app");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,Pf=Pf||{},b=A_||self;function fu(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function No(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function __(e){return Object.prototype.hasOwnProperty.call(e,Nc)&&e[Nc]||(e[Nc]=++I_)}var Nc="closure_uid_"+(1e9*Math.random()>>>0),I_=0;function N_(e,t,n){return e.call.apply(e.bind,arguments)}function $_(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Qe(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qe=N_:Qe=$_,Qe.apply(null,arguments)}function da(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Pe(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function tr(){this.s=this.s,this.o=this.o}var D_=0;tr.prototype.s=!1;tr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),D_!=0)&&__(this)};tr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const I1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Rf(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function wg(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(fu(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function qe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var P_=function(){if(!b.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{b.addEventListener("test",()=>{},t),b.removeEventListener("test",()=>{},t)}catch{}return e}();function ro(e){return/^[\s\xa0]*$/.test(e)}function pu(){var e=b.navigator;return e&&(e=e.userAgent)?e:""}function Qt(e){return pu().indexOf(e)!=-1}function Of(e){return Of[" "](e),e}Of[" "]=function(){};function R_(e,t){var n=TI;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var O_=Qt("Opera"),Di=Qt("Trident")||Qt("MSIE"),N1=Qt("Edge"),od=N1||Di,$1=Qt("Gecko")&&!(pu().toLowerCase().indexOf("webkit")!=-1&&!Qt("Edge"))&&!(Qt("Trident")||Qt("MSIE"))&&!Qt("Edge"),M_=pu().toLowerCase().indexOf("webkit")!=-1&&!Qt("Edge");function D1(){var e=b.document;return e?e.documentMode:void 0}var ad;e:{var $c="",Dc=function(){var e=pu();if($1)return/rv:([^\);]+)(\)|;)/.exec(e);if(N1)return/Edge\/([\d\.]+)/.exec(e);if(Di)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(M_)return/WebKit\/(\S+)/.exec(e);if(O_)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Dc&&($c=Dc?Dc[1]:""),Di){var Pc=D1();if(Pc!=null&&Pc>parseFloat($c)){ad=String(Pc);break e}}ad=$c}var ld;if(b.document&&Di){var Sg=D1();ld=Sg||parseInt(ad,10)||void 0}else ld=void 0;var j_=ld;function io(e,t){if(qe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($1){e:{try{Of(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:L_[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&io.$.h.call(this)}}Pe(io,qe);var L_={2:"touch",3:"pen",4:"mouse"};io.prototype.h=function(){io.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var $o="closure_listenable_"+(1e6*Math.random()|0),b_=0;function F_(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++b_,this.fa=this.ia=!1}function mu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Mf(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function U_(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function P1(e){const t={};for(const n in e)t[n]=e[n];return t}const Eg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R1(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Eg.length;s++)n=Eg[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function gu(e){this.src=e,this.g={},this.h=0}gu.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=cd(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new F_(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function ud(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=I1(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(mu(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function cd(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var jf="closure_lm_"+(1e6*Math.random()|0),Rc={};function O1(e,t,n,r,i){if(r&&r.once)return j1(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)O1(e,t[s],n,r,i);return null}return n=Ff(n),e&&e[$o]?e.O(t,n,No(r)?!!r.capture:!!r,i):M1(e,t,n,!1,r,i)}function M1(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=No(i)?!!i.capture:!!i,a=bf(e);if(a||(e[jf]=a=new gu(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=z_(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P_||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(b1(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function z_(){function e(n){return t.call(e.src,e.listener,n)}const t=B_;return e}function j1(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)j1(e,t[s],n,r,i);return null}return n=Ff(n),e&&e[$o]?e.P(t,n,No(r)?!!r.capture:!!r,i):M1(e,t,n,!0,r,i)}function L1(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)L1(e,t[s],n,r,i);else r=No(r)?!!r.capture:!!r,n=Ff(n),e&&e[$o]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=cd(s,n,r,i),-1<n&&(mu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=bf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=cd(t,n,r,i)),(n=-1<e?t[e]:null)&&Lf(n))}function Lf(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[$o])ud(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(b1(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bf(t))?(ud(n,e),n.h==0&&(n.src=null,t[jf]=null)):mu(e)}}}function b1(e){return e in Rc?Rc[e]:Rc[e]="on"+e}function B_(e,t){if(e.fa)e=!0;else{t=new io(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Lf(e),e=n.call(r,t)}return e}function bf(e){return e=e[jf],e instanceof gu?e:null}var Oc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ff(e){return typeof e=="function"?e:(e[Oc]||(e[Oc]=function(t){return e.handleEvent(t)}),e[Oc])}function $e(){tr.call(this),this.i=new gu(this),this.S=this,this.J=null}Pe($e,tr);$e.prototype[$o]=!0;$e.prototype.removeEventListener=function(e,t,n,r){L1(this,e,t,n,r)};function be(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new qe(t,e);else if(t instanceof qe)t.target=t.target||e;else{var i=t;t=new qe(r,e),R1(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=fa(o,r,!0,t)&&i}if(o=t.g=e,i=fa(o,r,!0,t)&&i,i=fa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=fa(o,r,!1,t)&&i}$e.prototype.N=function(){if($e.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)mu(n[r]);delete e.g[t],e.h--}}this.J=null};$e.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};$e.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function fa(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ud(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Uf=b.JSON.stringify;class V_{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function H_(){var e=zf;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class W_{constructor(){this.h=this.g=null}add(t,n){const r=F1.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var F1=new V_(()=>new G_,e=>e.reset());class G_{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function K_(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Q_(e){b.setTimeout(()=>{throw e},0)}let so,oo=!1,zf=new W_,U1=()=>{const e=b.Promise.resolve(void 0);so=()=>{e.then(q_)}};var q_=()=>{for(var e;e=H_();){try{e.h.call(e.g)}catch(n){Q_(n)}var t=F1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}oo=!1};function yu(e,t){$e.call(this),this.h=e||1,this.g=t||b,this.j=Qe(this.qb,this),this.l=Date.now()}Pe(yu,$e);N=yu.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),be(this,"tick"),this.ga&&(Bf(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bf(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}N.N=function(){yu.$.N.call(this),Bf(this),delete this.g};function Vf(e,t,n){if(typeof e=="function")n&&(e=Qe(e,n));else if(e&&typeof e.handleEvent=="function")e=Qe(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:b.setTimeout(e,t||0)}function z1(e){e.g=Vf(()=>{e.g=null,e.i&&(e.i=!1,z1(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Y_ extends tr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:z1(this)}N(){super.N(),this.g&&(b.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ao(e){tr.call(this),this.h=e,this.g={}}Pe(ao,tr);var xg=[];function B1(e,t,n,r){Array.isArray(n)||(n&&(xg[0]=n.toString()),n=xg);for(var i=0;i<n.length;i++){var s=O1(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function V1(e){Mf(e.g,function(t,n){this.g.hasOwnProperty(n)&&Lf(t)},e),e.g={}}ao.prototype.N=function(){ao.$.N.call(this),V1(this)};ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vu(){this.g=!0}vu.prototype.Ea=function(){this.g=!1};function X_(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function J_(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function ai(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+eI(e,n)+(r?" "+r:"")})}function Z_(e,t){e.info(function(){return"TIMEOUT: "+t})}vu.prototype.info=function(){};function eI(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Uf(n)}catch{return t}}var Ur={},Cg=null;function wu(){return Cg=Cg||new $e}Ur.Ta="serverreachability";function H1(e){qe.call(this,Ur.Ta,e)}Pe(H1,qe);function lo(e){const t=wu();be(t,new H1(t))}Ur.STAT_EVENT="statevent";function W1(e,t){qe.call(this,Ur.STAT_EVENT,e),this.stat=t}Pe(W1,qe);function Je(e){const t=wu();be(t,new W1(t,e))}Ur.Ua="timingevent";function G1(e,t){qe.call(this,Ur.Ua,e),this.size=t}Pe(G1,qe);function Do(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return b.setTimeout(function(){e()},t)}var Su={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},K1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hf(){}Hf.prototype.h=null;function kg(e){return e.h||(e.h=e.i())}function Q1(){}var Po={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wf(){qe.call(this,"d")}Pe(Wf,qe);function Gf(){qe.call(this,"c")}Pe(Gf,qe);var hd;function Eu(){}Pe(Eu,Hf);Eu.prototype.g=function(){return new XMLHttpRequest};Eu.prototype.i=function(){return{}};hd=new Eu;function Ro(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ao(this),this.P=tI,e=od?125:void 0,this.V=new yu(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new q1}function q1(){this.i=null,this.g="",this.h=!1}var tI=45e3,dd={},kl={};N=Ro.prototype;N.setTimeout=function(e){this.P=e};function fd(e,t,n){e.L=1,e.v=Cu(yn(t)),e.s=n,e.S=!0,Y1(e,null)}function Y1(e,t){e.G=Date.now(),Oo(e),e.A=yn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),iw(n.i,"t",r),e.C=0,n=e.l.J,e.h=new q1,e.g=Tw(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Y_(Qe(e.Pa,e,e.g),e.O)),B1(e.U,e.g,"readystatechange",e.nb),t=e.I?P1(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),lo(),X_(e.j,e.u,e.A,e.m,e.W,e.s)}N.nb=function(e){e=e.target;const t=this.M;t&&qt(e)==3?t.l():this.Pa(e)};N.Pa=function(e){try{if(e==this.g)e:{const c=qt(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||od||this.g&&(this.h.h||this.g.ja()||Ig(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?lo(3):lo(2)),xu(this);var n=this.g.da();this.ca=n;t:if(X1(this)){var r=Ig(this.g);e="";var i=r.length,s=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wr(this),_s(this);var o="";break t}this.h.i=new b.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,J_(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ro(a)){var u=a;break t}}u=null}if(n=u)ai(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pd(this,n);else{this.i=!1,this.o=3,Je(12),wr(this),_s(this);break e}}this.S?(J1(this,c,o),od&&this.i&&c==3&&(B1(this.U,this.V,"tick",this.mb),this.V.start())):(ai(this.j,this.m,o,null),pd(this,o)),c==4&&wr(this),this.i&&!this.J&&(c==4?Ew(this.l,this):(this.i=!1,Oo(this)))}else xI(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Je(12)):(this.o=0,Je(13)),wr(this),_s(this)}}}catch{}finally{}};function X1(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function J1(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=nI(e,n),i==kl){t==4&&(e.o=4,Je(14),r=!1),ai(e.j,e.m,null,"[Incomplete Response]");break}else if(i==dd){e.o=4,Je(15),ai(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ai(e.j,e.m,i,null),pd(e,i);X1(e)&&i!=kl&&i!=dd&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Je(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jf(t),t.M=!0,Je(11))):(ai(e.j,e.m,n,"[Invalid Chunked Response]"),wr(e),_s(e))}N.mb=function(){if(this.g){var e=qt(this.g),t=this.g.ja();this.C<t.length&&(xu(this),J1(this,e,t),this.i&&e!=4&&Oo(this))}};function nI(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?kl:(n=Number(t.substring(n,r)),isNaN(n)?dd:(r+=1,r+n>t.length?kl:(t=t.slice(r,r+n),e.C=r+n,t)))}N.cancel=function(){this.J=!0,wr(this)};function Oo(e){e.Y=Date.now()+e.P,Z1(e,e.P)}function Z1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Do(Qe(e.lb,e),t)}function xu(e){e.B&&(b.clearTimeout(e.B),e.B=null)}N.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(Z_(this.j,this.A),this.L!=2&&(lo(),Je(17)),wr(this),this.o=2,_s(this)):Z1(this,this.Y-e)};function _s(e){e.l.H==0||e.J||Ew(e.l,e)}function wr(e){xu(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Bf(e.V),V1(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function pd(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||md(n.i,e))){if(!e.K&&md(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)_l(n),Au(n);else break e;Xf(n),Je(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Do(Qe(n.ib,n),6e3));if(1>=aw(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Sr(n,11)}else if((e.K||n.g==e)&&_l(n),!ro(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Kf(s,s.h),s.h=null))}if(r.F){const y=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,re(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=kw(r,r.J?r.pa:null,r.Y),o.K){lw(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(xu(a),Oo(a)),r.g=o}else ww(r);0<n.j.length&&_u(n)}else u[0]!="stop"&&u[0]!="close"||Sr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Sr(n,7):Yf(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}lo(4)}catch{}}function rI(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(fu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function iI(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(fu(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function ew(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(fu(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=iI(e),r=rI(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var tw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sI(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Tr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Tr){this.h=e.h,Tl(this,e.j),this.s=e.s,this.g=e.g,Al(this,e.m),this.l=e.l;var t=e.i,n=new uo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Tg(this,n),this.o=e.o}else e&&(t=String(e).match(tw))?(this.h=!1,Tl(this,t[1]||"",!0),this.s=ps(t[2]||""),this.g=ps(t[3]||"",!0),Al(this,t[4]),this.l=ps(t[5]||"",!0),Tg(this,t[6]||"",!0),this.o=ps(t[7]||"")):(this.h=!1,this.i=new uo(null,this.h))}Tr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ms(t,Ag,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ms(t,Ag,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ms(n,n.charAt(0)=="/"?lI:aI,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ms(n,cI)),e.join("")};function yn(e){return new Tr(e)}function Tl(e,t,n){e.j=n?ps(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Al(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Tg(e,t,n){t instanceof uo?(e.i=t,hI(e.i,e.h)):(n||(t=ms(t,uI)),e.i=new uo(t,e.h))}function re(e,t,n){e.i.set(t,n)}function Cu(e){return re(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ps(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ms(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,oI),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function oI(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ag=/[#\/\?@]/g,aI=/[#\?:]/g,lI=/[#\?]/g,uI=/[#\?@]/g,cI=/#/g;function uo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nr(e){e.g||(e.g=new Map,e.h=0,e.i&&sI(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}N=uo.prototype;N.add=function(e,t){nr(this),this.i=null,e=Wi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function nw(e,t){nr(e),t=Wi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function rw(e,t){return nr(e),t=Wi(e,t),e.g.has(t)}N.forEach=function(e,t){nr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};N.ta=function(){nr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};N.Z=function(e){nr(this);let t=[];if(typeof e=="string")rw(this,e)&&(t=t.concat(this.g.get(Wi(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};N.set=function(e,t){return nr(this),this.i=null,e=Wi(this,e),rw(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};N.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function iw(e,t,n){nw(e,t),0<n.length&&(e.i=null,e.g.set(Wi(e,t),Rf(n)),e.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Wi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function hI(e,t){t&&!e.j&&(nr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nw(this,r),iw(this,i,n))},e)),e.j=t}var dI=class{constructor(e,t){this.g=e,this.map=t}};function sw(e){this.l=e||fI,b.PerformanceNavigationTiming?(e=b.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(b.g&&b.g.Ka&&b.g.Ka()&&b.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fI=10;function ow(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function aw(e){return e.h?1:e.g?e.g.size:0}function md(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Kf(e,t){e.g?e.g.add(t):e.h=t}function lw(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}sw.prototype.cancel=function(){if(this.i=uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function uw(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Rf(e.i)}var pI=class{stringify(e){return b.JSON.stringify(e,void 0)}parse(e){return b.JSON.parse(e,void 0)}};function mI(){this.g=new pI}function gI(e,t,n){const r=n||"";try{ew(e,function(i,s){let o=i;No(i)&&(o=Uf(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function yI(e,t){const n=new vu;if(b.Image){const r=new Image;r.onload=da(pa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=da(pa,n,r,"TestLoadImage: error",!1,t),r.onabort=da(pa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=da(pa,n,r,"TestLoadImage: timeout",!1,t),b.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function pa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Mo(e){this.l=e.fc||null,this.j=e.ob||!1}Pe(Mo,Hf);Mo.prototype.g=function(){return new ku(this.l,this.j)};Mo.prototype.i=function(e){return function(){return e}}({});function ku(e,t){$e.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Qf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pe(ku,$e);var Qf=0;N=ku.prototype;N.open=function(e,t){if(this.readyState!=Qf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,co(this)};N.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||b).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jo(this)),this.readyState=Qf};N.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,co(this)),this.g&&(this.readyState=3,co(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof b.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cw(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function cw(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}N.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jo(this):co(this),this.readyState==3&&cw(this)}};N.Za=function(e){this.g&&(this.response=this.responseText=e,jo(this))};N.Ya=function(e){this.g&&(this.response=e,jo(this))};N.ka=function(){this.g&&jo(this)};function jo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,co(e)}N.setRequestHeader=function(e,t){this.v.append(e,t)};N.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function co(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(ku.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var vI=b.JSON.parse;function pe(e){$e.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hw,this.L=this.M=!1}Pe(pe,$e);var hw="",wI=/^https?$/i,SI=["POST","PUT"];N=pe.prototype;N.Oa=function(e){this.M=e};N.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hd.g(),this.C=this.u?kg(this.u):kg(hd),this.g.onreadystatechange=Qe(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){_g(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=b.FormData&&e instanceof b.FormData,!(0<=I1(SI,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pw(this),0<this.B&&((this.L=EI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qe(this.ua,this)):this.A=Vf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){_g(this,s)}};function EI(e){return Di&&typeof e.timeout=="number"&&e.ontimeout!==void 0}N.ua=function(){typeof Pf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,be(this,"timeout"),this.abort(8))};function _g(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,dw(e),Tu(e)}function dw(e){e.F||(e.F=!0,be(e,"complete"),be(e,"error"))}N.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,be(this,"complete"),be(this,"abort"),Tu(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tu(this,!0)),pe.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?fw(this):this.kb())};N.kb=function(){fw(this)};function fw(e){if(e.h&&typeof Pf<"u"&&(!e.C[1]||qt(e)!=4||e.da()!=2)){if(e.v&&qt(e)==4)Vf(e.La,0,e);else if(be(e,"readystatechange"),qt(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(tw)[1]||null;!i&&b.self&&b.self.location&&(i=b.self.location.protocol.slice(0,-1)),r=!wI.test(i?i.toLowerCase():"")}n=r}if(n)be(e,"complete"),be(e,"success");else{e.m=6;try{var s=2<qt(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",dw(e)}}finally{Tu(e)}}}}function Tu(e,t){if(e.g){pw(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||be(e,"ready");try{n.onreadystatechange=r}catch{}}}function pw(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(b.clearTimeout(e.A),e.A=null)}N.isActive=function(){return!!this.g};function qt(e){return e.g?e.g.readyState:0}N.da=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),vI(t)}};function Ig(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case hw:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function xI(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(ro(e[r]))continue;var n=K_(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}U_(t,function(r){return r.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mw(e){let t="";return Mf(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function qf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mw(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):re(e,t,n))}function as(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gw(e){this.Ga=0,this.j=[],this.l=new vu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=as("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=as("baseRetryDelayMs",5e3,e),this.hb=as("retryDelaySeedMs",1e4,e),this.eb=as("forwardChannelMaxRetries",2,e),this.xa=as("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new sw(e&&e.concurrentRequestLimit),this.Ja=new mI,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=gw.prototype;N.ra=8;N.H=1;function Yf(e){if(yw(e),e.H==3){var t=e.W++,n=yn(e.I);if(re(n,"SID",e.K),re(n,"RID",t),re(n,"TYPE","terminate"),Lo(e,n),t=new Ro(e,e.l,t),t.L=2,t.v=Cu(yn(n)),n=!1,b.navigator&&b.navigator.sendBeacon)try{n=b.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&b.Image&&(new Image().src=t.v,n=!0),n||(t.g=Tw(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Oo(t)}Cw(e)}function Au(e){e.g&&(Jf(e),e.g.cancel(),e.g=null)}function yw(e){Au(e),e.u&&(b.clearTimeout(e.u),e.u=null),_l(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&b.clearTimeout(e.m),e.m=null)}function _u(e){if(!ow(e.i)&&!e.m){e.m=!0;var t=e.Na;so||U1(),oo||(so(),oo=!0),zf.add(t,e),e.C=0}}function CI(e,t){return aw(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Do(Qe(e.Na,e,t),xw(e,e.C)),e.C++,!0)}N.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Ro(this,this.l,e);let s=this.s;if(this.U&&(s?(s=P1(s),R1(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=vw(this,i,t),n=yn(this.I),re(n,"RID",e),re(n,"CVER",22),this.F&&re(n,"X-HTTP-Session-Id",this.F),Lo(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(mw(s)))+"&"+t:this.o&&qf(n,this.o,s)),Kf(this.i,i),this.bb&&re(n,"TYPE","init"),this.P?(re(n,"$req",t),re(n,"SID","null"),i.aa=!0,fd(i,n,null)):fd(i,n,t),this.H=2}}else this.H==3&&(e?Ng(this,e):this.j.length==0||ow(this.i)||Ng(this))};function Ng(e,t){var n;t?n=t.m:n=e.W++;const r=yn(e.I);re(r,"SID",e.K),re(r,"RID",n),re(r,"AID",e.V),Lo(e,r),e.o&&e.s&&qf(r,e.o,e.s),n=new Ro(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=vw(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Kf(e.i,n),fd(n,r,t)}function Lo(e,t){e.na&&Mf(e.na,function(n,r){re(t,r,n)}),e.h&&ew({},function(n,r){re(t,r,n)})}function vw(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Qe(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{gI(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function ww(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;so||U1(),oo||(so(),oo=!0),zf.add(t,e),e.A=0}}function Xf(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Do(Qe(e.Ma,e),xw(e,e.A)),e.A++,!0)}N.Ma=function(){if(this.u=null,Sw(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Do(Qe(this.jb,this),e)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Je(10),Au(this),Sw(this))};function Jf(e){e.B!=null&&(b.clearTimeout(e.B),e.B=null)}function Sw(e){e.g=new Ro(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=yn(e.wa);re(t,"RID","rpc"),re(t,"SID",e.K),re(t,"AID",e.V),re(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&re(t,"TO",e.qa),re(t,"TYPE","xmlhttp"),Lo(e,t),e.o&&e.s&&qf(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Cu(yn(t)),n.s=null,n.S=!0,Y1(n,e)}N.ib=function(){this.v!=null&&(this.v=null,Au(this),Xf(this),Je(19))};function _l(e){e.v!=null&&(b.clearTimeout(e.v),e.v=null)}function Ew(e,t){var n=null;if(e.g==t){_l(e),Jf(e),e.g=null;var r=2}else if(md(e.i,t))n=t.F,lw(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=wu(),be(r,new G1(r,n)),_u(e)}else ww(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&CI(e,t)||r==2&&Xf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Sr(e,5);break;case 4:Sr(e,10);break;case 3:Sr(e,6);break;default:Sr(e,2)}}}function xw(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Sr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Qe(e.pb,e);n||(n=new Tr("//www.google.com/images/cleardot.gif"),b.location&&b.location.protocol=="http"||Tl(n,"https"),Cu(n)),yI(n.toString(),r)}else Je(2);e.H=0,e.h&&e.h.za(t),Cw(e),yw(e)}N.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Je(2)):(this.l.info("Failed to ping google.com"),Je(1))};function Cw(e){if(e.H=0,e.ma=[],e.h){const t=uw(e.i);(t.length!=0||e.j.length!=0)&&(wg(e.ma,t),wg(e.ma,e.j),e.i.i.length=0,Rf(e.j),e.j.length=0),e.h.ya()}}function kw(e,t,n){var r=n instanceof Tr?yn(n):new Tr(n);if(r.g!="")t&&(r.g=t+"."+r.g),Al(r,r.m);else{var i=b.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Tr(null);r&&Tl(s,r),t&&(s.g=t),i&&Al(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&re(r,n,t),re(r,"VER",e.ra),Lo(e,r),r}function Tw(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new pe(new Mo({ob:!0})):new pe(e.va),t.Oa(e.J),t}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function Aw(){}N=Aw.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function Il(){if(Di&&!(10<=Number(j_)))throw Error("Environmental error: no available transport.")}Il.prototype.g=function(e,t){return new vt(e,t)};function vt(e,t){$e.call(this),this.g=new gw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ro(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ro(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Gi(this)}Pe(vt,$e);vt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Je(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=kw(e,null,e.Y),_u(e)};vt.prototype.close=function(){Yf(this.g)};vt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Uf(e),e=n);t.j.push(new dI(t.fb++,e)),t.H==3&&_u(t)};vt.prototype.N=function(){this.g.h=null,delete this.j,Yf(this.g),delete this.g,vt.$.N.call(this)};function _w(e){Wf.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Pe(_w,Wf);function Iw(){Gf.call(this),this.status=1}Pe(Iw,Gf);function Gi(e){this.g=e}Pe(Gi,Aw);Gi.prototype.Ba=function(){be(this.g,"a")};Gi.prototype.Aa=function(e){be(this.g,new _w(e))};Gi.prototype.za=function(e){be(this.g,new Iw)};Gi.prototype.ya=function(){be(this.g,"b")};function kI(){this.blockSize=-1}function en(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Pe(en,kI);en.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Mc(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}en.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Mc(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Mc(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Mc(this,r),i=0;break}}this.h=i,this.i+=t};en.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Y(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var TI={};function Zf(e){return-128<=e&&128>e?R_(e,function(t){return new Y([t|0],0>t?-1:0)}):new Y([e|0],0>e?-1:0)}function Yt(e){if(isNaN(e)||!isFinite(e))return gi;if(0>e)return je(Yt(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=gd;return new Y(t,0)}function Nw(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return je(Nw(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yt(Math.pow(t,8)),r=gi,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Yt(Math.pow(t,s)),r=r.R(s).add(Yt(o))):(r=r.R(n),r=r.add(Yt(o)))}return r}var gd=4294967296,gi=Zf(0),yd=Zf(1),$g=Zf(16777216);N=Y.prototype;N.ea=function(){if(At(this))return-je(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:gd+r)*t,t*=gd}return e};N.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(un(this))return"0";if(At(this))return"-"+je(this).toString(e);for(var t=Yt(Math.pow(e,6)),n=this,r="";;){var i=$l(n,t).g;n=Nl(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,un(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};N.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function un(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function At(e){return e.h==-1}N.X=function(e){return e=Nl(this,e),At(e)?-1:un(e)?0:1};function je(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Y(n,~e.h).add(yd)}N.abs=function(){return At(this)?je(this):this};N.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Y(n,n[n.length-1]&-2147483648?-1:0)};function Nl(e,t){return e.add(je(t))}N.R=function(e){if(un(this)||un(e))return gi;if(At(this))return At(e)?je(this).R(je(e)):je(je(this).R(e));if(At(e))return je(this.R(je(e)));if(0>this.X($g)&&0>e.X($g))return Yt(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,ma(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ma(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ma(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ma(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Y(n,0)};function ma(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ls(e,t){this.g=e,this.h=t}function $l(e,t){if(un(t))throw Error("division by zero");if(un(e))return new ls(gi,gi);if(At(e))return t=$l(je(e),t),new ls(je(t.g),je(t.h));if(At(t))return t=$l(e,je(t)),new ls(je(t.g),t.h);if(30<e.g.length){if(At(e)||At(t))throw Error("slowDivide_ only works with positive integers.");for(var n=yd,r=t;0>=r.X(e);)n=Dg(n),r=Dg(r);var i=Wr(n,1),s=Wr(r,1);for(r=Wr(r,2),n=Wr(n,2);!un(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Wr(r,1),n=Wr(n,1)}return t=Nl(e,i.R(t)),new ls(i,t)}for(i=gi;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Yt(n),o=s.R(t);At(o)||0<o.X(e);)n-=r,s=Yt(n),o=s.R(t);un(s)&&(s=yd),i=i.add(s),e=Nl(e,o)}return new ls(i,e)}N.gb=function(e){return $l(this,e).h};N.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Y(n,this.h&e.h)};N.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Y(n,this.h|e.h)};N.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Y(n,this.h^e.h)};function Dg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Y(n,e.h)}function Wr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Y(i,e.h)}Il.prototype.createWebChannel=Il.prototype.g;vt.prototype.send=vt.prototype.u;vt.prototype.open=vt.prototype.m;vt.prototype.close=vt.prototype.close;Su.NO_ERROR=0;Su.TIMEOUT=8;Su.HTTP_ERROR=6;K1.COMPLETE="complete";Q1.EventType=Po;Po.OPEN="a";Po.CLOSE="b";Po.ERROR="c";Po.MESSAGE="d";$e.prototype.listen=$e.prototype.O;pe.prototype.listenOnce=pe.prototype.P;pe.prototype.getLastError=pe.prototype.Sa;pe.prototype.getLastErrorCode=pe.prototype.Ia;pe.prototype.getStatus=pe.prototype.da;pe.prototype.getResponseJson=pe.prototype.Wa;pe.prototype.getResponseText=pe.prototype.ja;pe.prototype.send=pe.prototype.ha;pe.prototype.setWithCredentials=pe.prototype.Oa;en.prototype.digest=en.prototype.l;en.prototype.reset=en.prototype.reset;en.prototype.update=en.prototype.j;Y.prototype.add=Y.prototype.add;Y.prototype.multiply=Y.prototype.R;Y.prototype.modulo=Y.prototype.gb;Y.prototype.compare=Y.prototype.X;Y.prototype.toNumber=Y.prototype.ea;Y.prototype.toString=Y.prototype.toString;Y.prototype.getBits=Y.prototype.D;Y.fromNumber=Yt;Y.fromString=Nw;var AI=function(){return new Il},_I=function(){return wu()},jc=Su,II=K1,NI=Ur,Pg={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$I=Mo,ga=Q1,DI=pe,PI=Y;const Rg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ve.UNAUTHENTICATED=new Ve(null),Ve.GOOGLE_CREDENTIALS=new Ve("google-credentials-uid"),Ve.FIRST_PARTY=new Ve("first-party-uid"),Ve.MOCK_USER=new Ve("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ki="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new x1("@firebase/firestore");function Og(){return Or.logLevel}function O(e,...t){if(Or.logLevel<=Q.DEBUG){const n=t.map(ep);Or.debug(`Firestore (${Ki}): ${e}`,...n)}}function Mr(e,...t){if(Or.logLevel<=Q.ERROR){const n=t.map(ep);Or.error(`Firestore (${Ki}): ${e}`,...n)}}function Dl(e,...t){if(Or.logLevel<=Q.WARN){const n=t.map(ep);Or.warn(`Firestore (${Ki}): ${e}`,...n)}}function ep(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e="Unexpected state"){const t=`FIRESTORE (${Ki}) INTERNAL ASSERTION FAILED: `+e;throw Mr(t),new Error(t)}function De(e,t){e||H()}function se(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Hi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ve.UNAUTHENTICATED))}shutdown(){}}class OI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MI{constructor(t){this.t=t,this.currentUser=Ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ar,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ar)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new $w(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return De(t===null||typeof t=="string"),new Ve(t)}}class jI{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Ve.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class LI{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new jI(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FI{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,O("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(De(typeof n.token=="string"),this.T=n.token,new bI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=UI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Z(e,t){return e<t?-1:e>t?1:0}function Pi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new L(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new L(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ne.fromMillis(Date.now())}static fromDate(t){return Ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ne(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Z(this.nanoseconds,t.nanoseconds):Z(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ue(t)}static min(){return new ue(new Ne(0,0))}static max(){return new ue(new Ne(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,n,r){n===void 0?n=0:n>t.length&&H(),r===void 0?r=t.length-n:r>t.length-n&&H(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ho.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ho?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ve extends ho{construct(t,n,r){return new ve(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new L(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const zI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends ho{construct(t,n,r){return new Ge(t,n,r)}static isValidIdentifier(t){return zI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ge(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new L(A.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new L(A.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(A.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.path=t}static fromPath(t){return new B(ve.fromString(t))}static fromName(t){return new B(ve.fromString(t).popFirst(5))}static empty(){return new B(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ve.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new B(new ve(t.slice()))}}function BI(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Qn(i,B.empty(),t)}function VI(e){return new Qn(e.readTime,e.key,-1)}class Qn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Qn(ue.min(),B.empty(),-1)}static max(){return new Qn(ue.max(),B.empty(),-1)}}function HI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=B.comparator(e.documentKey,t.documentKey),n!==0?n:Z(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pw(e){if(e.code!==A.FAILED_PRECONDITION||e.message!==WI)throw e;O("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):I.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):I.reject(n)}static resolve(t){return new I((n,r)=>{n(t)})}static reject(t){return new I((n,r)=>{r(t)})}static waitFor(t){return new I((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=I.resolve(!1);for(const r of t)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new I((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new I((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Iu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}Rw.ct=-1;function tp(e){return e==null}function Pl(e){return e===0&&1/e==-1/0}function KI(e){return typeof e=="number"&&Number.isInteger(e)&&!Pl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ow(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t,n){this.comparator=t,this.root=n||Oe.EMPTY}insert(t,n){return new ut(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Oe.BLACK,null,null))}remove(t){return new ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Oe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ya(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ya(this.root,t,this.comparator,!1)}getReverseIterator(){return new ya(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ya(this.root,t,this.comparator,!0)}}class ya{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Oe{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Oe.RED,this.left=i??Oe.EMPTY,this.right=s??Oe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Oe(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Oe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Oe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const t=this.left.check();if(t!==this.right.check())throw H();return t+(this.isRed()?0:1)}}Oe.EMPTY=null,Oe.RED=!0,Oe.BLACK=!1;Oe.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Oe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.comparator=t,this.data=new ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new jg(this.data.getIterator())}getIteratorFrom(t){return new jg(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof et)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new et(this.comparator);return n.data=t,n}}class jg{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new pt([])}unionWith(t){let n=new et(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new pt(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Pi(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new QI("Invalid base64 string: "+i):i}}(t);return new vn(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new vn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Z(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const qI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(e){if(De(!!e),typeof e=="string"){let t=0;const n=qI.exec(e);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Me(e.seconds),nanos:Me(e.nanos)}}function Me(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function fo(e){return typeof e=="string"?vn.fromBase64String(e):vn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Mw(e){const t=e.mapValue.fields.__previous_value__;return np(t)?Mw(t):t}function Rl(e){const t=jr(e.mapValue.fields.__local_write_time__.timestampValue);return new Ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ol{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ri(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?np(e)?4:XI(e)?9007199254740991:10:H()}function tn(e,t){if(e===t)return!0;const n=Ri(e);if(n!==Ri(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rl(e).isEqual(Rl(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=jr(r.timestampValue),o=jr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return fo(r.bytesValue).isEqual(fo(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Me(r.geoPointValue.latitude)===Me(i.geoPointValue.latitude)&&Me(r.geoPointValue.longitude)===Me(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Me(r.integerValue)===Me(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Me(r.doubleValue),o=Me(i.doubleValue);return s===o?Pl(s)===Pl(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Pi(e.arrayValue.values||[],t.arrayValue.values||[],tn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Mg(s)!==Mg(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!tn(s[a],o[a])))return!1;return!0}(e,t);default:return H()}}function po(e,t){return(e.values||[]).find(n=>tn(n,t))!==void 0}function Oi(e,t){if(e===t)return 0;const n=Ri(e),r=Ri(t);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Me(i.integerValue||i.doubleValue),a=Me(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return Lg(e.timestampValue,t.timestampValue);case 4:return Lg(Rl(e),Rl(t));case 5:return Z(e.stringValue,t.stringValue);case 6:return function(i,s){const o=fo(i),a=fo(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Z(o[l],a[l]);if(u!==0)return u}return Z(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Z(Me(i.latitude),Me(s.latitude));return o!==0?o:Z(Me(i.longitude),Me(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Oi(o[l],a[l]);if(u)return u}return Z(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===va.mapValue&&s===va.mapValue)return 0;if(i===va.mapValue)return 1;if(s===va.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=Z(a[c],u[c]);if(h!==0)return h;const d=Oi(o[a[c]],l[u[c]]);if(d!==0)return d}return Z(a.length,u.length)}(e.mapValue,t.mapValue);default:throw H()}}function Lg(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Z(e,t);const n=jr(e),r=jr(t),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function Mi(e){return vd(e)}function vd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=jr(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,B.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=vd(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${vd(r.fields[a])}`;return s+"}"}(e.mapValue):H();var t,n}function wd(e){return!!e&&"integerValue"in e}function rp(e){return!!e&&"arrayValue"in e}function Fa(e){return!!e&&"mapValue"in e}function Is(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qi(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Is(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Is(e.arrayValue.values[n]);return t}return Object.assign({},e)}function XI(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.value=t}static empty(){return new dt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Fa(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Is(n)}setAll(t){let n=Ge.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Is(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Fa(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return tn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Fa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Qi(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new dt(Is(this.value))}}function jw(e){const t=[];return Qi(e.fields,(n,r)=>{const i=new Ge([n]);if(Fa(r)){const s=jw(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new pt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Lt(t,0,ue.min(),ue.min(),ue.min(),dt.empty(),0)}static newFoundDocument(t,n,r,i){return new Lt(t,1,n,ue.min(),r,i,0)}static newNoDocument(t,n){return new Lt(t,2,n,ue.min(),ue.min(),dt.empty(),0)}static newUnknownDocument(t,n){return new Lt(t,3,n,ue.min(),ue.min(),dt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Lt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t,n){this.position=t,this.inclusive=n}}function bg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=B.comparator(B.fromName(o.referenceValue),n.key):r=Oi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fg(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!tn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t,n="asc"){this.field=t,this.dir=n}}function JI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{}class Ae extends Lw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new e4(t,n,r):n==="array-contains"?new r4(t,r):n==="in"?new i4(t,r):n==="not-in"?new s4(t,r):n==="array-contains-any"?new o4(t,r):new Ae(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new t4(t,r):new n4(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oi(n,this.value)):n!==null&&Ri(this.value)===Ri(n)&&this.matchesComparison(Oi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qn extends Lw{constructor(t,n){super(),this.filters=t,this.op=n,this.lt=null}static create(t,n){return new qn(t,n)}matches(t){return bw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(n=>n.isInequality());return t!==null?t.field:null}ft(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function bw(e){return e.op==="and"}function Fw(e){return ZI(e)&&bw(e)}function ZI(e){for(const t of e.filters)if(t instanceof qn)return!1;return!0}function Sd(e){if(e instanceof Ae)return e.field.canonicalString()+e.op.toString()+Mi(e.value);if(Fw(e))return e.filters.map(t=>Sd(t)).join(",");{const t=e.filters.map(n=>Sd(n)).join(",");return`${e.op}(${t})`}}function Uw(e,t){return e instanceof Ae?function(n,r){return r instanceof Ae&&n.op===r.op&&n.field.isEqual(r.field)&&tn(n.value,r.value)}(e,t):e instanceof qn?function(n,r){return r instanceof qn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&Uw(s,r.filters[o]),!0):!1}(e,t):void H()}function zw(e){return e instanceof Ae?function(t){return`${t.field.canonicalString()} ${t.op} ${Mi(t.value)}`}(e):e instanceof qn?function(t){return t.op.toString()+" {"+t.getFilters().map(zw).join(" ,")+"}"}(e):"Filter"}class e4 extends Ae{constructor(t,n,r){super(t,n,r),this.key=B.fromName(r.referenceValue)}matches(t){const n=B.comparator(t.key,this.key);return this.matchesComparison(n)}}class t4 extends Ae{constructor(t,n){super(t,"in",n),this.keys=Bw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class n4 extends Ae{constructor(t,n){super(t,"not-in",n),this.keys=Bw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Bw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}class r4 extends Ae{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return rp(n)&&po(n.arrayValue,this.value)}}class i4 extends Ae{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&po(this.value.arrayValue,n)}}class s4 extends Ae{constructor(t,n){super(t,"not-in",n)}matches(t){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!po(this.value.arrayValue,n)}}class o4 extends Ae{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>po(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Ug(e,t=null,n=[],r=[],i=null,s=null,o=null){return new a4(e,t,n,r,i,s,o)}function ip(e){const t=se(e);if(t.dt===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Sd(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Mi(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Mi(r)).join(",")),t.dt=n}return t.dt}function sp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!JI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Uw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fg(e.startAt,t.startAt)&&Fg(e.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function l4(e,t,n,r,i,s,o,a){return new Nu(e,t,n,r,i,s,o,a)}function u4(e){return new Nu(e)}function zg(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function c4(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function h4(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function d4(e){return e.collectionGroup!==null}function yi(e){const t=se(e);if(t.wt===null){t.wt=[];const n=h4(t),r=c4(t);if(n!==null&&r===null)n.isKeyField()||t.wt.push(new Ns(n)),t.wt.push(new Ns(Ge.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Ns(Ge.keyField(),s))}}}return t.wt}function ji(e){const t=se(e);if(!t._t)if(t.limitType==="F")t._t=Ug(t.path,t.collectionGroup,yi(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of yi(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ns(s.field,o))}const r=t.endAt?new Ml(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ml(t.startAt.position,t.startAt.inclusive):null;t._t=Ug(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t._t}function Ed(e,t,n){return new Nu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vw(e,t){return sp(ji(e),ji(t))&&e.limitType===t.limitType}function Hw(e){return`${ip(ji(e))}|lt:${e.limitType}`}function Bg(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>zw(r)).join(", ")}]`),tp(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Mi(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Mi(r)).join(",")),`Target(${n})`}(ji(e))}; limitType=${e.limitType})`}function op(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):B.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of yi(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=bg(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,yi(n),r)||n.endAt&&!function(i,s,o){const a=bg(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,yi(n),r))}(e,t)}function f4(e){return(t,n)=>{let r=!1;for(const i of yi(e)){const s=p4(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function p4(e,t,n){const r=e.field.isKeyField()?B.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Oi(a,l):H()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Qi(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Ow(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new ut(B.comparator);function jl(){return m4}const Ww=new ut(B.comparator);function wa(...e){let t=Ww;for(const n of e)t=t.insert(n.key,n);return t}function Gw(e){let t=Ww;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Er(){return $s()}function Kw(){return $s()}function $s(){return new qi(e=>e.toString(),(e,t)=>e.isEqual(t))}const g4=new ut(B.comparator),y4=new et(B.comparator);function We(...e){let t=y4;for(const n of e)t=t.add(n);return t}const v4=new et(Z);function w4(){return v4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pl(t)?"-0":t}}function qw(e){return{integerValue:""+e}}function S4(e,t){return KI(t)?qw(t):Qw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this._=void 0}}function E4(e,t,n){return e instanceof Ll?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&np(i)&&(i=Mw(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof mo?Xw(e,t):e instanceof go?Jw(e,t):function(r,i){const s=Yw(r,i),o=Vg(s)+Vg(r.gt);return wd(s)&&wd(r.gt)?qw(o):Qw(r.serializer,o)}(e,t)}function x4(e,t,n){return e instanceof mo?Xw(e,t):e instanceof go?Jw(e,t):n}function Yw(e,t){return e instanceof bl?wd(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class Ll extends $u{}class mo extends $u{constructor(t){super(),this.elements=t}}function Xw(e,t){const n=Zw(t);for(const r of e.elements)n.some(i=>tn(i,r))||n.push(r);return{arrayValue:{values:n}}}class go extends $u{constructor(t){super(),this.elements=t}}function Jw(e,t){let n=Zw(t);for(const r of e.elements)n=n.filter(i=>!tn(i,r));return{arrayValue:{values:n}}}class bl extends $u{constructor(t,n){super(),this.serializer=t,this.gt=n}}function Vg(e){return Me(e.integerValue||e.doubleValue)}function Zw(e){return rp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function C4(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof mo&&r instanceof mo||n instanceof go&&r instanceof go?Pi(n.elements,r.elements,tn):n instanceof bl&&r instanceof bl?tn(n.gt,r.gt):n instanceof Ll&&r instanceof Ll}(e.transform,t.transform)}class k4{constructor(t,n){this.version=t,this.transformResults=n}}class gt{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new gt}static exists(t){return new gt(void 0,t)}static updateTime(t){return new gt(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ua(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Du{}function eS(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Pu(e.key,gt.none()):new bo(e.key,e.data,gt.none());{const n=e.data,r=dt.empty();let i=new et(Ge.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new rr(e.key,r,new pt(i.toArray()),gt.none())}}function T4(e,t,n){e instanceof bo?function(r,i,s){const o=r.value.clone(),a=Wg(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof rr?function(r,i,s){if(!Ua(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Wg(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(tS(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ds(e,t,n,r){return e instanceof bo?function(i,s,o,a){if(!Ua(i.precondition,s))return o;const l=i.value.clone(),u=Gg(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof rr?function(i,s,o,a){if(!Ua(i.precondition,s))return o;const l=Gg(i.fieldTransforms,a,s),u=s.data;return u.setAll(tS(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return Ua(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function A4(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=Yw(r.transform,i||null);s!=null&&(n===null&&(n=dt.empty()),n.set(r.field,s))}return n||null}function Hg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Pi(n,r,(i,s)=>C4(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bo extends Du{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rr extends Du{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tS(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Wg(e,t,n){const r=new Map;De(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,x4(o,a,n[i]))}return r}function Gg(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,E4(s,o,t))}return r}class Pu extends Du{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _4 extends Du{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&T4(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ds(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ds(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Kw();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=eS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),We())}isEqual(t){return this.batchId===t.batchId&&Pi(this.mutations,t.mutations,(n,r)=>Hg(n,r))&&Pi(this.baseMutations,t.baseMutations,(n,r)=>Hg(n,r))}}class ap{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){De(t.mutations.length===r.length);let i=g4;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ap(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,W;function $4(e){switch(e){default:return H();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function D4(e){if(e===void 0)return Mr("GRPC error has no .code"),A.UNKNOWN;switch(e){case ge.OK:return A.OK;case ge.CANCELLED:return A.CANCELLED;case ge.UNKNOWN:return A.UNKNOWN;case ge.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case ge.INTERNAL:return A.INTERNAL;case ge.UNAVAILABLE:return A.UNAVAILABLE;case ge.UNAUTHENTICATED:return A.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case ge.NOT_FOUND:return A.NOT_FOUND;case ge.ALREADY_EXISTS:return A.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return A.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case ge.ABORTED:return A.ABORTED;case ge.OUT_OF_RANGE:return A.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return A.UNIMPLEMENTED;case ge.DATA_LOSS:return A.DATA_LOSS;default:return H()}}(W=ge||(ge={}))[W.OK=0]="OK",W[W.CANCELLED=1]="CANCELLED",W[W.UNKNOWN=2]="UNKNOWN",W[W.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",W[W.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",W[W.NOT_FOUND=5]="NOT_FOUND",W[W.ALREADY_EXISTS=6]="ALREADY_EXISTS",W[W.PERMISSION_DENIED=7]="PERMISSION_DENIED",W[W.UNAUTHENTICATED=16]="UNAUTHENTICATED",W[W.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",W[W.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",W[W.ABORTED=10]="ABORTED",W[W.OUT_OF_RANGE=11]="OUT_OF_RANGE",W[W.UNIMPLEMENTED=12]="UNIMPLEMENTED",W[W.INTERNAL=13]="INTERNAL",W[W.UNAVAILABLE=14]="UNAVAILABLE",W[W.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new PI([4294967295,4294967295],0);class P4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function R4(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function O4(e,t){return xd(e,t.toTimestamp())}function vi(e){return De(!!e),ue.fromTimestamp(function(t){const n=jr(t);return new Ne(n.seconds,n.nanos)}(e))}function nS(e,t){return function(n){return new ve(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function M4(e){const t=ve.fromString(e);return De(V4(t)),t}function Cd(e,t){return nS(e.databaseId,t.path)}function j4(e){const t=M4(e);return t.length===4?ve.emptyPath():b4(t)}function L4(e){return new ve(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function b4(e){return De(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Kg(e,t,n){return{name:Cd(e,t),fields:n.value.mapValue.fields}}function F4(e,t){let n;if(t instanceof bo)n={update:Kg(e,t.key,t.value)};else if(t instanceof Pu)n={delete:Cd(e,t.key)};else if(t instanceof rr)n={update:Kg(e,t.key,t.data),updateMask:B4(t.fieldMask)};else{if(!(t instanceof _4))return H();n={verify:Cd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ll)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof mo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof go)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof bl)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw H()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:O4(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:H()}(e,t.precondition)),n}function U4(e,t){return e&&e.length>0?(De(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?vi(r.updateTime):vi(i);return s.isEqual(ue.min())&&(s=vi(i)),new k4(s,r.transformResults||[])}(n,t))):[]}function z4(e){let t=j4(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=rS(c);return h instanceof qn&&Fw(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Ns(Kr(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,tp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new Ml(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new Ml(d,h)}(n.endAt)),l4(t,i,o,s,a,"F",l,u)}function rS(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Kr(t.unaryFilter.field);return Ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Kr(t.unaryFilter.field);return Ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Kr(t.unaryFilter.field);return Ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Kr(t.unaryFilter.field);return Ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(e):e.fieldFilter!==void 0?function(t){return Ae.create(Kr(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return qn.create(t.compositeFilter.filters.map(n=>rS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return H()}}(t.compositeFilter.op))}(e):H()}function Kr(e){return Ge.fromServerFormat(e.fieldPath)}function B4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function V4(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(t){this.fe=t}}function W4(e){const t=z4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ed(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.rn=new K4}addToCollectionParentIndex(t,n){return this.rn.add(n),I.resolve()}getCollectionParents(t,n){return I.resolve(this.rn.getEntries(n))}addFieldIndex(t,n){return I.resolve()}deleteFieldIndex(t,n){return I.resolve()}getDocumentsMatchingTarget(t,n){return I.resolve(null)}getIndexType(t,n){return I.resolve(0)}getFieldIndexes(t,n){return I.resolve([])}getNextCollectionGroupToUpdate(t){return I.resolve(null)}getMinOffset(t,n){return I.resolve(Qn.min())}getMinOffsetFromCollectionGroup(t,n){return I.resolve(Qn.min())}updateCollectionGroup(t,n,r){return I.resolve()}updateIndexEntries(t,n){return I.resolve()}}class K4{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new et(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new et(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Li(0)}static Mn(){return new Li(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.changes=new qi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Lt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ds(r.mutation,i,pt.empty(),Ne.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,We()).next(()=>r))}getLocalViewOfDocuments(t,n,r=We()){const i=Er();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=wa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Er();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,We()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=jl();const o=$s(),a=$s();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof rr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ds(c.mutation,u,c.mutation.getFieldMask(),Ne.now())):o.set(u.key,pt.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new q4(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=$s();let i=new ut((o,a)=>o-a),s=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||pt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||We()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Kw();c.forEach(d=>{if(!s.has(d)){const g=eS(n.get(d),r.get(d));g!==null&&h.set(d,g),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return B.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):d4(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):I.resolve(Er());let a=-1,l=s;return o.next(u=>I.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?I.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,We())).next(c=>({batchId:a,changes:Gw(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new B(n)).next(r=>{let i=wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=wa();return this.indexManager.getCollectionParents(t,i).next(o=>I.forEach(o,a=>{const l=function(u,c){return new Nu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Lt.newInvalidDocument(u)))});let o=wa();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Ds(u.mutation,l,pt.empty(),Ne.now()),op(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,n){return I.resolve(this.cs.get(n))}saveBundleMetadata(t,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:vi(r.createTime)}),I.resolve()}getNamedQuery(t,n){return I.resolve(this.hs.get(n))}saveNamedQuery(t,n){return this.hs.set(n.name,function(r){return{name:r.name,query:W4(r.bundledQuery),readTime:vi(r.readTime)}}(n)),I.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.overlays=new ut(B.comparator),this.ls=new Map}getOverlay(t,n){return I.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Er();return I.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.we(t,n,s)}),I.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),I.resolve()}getOverlaysForCollection(t,n,r){const i=Er(),s=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return I.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new ut((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Er(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Er(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return I.resolve(a)}we(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new N4(n,r));let s=this.ls.get(n);s===void 0&&(s=We(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this.fs=new et(Ce.ds),this.ws=new et(Ce._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,n){const r=new Ce(t,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.ys(new Ce(t,n))}ps(t,n){t.forEach(r=>this.removeReference(r,n))}Is(t){const n=new B(new ve([])),r=new Ce(n,t),i=new Ce(n,t+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const n=new B(new ve([])),r=new Ce(n,t),i=new Ce(n,t+1);let s=We();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Ce(t,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ce{constructor(t,n){this.key=t,this.As=n}static ds(t,n){return B.comparator(t.key,n.key)||Z(t.As,n.As)}static _s(t,n){return Z(t.As,n.As)||B.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new et(Ce.ds)}checkEmpty(t){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new I4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ce(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(t,n){return I.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ce(n,0),i=new Ce(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new et(Z);return n.forEach(i=>{const s=new Ce(i,0),o=new Ce(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),I.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;B.isDocumentKey(s)||(s=s.child(""));const o=new Ce(new B(s),0);let a=new et(Z);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),I.resolve(this.Vs(a))}Vs(t){const n=[];return t.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){De(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return I.forEach(n.mutations,i=>{const s=new Ce(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Rs=r})}Cn(t){}containsKey(t,n){const r=new Ce(n,0),i=this.Rs.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,I.resolve()}Ss(t,n){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const n=this.bs(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.Ds=t,this.docs=new ut(B.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(t,n){let r=jl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Lt.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=jl();const o=n.path,a=new B(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||HI(VI(c),r)<=0||(i.has(c.key)||op(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(t,n,r,i){H()}Cs(t,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new tN(this)}getSize(t){return I.resolve(this.size)}}class tN extends Q4{constructor(t){super(),this.os=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(t,i)):this.os.removeEntry(r)}),I.waitFor(n)}getFromCache(t,n){return this.os.getEntry(t,n)}getAllFromCache(t,n){return this.os.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.persistence=t,this.xs=new qi(n=>ip(n),sp),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Ns=0,this.ks=new lp,this.targetCount=0,this.Ms=Li.kn()}forEachTarget(t,n){return this.xs.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(t){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return I.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),I.resolve()}Fn(t){this.xs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ms=new Li(n),this.highestTargetId=n),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,n){return this.Fn(n),this.targetCount+=1,I.resolve()}updateTargetData(t,n){return this.Fn(n),I.resolve()}removeTargetData(t,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(t){return I.resolve(this.targetCount)}getTargetData(t,n){const r=this.xs.get(n)||null;return I.resolve(r)}addMatchingKeys(t,n,r){return this.ks.gs(n,r),I.resolve()}removeMatchingKeys(t,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ks.Is(n),I.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ks.Es(n);return I.resolve(r)}containsKey(t,n){return I.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t,n){this.$s={},this.overlays={},this.Os=new Rw(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new nN(this),this.indexManager=new G4,this.remoteDocumentCache=function(r){return new eN(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new H4(n),this.qs=new X4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new J4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.$s[t.toKey()];return r||(r=new Z4(n,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,n,r){O("MemoryPersistence","Starting transaction:",t);const i=new iN(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(t,n){return I.or(Object.values(this.$s).map(r=>()=>r.containsKey(t,n)))}}class iN extends GI{constructor(t){super(),this.currentSequenceNumber=t}}class up{constructor(t){this.persistence=t,this.Qs=new lp,this.js=null}static zs(t){return new up(t)}get Ws(){if(this.js)return this.js;throw H()}addReference(t,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),I.resolve()}removeReference(t,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),I.resolve()}markPotentiallyOrphaned(t,n){return this.Ws.add(n.toString()),I.resolve()}removeTarget(t,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Us(){this.js=new Set}Ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Ws,r=>{const i=B.fromPath(r);return this.Hs(t,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.js=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hs(t,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(t){return 0}Hs(t,n){return I.or([()=>I.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gs(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(t,n){let r=We(),i=We();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cp(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.qi=!1}initialize(t,n){this.Ui=t,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ki(t,n).next(s=>s||this.Gi(t,n,i,r)).next(s=>s||this.Qi(t,n))}Ki(t,n){if(zg(n))return I.resolve(null);let r=ji(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ed(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=We(...s);return this.Ui.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(t,Ed(n,null,"F")):this.Wi(t,u,n,l)}))})))}Gi(t,n,r,i){return zg(n)||i.isEqual(ue.min())?this.Qi(t,n):this.Ui.getDocuments(t,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(t,n):(Og()<=Q.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bg(n)),this.Wi(t,o,n,BI(i,-1)))})}ji(t,n){let r=new et(f4(t));return n.forEach((i,s)=>{op(t,s)&&(r=r.add(s))}),r}zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(t,n){return Og()<=Q.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Bg(n)),this.Ui.getDocumentsMatchingQuery(t,n,Qn.min())}Wi(t,n,r,i){return this.Ui.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t,n,r,i){this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new ut(Z),this.Yi=new qi(s=>ip(s),sp),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Y4(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function aN(e,t,n,r){return new oN(e,t,n,r)}async function iS(e,t){const n=se(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=We();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function lN(e,t){const n=se(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=I.resolve();return h.forEach(g=>{d=d.next(()=>u.getEntry(a,g)).next(w=>{const y=l.docVersions.get(g);De(y!==null),w.version.compareTo(y)<0&&(c.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),u.addEntry(w)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=We();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function uN(e){const t=se(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Bs.getLastRemoteSnapshotVersion(n))}function cN(e,t){const n=se(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}class Qg{constructor(){this.activeTargetIds=w4()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hN{constructor(){this.Hr=new Qg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,n,r){this.Jr[t]=n}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new Qg,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa=null;function Lc(){return Sa===null?Sa=268435456+Math.round(2147483648*Math.random()):Sa++,"0x"+Sa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be="WebChannelConnection";class mN extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,n,r,i,s){const o=Lc(),a=this.To(t,n);O("RestConnection",`Sending RPC '${t}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(t,a,l,r).then(u=>(O("RestConnection",`Received RPC '${t}' ${o}: `,u),u),u=>{throw Dl("RestConnection",`RPC '${t}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(t,n,r,i,s,o){return this.Io(t,n,r,i,s)}Eo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ki,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}To(t,n){const r=fN[t];return`${this.mo}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,n,r,i){const s=Lc();return new Promise((o,a)=>{const l=new DI;l.setWithCredentials(!0),l.listenOnce(II.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jc.NO_ERROR:const c=l.getResponseJson();O(Be,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case jc.TIMEOUT:O(Be,`RPC '${t}' ${s} timed out`),a(new L(A.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const h=l.getStatus();if(O(Be,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const w=function(y){const E=y.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(E)>=0?E:A.UNKNOWN}(g.status);a(new L(w,g.message))}else a(new L(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(A.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{O(Be,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);O(Be,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(t,n,r){const i=Lc(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=AI(),a=_I(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new $I({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");O(Be,`Creating RPC '${t}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,g=!1;const w=new pN({ro:E=>{g?O(Be,`Not sending because RPC '${t}' stream ${i} is closed:`,E):(d||(O(Be,`Opening RPC '${t}' stream ${i} transport.`),h.open(),d=!0),O(Be,`RPC '${t}' stream ${i} sending:`,E),h.send(E))},oo:()=>h.close()}),y=(E,v,p)=>{E.listen(v,m=>{try{p(m)}catch(S){setTimeout(()=>{throw S},0)}})};return y(h,ga.EventType.OPEN,()=>{g||O(Be,`RPC '${t}' stream ${i} transport opened.`)}),y(h,ga.EventType.CLOSE,()=>{g||(g=!0,O(Be,`RPC '${t}' stream ${i} transport closed`),w.wo())}),y(h,ga.EventType.ERROR,E=>{g||(g=!0,Dl(Be,`RPC '${t}' stream ${i} transport errored:`,E),w.wo(new L(A.UNAVAILABLE,"The operation could not be completed")))}),y(h,ga.EventType.MESSAGE,E=>{var v;if(!g){const p=E.data[0];De(!!p);const m=p,S=m.error||((v=m[0])===null||v===void 0?void 0:v.error);if(S){O(Be,`RPC '${t}' stream ${i} received error:`,S);const k=S.status;let _=function(P){const R=ge[P];if(R!==void 0)return D4(R)}(k),C=S.message;_===void 0&&(_=A.INTERNAL,C="Unknown error status: "+k+" with message "+S.message),g=!0,w.wo(new L(_,C)),h.close()}else O(Be,`RPC '${t}' stream ${i} received:`,p),w._o(p)}}),y(a,NI.STAT_EVENT,E=>{E.stat===Pg.PROXY?O(Be,`RPC '${t}' stream ${i} detected buffering proxy`):E.stat===Pg.NOPROXY&&O(Be,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}}function bc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e){return new P4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,n,r=1e3,i=1.5,s=6e4){this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,n,r,i,s,o,a,l){this.ii=t,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sS(t,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{t(()=>{const i=new L(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(t,n){const r=this.Xo(this.Fo);this.stream=this.eu(t,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return O("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.Fo===t?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yN extends gN{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,n){return this.connection.Ro("Write",t,n)}onMessage(t){if(De(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const n=U4(t.writeResults,t.commitTime),r=vi(t.commitTime);return this.listener.cu(r,n)}return De(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=L4(this.serializer),this.Wo(t)}uu(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>F4(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new L(A.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(A.UNKNOWN,i.toString())})}vo(t,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(A.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class wN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Mr(n),this.mu=!1):O("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Uo(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=se(a);l.vu.add(4),await Fo(l),l.bu.set("Unknown"),l.vu.delete(4),await Ou(l)}(this))})}),this.bu=new wN(r,i)}}async function Ou(e){if(Uo(e))for(const t of e.Ru)await t(!0)}async function Fo(e){for(const t of e.Ru)await t(!1)}function Uo(e){return se(e).vu.size===0}async function oS(e,t,n){if(!Iu(t))throw t;e.vu.add(1),await Fo(e),e.bu.set("Offline"),n||(n=()=>uN(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{O("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Ou(e)})}function aS(e,t){return t().catch(n=>oS(e,n,t))}async function Mu(e){const t=se(e),n=Yn(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;EN(t);)try{const i=await cN(t.localStore,r);if(i===null){t.Eu.length===0&&n.jo();break}r=i.batchId,xN(t,i)}catch(i){await oS(t,i)}lS(t)&&uS(t)}function EN(e){return Uo(e)&&e.Eu.length<10}function xN(e,t){e.Eu.push(t);const n=Yn(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function lS(e){return Uo(e)&&!Yn(e).Uo()&&e.Eu.length>0}function uS(e){Yn(e).start()}async function CN(e){Yn(e).hu()}async function kN(e){const t=Yn(e);for(const n of e.Eu)t.uu(n.mutations)}async function TN(e,t,n){const r=e.Eu.shift(),i=ap.from(r,t,n);await aS(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Mu(e)}async function AN(e,t){t&&Yn(e).ou&&await async function(n,r){if(i=r.code,$4(i)&&i!==A.ABORTED){const s=n.Eu.shift();Yn(n).Qo(),await aS(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Mu(n)}var i}(e,t),lS(e)&&uS(e)}async function Yg(e,t){const n=se(e);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=Uo(n);n.vu.add(3),await Fo(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Ou(n)}async function _N(e,t){const n=se(e);t?(n.vu.delete(2),await Ou(n)):t||(n.vu.add(2),await Fo(n),n.bu.set("Unknown"))}function Yn(e){return e.Du||(e.Du=function(t,n,r){const i=se(t);return i.fu(),new yN(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:CN.bind(null,e),ao:AN.bind(null,e),au:kN.bind(null,e),cu:TN.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Mu(e)):(await e.Du.stop(),e.Eu.length>0&&(O("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new hp(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(A.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cS(e,t){if(Mr("AsyncQueue",`${t}: ${e}`),Iu(e))return new L(A.UNAVAILABLE,`${t}: ${e}`);throw e}class IN{constructor(){this.queries=new qi(t=>Hw(t),Vw),this.onlineState="Unknown",this.ku=new Set}}function NN(e){e.ku.forEach(t=>{t.next()})}class $N{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new qi(a=>Hw(a),Vw),this._c=new Map,this.mc=new Set,this.gc=new ut(B.comparator),this.yc=new Map,this.Ic=new lp,this.Tc={},this.Ec=new Map,this.Ac=Li.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function DN(e,t,n){const r=MN(e);try{const i=await function(s,o){const a=se(s),l=Ne.now(),u=o.reduce((d,g)=>d.add(g.key),We());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=jl(),w=We();return a.Zi.getEntries(d,u).next(y=>{g=y,g.forEach((E,v)=>{v.isValidDocument()||(w=w.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,g)).next(y=>{c=y;const E=[];for(const v of o){const p=A4(v,c.get(v.key).overlayedDocument);p!=null&&E.push(new rr(v.key,p,jw(p.value.mapValue),gt.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,E,o)}).next(y=>{h=y;const E=y.applyToLocalDocumentSet(c,w);return a.documentOverlayCache.saveOverlays(d,y.batchId,E)})}).then(()=>({batchId:h.batchId,changes:Gw(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new ut(Z)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await ju(r,i.changes),await Mu(r.remoteStore)}catch(i){const s=cS(i,"Failed to persist write");n.reject(s)}}function Xg(e,t,n){const r=se(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=se(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Mu(o)&&(l=!0)}),l&&NN(a)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function PN(e,t){const n=se(e),r=t.batch.batchId;try{const i=await lN(n.localStore,t);dS(n,r,null),hS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ju(n,i)}catch(i){await Pw(i)}}async function RN(e,t,n){const r=se(e);try{const i=await function(s,o){const a=se(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(De(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,t);dS(r,t,n),hS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ju(r,i)}catch(i){await Pw(i)}}function hS(e,t){(e.Ec.get(t)||[]).forEach(n=>{n.resolve()}),e.Ec.delete(t)}function dS(e,t,n){const r=se(e);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}async function ju(e,t,n){const r=se(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=cp.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=se(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>I.forEach(l,h=>I.forEach(h.Fi,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>I.forEach(h.Bi,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!Iu(c))throw c;O("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.Ji.get(h),g=d.snapshotVersion,w=d.withLastLimboFreeSnapshotVersion(g);u.Ji=u.Ji.insert(h,w)}}}(r.localStore,s))}async function ON(e,t){const n=se(e);if(!n.currentUser.isEqual(t)){O("SyncEngine","User change. New user:",t.toKey());const r=await iS(n.localStore,t);n.currentUser=t,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new L(A.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ju(n,r.er)}}function MN(e){const t=se(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RN.bind(null,t),t}class Jg{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Ru(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return aN(this.persistence,new sN,t.initialUser,this.serializer)}createPersistence(t){return new rN(up.zs,this.serializer)}createSharedClientState(t){return new hN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class jN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ON.bind(null,this.syncEngine),await _N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new IN}createDatastore(t){const n=Ru(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new mN(i));var i;return function(s,o,a,l){return new vN(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>Xg(this.syncEngine,a,0),o=qg.D()?new qg:new dN,new SN(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,l,u){const c=new $N(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=se(t);O("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Fo(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ve.UNAUTHENTICATED,this.clientId=Dw.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{O("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(O("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=cS(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Fc(e,t){e.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iS(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Zg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await FN(e);O("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Yg(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Yg(t.remoteStore,s)),e._onlineComponents=t}function bN(e){return e.name==="FirebaseError"?e.code===A.FAILED_PRECONDITION||e.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function FN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bN(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await Fc(e,new Jg)}}else O("FirestoreClient","Using default OfflineComponentProvider"),await Fc(e,new Jg);return e._offlineComponents}async function UN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),await Zg(e,e._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),await Zg(e,new jN))),e._onlineComponents}function zN(e){return UN(e).then(t=>t.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(e,t,n){if(!n)throw new L(A.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function VN(e,t,n,r){if(t===!0&&r===!0)throw new L(A.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ty(e){if(!B.isDocumentKey(e))throw new L(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function dp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":H()}function yo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dp(e);throw new L(A.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new L(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new L(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}VN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fS((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new L(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new L(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new L(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=t.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var n,r}}class fp{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ny({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new L(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ny(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new RI;switch(n.type){case"firstParty":return new LI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new L(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=ey.get(t);n&&(O("ComponentProvider","Removing Datastore"),ey.delete(t),n.terminate())}(this),Promise.resolve()}}function HN(e,t,n,r={}){var i;const s=(e=yo(e,fp))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ve.MOCK_USER;else{a=cA(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new L(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ve(u)}e._authCredentials=new OI(new $w(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}}class pp{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new pp(this.firestore,t,this._query)}}class vo extends pp{constructor(t,n,r){super(t,n,u4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new B(t))}withConverter(t){return new vo(this.firestore,t,this._path)}}function WN(e,t,...n){if(e=Kn(e),arguments.length===1&&(t=Dw.A()),BN("doc","path",t),e instanceof fp){const r=ve.fromString(t,...n);return ty(r),new hn(e,null,new B(r))}{if(!(e instanceof hn||e instanceof vo))throw new L(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ve.fromString(t,...n));return ty(r),new hn(e.firestore,e instanceof vo?e.converter:null,new B(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sS(this,"async_queue_retry"),this.Xc=()=>{const n=bc();n&&O("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const t=bc();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const n=bc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ar;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!Iu(t))throw t;O("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const n=this.Gc.then(()=>(this.Hc=!0,t().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(t,n,r){this.Zc(),this.Yc.indexOf(t)>-1&&(n=0);const i=hp.createAndSchedule(this,t,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&H()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const n of this.zc)if(n.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const n=this.zc.indexOf(t);this.zc.splice(n,1)}}class Lu extends fp{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new GN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mS(this),this._firestoreClient.terminate()}}function KN(e,t){const n=typeof e=="object"?e:p_(),r=typeof e=="string"?e:t||"(default)",i=c_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lA("firestore");s&&HN(i,...s)}return i}function pS(e){return e._firestoreClient||mS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mS(e){var t,n,r;const i=e._freezeSettings(),s=function(o,a,l,u){return new YI(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,fS(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new LN(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new wo(vn.fromBase64String(t))}catch(n){throw new L(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new wo(vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new L(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new L(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new L(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Z(this._lat,t._lat)||Z(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^__.*__$/;class qN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new rr(t,this.data,this.fieldMask,n,this.fieldTransforms):new bo(t,this.data,n,this.fieldTransforms)}}class yS{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new rr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function vS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class yp{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new yp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.fa(t),i}da(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.ua(),i}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Fl(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(vS(this.ca)&&QN.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class YN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ru(t)}ya(t,n,r,i=!1){return new yp({ca:t,methodName:n,ga:r,path:Ge.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wS(e){const t=e._freezeSettings(),n=Ru(e._databaseId);return new YN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function SS(e,t,n,r,i,s={}){const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);vp("Data must be an object, but it was:",o,r);const a=ES(r,o);let l,u;if(s.merge)l=new pt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=kd(t,h,n);if(!o.contains(d))throw new L(A.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);kS(c,d)||c.push(d)}l=new pt(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new qN(new dt(a),l,u)}class bu extends gp{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bu}}function XN(e,t,n,r){const i=e.ya(1,t,n);vp("Data must be an object, but it was:",i,r);const s=[],o=dt.empty();Qi(r,(l,u)=>{const c=CS(t,l,n);u=Kn(u);const h=i.da(c);if(u instanceof bu)s.push(c);else{const d=Fu(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new pt(s);return new yS(o,a,i.fieldTransforms)}function JN(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[kd(t,r,n)],l=[i];if(s.length%2!=0)throw new L(A.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(kd(t,s[d])),l.push(s[d+1]);const u=[],c=dt.empty();for(let d=a.length-1;d>=0;--d)if(!kS(u,a[d])){const g=a[d];let w=l[d];w=Kn(w);const y=o.da(g);if(w instanceof bu)u.push(g);else{const E=Fu(w,y);E!=null&&(u.push(g),c.set(g,E))}}const h=new pt(u);return new yS(c,h,o.fieldTransforms)}function Fu(e,t){if(xS(e=Kn(e)))return vp("Unsupported field value:",t,e),ES(e,t);if(e instanceof gp)return function(n,r){if(!vS(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Fu(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Kn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return S4(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ne.fromDate(n);return{timestampValue:xd(r.serializer,i)}}if(n instanceof Ne){const i=new Ne(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xd(r.serializer,i)}}if(n instanceof gS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wo)return{bytesValue:R4(r.serializer,n._byteString)};if(n instanceof hn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${dp(n)}`)}(e,t)}function ES(e,t){const n={};return Ow(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qi(e,(r,i)=>{const s=Fu(i,t.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xS(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ne||e instanceof gS||e instanceof wo||e instanceof hn||e instanceof gp)}function vp(e,t,n){if(!xS(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=dp(n);throw r==="an object"?t._a(e+" a custom object"):t._a(e+" "+r)}}function kd(e,t,n){if((t=Kn(t))instanceof mp)return t._internalPath;if(typeof t=="string")return CS(e,t);throw Fl("Field path arguments must be of type string or ",e,!1,void 0,n)}const ZN=new RegExp("[~\\*/\\[\\]]");function CS(e,t,n){if(t.search(ZN)>=0)throw Fl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new mp(...t.split("."))._internalPath}catch{throw Fl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Fl(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new L(A.INVALID_ARGUMENT,a+e+l)}function kS(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function e$(e,t,n){e=yo(e,hn);const r=yo(e.firestore,Lu),i=TS(e.converter,t,n);return wp(r,[SS(wS(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,gt.none())])}function t$(e){return wp(yo(e.firestore,Lu),[new Pu(e._key,gt.none())])}function wp(e,t){return function(n,r){const i=new Ar;return n.asyncQueue.enqueueAndForget(async()=>DN(await zN(n),r,i)),i.promise}(pS(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wS(t)}set(t,n,r){this._verifyNotCommitted();const i=Uc(t,this._firestore),s=TS(i.converter,n,r),o=SS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,gt.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=Uc(t,this._firestore);let o;return o=typeof(n=Kn(n))=="string"||n instanceof mp?JN(this._dataReader,"WriteBatch.update",s._key,n,r,i):XN(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,gt.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Uc(t,this._firestore);return this._mutations=this._mutations.concat(new Pu(n._key,gt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uc(e,t){if((e=Kn(e)).firestore!==t)throw new L(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(e){return pS(e=yo(e,Lu)),new n$(e,t=>wp(e,t))}(function(e,t=!0){(function(n){Ki=n})(f_),Cl(new to("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Lu(new MI(n.getProvider("auth-internal")),new FI(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new L(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),mi(Rg,"3.13.0",e),mi(Rg,"3.13.0","esm2017")})();class i${constructor({config:t}){U(this,"expenseCollection");U(this,"app");U(this,"db");this.expenseCollection="expenses",this.app=T1(t),this.db=KN(this.app)}async addExpense(t){console.debug("FirestoreClient.addExpense::",t);const n=this.getExpenseDocRef(t.id);await e$(n,t),console.debug("FirestoreClient.addExpense::completed without error")}async deleteExpense(t){console.debug("FirestoreClient.deleteExpense::expenseId=",t);const n=this.getExpenseDocRef(t);await t$(n),console.debug("FirestoreClient.deleteExpense:: completed without error")}async setAll(t){const n=r$(this.db);t.map(s$).forEach(r=>{const i=this.getExpenseDocRef(r.id);n.set(i,r)}),await n.commit()}getExpenseDocRef(t){return WN(this.db,this.expenseCollection,t)}}function s$(e){return Object.entries(e).filter(([t,n])=>n!==void 0).reduce((t,[n,r])=>(t[n]=r,t),{})}function ry(e){const t=JSON.stringify(e,null,2);return new Blob([t],{type:"application/json"})}const o$=wt.div`
  padding: 1rem 0;
`;function a$(e,t){const n=URL.createObjectURL(e),r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="blob",r.onload=function(i){if(this.status===200){const s=this.response,o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=t,o.click()}else{const s=[`Status 200 expected but got ${this.status} instead. No idea what happened`,`here:
`,`
`,`blob=${e.text()}
`,`
`,`filename=${t}
`,`
`,`fileUrl=${n}
`,`
`].join("");throw new Error(s)}},r.send()}function iy(){return navigator.share===void 0}function l$(){return new Date().toISOString().slice(0,19).replaceAll(":","").replaceAll("-","").replace("T","-")}function u$({expenses:e,app:t}){const[n,r]=x.useState(!1),s=`expenses-form-${l$()}.json`,o=iy()===!1;function a(){const h=ry(e);a$(h,s)}function l(){const h=ry(e),d=new File([h],s,{type:"text/csv"});if(iy()){alert("Your device is not compatible with the Web Share API, sorry :)");return}const g={title:"fitness-tracker CSV",files:[d]};if(!navigator.canShare(g)){alert("You cannot share the CSV for some reason, sorry :)");return}navigator.share(g).then(()=>alert("all good")).catch(y=>{alert(y)})}function u(h){const d=t.paymentAccountsManager.get({id:h.paid_with});if(d===void 0)throw dn(`failed to clean Expense because Account ID ${h.paid_with} was not found`);const g={id:h.id,amount:h.amount,currency:h.currency,description:h.description,datetime:h.datetime,paid_with:d.ledgerName,shared:h.shared,pending:h.pending};return h.originalAmount===void 0?g:{...g,originalAmount:h.originalAmount,originalCurrency:h.originalCurrency}}function c(){const h=e.map(u),d=ae.firestoreConfig.read();if(d===void 0){alert("Please, set up Firestore config in settings");return}const g=new i$({config:d});r(!0),g.setAll(h).then(()=>{r(!1)}).catch(w=>{Os.add({header:"Failed to push all expenses to Firestore",description:w})})}return f.jsxs(o$,{children:[f.jsx(_e,{text:"Download CSV",onClick:()=>a()}),f.jsx(_e,{text:"Share CSV",onClick:()=>l(),disabled:o===!1}),f.jsx(_e,{text:"Push to Firestore",onClick:()=>c(),disabled:n,icon:n?"rotate":void 0})]})}function c$({app:e}){const t=du(),[n,r]=x.useState([]),[i,s]=x.useState();x.useEffect(()=>{const h=e.expenseManager.change$.subscribe(d=>{s(e.paymentAccountsManager.getDefault()),r(e.expenseManager.getAll())});return s(e.paymentAccountsManager.getDefault()),r(e.expenseManager.getAll()),()=>{h.unsubscribe()}},[e]);function o(h){t(kt.expenseEditor.replace(":expenseId",h))}function a(){e.expenseManager.change$.pipe(Ax()).subscribe(g=>{o(g.expenseId)});const h=e.paymentAccountsManager.getDefault();if(h===void 0)throw dn("No default account found");const d={datetime:h1(wl()),amount:void 0,originalAmount:void 0,currency:h.currency,originalCurrency:void 0,description:"",shared:!1,pending:!0,paid_with:h.id};e.expenseManager.add(d)}function l(){window.location.reload(!0)}const u=i!==void 0,c=n.filter(h=>h.readyToPublish).map(h=>h.expense);return f.jsxs(_r,{children:[f.jsx(_e,{text:"reload PWA",icon:"rotate",onClick:l}),u?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex justify-center items-center p-4",role:"warning",children:f.jsx("div",{children:"Add expense or select an existing one"})}),f.jsx(_e,{text:"Add expense",onClick:a})]}):f.jsx("div",{className:"flex justify-center p-4",role:"warning",children:f.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[f.jsxs("div",{children:["Must  ",f.jsx("b",{children:"select a default account"}),'  in "Accounts" page to add an expense.']}),f.jsx(Hk,{to:kt.paymentAccounts,children:f.jsx(_e,{text:"Go to Accounts"})})]})}),c.length>0&&f.jsx(u$,{expenses:c,app:e}),f.jsx("div",{className:"mt-4",children:f.jsx(JT,{expenses:n,underEdition:void 0,onEditExpense:o,onDelete:h=>e.expenseManager.delete(h),app:e})})]})}const h$=wt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  row-gap: 3.5rem;
  height: 100vh;
`,d$=wt.span`
  font-size: 8rem;
  font-weight: 100;
  color: #aaa;
`,f$=wt.p`
  margin-top: 1.5rem;
`;function p$(){return f.jsx(_r,{children:f.jsxs(h$,{children:[f.jsx("h1",{children:"Ooops...!"}),f.jsx(d$,{children:"404"}),f.jsx(f$,{children:"Page not found"})]})})}function m$({currencies:e,onAddPaymentAccount:t}){const[n,r]=x.useState(void 0),[i,s]=x.useState(void 0),[o,a]=x.useState(void 0);function l(){n===void 0||i===void 0||o===void 0||t({name:n,ledgerName:i,currency:o})}const u=n!==void 0&&i!==void 0;return f.jsxs("div",{className:"flex flex-col gap-3 ",children:[f.jsx(Tt,{htmlFor:"new-account-name",text:"Account name: *",children:f.jsx(bt,{id:"new-account-name",value:n,placeholder:"Name",onChange:r,className:"mt-1"})}),f.jsx(Tt,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:f.jsx(bt,{id:"new-account-ledger-name",value:i,placeholder:"Ledger name",onChange:s,className:"mt-1"})}),f.jsx(Tt,{htmlFor:"new-account-currency",text:"Account currency:",children:f.jsx(Bn,{id:"new-account-currency",selected:o,options:e.map(c=>({id:c,label:c})),onSelect:a,className:"mt-1"})}),f.jsx("div",{className:"flex justify-end p-4",children:f.jsx(_e,{text:u?"Create":"fill details above",onClick:l,disabled:!u})})]})}function g$({account:e,currencies:t,onUpdate:n}){const[r,i]=x.useState(e.name),[s,o]=x.useState(e.ledgerName),[a,l]=x.useState(e.currency),u=r===e.name&&s===e.ledgerName&&a===e.currency;function c(){r===void 0||s===void 0||a===void 0||u||n({...e,name:r,ledgerName:s,currency:a})}const h=r!==void 0&&s!==void 0;return f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx(Tt,{htmlFor:"new-account-name",text:"Account name: *",children:f.jsx(bt,{id:"new-account-name",value:r,placeholder:"Name",onChange:i,className:"mt-1"})}),f.jsx(Tt,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:f.jsx(bt,{id:"new-account-ledger-name",value:s,placeholder:"Ledger name",onChange:o,className:"mt-1"})}),f.jsx(Tt,{htmlFor:"new-account-currency",text:"Account currency:",children:f.jsx(Bn,{id:"new-account-currency",selected:a,options:t.map(d=>({id:d,label:d})),onSelect:l,className:"mt-1"})}),f.jsx("div",{className:"flex justify-end m-3",children:f.jsx(_e,{onClick:c,disabled:!h||u,text:h?"Save":"'name' and 'ledger name' must not be empty"})})]})}function y$({account:e,isDefault:t,currencies:n,onUpdate:r,onDelete:i,onMarkAsDefault:s}){const[o,a]=x.useState(!1);let l="px-4 py-3 rounded relative";if(t&&o)l+=" bg-blue-200  dark:bg-blue-900 dark:bg-opacity-50";else if(t&&!o)l+=" bg-blue-200  dark:bg-blue-900";else if(!t&&!o)l+=" bg-gray-100  dark:bg-gray-700";else if(!t&&o)l+=" bg-gray-300  dark:bg-gray-900";else throw dn();if(o===!1){const{name:c,ledgerName:h}=e;return f.jsxs("div",{role:"payment-account",className:l,onClick:()=>a(!0),children:[t&&f.jsx("div",{className:"absolute top-2 right-3 text-xs flex justify-end z-10 opacity-50",role:"default-payment-account-indicator",children:"default"}),f.jsx("div",{children:f.jsx("b",{children:c})}),f.jsx("div",{children:h})]})}function u(){i(e.id)}return f.jsxs("div",{role:"payment-account",className:l,children:[f.jsx(g$,{account:e,currencies:n,onUpdate:r}),f.jsx(_e,{text:"Delete",onClick:u}),f.jsx(_e,{text:"Close",onClick:()=>a(!1)}),f.jsx(_e,{text:t?"is default payment method":"Mark as default",onClick:s,disabled:t})]})}function v$({app:e}){const[t,n]=x.useState([]),[r,i]=x.useState(),[s,o]=x.useState([]);x.useEffect(()=>{var w;const d=e.paymentAccountsManager.change$.subscribe(y=>{var E;n(e.paymentAccountsManager.getAll()),i((E=e.paymentAccountsManager.getDefault())==null?void 0:E.id)}),g=e.currencyManager.change$.subscribe(y=>{o([...e.currencyManager.getAll()].sort())});return n(e.paymentAccountsManager.getAll()),i((w=e.paymentAccountsManager.getDefault())==null?void 0:w.id),o([...e.currencyManager.getAll()].sort()),()=>{d.unsubscribe(),g.unsubscribe()}},[e]);function a(d){e.paymentAccountsManager.add({draft:d})}function l(d){e.paymentAccountsManager.update({account:d})}function u(d){e.paymentAccountsManager.delete({id:d})}function c(d){e.paymentAccountsManager.setDefault({id:d})}const h=s.length>0;return f.jsx(_r,{children:h?f.jsxs(f.Fragment,{children:[f.jsx(m$,{currencies:s,onAddPaymentAccount:a}),r===void 0&&t.length>0&&f.jsx("div",{role:"warning",className:"p-4 flex justify-center",children:f.jsx("p",{children:f.jsx("b",{children:"please, select your default payment account"})})}),f.jsx("div",{className:"flex flex-col gap-3",role:"payment-accounts",children:t.length>0?t.map((d,g)=>f.jsx(y$,{account:d,isDefault:d.id===r,currencies:s,onUpdate:l,onDelete:u,onMarkAsDefault:()=>c(d.id)},`${g}-${d.id}`)):f.jsx("p",{children:"No payment accounts :)"})})]}):f.jsx("div",{children:"You must add currencies in the Settings page to be able to add Payment Accounts here"})})}function sy(e){return e.join(",")}function oy(e){const t=e.split(",").filter(r=>r!=="").map(r=>`"${r}"`).join(",");return JSON.parse(`[${t}]`)}function w$(){const[e,t]=x.useState(void 0),[n,r]=x.useState(void 0),[i,s]=x.useState(void 0),[o,a]=x.useState(void 0),[l,u]=x.useState();x.useEffect(()=>{if(ae.splitwiseApiToken.exists()&&t(ae.splitwiseApiToken.read()),ae.tripTags.exists()&&r(sy(ae.tripTags.read())),ae.people.exists()&&s(sy(ae.people.read())),ae.firestoreConfig.exists()){const y=ae.firestoreConfig.read();a(JSON.stringify(y))}ae.currencies.exists()&&u(ae.currencies.read())},[]);function c(y){if(y===void 0||y===""){t(void 0),ae.splitwiseApiToken.delete();return}t(y),ae.splitwiseApiToken.set(y)}function h(y){if(y===void 0||y===""){r(void 0),ae.tripTags.delete();return}r(y);const E=oy(y);ae.tripTags.set(E)}function d(y){if(y===void 0||y===""){s(void 0),ae.people.delete();return}s(y.replaceAll(",,",",").trim());const E=oy(y);ae.people.set(E)}function g(y){if(y===void 0||y===""){a(void 0),ae.firestoreConfig.delete();return}a(y);const E=JSON.parse(y);ae.firestoreConfig.set(E)}function w(y){if(y===void 0||y===""){u(void 0),ae.currencies.delete();return}u(y),ae.currencies.set(y)}return f.jsx(_r,{children:f.jsxs("div",{className:"px-3 flex flex-col gap-4",children:[f.jsx(Tt,{htmlFor:"splitwise-api-token",text:"Splitwise API token",children:f.jsx(bt,{id:"splitwise-api-token",value:e,placeholder:"Splitwise API token",onChange:c,className:"mt-1"})}),f.jsx(Tt,{htmlFor:"trip-tags",text:"Trip tags",children:f.jsx(bt,{id:"trip-tags",value:n,placeholder:"trip tags",onChange:h,className:"mt-1"})}),f.jsx(Tt,{htmlFor:"people",text:"People",children:f.jsx(bt,{id:"people",value:i,placeholder:"JohnDoe,JaneDoe",onChange:d,className:"mt-1"})}),f.jsx(Tt,{htmlFor:"firestore-config",text:"Firestore config",children:f.jsx(bt,{id:"firestore-config",value:o,placeholder:'{"a":1,"b":2}',onChange:g,isCode:!0,className:"mt-1"})}),f.jsx(Tt,{htmlFor:"currencies",text:"Currencies",children:f.jsx(bt,{id:"currencies",value:l,placeholder:"GBP,EUR,USD",onChange:w,className:"mt-1"})})]})})}const S$="50px",E$=wt.div`
  height: calc(100vh - ${S$});
  overflow-y: scroll;
`;function x$({app:e}){const[t,n]=x.useState(!0),[r,i]=x.useState(nh);x.useEffect(()=>{e.initialize(),n(!1)},[e]);const s="bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-200";return t?f.jsx(Ko.Parent,{className:nh,children:f.jsx(Ko.ContentFullyCentered,{className:s,children:f.jsx(_r,{children:f.jsx("div",{className:"flex flex-row justify-center",children:"Loading data..."})})})}):f.jsx(Jy.Provider,{value:{theme:r,setTheme:i},children:f.jsx(zk,{basename:qk,children:f.jsx(Ko.Parent,{className:r,children:f.jsxs(Ko.Content,{className:s,children:[f.jsx(Px,{}),f.jsx(Gk,{}),f.jsx(E$,{children:f.jsxs(Ok,{children:[f.jsx(Gr,{path:kt.root,element:f.jsx(c$,{app:e})}),f.jsx(Gr,{path:kt.expenseEditor,element:f.jsx(FT,{app:e})}),f.jsx(Gr,{path:kt.paymentAccounts,element:f.jsx(v$,{app:e})}),f.jsx(Gr,{path:kt.settings,element:f.jsx(w$,{})}),f.jsx(Gr,{path:kt.notFound,element:f.jsx(p$,{})})]})})]})})})})}class C${constructor({expenseManager:t,paymentAccountsManager:n,browserStorage:r,currencyManager:i}){U(this,"expenseManager");U(this,"paymentAccountsManager");U(this,"currencyManager");U(this,"initialized",!1);U(this,"browserStorage");this.expenseManager=t,this.paymentAccountsManager=n,this.browserStorage=r,this.currencyManager=i,this.paymentAccountsManager.change$.subscribe(s=>this.handlePaymentAccountChange(s))}initialize(){if(console.debug("App.initialize::started"),this.initialized)console.debug("App.initialize::already initialized");else{const t=this.browserStorage.readExpenses();this.expenseManager.initialize({appExpenses:t});const n=this.browserStorage.readCurrencies(),r=this.browserStorage.readPaymentAccounts();this.currencyManager.initialize({currencies:[...n,...r.map(i=>i.currency)]}),this.paymentAccountsManager.initialize({accounts:r,defaultAccountId:this.browserStorage.readDefaultAccountId()}),this.initialized=!0}console.debug("App.initialize::completed")}handlePaymentAccountChange(t){switch(t.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return;case"PaymentAccountUpdated":return;case"PaymentAccountDeleted":return;case"DefaultPaymentAccountSet":return this.handleDefaultPaymentAccountChange(t.id);default:Xy(t,`unsupported PaymentAccountChange: ${t}`)}}handleDefaultPaymentAccountChange(t){this.browserStorage.setDefaultAccountId({id:t})}}var AS,ay=BC;AS=ay.createRoot,ay.hydrateRoot;var _S=(e=>(e.local="local",e.pushed="pushed",e.changedSincePushed="changedSincePushed",e))(_S||{});class Sp{constructor(){U(this,"change$");U(this,"changeSubject");U(this,"expenses");this.changeSubject=new xo,this.change$=this.changeSubject.asObservable(),this.expenses=new Map}add(t){console.debug("ExpenseManager.add::newExpense:",t);const n=this.generateId(),i={expense:{id:n,...t},status:"local",readyToPublish:!1};this.expenses.set(n,i),this.changeSubject.next(new IS(n))}get(t){const n=this.expenses.get(t);if(n===void 0)throw new Error(`Expected a ${t} Expense ID in ${Sp.name}, but not found`);return n}getAll(){console.debug("ExpenseManager.getAll()");const t=[];for(const n of this.expenses.values())t.push(n);return t.sort((n,r)=>n.expense.datetime<r.expense.datetime?eo.SwapOrder:eo.KeepOrder)}update(t){console.debug("ExpenseManager.update::expense:",t);const{id:n}=t,r=this.expenses.get(n);if(r===void 0)throw new Error(`Expected an Expense with ID ${n}, but none found.`);const i={...r,expense:t,readyToPublish:k$(t)};this.expenses.set(n,i),this.changeSubject.next(new NS(n))}delete(t){console.debug(`ExpenseManager.delete::id=${t}`),this.expenses.delete(t),this.changeSubject.next(new $S(t))}initialize({appExpenses:t}){console.debug("ExpenseManager.initialize::Starting initialization...");const n=new Set;t.forEach(r=>{const i=r.expense.id;if(n.has(i))throw new Error(`IDs must be unique, and ${i} is repeated`);n.add(i),this.expenses.set(i,r)}),console.debug("ExpenseManager.initialize::Run to completion")}generateId(){return m1("exp")}}class IS{constructor(t){this.expenseId=t}}class NS{constructor(t){this.expenseId=t}}class $S{constructor(t){this.expenseId=t}}function k$(e){return e.amount!==void 0}class li{constructor({expenseManager:t,paymentAccountsManager:n,client:r}){U(this,"client");U(this,"expenseManager");U(this,"paymentAccountsManager");this.client=r,this.expenseManager=t,this.paymentAccountsManager=n,this.expenseManager.change$.subscribe(i=>{switch(console.debug(`BrowserStorage.expenseManager.changes: ${i}`),!0){case i instanceof IS:return this.handleExpenseAdded(i);case i instanceof NS:return this.handleExpenseUpdated(i);case i instanceof $S:return this.handleExpenseDeleted(i);default:throw new Error(`BrowserStorage: unsupported change: ${i}`)}}),this.paymentAccountsManager.change$.subscribe(i=>{switch(console.debug("BrowserStorage.paymentAccountsManager.change$:",i),i.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return this.persistAllPaymentAccounts();case"PaymentAccountUpdated":return this.persistAllPaymentAccounts();case"PaymentAccountDeleted":return this.persistAllPaymentAccounts()}})}readExpenses(){console.debug("BrowserStorage.readExpenses()");const t=this.client.expenses.read()||{},n=[];for(const r of Object.values(t)){const i={expense:{id:r.expense.id,amount:r.expense.amount,currency:r.expense.currency,originalAmount:r.expense.originalAmount,originalCurrency:r.expense.originalCurrency,description:r.expense.description,datetime:r.expense.datetime,paid_with:r.expense.paid_with,shared:r.expense.shared,pending:r.expense.pending},status:_S[r.status],readyToPublish:r.readyToPublish};n.push(i)}return n}readCurrencies(){return console.debug(`${li.name}.${this.readCurrencies.name}()`),(this.client.currencies.read()||"").split(",")}readPaymentAccounts(){console.debug(`${li.name}.${this.readPaymentAccounts.name}()`);const t=this.client.paymentAccounts.read()||[],n=[];for(const r of t){const i={id:r.id,name:r.name,ledgerName:r.ledgerName,currency:r.currency};n.push(i)}return n}readDefaultAccountId(){return console.debug(`${li.name}.${this.readDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.read()}setDefaultAccountId({id:t}){console.debug(`${li.name}.${this.setDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.set(t)}persistAppExpense(t){const r={...this.client.expenses.read()||{},[t.expense.id]:t};this.client.expenses.set(r)}deleteExpense(t){console.debug(`BrowserStorage.deleteExpense::id=${t}`);const r={...this.client.expenses.read()||{}};delete r[t],this.client.expenses.set(r)}handleExpenseAdded(t){const n=this.expenseManager.get(t.expenseId);this.persistAppExpense(n)}handleExpenseUpdated(t){const n=this.expenseManager.get(t.expenseId);this.persistAppExpense(n)}handleExpenseDeleted(t){this.deleteExpense(t.expenseId)}persistAllPaymentAccounts(){const t=this.paymentAccountsManager.getAll();this.client.paymentAccounts.set(t)}}class T${constructor(){U(this,"change$");U(this,"currencies");U(this,"changeSubject");this.currencies=new Set,this.changeSubject=new xo,this.change$=this.changeSubject.asObservable()}initialize({currencies:t}){for(const n of t)[void 0,null,""].includes(n)||this.currencies.add(n);this.changeSubject.next({kind:"CurrencyManagerInitialized"})}getAll(){return new Set([...this.currencies.values()])}}const A$=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _$(e){if("serviceWorker"in navigator){if(new URL({}.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const n=`${{}.PUBLIC_URL}/service-worker.js`;A$?(I$(n,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):DS(n,e)})}}function DS(e,t){navigator.serviceWorker.register(e).then(n=>{n.update(),setInterval(()=>{n.update(),console.debug("Checked for update...")},1e3*60*5),n.onupdatefound=()=>{const r=n.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(n)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(n)))})}}).catch(n=>{console.error("Error during service worker registration:",n)})}function I$(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");n.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(i=>{i.unregister().then(()=>{window.location.reload()})}):DS(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const N$=ax`
  a {
    color: inherit;
    text-decoration: none;
  }

  ul li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  ol li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  html {
    font-size: 1.2rem;
  }

  body {
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 0;
    text-transform: none;
  }
`,$$="modulepreload",D$=function(e){return"/expenses-form/"+e},ly={},P$=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=D$(s),s in ly)return;ly[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":$$,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function R$(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e;let a,l,u;const c=async(d=!0)=>{await l,await(u==null?void 0:u())};async function h(){if("serviceWorker"in navigator){const{Workbox:d}=await P$(()=>import("./workbox-window.prod.es5-5ffdab76.js"),[]);a=new d("/expenses-form/sw.js",{scope:"/expenses-form/",type:"classic"}),u=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let g=!1;const w=()=>{g=!0,a==null||a.addEventListener("controlling",y=>{y.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",y=>{typeof y.isUpdate>"u"?typeof y.isExternal<"u"?y.isExternal?w():!g&&(r==null||r()):y.isExternal?window.location.reload():!g&&(r==null||r()):y.isUpdate||r==null||r()}),a.addEventListener("waiting",w),a.addEventListener("externalwaiting",w)}a.register({immediate:t}).then(g=>{s?s("/expenses-form/sw.js",g):i==null||i(g)}).catch(g=>{o==null||o(g)})}}return l=h(),c}const O$=window.location.hostname==="localhost",M$=R$({onNeedRefresh:function(){(O$||confirm("There is an newer version of this app. Do you want to update?"))&&M$(!0)}}),PS=new Sp,RS=new vr,j$=new li({expenseManager:PS,paymentAccountsManager:RS,client:new d1}),L$=new T$,b$=new C$({browserStorage:j$,expenseManager:PS,paymentAccountsManager:RS,currencyManager:L$}),OS=document.getElementById("root");if(OS===null)throw new Error('expected to find an element with `id="root"` to render the React app, but found none');const F$=AS(OS);F$.render(f.jsxs(Ft.StrictMode,{children:[f.jsx(N$,{}),f.jsx(x$,{app:b$})]}));_$();
