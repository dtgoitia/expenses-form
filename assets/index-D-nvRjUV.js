var Ow=Object.defineProperty;var Vw=(t,e,n)=>e in t?Ow(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var G=(t,e,n)=>Vw(t,typeof e!="symbol"?e+"":e,n);function Lw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Fw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fy={exports:{}},Wl={},$y={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ko=Symbol.for("react.element"),$w=Symbol.for("react.portal"),Uw=Symbol.for("react.fragment"),Bw=Symbol.for("react.strict_mode"),zw=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),Ww=Symbol.for("react.context"),Gw=Symbol.for("react.forward_ref"),Kw=Symbol.for("react.suspense"),Qw=Symbol.for("react.memo"),qw=Symbol.for("react.lazy"),im=Symbol.iterator;function Yw(t){return t===null||typeof t!="object"?null:(t=im&&t[im]||t["@@iterator"],typeof t=="function"?t:null)}var Uy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},By=Object.assign,zy={};function Ji(t,e,n){this.props=t,this.context=e,this.refs=zy,this.updater=n||Uy}Ji.prototype.isReactComponent={};Ji.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ji.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hy(){}Hy.prototype=Ji.prototype;function vd(t,e,n){this.props=t,this.context=e,this.refs=zy,this.updater=n||Uy}var _d=vd.prototype=new Hy;_d.constructor=vd;By(_d,Ji.prototype);_d.isPureReactComponent=!0;var sm=Array.isArray,Wy=Object.prototype.hasOwnProperty,wd={current:null},Gy={key:!0,ref:!0,__self:!0,__source:!0};function Ky(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Wy.call(e,r)&&!Gy.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ko,type:t,key:s,ref:o,props:i,_owner:wd.current}}function Xw(t,e){return{$$typeof:ko,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ed(t){return typeof t=="object"&&t!==null&&t.$$typeof===ko}function Jw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var om=/\/+/g;function Xu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jw(""+t.key):e.toString(36)}function Na(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ko:case $w:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Xu(o,0):r,sm(i)?(n="",t!=null&&(n=t.replace(om,"$&/")+"/"),Na(i,e,n,"",function(h){return h})):i!=null&&(Ed(i)&&(i=Xw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(om,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",sm(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Xu(s,l);o+=Na(s,e,n,u,i)}else if(u=Yw(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Xu(s,l++),o+=Na(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ra(t,e,n){if(t==null)return t;var r=[],i=0;return Na(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Zw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},ba={transition:null},eE={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:ba,ReactCurrentOwner:wd};function Qy(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:ra,forEach:function(t,e,n){ra(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ra(t,function(){e++}),e},toArray:function(t){return ra(t,function(e){return e})||[]},only:function(t){if(!Ed(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=Ji;X.Fragment=Uw;X.Profiler=zw;X.PureComponent=vd;X.StrictMode=Bw;X.Suspense=Kw;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eE;X.act=Qy;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=By({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Wy.call(e,u)&&!Gy.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ko,type:t.type,key:i,ref:s,props:r,_owner:o}};X.createContext=function(t){return t={$$typeof:Ww,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hw,_context:t},t.Consumer=t};X.createElement=Ky;X.createFactory=function(t){var e=Ky.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Gw,render:t}};X.isValidElement=Ed;X.lazy=function(t){return{$$typeof:qw,_payload:{_status:-1,_result:t},_init:Zw}};X.memo=function(t,e){return{$$typeof:Qw,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=ba.transition;ba.transition={};try{t()}finally{ba.transition=e}};X.unstable_act=Qy;X.useCallback=function(t,e){return pt.current.useCallback(t,e)};X.useContext=function(t){return pt.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};X.useEffect=function(t,e){return pt.current.useEffect(t,e)};X.useId=function(){return pt.current.useId()};X.useImperativeHandle=function(t,e,n){return pt.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return pt.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return pt.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return pt.current.useMemo(t,e)};X.useReducer=function(t,e,n){return pt.current.useReducer(t,e,n)};X.useRef=function(t){return pt.current.useRef(t)};X.useState=function(t){return pt.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return pt.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return pt.current.useTransition()};X.version="18.3.1";$y.exports=X;var M=$y.exports;const tn=Fw(M),tE=Lw({__proto__:null,default:tn},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE=M,rE=Symbol.for("react.element"),iE=Symbol.for("react.fragment"),sE=Object.prototype.hasOwnProperty,oE=nE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aE={key:!0,ref:!0,__self:!0,__source:!0};function qy(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sE.call(e,r)&&!aE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rE,type:t,key:s,ref:o,props:i,_owner:oE.current}}Wl.Fragment=iE;Wl.jsx=qy;Wl.jsxs=qy;Fy.exports=Wl;var g=Fy.exports,ot=function(){return ot=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ot.apply(this,arguments)};function Ys(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var fe="-ms-",Ms="-moz-",ie="-webkit-",Yy="comm",Gl="rule",Sd="decl",lE="@import",Xy="@keyframes",uE="@layer",Jy=Math.abs,xd=String.fromCharCode,Bc=Object.assign;function cE(t,e){return Oe(t,0)^45?(((e<<2^Oe(t,0))<<2^Oe(t,1))<<2^Oe(t,2))<<2^Oe(t,3):0}function Zy(t){return t.trim()}function xn(t,e){return(t=e.exec(t))?t[0]:t}function q(t,e,n){return t.replace(e,n)}function Da(t,e,n){return t.indexOf(e,n)}function Oe(t,e){return t.charCodeAt(e)|0}function ji(t,e,n){return t.slice(e,n)}function cn(t){return t.length}function ev(t){return t.length}function Ps(t,e){return e.push(t),t}function hE(t,e){return t.map(e).join("")}function am(t,e){return t.filter(function(n){return!xn(n,e)})}var Kl=1,Oi=1,tv=0,Gt=0,Pe=0,Zi="";function Ql(t,e,n,r,i,s,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Kl,column:Oi,length:o,return:"",siblings:l}}function Bn(t,e){return Bc(Ql("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ai(t){for(;t.root;)t=Bn(t.root,{children:[t]});Ps(t,t.siblings)}function dE(){return Pe}function fE(){return Pe=Gt>0?Oe(Zi,--Gt):0,Oi--,Pe===10&&(Oi=1,Kl--),Pe}function nn(){return Pe=Gt<tv?Oe(Zi,Gt++):0,Oi++,Pe===10&&(Oi=1,Kl++),Pe}function Or(){return Oe(Zi,Gt)}function Ma(){return Gt}function ql(t,e){return ji(Zi,t,e)}function zc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pE(t){return Kl=Oi=1,tv=cn(Zi=t),Gt=0,[]}function mE(t){return Zi="",t}function Ju(t){return Zy(ql(Gt-1,Hc(t===91?t+2:t===40?t+1:t)))}function gE(t){for(;(Pe=Or())&&Pe<33;)nn();return zc(t)>2||zc(Pe)>3?"":" "}function yE(t,e){for(;--e&&nn()&&!(Pe<48||Pe>102||Pe>57&&Pe<65||Pe>70&&Pe<97););return ql(t,Ma()+(e<6&&Or()==32&&nn()==32))}function Hc(t){for(;nn();)switch(Pe){case t:return Gt;case 34:case 39:t!==34&&t!==39&&Hc(Pe);break;case 40:t===41&&Hc(t);break;case 92:nn();break}return Gt}function vE(t,e){for(;nn()&&t+Pe!==57;)if(t+Pe===84&&Or()===47)break;return"/*"+ql(e,Gt-1)+"*"+xd(t===47?t:nn())}function _E(t){for(;!zc(Or());)nn();return ql(t,Gt)}function wE(t){return mE(ja("",null,null,null,[""],t=pE(t),0,[0],t))}function ja(t,e,n,r,i,s,o,l,u){for(var h=0,p=0,f=o,m=0,_=0,S=0,I=1,N=1,x=1,E=0,C="",D=i,V=s,L=r,w=C;N;)switch(S=E,E=nn()){case 40:if(S!=108&&Oe(w,f-1)==58){Da(w+=q(Ju(E),"&","&\f"),"&\f",Jy(h?l[h-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:w+=Ju(E);break;case 9:case 10:case 13:case 32:w+=gE(S);break;case 92:w+=yE(Ma()-1,7);continue;case 47:switch(Or()){case 42:case 47:Ps(EE(vE(nn(),Ma()),e,n,u),u);break;default:w+="/"}break;case 123*I:l[h++]=cn(w)*x;case 125*I:case 59:case 0:switch(E){case 0:case 125:N=0;case 59+p:x==-1&&(w=q(w,/\f/g,"")),_>0&&cn(w)-f&&Ps(_>32?um(w+";",r,n,f-1,u):um(q(w," ","")+";",r,n,f-2,u),u);break;case 59:w+=";";default:if(Ps(L=lm(w,e,n,h,p,i,l,C,D=[],V=[],f,s),s),E===123)if(p===0)ja(w,e,L,L,D,s,f,l,V);else switch(m===99&&Oe(w,3)===110?100:m){case 100:case 108:case 109:case 115:ja(t,L,L,r&&Ps(lm(t,L,L,0,0,i,l,C,i,D=[],f,V),V),i,V,f,l,r?D:V);break;default:ja(w,L,L,L,[""],V,0,l,V)}}h=p=_=0,I=x=1,C=w="",f=o;break;case 58:f=1+cn(w),_=S;default:if(I<1){if(E==123)--I;else if(E==125&&I++==0&&fE()==125)continue}switch(w+=xd(E),E*I){case 38:x=p>0?1:(w+="\f",-1);break;case 44:l[h++]=(cn(w)-1)*x,x=1;break;case 64:Or()===45&&(w+=Ju(nn())),m=Or(),p=f=cn(C=w+=_E(Ma())),E++;break;case 45:S===45&&cn(w)==2&&(I=0)}}return s}function lm(t,e,n,r,i,s,o,l,u,h,p,f){for(var m=i-1,_=i===0?s:[""],S=ev(_),I=0,N=0,x=0;I<r;++I)for(var E=0,C=ji(t,m+1,m=Jy(N=o[I])),D=t;E<S;++E)(D=Zy(N>0?_[E]+" "+C:q(C,/&\f/g,_[E])))&&(u[x++]=D);return Ql(t,e,n,i===0?Gl:l,u,h,p,f)}function EE(t,e,n,r){return Ql(t,e,n,Yy,xd(dE()),ji(t,2,-2),0,r)}function um(t,e,n,r,i){return Ql(t,e,n,Sd,ji(t,0,r),ji(t,r+1,-1),r,i)}function nv(t,e,n){switch(cE(t,e)){case 5103:return ie+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ie+t+t;case 4789:return Ms+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ie+t+Ms+t+fe+t+t;case 5936:switch(Oe(t,e+11)){case 114:return ie+t+fe+q(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ie+t+fe+q(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ie+t+fe+q(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ie+t+fe+t+t;case 6165:return ie+t+fe+"flex-"+t+t;case 5187:return ie+t+q(t,/(\w+).+(:[^]+)/,ie+"box-$1$2"+fe+"flex-$1$2")+t;case 5443:return ie+t+fe+"flex-item-"+q(t,/flex-|-self/g,"")+(xn(t,/flex-|baseline/)?"":fe+"grid-row-"+q(t,/flex-|-self/g,""))+t;case 4675:return ie+t+fe+"flex-line-pack"+q(t,/align-content|flex-|-self/g,"")+t;case 5548:return ie+t+fe+q(t,"shrink","negative")+t;case 5292:return ie+t+fe+q(t,"basis","preferred-size")+t;case 6060:return ie+"box-"+q(t,"-grow","")+ie+t+fe+q(t,"grow","positive")+t;case 4554:return ie+q(t,/([^-])(transform)/g,"$1"+ie+"$2")+t;case 6187:return q(q(q(t,/(zoom-|grab)/,ie+"$1"),/(image-set)/,ie+"$1"),t,"")+t;case 5495:case 3959:return q(t,/(image-set\([^]*)/,ie+"$1$`$1");case 4968:return q(q(t,/(.+:)(flex-)?(.*)/,ie+"box-pack:$3"+fe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ie+t+t;case 4200:if(!xn(t,/flex-|baseline/))return fe+"grid-column-align"+ji(t,e)+t;break;case 2592:case 3360:return fe+q(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,xn(r.props,/grid-\w+-end/)})?~Da(t+(n=n[e].value),"span",0)?t:fe+q(t,"-start","")+t+fe+"grid-row-span:"+(~Da(n,"span",0)?xn(n,/\d+/):+xn(n,/\d+/)-+xn(t,/\d+/))+";":fe+q(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return xn(r.props,/grid-\w+-start/)})?t:fe+q(q(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return q(t,/(.+)-inline(.+)/,ie+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cn(t)-1-e>6)switch(Oe(t,e+1)){case 109:if(Oe(t,e+4)!==45)break;case 102:return q(t,/(.+:)(.+)-([^]+)/,"$1"+ie+"$2-$3$1"+Ms+(Oe(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Da(t,"stretch",0)?nv(q(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return q(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,l,u,h){return fe+i+":"+s+h+(o?fe+i+"-span:"+(l?u:+u-+s)+h:"")+t});case 4949:if(Oe(t,e+6)===121)return q(t,":",":"+ie)+t;break;case 6444:switch(Oe(t,Oe(t,14)===45?18:11)){case 120:return q(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ie+(Oe(t,14)===45?"inline-":"")+"box$3$1"+ie+"$2$3$1"+fe+"$2box$3")+t;case 100:return q(t,":",":"+fe)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return q(t,"scroll-","scroll-snap-")+t}return t}function Za(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function SE(t,e,n,r){switch(t.type){case uE:if(t.children.length)break;case lE:case Sd:return t.return=t.return||t.value;case Yy:return"";case Xy:return t.return=t.value+"{"+Za(t.children,r)+"}";case Gl:if(!cn(t.value=t.props.join(",")))return""}return cn(n=Za(t.children,r))?t.return=t.value+"{"+n+"}":""}function xE(t){var e=ev(t);return function(n,r,i,s){for(var o="",l=0;l<e;l++)o+=t[l](n,r,i,s)||"";return o}}function TE(t){return function(e){e.root||(e=e.return)&&t(e)}}function AE(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Sd:t.return=nv(t.value,t.length,n);return;case Xy:return Za([Bn(t,{value:q(t.value,"@","@"+ie)})],r);case Gl:if(t.length)return hE(n=t.props,function(i){switch(xn(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ai(Bn(t,{props:[q(i,/:(read-\w+)/,":"+Ms+"$1")]})),ai(Bn(t,{props:[i]})),Bc(t,{props:am(n,r)});break;case"::placeholder":ai(Bn(t,{props:[q(i,/:(plac\w+)/,":"+ie+"input-$1")]})),ai(Bn(t,{props:[q(i,/:(plac\w+)/,":"+Ms+"$1")]})),ai(Bn(t,{props:[q(i,/:(plac\w+)/,fe+"input-$1")]})),ai(Bn(t,{props:[i]})),Bc(t,{props:am(n,r)});break}return""})}}var CE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kt={},Vi=typeof process<"u"&&kt!==void 0&&(kt.REACT_APP_SC_ATTR||kt.SC_ATTR)||"data-styled",rv="active",iv="data-styled-version",Yl="6.1.13",Td=`/*!sc*/
`,el=typeof window<"u"&&"HTMLElement"in window,IE=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&kt!==void 0&&kt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&kt.REACT_APP_SC_DISABLE_SPEEDY!==""?kt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&kt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&kt!==void 0&&kt.SC_DISABLE_SPEEDY!==void 0&&kt.SC_DISABLE_SPEEDY!==""&&kt.SC_DISABLE_SPEEDY!=="false"&&kt.SC_DISABLE_SPEEDY),PE={},Xl=Object.freeze([]),Li=Object.freeze({});function sv(t,e,n){return n===void 0&&(n=Li),t.theme!==n.theme&&t.theme||e||n.theme}var ov=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),kE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,RE=/(^-|-$)/g;function cm(t){return t.replace(kE,"-").replace(RE,"")}var NE=/(a)(d)/gi,ia=52,hm=function(t){return String.fromCharCode(t+(t>25?39:97))};function Wc(t){var e,n="";for(e=Math.abs(t);e>ia;e=e/ia|0)n=hm(e%ia)+n;return(hm(e%ia)+n).replace(NE,"$1-$2")}var Zu,av=5381,fi=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},lv=function(t){return fi(av,t)};function uv(t){return Wc(lv(t)>>>0)}function bE(t){return t.displayName||t.name||"Component"}function ec(t){return typeof t=="string"&&!0}var cv=typeof Symbol=="function"&&Symbol.for,hv=cv?Symbol.for("react.memo"):60115,DE=cv?Symbol.for("react.forward_ref"):60112,ME={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OE=((Zu={})[DE]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zu[hv]=dv,Zu);function dm(t){return("type"in(e=t)&&e.type.$$typeof)===hv?dv:"$$typeof"in t?OE[t.$$typeof]:ME;var e}var VE=Object.defineProperty,LE=Object.getOwnPropertyNames,fm=Object.getOwnPropertySymbols,FE=Object.getOwnPropertyDescriptor,$E=Object.getPrototypeOf,pm=Object.prototype;function fv(t,e,n){if(typeof e!="string"){if(pm){var r=$E(e);r&&r!==pm&&fv(t,r,n)}var i=LE(e);fm&&(i=i.concat(fm(e)));for(var s=dm(t),o=dm(e),l=0;l<i.length;++l){var u=i[l];if(!(u in jE||n&&n[u]||o&&u in o||s&&u in s)){var h=FE(e,u);try{VE(t,u,h)}catch{}}}}return t}function Fi(t){return typeof t=="function"}function Ad(t){return typeof t=="object"&&"styledComponentId"in t}function Nr(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Gc(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Xs(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Kc(t,e,n){if(n===void 0&&(n=!1),!n&&!Xs(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Kc(t[r],e[r]);else if(Xs(e))for(var r in e)t[r]=Kc(t[r],e[r]);return t}function Cd(t,e){Object.defineProperty(t,"toString",{value:e})}function Ro(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var UE=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Ro(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),u=(o=0,n.length);o<u;o++)this.tag.insertRule(l,n[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(Td);return n},t}(),Oa=new Map,tl=new Map,Va=1,sa=function(t){if(Oa.has(t))return Oa.get(t);for(;tl.has(Va);)Va++;var e=Va++;return Oa.set(t,e),tl.set(e,t),e},BE=function(t,e){Va=e+1,Oa.set(t,e),tl.set(e,t)},zE="style[".concat(Vi,"][").concat(iv,'="').concat(Yl,'"]'),HE=new RegExp("^".concat(Vi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),WE=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},GE=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Td),i=[],s=0,o=r.length;s<o;s++){var l=r[s].trim();if(l){var u=l.match(HE);if(u){var h=0|parseInt(u[1],10),p=u[2];h!==0&&(BE(p,h),WE(t,p,u[3]),t.getTag().insertRules(h,i)),i.length=0}else i.push(l)}}},mm=function(t){for(var e=document.querySelectorAll(zE),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Vi)!==rv&&(GE(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function KE(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var pv=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){var u=Array.from(l.querySelectorAll("style[".concat(Vi,"]")));return u[u.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Vi,rv),r.setAttribute(iv,Yl);var o=KE();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},QE=function(){function t(e){this.element=pv(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Ro(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),qE=function(){function t(e){this.element=pv(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),YE=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),gm=el,XE={isServer:!el,useCSSOMInjection:!IE},nl=function(){function t(e,n,r){e===void 0&&(e=Li),n===void 0&&(n={});var i=this;this.options=ot(ot({},XE),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&el&&gm&&(gm=!1,mm(this)),Cd(this,function(){return function(s){for(var o=s.getTag(),l=o.length,u="",h=function(f){var m=function(x){return tl.get(x)}(f);if(m===void 0)return"continue";var _=s.names.get(m),S=o.getGroup(f);if(_===void 0||!_.size||S.length===0)return"continue";var I="".concat(Vi,".g").concat(f,'[id="').concat(m,'"]'),N="";_!==void 0&&_.forEach(function(x){x.length>0&&(N+="".concat(x,","))}),u+="".concat(S).concat(I,'{content:"').concat(N,'"}').concat(Td)},p=0;p<l;p++)h(p);return u}(i)})}return t.registerId=function(e){return sa(e)},t.prototype.rehydrate=function(){!this.server&&el&&mm(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(ot(ot({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new YE(i):r?new QE(i):new qE(i)}(this.options),new UE(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(sa(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(sa(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(sa(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),JE=/&/g,ZE=/^\s*\/\/.*$/gm;function mv(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=mv(n.children,e)),n})}function eS(t){var e,n,r,i=Li,s=i.options,o=s===void 0?Li:s,l=i.plugins,u=l===void 0?Xl:l,h=function(m,_,S){return S.startsWith(n)&&S.endsWith(n)&&S.replaceAll(n,"").length>0?".".concat(e):m},p=u.slice();p.push(function(m){m.type===Gl&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(JE,n).replace(r,h))}),o.prefix&&p.push(AE),p.push(SE);var f=function(m,_,S,I){_===void 0&&(_=""),S===void 0&&(S=""),I===void 0&&(I="&"),e=I,n=_,r=new RegExp("\\".concat(n,"\\b"),"g");var N=m.replace(ZE,""),x=wE(S||_?"".concat(S," ").concat(_," { ").concat(N," }"):N);o.namespace&&(x=mv(x,o.namespace));var E=[];return Za(x,xE(p.concat(TE(function(C){return E.push(C)})))),E};return f.hash=u.length?u.reduce(function(m,_){return _.name||Ro(15),fi(m,_.name)},av).toString():"",f}var tS=new nl,Qc=eS(),gv=tn.createContext({shouldForwardProp:void 0,styleSheet:tS,stylis:Qc});gv.Consumer;tn.createContext(void 0);function qc(){return M.useContext(gv)}var nS=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Qc);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Cd(this,function(){throw Ro(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Qc),this.name+e.hash},t}(),rS=function(t){return t>="A"&&t<="Z"};function ym(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;rS(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var yv=function(t){return t==null||t===!1||t===""},vv=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!yv(s)&&(Array.isArray(s)&&s.isCss||Fi(s)?r.push("".concat(ym(i),":"),s,";"):Xs(s)?r.push.apply(r,Ys(Ys(["".concat(i," {")],vv(s),!1),["}"],!1)):r.push("".concat(ym(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in CE||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Yn(t,e,n,r){if(yv(t))return[];if(Ad(t))return[".".concat(t.styledComponentId)];if(Fi(t)){if(!Fi(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Yn(i,e,n,r)}var s;return t instanceof nS?n?(t.inject(n,r),[t.getName(r)]):[t]:Xs(t)?vv(t):Array.isArray(t)?Array.prototype.concat.apply(Xl,t.map(function(o){return Yn(o,e,n,r)})):[t.toString()]}function _v(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Fi(n)&&!Ad(n))return!1}return!0}var iS=lv(Yl),sS=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&_v(e),this.componentId=n,this.baseHash=fi(iS,n),this.baseStyle=r,nl.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Nr(i,this.staticRulesId);else{var s=Gc(Yn(this.rules,e,n,r)),o=Wc(fi(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var l=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,l)}i=Nr(i,o),this.staticRulesId=o}else{for(var u=fi(this.baseHash,r.hash),h="",p=0;p<this.rules.length;p++){var f=this.rules[p];if(typeof f=="string")h+=f;else if(f){var m=Gc(Yn(f,e,n,r));u=fi(u,m+p),h+=m}}if(h){var _=Wc(u>>>0);n.hasNameForId(this.componentId,_)||n.insertRules(this.componentId,_,r(h,".".concat(_),void 0,this.componentId)),i=Nr(i,_)}}return i},t}(),Id=tn.createContext(void 0);Id.Consumer;var tc={};function oS(t,e,n){var r=Ad(t),i=t,s=!ec(t),o=e.attrs,l=o===void 0?Xl:o,u=e.componentId,h=u===void 0?function(D,V){var L=typeof D!="string"?"sc":cm(D);tc[L]=(tc[L]||0)+1;var w="".concat(L,"-").concat(uv(Yl+L+tc[L]));return V?"".concat(V,"-").concat(w):w}(e.displayName,e.parentComponentId):u,p=e.displayName,f=p===void 0?function(D){return ec(D)?"styled.".concat(D):"Styled(".concat(bE(D),")")}(t):p,m=e.displayName&&e.componentId?"".concat(cm(e.displayName),"-").concat(e.componentId):e.componentId||h,_=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,S=e.shouldForwardProp;if(r&&i.shouldForwardProp){var I=i.shouldForwardProp;if(e.shouldForwardProp){var N=e.shouldForwardProp;S=function(D,V){return I(D,V)&&N(D,V)}}else S=I}var x=new sS(n,m,r?i.componentStyle:void 0);function E(D,V){return function(L,w,v){var A=L.attrs,k=L.componentStyle,T=L.defaultProps,R=L.foldedComponentIds,P=L.styledComponentId,Ye=L.target,lt=tn.useContext(Id),yn=qc(),Ct=L.shouldForwardProp||yn.shouldForwardProp,B=sv(w,lt,T)||Li,W=function(gt,ut,yt){for(var wr,vn=ot(ot({},ut),{className:void 0,theme:yt}),Vn=0;Vn<gt.length;Vn+=1){var _n=Fi(wr=gt[Vn])?wr(vn):wr;for(var Ut in _n)vn[Ut]=Ut==="className"?Nr(vn[Ut],_n[Ut]):Ut==="style"?ot(ot({},vn[Ut]),_n[Ut]):_n[Ut]}return ut.className&&(vn.className=Nr(vn.className,ut.className)),vn}(A,w,B),Q=W.as||Ye,oe={};for(var J in W)W[J]===void 0||J[0]==="$"||J==="as"||J==="theme"&&W.theme===B||(J==="forwardedAs"?oe.as=W.forwardedAs:Ct&&!Ct(J,Q)||(oe[J]=W[J]));var ge=function(gt,ut){var yt=qc(),wr=gt.generateAndInjectStyles(ut,yt.styleSheet,yt.stylis);return wr}(k,W),It=Nr(R,P);return ge&&(It+=" "+ge),W.className&&(It+=" "+W.className),oe[ec(Q)&&!ov.has(Q)?"class":"className"]=It,oe.ref=v,M.createElement(Q,oe)}(C,D,V)}E.displayName=f;var C=tn.forwardRef(E);return C.attrs=_,C.componentStyle=x,C.displayName=f,C.shouldForwardProp=S,C.foldedComponentIds=r?Nr(i.foldedComponentIds,i.styledComponentId):"",C.styledComponentId=m,C.target=r?i.target:t,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(D){this._foldedDefaultProps=r?function(V){for(var L=[],w=1;w<arguments.length;w++)L[w-1]=arguments[w];for(var v=0,A=L;v<A.length;v++)Kc(V,A[v],!0);return V}({},i.defaultProps,D):D}}),Cd(C,function(){return".".concat(C.styledComponentId)}),s&&fv(C,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function vm(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var _m=function(t){return Object.assign(t,{isCss:!0})};function wv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fi(t)||Xs(t))return _m(Yn(vm(Xl,Ys([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Yn(r):_m(Yn(vm(r,e)))}function Yc(t,e,n){if(n===void 0&&(n=Li),!e)throw Ro(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,wv.apply(void 0,Ys([i],s,!1)))};return r.attrs=function(i){return Yc(t,e,ot(ot({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Yc(t,e,ot(ot({},n),i))},r}var Ev=function(t){return Yc(oS,t)},Lt=Ev;ov.forEach(function(t){Lt[t]=Ev(t)});var aS=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=_v(e),nl.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(Gc(Yn(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&nl.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function lS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=wv.apply(void 0,Ys([t],e,!1)),i="sc-global-".concat(uv(JSON.stringify(r))),s=new aS(r,i),o=function(u){var h=qc(),p=tn.useContext(Id),f=tn.useRef(h.styleSheet.allocateGSInstance(i)).current;return h.styleSheet.server&&l(f,u,h.styleSheet,p,h.stylis),tn.useLayoutEffect(function(){if(!h.styleSheet.server)return l(f,u,h.styleSheet,p,h.stylis),function(){return s.removeStyles(f,h.styleSheet)}},[f,u,h.styleSheet,p,h.stylis]),null};function l(u,h,p,f,m){if(s.isStatic)s.renderStyles(u,PE,p,m);else{var _=ot(ot({},h),{theme:sv(h,f,o.defaultProps)});s.renderStyles(u,_,p,m)}}return tn.memo(o)}const Ur=Lt.div`
  margin: 0 0.5rem;
`;var Xc=function(t,e){return Xc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Xc(t,e)};function es(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xc(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Jc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function eh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function dn(t){return typeof t=="function"}function Pd(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nc=Pd(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function th(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Jl=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var l=Jc(o),u=l.next();!u.done;u=l.next()){var h=u.value;h.remove(this)}}catch(I){e={error:I}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}else o.remove(this);var p=this.initialTeardown;if(dn(p))try{p()}catch(I){s=I instanceof nc?I.errors:[I]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var m=Jc(f),_=m.next();!_.done;_=m.next()){var S=_.value;try{wm(S)}catch(I){s=s??[],I instanceof nc?s=eh(eh([],Zc(s)),Zc(I.errors)):s.push(I)}}}catch(I){r={error:I}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}}if(s)throw new nc(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)wm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&th(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&th(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Sv=Jl.EMPTY;function xv(t){return t instanceof Jl||t&&"closed"in t&&dn(t.remove)&&dn(t.add)&&dn(t.unsubscribe)}function wm(t){dn(t)?t():t.unsubscribe()}var Tv={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},uS={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,eh([t,e],Zc(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function cS(t){uS.setTimeout(function(){throw t})}function Em(){}function La(t){t()}var kd=function(t){es(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,xv(n)&&n.add(r)):r.destination=pS,r}return e.create=function(n,r,i){return new nh(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Jl),hS=Function.prototype.bind;function rc(t,e){return hS.call(t,e)}var dS=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){oa(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){oa(r)}else oa(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){oa(n)}},t}(),nh=function(t){es(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(dn(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var l;s&&Tv.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&rc(n.next,l),error:n.error&&rc(n.error,l),complete:n.complete&&rc(n.complete,l)}):o=n}return s.destination=new dS(o),s}return e}(kd);function oa(t){cS(t)}function fS(t){throw t}var pS={closed:!0,next:Em,error:fS,complete:Em},mS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Av(t){return t}function gS(t){return t.length===0?Av:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var rh=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=vS(e)?e:new nh(e,n,r);return La(function(){var o=i,l=o.operator,u=o.source;s.add(l?l.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Sm(n),new n(function(i,s){var o=new nh({next:function(l){try{e(l)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[mS]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return gS(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Sm(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function Sm(t){var e;return(e=t??Tv.Promise)!==null&&e!==void 0?e:Promise}function yS(t){return t&&dn(t.next)&&dn(t.error)&&dn(t.complete)}function vS(t){return t&&t instanceof kd||yS(t)&&xv(t)}function _S(t){return dn(t==null?void 0:t.lift)}function Rd(t){return function(e){if(_S(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nd(t,e,n,r,i){return new wS(t,e,n,r,i)}var wS=function(t){es(e,t);function e(n,r,i,s,o,l){var u=t.call(this,n)||this;return u.onFinalize=o,u.shouldUnsubscribe=l,u._next=r?function(h){try{r(h)}catch(p){n.error(p)}}:t.prototype._next,u._error=s?function(h){try{s(h)}catch(p){n.error(p)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(h){n.error(h)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(kd),ES=Pd(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Xr=function(t){es(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new xm(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new ES},e.prototype.next=function(n){var r=this;La(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Jc(r.currentObservers),l=o.next();!l.done;l=o.next()){var u=l.value;u.next(n)}}catch(h){i={error:h}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;La(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;La(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,l=i.observers;return s||o?Sv:(this.currentObservers=null,l.push(n),new Jl(function(){r.currentObservers=null,th(l,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new rh;return n.source=this,n},e.create=function(n,r){return new xm(n,r)},e}(rh),xm=function(t){es(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Sv},e}(Xr),Tm=function(t){es(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(Xr),SS=new rh(function(t){return t.complete()}),Cv=Pd(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function xS(t){return Rd(function(e,n){var r=!1;e.subscribe(Nd(n,function(i){r=!0,n.next(i)},function(){r||n.next(t),n.complete()}))})}function TS(t){return t<=0?function(){return SS}:Rd(function(e,n){var r=0;e.subscribe(Nd(n,function(i){++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function AS(t){return t===void 0&&(t=CS),Rd(function(e,n){var r=!1;e.subscribe(Nd(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(t())}))})}function CS(){return new Cv}function IS(t,e){var n=arguments.length>=2;return function(r){return r.pipe(Av,TS(1),n?xS(e):AS(function(){return new Cv}))}}class PS{constructor(){G(this,"errorsFeed$");G(this,"lastError$");this.errorsFeed$=new Tm([]),this.lastError$=new Tm(void 0)}add(e){let n=[];this.errorsFeed$.subscribe(s=>{n=s}).unsubscribe();const i=[...n,e];console.error(i),this.errorsFeed$.next(i),this.lastError$.next(e)}deleteAll(){this.errorsFeed$.next([]),this.lastError$.next(void 0)}}const Js=new PS,on=t=>t?new Error(`This code path should have never been executed: ${t}`):new Error("This code path should have never been executed"),kS="small",li={fill:"currentColor"};function RS({icon:t}){switch(t){case"arrow-left":return["0 0 512 512",g.jsx("path",{...li,d:"M 475,219.46 H 125 L 245,99 A 36.7,36.7 0 0 0 193.33,47.33 L 10.6,230 a 37.1,37.1 0 0 0 0,52 L 193.3,464.7 a 36.7,36.7 0 0 0 51.9,-51.9 L 125,292 h 350.47 c 20.1,0 36.55,-16.45 36.55,-36.55 0,-20.1 -16.8,-36.55 -36.9,-36.55 z"})];case"bin":return["0 0 16 16",[g.jsx("path",{...li,d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.8824zM2.53h11V2h-11z"},"bin-1"),g.jsx("path",{...li,d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},"bin-2")]];case"pencil":return["0 0 16 16",g.jsx("path",{...li,d:"M3.25 10.26l2.47 2.47 6.69-6.69-2.46-2.48-6.7 6.7zM.99 14.99l3.86-1.39-2.46-2.44-1.4 3.83zm12.25-14c-.48 0-.92.2-1.24.51l-1.44 1.44 2.47 2.47 1.44-1.44c.32-.32.51-.75.51-1.24.01-.95-.77-1.74-1.74-1.74z"})];case"gear":return["0 0 512 512",g.jsx("path",{...li,d:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"})];case"rotate":return["0 0 512 512",g.jsx("path",{...li,d:"M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"})];default:throw on(`unsupported icon '${t}'`)}}function NS({size:t}){switch(t){case"small":return{width:"0.9rem",height:"0.9rem"};case"large":return{width:"1.2rem",height:"1.2rem"};case"extralarge":return{width:"1.5rem",height:"1.5rem"};default:throw on(`unsupported size '${t}'`)}}function bS({icon:t,size:e}){const{width:n,height:r}=NS({size:e||kS}),[i,s]=RS({icon:t});return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"fill-current","aria-hidden":"true",focusable:"false",viewBox:i,width:n,height:r,role:"icon",children:s})}function se({text:t,active:e,disabled:n,icon:r,iconSize:i,onClick:s}){const o="text-sm py-2 px-3 rounded inline-flex items-center gap-2 focus:outline-none",l=" bg-gray-300  dark:bg-gray-600  text-gray-700  dark:text-gray-300",u=" bg-gray-400  dark:bg-gray-400  text-gray-100  dark:text-gray-800",h=" opacity-50 cursor-not-allowed";let p=o;n?p+=h:e?p+=u:p+=l;let f={};return i&&(f={size:i}),g.jsxs("button",{className:p,disabled:n,onClick:s,children:[r&&g.jsx(bS,{icon:r,...f}),t!==void 0&&g.jsx("span",{children:t})]})}function DS(){const[t,e]=M.useState([]);return M.useEffect(()=>{const n=Js.errorsFeed$.subscribe(e);return()=>{n.unsubscribe()}},[]),!t||t.length===0?null:g.jsxs("div",{className:"p-3",children:[g.jsx("div",{className:"flex flex-row justify-end pb-3",children:g.jsx(se,{text:"Clear all error messages",onClick:()=>Js.deleteAll()})}),g.jsx("div",{className:"flex flex-col gap-2",role:"error-list",children:t.map((n,r)=>g.jsx(MS,{error:n},`error-${r}`))})]})}function MS({error:{header:t,description:e}}){return g.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-red-800",role:"error",children:[g.jsx("div",{className:"font-bold",role:"error-header",children:t}),g.jsx("div",{className:"",role:"error-description",children:e})]})}function jS({children:t,className:e}){return g.jsx("div",{className:`h-screen ${e}`,children:t})}function OS({children:t,className:e}){return g.jsx("div",{className:e,children:t})}function VS({children:t,className:e}){return g.jsx("div",{className:`h-screen flex flex-col flex-nowrap justify-center ${e}`,children:t})}const aa={Parent:jS,Content:OS,ContentFullyCentered:VS};var Nt=(t=>(t.root="/",t.expenseEditor="/expenses/:expenseId",t.paymentAccounts="/payment-accounts",t.settings="/settings",t.notFound="/*",t))(Nt||{});function bd(t,e){throw new Error(e||`BUG: please make sure this value never reaches here: ${t}`)}const ih="dark",Iv=M.createContext({theme:ih,setTheme:t=>{}});function LS(){const{theme:t,setTheme:e}=M.useContext(Iv);function n(){switch(t){case"light":return e("dark");case"dark":return e("light");default:bd(t,`unsupported theme: ${t}`)}}return g.jsx("div",{className:"cursor-pointer hover:text-blue-300",onClick:n,children:t})}var Pv={exports:{}},Ft={},kv={exports:{}},Rv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var Q=B.length;B.push(W);e:for(;0<Q;){var oe=Q-1>>>1,J=B[oe];if(0<i(J,W))B[oe]=W,B[Q]=J,Q=oe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],Q=B.pop();if(Q!==W){B[0]=Q;e:for(var oe=0,J=B.length,ge=J>>>1;oe<ge;){var It=2*(oe+1)-1,gt=B[It],ut=It+1,yt=B[ut];if(0>i(gt,Q))ut<J&&0>i(yt,gt)?(B[oe]=yt,B[ut]=Q,oe=ut):(B[oe]=gt,B[It]=Q,oe=It);else if(ut<J&&0>i(yt,Q))B[oe]=yt,B[ut]=Q,oe=ut;else break e}}return W}function i(B,W){var Q=B.sortIndex-W.sortIndex;return Q!==0?Q:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],p=1,f=null,m=3,_=!1,S=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(B){for(var W=n(h);W!==null;){if(W.callback===null)r(h);else if(W.startTime<=B)r(h),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(h)}}function D(B){if(I=!1,C(B),!S)if(n(u)!==null)S=!0,yn(V);else{var W=n(h);W!==null&&Ct(D,W.startTime-B)}}function V(B,W){S=!1,I&&(I=!1,x(v),v=-1),_=!0;var Q=m;try{for(C(W),f=n(u);f!==null&&(!(f.expirationTime>W)||B&&!T());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,m=f.priorityLevel;var J=oe(f.expirationTime<=W);W=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(u)&&r(u),C(W)}else r(u);f=n(u)}if(f!==null)var ge=!0;else{var It=n(h);It!==null&&Ct(D,It.startTime-W),ge=!1}return ge}finally{f=null,m=Q,_=!1}}var L=!1,w=null,v=-1,A=5,k=-1;function T(){return!(t.unstable_now()-k<A)}function R(){if(w!==null){var B=t.unstable_now();k=B;var W=!0;try{W=w(!0,B)}finally{W?P():(L=!1,w=null)}}else L=!1}var P;if(typeof E=="function")P=function(){E(R)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,lt=Ye.port2;Ye.port1.onmessage=R,P=function(){lt.postMessage(null)}}else P=function(){N(R,0)};function yn(B){w=B,L||(L=!0,P())}function Ct(B,W){v=N(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){S||_||(S=!0,yn(V))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var Q=m;m=W;try{return B()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=m;m=B;try{return W()}finally{m=Q}},t.unstable_scheduleCallback=function(B,W,Q){var oe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Q+J,B={id:p++,callback:W,priorityLevel:B,startTime:Q,expirationTime:J,sortIndex:-1},Q>oe?(B.sortIndex=Q,e(h,B),n(u)===null&&B===n(h)&&(I?(x(v),v=-1):I=!0,Ct(D,Q-oe))):(B.sortIndex=J,e(u,B),S||_||(S=!0,yn(V))),B},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(B){var W=m;return function(){var Q=m;m=W;try{return B.apply(this,arguments)}finally{m=Q}}}})(Rv);kv.exports=Rv;var FS=kv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S=M,Vt=FS;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nv=new Set,Zs={};function Jr(t,e){$i(t,e),$i(t+"Capture",e)}function $i(t,e){for(Zs[t]=e,t=0;t<e.length;t++)Nv.add(e[t])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sh=Object.prototype.hasOwnProperty,US=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Am={},Cm={};function BS(t){return sh.call(Cm,t)?!0:sh.call(Am,t)?!1:US.test(t)?Cm[t]=!0:(Am[t]=!0,!1)}function zS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HS(t,e,n,r){if(e===null||typeof e>"u"||zS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dd=/[\-:]([a-z])/g;function Md(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dd,Md);qe[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dd,Md);qe[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dd,Md);qe[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jd(t,e,n,r){var i=qe.hasOwnProperty(e)?qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HS(e,n,i,r)&&(n=null),r||i===null?BS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var On=$S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,la=Symbol.for("react.element"),pi=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),Od=Symbol.for("react.strict_mode"),oh=Symbol.for("react.profiler"),bv=Symbol.for("react.provider"),Dv=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),lh=Symbol.for("react.suspense_list"),Ld=Symbol.for("react.memo"),zn=Symbol.for("react.lazy"),Mv=Symbol.for("react.offscreen"),Im=Symbol.iterator;function _s(t){return t===null||typeof t!="object"?null:(t=Im&&t[Im]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,ic;function ks(t){if(ic===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ic=e&&e[1]||""}return`
`+ic+t}var sc=!1;function oc(t,e){if(!t||sc)return"";sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{sc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ks(t):""}function WS(t){switch(t.tag){case 5:return ks(t.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 2:case 15:return t=oc(t.type,!1),t;case 11:return t=oc(t.type.render,!1),t;case 1:return t=oc(t.type,!0),t;default:return""}}function uh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mi:return"Fragment";case pi:return"Portal";case oh:return"Profiler";case Od:return"StrictMode";case ah:return"Suspense";case lh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Dv:return(t.displayName||"Context")+".Consumer";case bv:return(t._context.displayName||"Context")+".Provider";case Vd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ld:return e=t.displayName||null,e!==null?e:uh(t.type)||"Memo";case zn:e=t._payload,t=t._init;try{return uh(t(e))}catch{}}return null}function GS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uh(e);case 8:return e===Od?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KS(t){var e=jv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ua(t){t._valueTracker||(t._valueTracker=KS(t))}function Ov(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ch(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vv(t,e){e=e.checked,e!=null&&jd(t,"checked",e,!1)}function hh(t,e){Vv(t,e);var n=ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dh(t,e.type,n):e.hasOwnProperty("defaultValue")&&dh(t,e.type,ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function km(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dh(t,e,n){(e!=="number"||rl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rs=Array.isArray;function Ii(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ur(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Rs(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ur(n)}}function Lv(t,e){var n=ur(e.value),r=ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ph(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ca,$v=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ca=ca||document.createElement("div"),ca.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ca.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function eo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QS=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(t){QS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),js[e]=js[t]})});function Uv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||js.hasOwnProperty(t)&&js[t]?(""+e).trim():e+"px"}function Bv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Uv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qS=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mh(t,e){if(e){if(qS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function gh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=null;function Fd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vh=null,Pi=null,ki=null;function bm(t){if(t=Do(t)){if(typeof vh!="function")throw Error(F(280));var e=t.stateNode;e&&(e=ru(e),vh(t.stateNode,t.type,e))}}function zv(t){Pi?ki?ki.push(t):ki=[t]:Pi=t}function Hv(){if(Pi){var t=Pi,e=ki;if(ki=Pi=null,bm(t),e)for(t=0;t<e.length;t++)bm(e[t])}}function Wv(t,e){return t(e)}function Gv(){}var ac=!1;function Kv(t,e,n){if(ac)return t(e,n);ac=!0;try{return Wv(t,e,n)}finally{ac=!1,(Pi!==null||ki!==null)&&(Gv(),Hv())}}function to(t,e){var n=t.stateNode;if(n===null)return null;var r=ru(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var _h=!1;if(Rn)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){_h=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{_h=!1}function YS(t,e,n,r,i,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Os=!1,il=null,sl=!1,wh=null,XS={onError:function(t){Os=!0,il=t}};function JS(t,e,n,r,i,s,o,l,u){Os=!1,il=null,YS.apply(XS,arguments)}function ZS(t,e,n,r,i,s,o,l,u){if(JS.apply(this,arguments),Os){if(Os){var h=il;Os=!1,il=null}else throw Error(F(198));sl||(sl=!0,wh=h)}}function Zr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dm(t){if(Zr(t)!==t)throw Error(F(188))}function ex(t){var e=t.alternate;if(!e){if(e=Zr(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dm(i),t;if(s===r)return Dm(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function qv(t){return t=ex(t),t!==null?Yv(t):null}function Yv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yv(t);if(e!==null)return e;t=t.sibling}return null}var Xv=Vt.unstable_scheduleCallback,Mm=Vt.unstable_cancelCallback,tx=Vt.unstable_shouldYield,nx=Vt.unstable_requestPaint,Ce=Vt.unstable_now,rx=Vt.unstable_getCurrentPriorityLevel,$d=Vt.unstable_ImmediatePriority,Jv=Vt.unstable_UserBlockingPriority,ol=Vt.unstable_NormalPriority,ix=Vt.unstable_LowPriority,Zv=Vt.unstable_IdlePriority,Zl=null,fn=null;function sx(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Zl,t,void 0,(t.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:lx,ox=Math.log,ax=Math.LN2;function lx(t){return t>>>=0,t===0?32:31-(ox(t)/ax|0)|0}var ha=64,da=4194304;function Ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function al(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ns(l):(s&=o,s!==0&&(r=Ns(s)))}else o=n&~i,o!==0?r=Ns(o):s!==0&&(r=Ns(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rn(e),i=1<<n,r|=t[n],e&=~i;return r}function ux(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-rn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=ux(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Eh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e0(){var t=ha;return ha<<=1,!(ha&4194240)&&(ha=64),t}function lc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function No(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rn(e),t[e]=n}function hx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-rn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ud(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function t0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n0,Bd,r0,i0,s0,Sh=!1,fa=[],Xn=null,Jn=null,Zn=null,no=new Map,ro=new Map,Wn=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jm(t,e){switch(t){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":no.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(e.pointerId)}}function Es(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Do(e),e!==null&&Bd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fx(t,e,n,r,i){switch(e){case"focusin":return Xn=Es(Xn,t,e,n,r,i),!0;case"dragenter":return Jn=Es(Jn,t,e,n,r,i),!0;case"mouseover":return Zn=Es(Zn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return no.set(s,Es(no.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ro.set(s,Es(ro.get(s)||null,t,e,n,r,i)),!0}return!1}function o0(t){var e=br(t.target);if(e!==null){var n=Zr(e);if(n!==null){if(e=n.tag,e===13){if(e=Qv(n),e!==null){t.blockedOn=e,s0(t.priority,function(){r0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yh=r,n.target.dispatchEvent(r),yh=null}else return e=Do(n),e!==null&&Bd(e),t.blockedOn=n,!1;e.shift()}return!0}function Om(t,e,n){Fa(t)&&n.delete(e)}function px(){Sh=!1,Xn!==null&&Fa(Xn)&&(Xn=null),Jn!==null&&Fa(Jn)&&(Jn=null),Zn!==null&&Fa(Zn)&&(Zn=null),no.forEach(Om),ro.forEach(Om)}function Ss(t,e){t.blockedOn===e&&(t.blockedOn=null,Sh||(Sh=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,px)))}function io(t){function e(i){return Ss(i,t)}if(0<fa.length){Ss(fa[0],t);for(var n=1;n<fa.length;n++){var r=fa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xn!==null&&Ss(Xn,t),Jn!==null&&Ss(Jn,t),Zn!==null&&Ss(Zn,t),no.forEach(e),ro.forEach(e),n=0;n<Wn.length;n++)r=Wn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wn.length&&(n=Wn[0],n.blockedOn===null);)o0(n),n.blockedOn===null&&Wn.shift()}var Ri=On.ReactCurrentBatchConfig,ll=!0;function mx(t,e,n,r){var i=le,s=Ri.transition;Ri.transition=null;try{le=1,zd(t,e,n,r)}finally{le=i,Ri.transition=s}}function gx(t,e,n,r){var i=le,s=Ri.transition;Ri.transition=null;try{le=4,zd(t,e,n,r)}finally{le=i,Ri.transition=s}}function zd(t,e,n,r){if(ll){var i=xh(t,e,n,r);if(i===null)vc(t,e,r,ul,n),jm(t,r);else if(fx(i,t,e,n,r))r.stopPropagation();else if(jm(t,r),e&4&&-1<dx.indexOf(t)){for(;i!==null;){var s=Do(i);if(s!==null&&n0(s),s=xh(t,e,n,r),s===null&&vc(t,e,r,ul,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vc(t,e,r,null,n)}}var ul=null;function xh(t,e,n,r){if(ul=null,t=Fd(r),t=br(t),t!==null)if(e=Zr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Qv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ul=t,null}function a0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rx()){case $d:return 1;case Jv:return 4;case ol:case ix:return 16;case Zv:return 536870912;default:return 16}default:return 16}}var Kn=null,Hd=null,$a=null;function l0(){if($a)return $a;var t,e=Hd,n=e.length,r,i="value"in Kn?Kn.value:Kn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $a=i.slice(t,1<r?1-r:void 0)}function Ua(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pa(){return!0}function Vm(){return!1}function $t(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pa:Vm,this.isPropagationStopped=Vm,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),e}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wd=$t(ts),bo=Se({},ts,{view:0,detail:0}),yx=$t(bo),uc,cc,xs,eu=Se({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xs&&(xs&&t.type==="mousemove"?(uc=t.screenX-xs.screenX,cc=t.screenY-xs.screenY):cc=uc=0,xs=t),uc)},movementY:function(t){return"movementY"in t?t.movementY:cc}}),Lm=$t(eu),vx=Se({},eu,{dataTransfer:0}),_x=$t(vx),wx=Se({},bo,{relatedTarget:0}),hc=$t(wx),Ex=Se({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Sx=$t(Ex),xx=Se({},ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tx=$t(xx),Ax=Se({},ts,{data:0}),Fm=$t(Ax),Cx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Px={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Px[t])?!!e[t]:!1}function Gd(){return kx}var Rx=Se({},bo,{key:function(t){if(t.key){var e=Cx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ix[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gd,charCode:function(t){return t.type==="keypress"?Ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nx=$t(Rx),bx=Se({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$m=$t(bx),Dx=Se({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gd}),Mx=$t(Dx),jx=Se({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ox=$t(jx),Vx=Se({},eu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lx=$t(Vx),Fx=[9,13,27,32],Kd=Rn&&"CompositionEvent"in window,Vs=null;Rn&&"documentMode"in document&&(Vs=document.documentMode);var $x=Rn&&"TextEvent"in window&&!Vs,u0=Rn&&(!Kd||Vs&&8<Vs&&11>=Vs),Um=" ",Bm=!1;function c0(t,e){switch(t){case"keyup":return Fx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gi=!1;function Ux(t,e){switch(t){case"compositionend":return h0(e);case"keypress":return e.which!==32?null:(Bm=!0,Um);case"textInput":return t=e.data,t===Um&&Bm?null:t;default:return null}}function Bx(t,e){if(gi)return t==="compositionend"||!Kd&&c0(t,e)?(t=l0(),$a=Hd=Kn=null,gi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return u0&&e.locale!=="ko"?null:e.data;default:return null}}var zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zx[t.type]:e==="textarea"}function d0(t,e,n,r){zv(r),e=cl(e,"onChange"),0<e.length&&(n=new Wd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ls=null,so=null;function Hx(t){x0(t,0)}function tu(t){var e=_i(t);if(Ov(e))return t}function Wx(t,e){if(t==="change")return e}var f0=!1;if(Rn){var dc;if(Rn){var fc="oninput"in document;if(!fc){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),fc=typeof Hm.oninput=="function"}dc=fc}else dc=!1;f0=dc&&(!document.documentMode||9<document.documentMode)}function Wm(){Ls&&(Ls.detachEvent("onpropertychange",p0),so=Ls=null)}function p0(t){if(t.propertyName==="value"&&tu(so)){var e=[];d0(e,so,t,Fd(t)),Kv(Hx,e)}}function Gx(t,e,n){t==="focusin"?(Wm(),Ls=e,so=n,Ls.attachEvent("onpropertychange",p0)):t==="focusout"&&Wm()}function Kx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tu(so)}function Qx(t,e){if(t==="click")return tu(e)}function qx(t,e){if(t==="input"||t==="change")return tu(e)}function Yx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var an=typeof Object.is=="function"?Object.is:Yx;function oo(t,e){if(an(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sh.call(e,i)||!an(t[i],e[i]))return!1}return!0}function Gm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Km(t,e){var n=Gm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gm(n)}}function m0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g0(){for(var t=window,e=rl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rl(t.document)}return e}function Qd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Xx(t){var e=g0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m0(n.ownerDocument.documentElement,n)){if(r!==null&&Qd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Km(n,s);var o=Km(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jx=Rn&&"documentMode"in document&&11>=document.documentMode,yi=null,Th=null,Fs=null,Ah=!1;function Qm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ah||yi==null||yi!==rl(r)||(r=yi,"selectionStart"in r&&Qd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fs&&oo(Fs,r)||(Fs=r,r=cl(Th,"onSelect"),0<r.length&&(e=new Wd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yi)))}function ma(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vi={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionend:ma("Transition","TransitionEnd")},pc={},y0={};Rn&&(y0=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function nu(t){if(pc[t])return pc[t];if(!vi[t])return t;var e=vi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in y0)return pc[t]=e[n];return t}var v0=nu("animationend"),_0=nu("animationiteration"),w0=nu("animationstart"),E0=nu("transitionend"),S0=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(t,e){S0.set(t,e),Jr(e,[t])}for(var mc=0;mc<qm.length;mc++){var gc=qm[mc],Zx=gc.toLowerCase(),eT=gc[0].toUpperCase()+gc.slice(1);mr(Zx,"on"+eT)}mr(v0,"onAnimationEnd");mr(_0,"onAnimationIteration");mr(w0,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(E0,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tT=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function Ym(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZS(r,e,void 0,t),t.currentTarget=null}function x0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Ym(i,l,h),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Ym(i,l,h),s=u}}}if(sl)throw t=wh,sl=!1,wh=null,t}function pe(t,e){var n=e[Rh];n===void 0&&(n=e[Rh]=new Set);var r=t+"__bubble";n.has(r)||(T0(e,t,2,!1),n.add(r))}function yc(t,e,n){var r=0;e&&(r|=4),T0(n,t,r,e)}var ga="_reactListening"+Math.random().toString(36).slice(2);function ao(t){if(!t[ga]){t[ga]=!0,Nv.forEach(function(n){n!=="selectionchange"&&(tT.has(n)||yc(n,!1,t),yc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ga]||(e[ga]=!0,yc("selectionchange",!1,e))}}function T0(t,e,n,r){switch(a0(e)){case 1:var i=mx;break;case 4:i=gx;break;default:i=zd}n=i.bind(null,e,n,t),i=void 0,!_h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=br(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Kv(function(){var h=s,p=Fd(n),f=[];e:{var m=S0.get(t);if(m!==void 0){var _=Wd,S=t;switch(t){case"keypress":if(Ua(n)===0)break e;case"keydown":case"keyup":_=Nx;break;case"focusin":S="focus",_=hc;break;case"focusout":S="blur",_=hc;break;case"beforeblur":case"afterblur":_=hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Lm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=_x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Mx;break;case v0:case _0:case w0:_=Sx;break;case E0:_=Ox;break;case"scroll":_=yx;break;case"wheel":_=Lx;break;case"copy":case"cut":case"paste":_=Tx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=$m}var I=(e&4)!==0,N=!I&&t==="scroll",x=I?m!==null?m+"Capture":null:m;I=[];for(var E=h,C;E!==null;){C=E;var D=C.stateNode;if(C.tag===5&&D!==null&&(C=D,x!==null&&(D=to(E,x),D!=null&&I.push(lo(E,D,C)))),N)break;E=E.return}0<I.length&&(m=new _(m,S,null,n,p),f.push({event:m,listeners:I}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==yh&&(S=n.relatedTarget||n.fromElement)&&(br(S)||S[Nn]))break e;if((_||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=h,S=S?br(S):null,S!==null&&(N=Zr(S),S!==N||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=h),_!==S)){if(I=Lm,D="onMouseLeave",x="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(I=$m,D="onPointerLeave",x="onPointerEnter",E="pointer"),N=_==null?m:_i(_),C=S==null?m:_i(S),m=new I(D,E+"leave",_,n,p),m.target=N,m.relatedTarget=C,D=null,br(p)===h&&(I=new I(x,E+"enter",S,n,p),I.target=C,I.relatedTarget=N,D=I),N=D,_&&S)t:{for(I=_,x=S,E=0,C=I;C;C=ui(C))E++;for(C=0,D=x;D;D=ui(D))C++;for(;0<E-C;)I=ui(I),E--;for(;0<C-E;)x=ui(x),C--;for(;E--;){if(I===x||x!==null&&I===x.alternate)break t;I=ui(I),x=ui(x)}I=null}else I=null;_!==null&&Xm(f,m,_,I,!1),S!==null&&N!==null&&Xm(f,N,S,I,!0)}}e:{if(m=h?_i(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var V=Wx;else if(zm(m))if(f0)V=qx;else{V=Kx;var L=Gx}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=Qx);if(V&&(V=V(t,h))){d0(f,V,n,p);break e}L&&L(t,m,h),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&dh(m,"number",m.value)}switch(L=h?_i(h):window,t){case"focusin":(zm(L)||L.contentEditable==="true")&&(yi=L,Th=h,Fs=null);break;case"focusout":Fs=Th=yi=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,Qm(f,n,p);break;case"selectionchange":if(Jx)break;case"keydown":case"keyup":Qm(f,n,p)}var w;if(Kd)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else gi?c0(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(u0&&n.locale!=="ko"&&(gi||v!=="onCompositionStart"?v==="onCompositionEnd"&&gi&&(w=l0()):(Kn=p,Hd="value"in Kn?Kn.value:Kn.textContent,gi=!0)),L=cl(h,v),0<L.length&&(v=new Fm(v,t,null,n,p),f.push({event:v,listeners:L}),w?v.data=w:(w=h0(n),w!==null&&(v.data=w)))),(w=$x?Ux(t,n):Bx(t,n))&&(h=cl(h,"onBeforeInput"),0<h.length&&(p=new Fm("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:h}),p.data=w))}x0(f,e)})}function lo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=to(t,n),s!=null&&r.unshift(lo(t,s,i)),s=to(t,e),s!=null&&r.push(lo(t,s,i))),t=t.return}return r}function ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=to(n,s),u!=null&&o.unshift(lo(n,u,l))):i||(u=to(n,s),u!=null&&o.push(lo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nT=/\r\n?/g,rT=/\u0000|\uFFFD/g;function Jm(t){return(typeof t=="string"?t:""+t).replace(nT,`
`).replace(rT,"")}function ya(t,e,n){if(e=Jm(e),Jm(t)!==e&&n)throw Error(F(425))}function hl(){}var Ch=null,Ih=null;function Ph(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kh=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,Zm=typeof Promise=="function"?Promise:void 0,sT=typeof queueMicrotask=="function"?queueMicrotask:typeof Zm<"u"?function(t){return Zm.resolve(null).then(t).catch(oT)}:kh;function oT(t){setTimeout(function(){throw t})}function _c(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),io(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);io(e)}function er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ns=Math.random().toString(36).slice(2),hn="__reactFiber$"+ns,uo="__reactProps$"+ns,Nn="__reactContainer$"+ns,Rh="__reactEvents$"+ns,aT="__reactListeners$"+ns,lT="__reactHandles$"+ns;function br(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nn]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eg(t);t!==null;){if(n=t[hn])return n;t=eg(t)}return e}t=n,n=t.parentNode}return null}function Do(t){return t=t[hn]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function ru(t){return t[uo]||null}var Nh=[],wi=-1;function gr(t){return{current:t}}function me(t){0>wi||(t.current=Nh[wi],Nh[wi]=null,wi--)}function ce(t,e){wi++,Nh[wi]=t.current,t.current=e}var cr={},at=gr(cr),St=gr(!1),Br=cr;function Ui(t,e){var n=t.type.contextTypes;if(!n)return cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xt(t){return t=t.childContextTypes,t!=null}function dl(){me(St),me(at)}function tg(t,e,n){if(at.current!==cr)throw Error(F(168));ce(at,e),ce(St,n)}function A0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,GS(t)||"Unknown",i));return Se({},n,r)}function fl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cr,Br=at.current,ce(at,t),ce(St,St.current),!0}function ng(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=A0(t,e,Br),r.__reactInternalMemoizedMergedChildContext=t,me(St),me(at),ce(at,t)):me(St),ce(St,n)}var An=null,iu=!1,wc=!1;function C0(t){An===null?An=[t]:An.push(t)}function uT(t){iu=!0,C0(t)}function yr(){if(!wc&&An!==null){wc=!0;var t=0,e=le;try{var n=An;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}An=null,iu=!1}catch(i){throw An!==null&&(An=An.slice(t+1)),Xv($d,yr),i}finally{le=e,wc=!1}}return null}var Ei=[],Si=0,pl=null,ml=0,Bt=[],zt=0,zr=null,Cn=1,In="";function Ir(t,e){Ei[Si++]=ml,Ei[Si++]=pl,pl=t,ml=e}function I0(t,e,n){Bt[zt++]=Cn,Bt[zt++]=In,Bt[zt++]=zr,zr=t;var r=Cn;t=In;var i=32-rn(r)-1;r&=~(1<<i),n+=1;var s=32-rn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cn=1<<32-rn(e)+i|n<<i|r,In=s+t}else Cn=1<<s|n<<i|r,In=t}function qd(t){t.return!==null&&(Ir(t,1),I0(t,1,0))}function Yd(t){for(;t===pl;)pl=Ei[--Si],Ei[Si]=null,ml=Ei[--Si],Ei[Si]=null;for(;t===zr;)zr=Bt[--zt],Bt[zt]=null,In=Bt[--zt],Bt[zt]=null,Cn=Bt[--zt],Bt[zt]=null}var jt=null,Dt=null,ve=!1,Zt=null;function P0(t,e){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,Dt=er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zr!==null?{id:Cn,overflow:In}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,Dt=null,!0):!1;default:return!1}}function bh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dh(t){if(ve){var e=Dt;if(e){var n=e;if(!rg(t,e)){if(bh(t))throw Error(F(418));e=er(n.nextSibling);var r=jt;e&&rg(t,e)?P0(r,n):(t.flags=t.flags&-4097|2,ve=!1,jt=t)}}else{if(bh(t))throw Error(F(418));t.flags=t.flags&-4097|2,ve=!1,jt=t}}}function ig(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function va(t){if(t!==jt)return!1;if(!ve)return ig(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ph(t.type,t.memoizedProps)),e&&(e=Dt)){if(bh(t))throw k0(),Error(F(418));for(;e;)P0(t,e),e=er(e.nextSibling)}if(ig(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=jt?er(t.stateNode.nextSibling):null;return!0}function k0(){for(var t=Dt;t;)t=er(t.nextSibling)}function Bi(){Dt=jt=null,ve=!1}function Xd(t){Zt===null?Zt=[t]:Zt.push(t)}var cT=On.ReactCurrentBatchConfig;function Ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function _a(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sg(t){var e=t._init;return e(t._payload)}function R0(t){function e(x,E){if(t){var C=x.deletions;C===null?(x.deletions=[E],x.flags|=16):C.push(E)}}function n(x,E){if(!t)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function r(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function i(x,E){return x=ir(x,E),x.index=0,x.sibling=null,x}function s(x,E,C){return x.index=C,t?(C=x.alternate,C!==null?(C=C.index,C<E?(x.flags|=2,E):C):(x.flags|=2,E)):(x.flags|=1048576,E)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,E,C,D){return E===null||E.tag!==6?(E=Ic(C,x.mode,D),E.return=x,E):(E=i(E,C),E.return=x,E)}function u(x,E,C,D){var V=C.type;return V===mi?p(x,E,C.props.children,D,C.key):E!==null&&(E.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===zn&&sg(V)===E.type)?(D=i(E,C.props),D.ref=Ts(x,E,C),D.return=x,D):(D=Qa(C.type,C.key,C.props,null,x.mode,D),D.ref=Ts(x,E,C),D.return=x,D)}function h(x,E,C,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Pc(C,x.mode,D),E.return=x,E):(E=i(E,C.children||[]),E.return=x,E)}function p(x,E,C,D,V){return E===null||E.tag!==7?(E=Lr(C,x.mode,D,V),E.return=x,E):(E=i(E,C),E.return=x,E)}function f(x,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ic(""+E,x.mode,C),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case la:return C=Qa(E.type,E.key,E.props,null,x.mode,C),C.ref=Ts(x,null,E),C.return=x,C;case pi:return E=Pc(E,x.mode,C),E.return=x,E;case zn:var D=E._init;return f(x,D(E._payload),C)}if(Rs(E)||_s(E))return E=Lr(E,x.mode,C,null),E.return=x,E;_a(x,E)}return null}function m(x,E,C,D){var V=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return V!==null?null:l(x,E,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case la:return C.key===V?u(x,E,C,D):null;case pi:return C.key===V?h(x,E,C,D):null;case zn:return V=C._init,m(x,E,V(C._payload),D)}if(Rs(C)||_s(C))return V!==null?null:p(x,E,C,D,null);_a(x,C)}return null}function _(x,E,C,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return x=x.get(C)||null,l(E,x,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case la:return x=x.get(D.key===null?C:D.key)||null,u(E,x,D,V);case pi:return x=x.get(D.key===null?C:D.key)||null,h(E,x,D,V);case zn:var L=D._init;return _(x,E,C,L(D._payload),V)}if(Rs(D)||_s(D))return x=x.get(C)||null,p(E,x,D,V,null);_a(E,D)}return null}function S(x,E,C,D){for(var V=null,L=null,w=E,v=E=0,A=null;w!==null&&v<C.length;v++){w.index>v?(A=w,w=null):A=w.sibling;var k=m(x,w,C[v],D);if(k===null){w===null&&(w=A);break}t&&w&&k.alternate===null&&e(x,w),E=s(k,E,v),L===null?V=k:L.sibling=k,L=k,w=A}if(v===C.length)return n(x,w),ve&&Ir(x,v),V;if(w===null){for(;v<C.length;v++)w=f(x,C[v],D),w!==null&&(E=s(w,E,v),L===null?V=w:L.sibling=w,L=w);return ve&&Ir(x,v),V}for(w=r(x,w);v<C.length;v++)A=_(w,x,v,C[v],D),A!==null&&(t&&A.alternate!==null&&w.delete(A.key===null?v:A.key),E=s(A,E,v),L===null?V=A:L.sibling=A,L=A);return t&&w.forEach(function(T){return e(x,T)}),ve&&Ir(x,v),V}function I(x,E,C,D){var V=_s(C);if(typeof V!="function")throw Error(F(150));if(C=V.call(C),C==null)throw Error(F(151));for(var L=V=null,w=E,v=E=0,A=null,k=C.next();w!==null&&!k.done;v++,k=C.next()){w.index>v?(A=w,w=null):A=w.sibling;var T=m(x,w,k.value,D);if(T===null){w===null&&(w=A);break}t&&w&&T.alternate===null&&e(x,w),E=s(T,E,v),L===null?V=T:L.sibling=T,L=T,w=A}if(k.done)return n(x,w),ve&&Ir(x,v),V;if(w===null){for(;!k.done;v++,k=C.next())k=f(x,k.value,D),k!==null&&(E=s(k,E,v),L===null?V=k:L.sibling=k,L=k);return ve&&Ir(x,v),V}for(w=r(x,w);!k.done;v++,k=C.next())k=_(w,x,v,k.value,D),k!==null&&(t&&k.alternate!==null&&w.delete(k.key===null?v:k.key),E=s(k,E,v),L===null?V=k:L.sibling=k,L=k);return t&&w.forEach(function(R){return e(x,R)}),ve&&Ir(x,v),V}function N(x,E,C,D){if(typeof C=="object"&&C!==null&&C.type===mi&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case la:e:{for(var V=C.key,L=E;L!==null;){if(L.key===V){if(V=C.type,V===mi){if(L.tag===7){n(x,L.sibling),E=i(L,C.props.children),E.return=x,x=E;break e}}else if(L.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===zn&&sg(V)===L.type){n(x,L.sibling),E=i(L,C.props),E.ref=Ts(x,L,C),E.return=x,x=E;break e}n(x,L);break}else e(x,L);L=L.sibling}C.type===mi?(E=Lr(C.props.children,x.mode,D,C.key),E.return=x,x=E):(D=Qa(C.type,C.key,C.props,null,x.mode,D),D.ref=Ts(x,E,C),D.return=x,x=D)}return o(x);case pi:e:{for(L=C.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){n(x,E.sibling),E=i(E,C.children||[]),E.return=x,x=E;break e}else{n(x,E);break}else e(x,E);E=E.sibling}E=Pc(C,x.mode,D),E.return=x,x=E}return o(x);case zn:return L=C._init,N(x,E,L(C._payload),D)}if(Rs(C))return S(x,E,C,D);if(_s(C))return I(x,E,C,D);_a(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(n(x,E.sibling),E=i(E,C),E.return=x,x=E):(n(x,E),E=Ic(C,x.mode,D),E.return=x,x=E),o(x)):n(x,E)}return N}var zi=R0(!0),N0=R0(!1),gl=gr(null),yl=null,xi=null,Jd=null;function Zd(){Jd=xi=yl=null}function ef(t){var e=gl.current;me(gl),t._currentValue=e}function Mh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ni(t,e){yl=t,Jd=xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function Kt(t){var e=t._currentValue;if(Jd!==t)if(t={context:t,memoizedValue:e,next:null},xi===null){if(yl===null)throw Error(F(308));xi=t,yl.dependencies={lanes:0,firstContext:t}}else xi=xi.next=t;return e}var Dr=null;function tf(t){Dr===null?Dr=[t]:Dr.push(t)}function b0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,tf(e)):(n.next=i.next,i.next=n),e.interleaved=n,bn(t,r)}function bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hn=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bn(t,n)}return i=r.interleaved,i===null?(e.next=e,tf(r)):(e.next=i.next,i.next=e),r.interleaved=e,bn(t,n)}function Ba(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ud(t,n)}}function og(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vl(t,e,n,r){var i=t.updateQueue;Hn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,p=h=u=null,l=s;do{var m=l.lane,_=l.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,I=l;switch(m=e,_=n,I.tag){case 1:if(S=I.payload,typeof S=="function"){f=S.call(_,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=I.payload,m=typeof S=="function"?S.call(_,f,m):S,m==null)break e;f=Se({},f,m);break e;case 2:Hn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=_,u=f):p=p.next=_,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(p===null&&(u=f),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wr|=o,t.lanes=o,t.memoizedState=f}}function ag(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Mo={},pn=gr(Mo),co=gr(Mo),ho=gr(Mo);function Mr(t){if(t===Mo)throw Error(F(174));return t}function rf(t,e){switch(ce(ho,e),ce(co,t),ce(pn,Mo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ph(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ph(e,t)}me(pn),ce(pn,e)}function Hi(){me(pn),me(co),me(ho)}function M0(t){Mr(ho.current);var e=Mr(pn.current),n=ph(e,t.type);e!==n&&(ce(co,t),ce(pn,n))}function sf(t){co.current===t&&(me(pn),me(co))}var we=gr(0);function _l(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ec=[];function of(){for(var t=0;t<Ec.length;t++)Ec[t]._workInProgressVersionPrimary=null;Ec.length=0}var za=On.ReactCurrentDispatcher,Sc=On.ReactCurrentBatchConfig,Hr=0,Ee=null,be=null,Ve=null,wl=!1,$s=!1,fo=0,hT=0;function et(){throw Error(F(321))}function af(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!an(t[n],e[n]))return!1;return!0}function lf(t,e,n,r,i,s){if(Hr=s,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,za.current=t===null||t.memoizedState===null?mT:gT,t=n(r,i),$s){s=0;do{if($s=!1,fo=0,25<=s)throw Error(F(301));s+=1,Ve=be=null,e.updateQueue=null,za.current=yT,t=n(r,i)}while($s)}if(za.current=El,e=be!==null&&be.next!==null,Hr=0,Ve=be=Ee=null,wl=!1,e)throw Error(F(300));return t}function uf(){var t=fo!==0;return fo=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ee.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Qt(){if(be===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=Ve===null?Ee.memoizedState:Ve.next;if(e!==null)Ve=e,be=t;else{if(t===null)throw Error(F(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ve===null?Ee.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function po(t,e){return typeof e=="function"?e(t):e}function xc(t){var e=Qt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=be,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,h=s;do{var p=h.lane;if((Hr&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var f={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Ee.lanes|=p,Wr|=p}h=h.next}while(h!==null&&h!==s);u===null?o=r:u.next=l,an(r,e.memoizedState)||(wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ee.lanes|=s,Wr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tc(t){var e=Qt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);an(s,e.memoizedState)||(wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function j0(){}function O0(t,e){var n=Ee,r=Qt(),i=e(),s=!an(r.memoizedState,i);if(s&&(r.memoizedState=i,wt=!0),r=r.queue,cf(F0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,mo(9,L0.bind(null,n,r,i,e),void 0,null),$e===null)throw Error(F(349));Hr&30||V0(n,e,i)}return i}function V0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L0(t,e,n,r){e.value=n,e.getSnapshot=r,$0(e)&&U0(t)}function F0(t,e,n){return n(function(){$0(e)&&U0(t)})}function $0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!an(t,n)}catch{return!0}}function U0(t){var e=bn(t,1);e!==null&&sn(e,t,1,-1)}function lg(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:t},e.queue=t,t=t.dispatch=pT.bind(null,Ee,t),[e.memoizedState,t]}function mo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function B0(){return Qt().memoizedState}function Ha(t,e,n,r){var i=un();Ee.flags|=t,i.memoizedState=mo(1|e,n,void 0,r===void 0?null:r)}function su(t,e,n,r){var i=Qt();r=r===void 0?null:r;var s=void 0;if(be!==null){var o=be.memoizedState;if(s=o.destroy,r!==null&&af(r,o.deps)){i.memoizedState=mo(e,n,s,r);return}}Ee.flags|=t,i.memoizedState=mo(1|e,n,s,r)}function ug(t,e){return Ha(8390656,8,t,e)}function cf(t,e){return su(2048,8,t,e)}function z0(t,e){return su(4,2,t,e)}function H0(t,e){return su(4,4,t,e)}function W0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G0(t,e,n){return n=n!=null?n.concat([t]):null,su(4,4,W0.bind(null,e,t),n)}function hf(){}function K0(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&af(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Q0(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&af(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function q0(t,e,n){return Hr&21?(an(n,e)||(n=e0(),Ee.lanes|=n,Wr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=n)}function dT(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=Sc.transition;Sc.transition={};try{t(!1),e()}finally{le=n,Sc.transition=r}}function Y0(){return Qt().memoizedState}function fT(t,e,n){var r=rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X0(t))J0(e,n);else if(n=b0(t,e,n,r),n!==null){var i=ft();sn(n,t,r,i),Z0(n,e,r)}}function pT(t,e,n){var r=rr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X0(t))J0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,an(l,o)){var u=e.interleaved;u===null?(i.next=i,tf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=b0(t,e,i,r),n!==null&&(i=ft(),sn(n,t,r,i),Z0(n,e,r))}}function X0(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function J0(t,e){$s=wl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Z0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ud(t,n)}}var El={readContext:Kt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},mT={readContext:Kt,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Kt,useEffect:ug,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ha(4194308,4,W0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ha(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ha(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fT.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:lg,useDebugValue:hf,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=lg(!1),e=t[0];return t=dT.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=un();if(ve){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),$e===null)throw Error(F(349));Hr&30||V0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ug(F0.bind(null,r,s,t),[t]),r.flags|=2048,mo(9,L0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=un(),e=$e.identifierPrefix;if(ve){var n=In,r=Cn;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gT={readContext:Kt,useCallback:K0,useContext:Kt,useEffect:cf,useImperativeHandle:G0,useInsertionEffect:z0,useLayoutEffect:H0,useMemo:Q0,useReducer:xc,useRef:B0,useState:function(){return xc(po)},useDebugValue:hf,useDeferredValue:function(t){var e=Qt();return q0(e,be.memoizedState,t)},useTransition:function(){var t=xc(po)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:j0,useSyncExternalStore:O0,useId:Y0,unstable_isNewReconciler:!1},yT={readContext:Kt,useCallback:K0,useContext:Kt,useEffect:cf,useImperativeHandle:G0,useInsertionEffect:z0,useLayoutEffect:H0,useMemo:Q0,useReducer:Tc,useRef:B0,useState:function(){return Tc(po)},useDebugValue:hf,useDeferredValue:function(t){var e=Qt();return be===null?e.memoizedState=t:q0(e,be.memoizedState,t)},useTransition:function(){var t=Tc(po)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:j0,useSyncExternalStore:O0,useId:Y0,unstable_isNewReconciler:!1};function Xt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ou={isMounted:function(t){return(t=t._reactInternals)?Zr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),i=rr(t),s=Pn(r,i);s.payload=e,n!=null&&(s.callback=n),e=tr(t,s,i),e!==null&&(sn(e,t,i,r),Ba(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),i=rr(t),s=Pn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=tr(t,s,i),e!==null&&(sn(e,t,i,r),Ba(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=rr(t),i=Pn(n,r);i.tag=2,e!=null&&(i.callback=e),e=tr(t,i,r),e!==null&&(sn(e,t,r,n),Ba(e,t,r))}};function cg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!oo(n,r)||!oo(i,s):!0}function e1(t,e,n){var r=!1,i=cr,s=e.contextType;return typeof s=="object"&&s!==null?s=Kt(s):(i=xt(e)?Br:at.current,r=e.contextTypes,s=(r=r!=null)?Ui(t,i):cr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ou,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function hg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ou.enqueueReplaceState(e,e.state,null)}function Oh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},nf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kt(s):(s=xt(e)?Br:at.current,i.context=Ui(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ou.enqueueReplaceState(i,i.state,null),vl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wi(t,e){try{var n="",r=e;do n+=WS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ac(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vT=typeof WeakMap=="function"?WeakMap:Map;function t1(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xl||(xl=!0,Kh=r),Vh(t,e)},n}function n1(t,e,n){n=Pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vh(t,e),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bT.bind(null,t,e,n),e.then(t,t))}function fg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,tr(n,e,1))),n.lanes|=1),t)}var _T=On.ReactCurrentOwner,wt=!1;function dt(t,e,n,r){e.child=t===null?N0(e,null,n,r):zi(e,t.child,n,r)}function mg(t,e,n,r,i){n=n.render;var s=e.ref;return Ni(e,i),r=lf(t,e,n,r,s,i),n=uf(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(ve&&n&&qd(e),e.flags|=1,dt(t,e,r,i),e.child)}function gg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_f(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,r1(t,e,s,r,i)):(t=Qa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:oo,n(o,r)&&t.ref===e.ref)return Dn(t,e,i)}return e.flags|=1,t=ir(s,r),t.ref=e.ref,t.return=e,e.child=t}function r1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(oo(s,r)&&t.ref===e.ref)if(wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,Dn(t,e,i)}return Lh(t,e,n,r,i)}function i1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Ai,Rt),Rt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Ai,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ce(Ai,Rt),Rt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ce(Ai,Rt),Rt|=r;return dt(t,e,i,n),e.child}function s1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lh(t,e,n,r,i){var s=xt(n)?Br:at.current;return s=Ui(e,s),Ni(e,i),n=lf(t,e,n,r,s,i),r=uf(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(ve&&r&&qd(e),e.flags|=1,dt(t,e,n,i),e.child)}function yg(t,e,n,r,i){if(xt(n)){var s=!0;fl(e)}else s=!1;if(Ni(e,i),e.stateNode===null)Wa(t,e),e1(e,n,r),Oh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Kt(h):(h=xt(n)?Br:at.current,h=Ui(e,h));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&hg(e,o,r,h),Hn=!1;var m=e.memoizedState;o.state=m,vl(e,r,o,i),u=e.memoizedState,l!==r||m!==u||St.current||Hn?(typeof p=="function"&&(jh(e,n,p,r),u=e.memoizedState),(l=Hn||cg(e,n,l,r,m,u,h))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,D0(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Xt(e.type,l),o.props=h,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Kt(u):(u=xt(n)?Br:at.current,u=Ui(e,u));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==u)&&hg(e,o,r,u),Hn=!1,m=e.memoizedState,o.state=m,vl(e,r,o,i);var S=e.memoizedState;l!==f||m!==S||St.current||Hn?(typeof _=="function"&&(jh(e,n,_,r),S=e.memoizedState),(h=Hn||cg(e,n,h,r,m,S,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Fh(t,e,n,r,s,i)}function Fh(t,e,n,r,i,s){s1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ng(e,n,!1),Dn(t,e,s);r=e.stateNode,_T.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zi(e,t.child,null,s),e.child=zi(e,null,l,s)):dt(t,e,l,s),e.memoizedState=r.state,i&&ng(e,n,!0),e.child}function o1(t){var e=t.stateNode;e.pendingContext?tg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tg(t,e.context,!1),rf(t,e.containerInfo)}function vg(t,e,n,r,i){return Bi(),Xd(i),e.flags|=256,dt(t,e,n,r),e.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function Uh(t){return{baseLanes:t,cachePool:null,transitions:null}}function a1(t,e,n){var r=e.pendingProps,i=we.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(we,i&1),t===null)return Dh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uu(o,r,0,null),t=Lr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Uh(n),e.memoizedState=$h,t):df(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return wT(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ir(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ir(l,s):(s=Lr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Uh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$h,r}return s=t.child,t=s.sibling,r=ir(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function df(t,e){return e=uu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wa(t,e,n,r){return r!==null&&Xd(r),zi(e,t.child,null,n),t=df(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wT(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ac(Error(F(422))),wa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uu({mode:"visible",children:r.children},i,0,null),s=Lr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&zi(e,t.child,null,o),e.child.memoizedState=Uh(o),e.memoizedState=$h,s);if(!(e.mode&1))return wa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(F(419)),r=Ac(s,r,void 0),wa(t,e,o,r)}if(l=(o&t.childLanes)!==0,wt||l){if(r=$e,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bn(t,i),sn(r,t,i,-1))}return vf(),r=Ac(Error(F(421))),wa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dt=er(i.nextSibling),jt=e,ve=!0,Zt=null,t!==null&&(Bt[zt++]=Cn,Bt[zt++]=In,Bt[zt++]=zr,Cn=t.id,In=t.overflow,zr=e),e=df(e,r.children),e.flags|=4096,e)}function _g(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mh(t.return,e,n)}function Cc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function l1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_g(t,n,e);else if(t.tag===19)_g(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_l(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_l(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cc(e,!0,n,null,s);break;case"together":Cc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=ir(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ir(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ET(t,e,n){switch(e.tag){case 3:o1(e),Bi();break;case 5:M0(e);break;case 1:xt(e.type)&&fl(e);break;case 4:rf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(gl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?a1(t,e,n):(ce(we,we.current&1),t=Dn(t,e,n),t!==null?t.sibling:null);ce(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return l1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,i1(t,e,n)}return Dn(t,e,n)}var u1,Bh,c1,h1;u1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bh=function(){};c1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mr(pn.current);var s=null;switch(n){case"input":i=ch(t,i),r=ch(t,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=fh(t,i),r=fh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hl)}mh(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Zs.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Zs.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&pe("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};h1=function(t,e,n,r){n!==r&&(e.flags|=4)};function As(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ST(t,e,n){var r=e.pendingProps;switch(Yd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return xt(e.type)&&dl(),tt(e),null;case 3:return r=e.stateNode,Hi(),me(St),me(at),of(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(va(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(Yh(Zt),Zt=null))),Bh(t,e),tt(e),null;case 5:sf(e);var i=Mr(ho.current);if(n=e.type,t!==null&&e.stateNode!=null)c1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return tt(e),null}if(t=Mr(pn.current),va(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[hn]=e,r[uo]=s,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<bs.length;i++)pe(bs[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Pm(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Rm(r,s),pe("invalid",r)}mh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ya(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ya(r.textContent,l,t),i=["children",""+l]):Zs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":ua(r),km(r,s,!0);break;case"textarea":ua(r),Nm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hn]=e,t[uo]=r,u1(t,e,!1,!1),e.stateNode=t;e:{switch(o=gh(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<bs.length;i++)pe(bs[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":Pm(t,r),i=ch(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Rm(t,r),i=fh(t,r),pe("invalid",t);break;default:i=r}mh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Bv(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&$v(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&eo(t,u):typeof u=="number"&&eo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zs.hasOwnProperty(s)?u!=null&&s==="onScroll"&&pe("scroll",t):u!=null&&jd(t,s,u,o))}switch(n){case"input":ua(t),km(t,r,!1);break;case"textarea":ua(t),Nm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ur(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ii(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ii(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)h1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Mr(ho.current),Mr(pn.current),va(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(s=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:ya(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ya(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return tt(e),null;case 13:if(me(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&Dt!==null&&e.mode&1&&!(e.flags&128))k0(),Bi(),e.flags|=98560,s=!1;else if(s=va(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[hn]=e}else Bi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),s=!1}else Zt!==null&&(Yh(Zt),Zt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?De===0&&(De=3):vf())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Hi(),Bh(t,e),t===null&&ao(e.stateNode.containerInfo),tt(e),null;case 10:return ef(e.type._context),tt(e),null;case 17:return xt(e.type)&&dl(),tt(e),null;case 19:if(me(we),s=e.memoizedState,s===null)return tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)As(s,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_l(t),o!==null){for(e.flags|=128,As(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(we,we.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ce()>Gi&&(e.flags|=128,r=!0,As(s,!1),e.lanes=4194304)}else{if(!r)if(t=_l(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),As(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ve)return tt(e),null}else 2*Ce()-s.renderingStartTime>Gi&&n!==1073741824&&(e.flags|=128,r=!0,As(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ce(),e.sibling=null,n=we.current,ce(we,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return yf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function xT(t,e){switch(Yd(e),e.tag){case 1:return xt(e.type)&&dl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hi(),me(St),me(at),of(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sf(e),null;case 13:if(me(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Bi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(we),null;case 4:return Hi(),null;case 10:return ef(e.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var Ea=!1,it=!1,TT=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ti(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function zh(t,e,n){try{n()}catch(r){Te(t,e,r)}}var wg=!1;function AT(t,e){if(Ch=ll,t=g0(),Qd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,p=0,f=t,m=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)m=f,f=_;for(;;){if(f===t)break t;if(m===n&&++h===i&&(l=o),m===s&&++p===r&&(u=o),(_=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ih={focusedElem:t,selectionRange:n},ll=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var I=S.memoizedProps,N=S.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?I:Xt(e.type,I),N);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(D){Te(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return S=wg,wg=!1,S}function Us(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zh(e,n,s)}i=i.next}while(i!==r)}}function au(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function d1(t){var e=t.alternate;e!==null&&(t.alternate=null,d1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[uo],delete e[Rh],delete e[aT],delete e[lT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function f1(t){return t.tag===5||t.tag===3||t.tag===4}function Eg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hl));else if(r!==4&&(t=t.child,t!==null))for(Wh(t,e,n),t=t.sibling;t!==null;)Wh(t,e,n),t=t.sibling}function Gh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gh(t,e,n),t=t.sibling;t!==null;)Gh(t,e,n),t=t.sibling}var ze=null,Jt=!1;function Un(t,e,n){for(n=n.child;n!==null;)p1(t,e,n),n=n.sibling}function p1(t,e,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Zl,n)}catch{}switch(n.tag){case 5:it||Ti(n,e);case 6:var r=ze,i=Jt;ze=null,Un(t,e,n),ze=r,Jt=i,ze!==null&&(Jt?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Jt?(t=ze,n=n.stateNode,t.nodeType===8?_c(t.parentNode,n):t.nodeType===1&&_c(t,n),io(t)):_c(ze,n.stateNode));break;case 4:r=ze,i=Jt,ze=n.stateNode.containerInfo,Jt=!0,Un(t,e,n),ze=r,Jt=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zh(n,e,o),i=i.next}while(i!==r)}Un(t,e,n);break;case 1:if(!it&&(Ti(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,e,l)}Un(t,e,n);break;case 21:Un(t,e,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,Un(t,e,n),it=r):Un(t,e,n);break;default:Un(t,e,n)}}function Sg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TT),e.forEach(function(r){var i=MT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,Jt=!1;break e;case 3:ze=l.stateNode.containerInfo,Jt=!0;break e;case 4:ze=l.stateNode.containerInfo,Jt=!0;break e}l=l.return}if(ze===null)throw Error(F(160));p1(s,o,i),ze=null,Jt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Te(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)m1(e,t),e=e.sibling}function m1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),ln(t),r&4){try{Us(3,t,t.return),au(3,t)}catch(I){Te(t,t.return,I)}try{Us(5,t,t.return)}catch(I){Te(t,t.return,I)}}break;case 1:Yt(e,t),ln(t),r&512&&n!==null&&Ti(n,n.return);break;case 5:if(Yt(e,t),ln(t),r&512&&n!==null&&Ti(n,n.return),t.flags&32){var i=t.stateNode;try{eo(i,"")}catch(I){Te(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Vv(i,s),gh(l,o);var h=gh(l,s);for(o=0;o<u.length;o+=2){var p=u[o],f=u[o+1];p==="style"?Bv(i,f):p==="dangerouslySetInnerHTML"?$v(i,f):p==="children"?eo(i,f):jd(i,p,f,h)}switch(l){case"input":hh(i,s);break;case"textarea":Lv(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Ii(i,!!s.multiple,_,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ii(i,!!s.multiple,s.defaultValue,!0):Ii(i,!!s.multiple,s.multiple?[]:"",!1))}i[uo]=s}catch(I){Te(t,t.return,I)}}break;case 6:if(Yt(e,t),ln(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Te(t,t.return,I)}}break;case 3:if(Yt(e,t),ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{io(e.containerInfo)}catch(I){Te(t,t.return,I)}break;case 4:Yt(e,t),ln(t);break;case 13:Yt(e,t),ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mf=Ce())),r&4&&Sg(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(it=(h=it)||p,Yt(e,t),it=h):Yt(e,t),ln(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(z=t,p=t.child;p!==null;){for(f=z=p;z!==null;){switch(m=z,_=m.child,m.tag){case 0:case 11:case 14:case 15:Us(4,m,m.return);break;case 1:Ti(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(I){Te(r,n,I)}}break;case 5:Ti(m,m.return);break;case 22:if(m.memoizedState!==null){Tg(f);continue}}_!==null?(_.return=m,z=_):Tg(f)}p=p.sibling}e:for(p=null,f=t;;){if(f.tag===5){if(p===null){p=f;try{i=f.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Uv("display",o))}catch(I){Te(t,t.return,I)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(I){Te(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Yt(e,t),ln(t),r&4&&Sg(t);break;case 21:break;default:Yt(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(f1(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(eo(i,""),r.flags&=-33);var s=Eg(t);Gh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Eg(t);Wh(t,l,o);break;default:throw Error(F(161))}}catch(u){Te(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CT(t,e,n){z=t,g1(t)}function g1(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ea;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||it;l=Ea;var h=it;if(Ea=o,(it=u)&&!h)for(z=i;z!==null;)o=z,u=o.child,o.tag===22&&o.memoizedState!==null?Ag(i):u!==null?(u.return=o,z=u):Ag(i);for(;s!==null;)z=s,g1(s),s=s.sibling;z=i,Ea=l,it=h}xg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):xg(t)}}function xg(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:it||au(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Xt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ag(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ag(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&io(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}it||e.flags&512&&Hh(e)}catch(m){Te(e,e.return,m)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Tg(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function Ag(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{au(4,e)}catch(u){Te(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Te(e,i,u)}}var s=e.return;try{Hh(e)}catch(u){Te(e,s,u)}break;case 5:var o=e.return;try{Hh(e)}catch(u){Te(e,o,u)}}}catch(u){Te(e,e.return,u)}if(e===t){z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,z=l;break}z=e.return}}var IT=Math.ceil,Sl=On.ReactCurrentDispatcher,ff=On.ReactCurrentOwner,Wt=On.ReactCurrentBatchConfig,ne=0,$e=null,Re=null,Ke=0,Rt=0,Ai=gr(0),De=0,go=null,Wr=0,lu=0,pf=0,Bs=null,_t=null,mf=0,Gi=1/0,Tn=null,xl=!1,Kh=null,nr=null,Sa=!1,Qn=null,Tl=0,zs=0,Qh=null,Ga=-1,Ka=0;function ft(){return ne&6?Ce():Ga!==-1?Ga:Ga=Ce()}function rr(t){return t.mode&1?ne&2&&Ke!==0?Ke&-Ke:cT.transition!==null?(Ka===0&&(Ka=e0()),Ka):(t=le,t!==0||(t=window.event,t=t===void 0?16:a0(t.type)),t):1}function sn(t,e,n,r){if(50<zs)throw zs=0,Qh=null,Error(F(185));No(t,n,r),(!(ne&2)||t!==$e)&&(t===$e&&(!(ne&2)&&(lu|=n),De===4&&Gn(t,Ke)),Tt(t,r),n===1&&ne===0&&!(e.mode&1)&&(Gi=Ce()+500,iu&&yr()))}function Tt(t,e){var n=t.callbackNode;cx(t,e);var r=al(t,t===$e?Ke:0);if(r===0)n!==null&&Mm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Mm(n),e===1)t.tag===0?uT(Cg.bind(null,t)):C0(Cg.bind(null,t)),sT(function(){!(ne&6)&&yr()}),n=null;else{switch(t0(r)){case 1:n=$d;break;case 4:n=Jv;break;case 16:n=ol;break;case 536870912:n=Zv;break;default:n=ol}n=T1(n,y1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function y1(t,e){if(Ga=-1,Ka=0,ne&6)throw Error(F(327));var n=t.callbackNode;if(bi()&&t.callbackNode!==n)return null;var r=al(t,t===$e?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Al(t,r);else{e=r;var i=ne;ne|=2;var s=_1();($e!==t||Ke!==e)&&(Tn=null,Gi=Ce()+500,Vr(t,e));do try{RT();break}catch(l){v1(t,l)}while(!0);Zd(),Sl.current=s,ne=i,Re!==null?e=0:($e=null,Ke=0,e=De)}if(e!==0){if(e===2&&(i=Eh(t),i!==0&&(r=i,e=qh(t,i))),e===1)throw n=go,Vr(t,0),Gn(t,r),Tt(t,Ce()),n;if(e===6)Gn(t,r);else{if(i=t.current.alternate,!(r&30)&&!PT(i)&&(e=Al(t,r),e===2&&(s=Eh(t),s!==0&&(r=s,e=qh(t,s))),e===1))throw n=go,Vr(t,0),Gn(t,r),Tt(t,Ce()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Pr(t,_t,Tn);break;case 3:if(Gn(t,r),(r&130023424)===r&&(e=mf+500-Ce(),10<e)){if(al(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kh(Pr.bind(null,t,_t,Tn),e);break}Pr(t,_t,Tn);break;case 4:if(Gn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-rn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IT(r/1960))-r,10<r){t.timeoutHandle=kh(Pr.bind(null,t,_t,Tn),r);break}Pr(t,_t,Tn);break;case 5:Pr(t,_t,Tn);break;default:throw Error(F(329))}}}return Tt(t,Ce()),t.callbackNode===n?y1.bind(null,t):null}function qh(t,e){var n=Bs;return t.current.memoizedState.isDehydrated&&(Vr(t,e).flags|=256),t=Al(t,e),t!==2&&(e=_t,_t=n,e!==null&&Yh(e)),t}function Yh(t){_t===null?_t=t:_t.push.apply(_t,t)}function PT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!an(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~pf,e&=~lu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rn(e),r=1<<n;t[n]=-1,e&=~r}}function Cg(t){if(ne&6)throw Error(F(327));bi();var e=al(t,0);if(!(e&1))return Tt(t,Ce()),null;var n=Al(t,e);if(t.tag!==0&&n===2){var r=Eh(t);r!==0&&(e=r,n=qh(t,r))}if(n===1)throw n=go,Vr(t,0),Gn(t,e),Tt(t,Ce()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pr(t,_t,Tn),Tt(t,Ce()),null}function gf(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(Gi=Ce()+500,iu&&yr())}}function Gr(t){Qn!==null&&Qn.tag===0&&!(ne&6)&&bi();var e=ne;ne|=1;var n=Wt.transition,r=le;try{if(Wt.transition=null,le=1,t)return t()}finally{le=r,Wt.transition=n,ne=e,!(ne&6)&&yr()}}function yf(){Rt=Ai.current,me(Ai)}function Vr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iT(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Yd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dl();break;case 3:Hi(),me(St),me(at),of();break;case 5:sf(r);break;case 4:Hi();break;case 13:me(we);break;case 19:me(we);break;case 10:ef(r.type._context);break;case 22:case 23:yf()}n=n.return}if($e=t,Re=t=ir(t.current,null),Ke=Rt=e,De=0,go=null,pf=lu=Wr=0,_t=Bs=null,Dr!==null){for(e=0;e<Dr.length;e++)if(n=Dr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Dr=null}return t}function v1(t,e){do{var n=Re;try{if(Zd(),za.current=El,wl){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wl=!1}if(Hr=0,Ve=be=Ee=null,$s=!1,fo=0,ff.current=null,n===null||n.return===null){De=1,go=e,Re=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Ke,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,p=l,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=fg(o);if(_!==null){_.flags&=-257,pg(_,o,l,s,e),_.mode&1&&dg(s,h,e),e=_,u=h;var S=e.updateQueue;if(S===null){var I=new Set;I.add(u),e.updateQueue=I}else S.add(u);break e}else{if(!(e&1)){dg(s,h,e),vf();break e}u=Error(F(426))}}else if(ve&&l.mode&1){var N=fg(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),pg(N,o,l,s,e),Xd(Wi(u,l));break e}}s=u=Wi(u,l),De!==4&&(De=2),Bs===null?Bs=[s]:Bs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=t1(s,u,e);og(s,x);break e;case 1:l=u;var E=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(nr===null||!nr.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=n1(s,l,e);og(s,D);break e}}s=s.return}while(s!==null)}E1(n)}catch(V){e=V,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function _1(){var t=Sl.current;return Sl.current=El,t===null?El:t}function vf(){(De===0||De===3||De===2)&&(De=4),$e===null||!(Wr&268435455)&&!(lu&268435455)||Gn($e,Ke)}function Al(t,e){var n=ne;ne|=2;var r=_1();($e!==t||Ke!==e)&&(Tn=null,Vr(t,e));do try{kT();break}catch(i){v1(t,i)}while(!0);if(Zd(),ne=n,Sl.current=r,Re!==null)throw Error(F(261));return $e=null,Ke=0,De}function kT(){for(;Re!==null;)w1(Re)}function RT(){for(;Re!==null&&!tx();)w1(Re)}function w1(t){var e=x1(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?E1(t):Re=e,ff.current=null}function E1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xT(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Re=null;return}}else if(n=ST(n,e,Rt),n!==null){Re=n;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);De===0&&(De=5)}function Pr(t,e,n){var r=le,i=Wt.transition;try{Wt.transition=null,le=1,NT(t,e,n,r)}finally{Wt.transition=i,le=r}return null}function NT(t,e,n,r){do bi();while(Qn!==null);if(ne&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hx(t,s),t===$e&&(Re=$e=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sa||(Sa=!0,T1(ol,function(){return bi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wt.transition,Wt.transition=null;var o=le;le=1;var l=ne;ne|=4,ff.current=null,AT(t,n),m1(n,t),Xx(Ih),ll=!!Ch,Ih=Ch=null,t.current=n,CT(n),nx(),ne=l,le=o,Wt.transition=s}else t.current=n;if(Sa&&(Sa=!1,Qn=t,Tl=i),s=t.pendingLanes,s===0&&(nr=null),sx(n.stateNode),Tt(t,Ce()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xl)throw xl=!1,t=Kh,Kh=null,t;return Tl&1&&t.tag!==0&&bi(),s=t.pendingLanes,s&1?t===Qh?zs++:(zs=0,Qh=t):zs=0,yr(),null}function bi(){if(Qn!==null){var t=t0(Tl),e=Wt.transition,n=le;try{if(Wt.transition=null,le=16>t?16:t,Qn===null)var r=!1;else{if(t=Qn,Qn=null,Tl=0,ne&6)throw Error(F(331));var i=ne;for(ne|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(z=h;z!==null;){var p=z;switch(p.tag){case 0:case 11:case 15:Us(8,p,s)}var f=p.child;if(f!==null)f.return=p,z=f;else for(;z!==null;){p=z;var m=p.sibling,_=p.return;if(d1(p),p===h){z=null;break}if(m!==null){m.return=_,z=m;break}z=_}}}var S=s.alternate;if(S!==null){var I=S.child;if(I!==null){S.child=null;do{var N=I.sibling;I.sibling=null,I=N}while(I!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Us(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,z=x;break e}z=s.return}}var E=t.current;for(z=E;z!==null;){o=z;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,z=C;else e:for(o=E;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:au(9,l)}}catch(V){Te(l,l.return,V)}if(l===o){z=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,z=D;break e}z=l.return}}if(ne=i,yr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Zl,t)}catch{}r=!0}return r}finally{le=n,Wt.transition=e}}return!1}function Ig(t,e,n){e=Wi(n,e),e=t1(t,e,1),t=tr(t,e,1),e=ft(),t!==null&&(No(t,1,e),Tt(t,e))}function Te(t,e,n){if(t.tag===3)Ig(t,t,n);else for(;e!==null;){if(e.tag===3){Ig(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nr===null||!nr.has(r))){t=Wi(n,t),t=n1(e,t,1),e=tr(e,t,1),t=ft(),e!==null&&(No(e,1,t),Tt(e,t));break}}e=e.return}}function bT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,$e===t&&(Ke&n)===n&&(De===4||De===3&&(Ke&130023424)===Ke&&500>Ce()-mf?Vr(t,0):pf|=n),Tt(t,e)}function S1(t,e){e===0&&(t.mode&1?(e=da,da<<=1,!(da&130023424)&&(da=4194304)):e=1);var n=ft();t=bn(t,e),t!==null&&(No(t,e,n),Tt(t,n))}function DT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),S1(t,n)}function MT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),S1(t,n)}var x1;x1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wt=!1,ET(t,e,n);wt=!!(t.flags&131072)}else wt=!1,ve&&e.flags&1048576&&I0(e,ml,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wa(t,e),t=e.pendingProps;var i=Ui(e,at.current);Ni(e,n),i=lf(null,e,r,t,i,n);var s=uf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)?(s=!0,fl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nf(e),i.updater=ou,e.stateNode=i,i._reactInternals=e,Oh(e,r,t,n),e=Fh(null,e,r,!0,s,n)):(e.tag=0,ve&&s&&qd(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OT(r),t=Xt(r,t),i){case 0:e=Lh(null,e,r,t,n);break e;case 1:e=yg(null,e,r,t,n);break e;case 11:e=mg(null,e,r,t,n);break e;case 14:e=gg(null,e,r,Xt(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),Lh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),yg(t,e,r,i,n);case 3:e:{if(o1(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,D0(t,e),vl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Wi(Error(F(423)),e),e=vg(t,e,r,n,i);break e}else if(r!==i){i=Wi(Error(F(424)),e),e=vg(t,e,r,n,i);break e}else for(Dt=er(e.stateNode.containerInfo.firstChild),jt=e,ve=!0,Zt=null,n=N0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bi(),r===i){e=Dn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return M0(e),t===null&&Dh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ph(r,i)?o=null:s!==null&&Ph(r,s)&&(e.flags|=32),s1(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&Dh(e),null;case 13:return a1(t,e,n);case 4:return rf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zi(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),mg(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ce(gl,r._currentValue),r._currentValue=o,s!==null)if(an(s.value,o)){if(s.children===i.children&&!St.current){e=Dn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Pn(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?u.next=u:(u.next=p.next,p.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Mh(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ni(e,n),i=Kt(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=Xt(r,e.pendingProps),i=Xt(r.type,i),gg(t,e,r,i,n);case 15:return r1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),Wa(t,e),e.tag=1,xt(r)?(t=!0,fl(e)):t=!1,Ni(e,n),e1(e,r,i),Oh(e,r,i,n),Fh(null,e,r,!0,t,n);case 19:return l1(t,e,n);case 22:return i1(t,e,n)}throw Error(F(156,e.tag))};function T1(t,e){return Xv(t,e)}function jT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,n,r){return new jT(t,e,n,r)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OT(t){if(typeof t=="function")return _f(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vd)return 11;if(t===Ld)return 14}return 2}function ir(t,e){var n=t.alternate;return n===null?(n=Ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")_f(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case mi:return Lr(n.children,i,s,e);case Od:o=8,i|=8;break;case oh:return t=Ht(12,n,e,i|2),t.elementType=oh,t.lanes=s,t;case ah:return t=Ht(13,n,e,i),t.elementType=ah,t.lanes=s,t;case lh:return t=Ht(19,n,e,i),t.elementType=lh,t.lanes=s,t;case Mv:return uu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bv:o=10;break e;case Dv:o=9;break e;case Vd:o=11;break e;case Ld:o=14;break e;case zn:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Ht(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Lr(t,e,n,r){return t=Ht(7,t,r,e),t.lanes=n,t}function uu(t,e,n,r){return t=Ht(22,t,r,e),t.elementType=Mv,t.lanes=n,t.stateNode={isHidden:!1},t}function Ic(t,e,n){return t=Ht(6,t,null,e),t.lanes=n,t}function Pc(t,e,n){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lc(0),this.expirationTimes=lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wf(t,e,n,r,i,s,o,l,u){return t=new VT(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ht(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nf(s),t}function LT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function A1(t){if(!t)return cr;t=t._reactInternals;e:{if(Zr(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(xt(n))return A0(t,n,e)}return e}function C1(t,e,n,r,i,s,o,l,u){return t=wf(n,r,!0,t,i,s,o,l,u),t.context=A1(null),n=t.current,r=ft(),i=rr(n),s=Pn(r,i),s.callback=e??null,tr(n,s,i),t.current.lanes=i,No(t,i,r),Tt(t,r),t}function cu(t,e,n,r){var i=e.current,s=ft(),o=rr(i);return n=A1(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tr(i,e,o),t!==null&&(sn(t,i,o,s),Ba(t,i,o)),o}function Cl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ef(t,e){Pg(t,e),(t=t.alternate)&&Pg(t,e)}function FT(){return null}var I1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sf(t){this._internalRoot=t}hu.prototype.render=Sf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));cu(t,e,null,null)};hu.prototype.unmount=Sf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gr(function(){cu(null,t,null,null)}),e[Nn]=null}};function hu(t){this._internalRoot=t}hu.prototype.unstable_scheduleHydration=function(t){if(t){var e=i0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wn.length&&e!==0&&e<Wn[n].priority;n++);Wn.splice(n,0,t),n===0&&o0(t)}};function xf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kg(){}function $T(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Cl(o);s.call(h)}}var o=C1(e,r,t,0,null,!1,!1,"",kg);return t._reactRootContainer=o,t[Nn]=o.current,ao(t.nodeType===8?t.parentNode:t),Gr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Cl(u);l.call(h)}}var u=wf(t,0,!1,null,null,!1,!1,"",kg);return t._reactRootContainer=u,t[Nn]=u.current,ao(t.nodeType===8?t.parentNode:t),Gr(function(){cu(e,u,n,r)}),u}function fu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Cl(o);l.call(u)}}cu(e,o,t,i)}else o=$T(n,e,t,i,r);return Cl(o)}n0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ns(e.pendingLanes);n!==0&&(Ud(e,n|1),Tt(e,Ce()),!(ne&6)&&(Gi=Ce()+500,yr()))}break;case 13:Gr(function(){var r=bn(t,1);if(r!==null){var i=ft();sn(r,t,1,i)}}),Ef(t,1)}};Bd=function(t){if(t.tag===13){var e=bn(t,134217728);if(e!==null){var n=ft();sn(e,t,134217728,n)}Ef(t,134217728)}};r0=function(t){if(t.tag===13){var e=rr(t),n=bn(t,e);if(n!==null){var r=ft();sn(n,t,e,r)}Ef(t,e)}};i0=function(){return le};s0=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};vh=function(t,e,n){switch(e){case"input":if(hh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ru(r);if(!i)throw Error(F(90));Ov(r),hh(r,i)}}}break;case"textarea":Lv(t,n);break;case"select":e=n.value,e!=null&&Ii(t,!!n.multiple,e,!1)}};Wv=gf;Gv=Gr;var UT={usingClientEntryPoint:!1,Events:[Do,_i,ru,zv,Hv,gf]},Cs={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BT={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qv(t),t===null?null:t.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||FT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{Zl=xa.inject(BT),fn=xa}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UT;Ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(e))throw Error(F(200));return LT(t,e,null,n)};Ft.createRoot=function(t,e){if(!xf(t))throw Error(F(299));var n=!1,r="",i=I1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wf(t,1,!1,null,null,n,!1,r,i),t[Nn]=e.current,ao(t.nodeType===8?t.parentNode:t),new Sf(e)};Ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=qv(e),t=t===null?null:t.stateNode,t};Ft.flushSync=function(t){return Gr(t)};Ft.hydrate=function(t,e,n){if(!du(e))throw Error(F(200));return fu(null,t,e,!0,n)};Ft.hydrateRoot=function(t,e,n){if(!xf(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=I1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=C1(e,null,t,1,n??null,i,!1,s,o),t[Nn]=e.current,ao(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hu(e)};Ft.render=function(t,e,n){if(!du(e))throw Error(F(200));return fu(null,t,e,!1,n)};Ft.unmountComponentAtNode=function(t){if(!du(t))throw Error(F(40));return t._reactRootContainer?(Gr(function(){fu(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};Ft.unstable_batchedUpdates=gf;Ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!du(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return fu(t,e,n,!1,r)};Ft.version="18.3.1-next-f1338f8080-20240426";function P1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P1)}catch(t){console.error(t)}}P1(),Pv.exports=Ft;var zT=Pv.exports;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yo(){return yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yo.apply(this,arguments)}var qn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qn||(qn={}));const Rg="popstate";function HT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Xh("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Il(i)}return GT(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function k1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WT(){return Math.random().toString(36).substr(2,8)}function Ng(t,e){return{usr:t.state,key:t.key,idx:e}}function Xh(t,e,n,r){return n===void 0&&(n=null),yo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rs(e):e,{state:n,key:e&&e.key||r||WT()})}function Il(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=qn.Pop,u=null,h=p();h==null&&(h=0,o.replaceState(yo({},o.state,{idx:h}),""));function p(){return(o.state||{idx:null}).idx}function f(){l=qn.Pop;let N=p(),x=N==null?null:N-h;h=N,u&&u({action:l,location:I.location,delta:x})}function m(N,x){l=qn.Push;let E=Xh(I.location,N,x);h=p()+1;let C=Ng(E,h),D=I.createHref(E);try{o.pushState(C,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(D)}s&&u&&u({action:l,location:I.location,delta:1})}function _(N,x){l=qn.Replace;let E=Xh(I.location,N,x);h=p();let C=Ng(E,h),D=I.createHref(E);o.replaceState(C,"",D),s&&u&&u({action:l,location:I.location,delta:0})}function S(N){let x=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof N=="string"?N:Il(N);return E=E.replace(/ $/,"%20"),Ne(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let I={get action(){return l},get location(){return t(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Rg,f),u=N,()=>{i.removeEventListener(Rg,f),u=null}},createHref(N){return e(i,N)},createURL:S,encodeLocation(N){let x=S(N);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:_,go(N){return o.go(N)}};return I}var bg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bg||(bg={}));function KT(t,e,n){return n===void 0&&(n="/"),QT(t,e,n,!1)}function QT(t,e,n,r){let i=typeof e=="string"?rs(e):e,s=Tf(i.pathname||"/",n);if(s==null)return null;let o=R1(t);qT(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=oA(s);l=iA(o[u],h,r)}return l}function R1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ne(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=sr([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(Ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),R1(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:nA(h,s.index),routesMeta:p})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of N1(s.path))i(s,o,u)}),e}function N1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=N1(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function qT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YT=/^:[\w-]+$/,XT=3,JT=2,ZT=1,eA=10,tA=-2,Dg=t=>t==="*";function nA(t,e){let n=t.split("/"),r=n.length;return n.some(Dg)&&(r+=tA),e&&(r+=JT),n.filter(i=>!Dg(i)).reduce((i,s)=>i+(YT.test(s)?XT:s===""?ZT:eA),r)}function rA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iA(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",f=Mg({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),m=u.route;if(!f&&h&&n&&!r[r.length-1].route.index&&(f=Mg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:sr([s,f.pathname]),pathnameBase:cA(sr([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=sr([s,f.pathnameBase]))}return o}function Mg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,f)=>{let{paramName:m,isOptional:_}=p;if(m==="*"){let I=l[f]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const S=l[f];return _&&!S?h[m]=void 0:h[m]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function sA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),k1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return k1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rs(t):t;return{pathname:n?n.startsWith("/")?n:lA(n,e):e,search:hA(r),hash:dA(i)}}function lA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function b1(t,e){let n=uA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function D1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rs(t):(i=yo({},t),Ne(!i.pathname||!i.pathname.includes("?"),kc("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),kc("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),kc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let u=aA(i,l),h=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}const sr=t=>t.join("/").replace(/\/\/+/g,"/"),cA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M1=["post","put","patch","delete"];new Set(M1);const pA=["get",...M1];new Set(pA);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vo(){return vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vo.apply(this,arguments)}const Af=M.createContext(null),mA=M.createContext(null),ei=M.createContext(null),pu=M.createContext(null),vr=M.createContext({outlet:null,matches:[],isDataRoute:!1}),j1=M.createContext(null);function gA(t,e){let{relative:n}=e===void 0?{}:e;jo()||Ne(!1);let{basename:r,navigator:i}=M.useContext(ei),{hash:s,pathname:o,search:l}=V1(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:sr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function jo(){return M.useContext(pu)!=null}function Oo(){return jo()||Ne(!1),M.useContext(pu).location}function O1(t){M.useContext(ei).static||M.useLayoutEffect(t)}function mu(){let{isDataRoute:t}=M.useContext(vr);return t?RA():yA()}function yA(){jo()||Ne(!1);let t=M.useContext(Af),{basename:e,future:n,navigator:r}=M.useContext(ei),{matches:i}=M.useContext(vr),{pathname:s}=Oo(),o=JSON.stringify(b1(i,n.v7_relativeSplatPath)),l=M.useRef(!1);return O1(()=>{l.current=!0}),M.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let f=D1(h,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:sr([e,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[e,r,o,s,t])}function vA(){let{matches:t}=M.useContext(vr),e=t[t.length-1];return e?e.params:{}}function V1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(ei),{matches:i}=M.useContext(vr),{pathname:s}=Oo(),o=JSON.stringify(b1(i,r.v7_relativeSplatPath));return M.useMemo(()=>D1(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function _A(t,e){return wA(t,e)}function wA(t,e,n,r){jo()||Ne(!1);let{navigator:i}=M.useContext(ei),{matches:s}=M.useContext(vr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=Oo(),p;if(e){var f;let N=typeof e=="string"?rs(e):e;u==="/"||(f=N.pathname)!=null&&f.startsWith(u)||Ne(!1),p=N}else p=h;let m=p.pathname||"/",_=m;if(u!=="/"){let N=u.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=KT(t,{pathname:_}),I=AA(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:sr([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:sr([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return e&&I?M.createElement(pu.Provider,{value:{location:vo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:qn.Pop}},I):I}function EA(){let t=kA(),e=fA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const SA=M.createElement(EA,null);class xA extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(vr.Provider,{value:this.props.routeContext},M.createElement(j1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TA(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(Af);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(vr.Provider,{value:e},r)}function AA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);p>=0||Ne(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=p),f.route.id){let{loaderData:m,errors:_}=n,S=f.route.loader&&m[f.route.id]===void 0&&(!_||_[f.route.id]===void 0);if(f.route.lazy||S){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,f,m)=>{let _,S=!1,I=null,N=null;n&&(_=l&&f.route.id?l[f.route.id]:void 0,I=f.route.errorElement||SA,u&&(h<0&&m===0?(S=!0,N=null):h===m&&(S=!0,N=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,m+1)),E=()=>{let C;return _?C=I:S?C=N:f.route.Component?C=M.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=p,M.createElement(TA,{match:f,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?M.createElement(xA,{location:n.location,revalidation:n.revalidation,component:I,error:_,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}var L1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(L1||{}),Pl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pl||{});function CA(t){let e=M.useContext(Af);return e||Ne(!1),e}function IA(t){let e=M.useContext(mA);return e||Ne(!1),e}function PA(t){let e=M.useContext(vr);return e||Ne(!1),e}function F1(t){let e=PA(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function kA(){var t;let e=M.useContext(j1),n=IA(Pl.UseRouteError),r=F1(Pl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RA(){let{router:t}=CA(L1.UseNavigateStable),e=F1(Pl.UseNavigateStable),n=M.useRef(!1);return O1(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,vo({fromRouteId:e},s)))},[t,e])}const jg={};function NA(t,e){jg[e]||(jg[e]=!0,console.warn(e))}const Og=(t,e,n)=>NA(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function bA(t,e){t!=null&&t.v7_startTransition||Og("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Og("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function ci(t){Ne(!1)}function DA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qn.Pop,navigator:s,static:o=!1,future:l}=t;jo()&&Ne(!1);let u=e.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:u,navigator:s,static:o,future:vo({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=rs(r));let{pathname:p="/",search:f="",hash:m="",state:_=null,key:S="default"}=r,I=M.useMemo(()=>{let N=Tf(p,u);return N==null?null:{location:{pathname:N,search:f,hash:m,state:_,key:S},navigationType:i}},[u,p,f,m,_,S,i]);return I==null?null:M.createElement(ei.Provider,{value:h},M.createElement(pu.Provider,{children:n,value:I}))}function MA(t){let{children:e,location:n}=t;return _A(Jh(e),n)}new Promise(()=>{});function Jh(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Jh(r.props.children,s));return}r.type!==ci&&Ne(!1),!r.props.index||!r.props.children||Ne(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function jA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VA(t,e){return t.button===0&&(!e||e==="_self")&&!OA(t)}const LA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FA="6";try{window.__reactRouterVersion=FA}catch{}const $A="startTransition",Vg=tE[$A];function UA(t){let{basename:e,children:n,future:r,window:i}=t,s=M.useRef();s.current==null&&(s.current=HT({window:i,v5Compat:!0}));let o=s.current,[l,u]=M.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},p=M.useCallback(f=>{h&&Vg?Vg(()=>u(f)):u(f)},[u,h]);return M.useLayoutEffect(()=>o.listen(p),[o,p]),M.useEffect(()=>bA(r),[r]),M.createElement(DA,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const BA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$1=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:p,viewTransition:f}=e,m=jA(e,LA),{basename:_}=M.useContext(ei),S,I=!1;if(typeof h=="string"&&zA.test(h)&&(S=h,BA))try{let C=new URL(window.location.href),D=h.startsWith("//")?new URL(C.protocol+h):new URL(h),V=Tf(D.pathname,_);D.origin===C.origin&&V!=null?h=V+D.search+D.hash:I=!0}catch{}let N=gA(h,{relative:i}),x=HA(h,{replace:o,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:f});function E(C){r&&r(C),C.defaultPrevented||x(C)}return M.createElement("a",Zh({},m,{href:S||N,onClick:I||s?r:E,ref:n,target:u}))});var Lg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lg||(Lg={}));var Fg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fg||(Fg={}));function HA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=mu(),h=Oo(),p=V1(t,{relative:o});return M.useCallback(f=>{if(VA(f,n)){f.preventDefault();let m=r!==void 0?r:Il(h)===Il(p);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,p,r,i,n,t,s,o,l])}function Rc({title:t,path:e}){let n=mu();const r=Oo();function i(l){n(l)}const s=r.pathname===e;let o="cursor-pointer hover:text-blue-300";return s&&(o+=" text-blue-800 dark:text-blue-300",o+=" underline underline-offset-8 decoration-2"),g.jsx("div",{className:o,onClick:()=>i(e),children:t})}function WA(){return g.jsxs("div",{className:"flex flex-row justify-between p-4 pr-6",children:[g.jsx("div",{className:"mr-6",children:"expenses"}),g.jsxs("div",{id:"nav-bar",className:"flex flex-row gap-5",children:[g.jsx(Rc,{title:"Expenses",path:Nt.root}),g.jsx(Rc,{title:"Accounts",path:Nt.paymentAccounts}),g.jsx(Rc,{title:"Settings",path:Nt.settings}),g.jsx(LS,{})]})]})}const GA=["expenses","groceries","eatout","social","ocio","drinks","invite","transport","health","present","home"],KA="expenses-form",QA=2;function _o(){return new Date(new Date().setMilliseconds(0))}const qA="sv-SE",YA=new Intl.DateTimeFormat(qA,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format;function XA(t){const e=t.getTimezoneOffset(),n=e<=0?"+":"-",r=e%60,i=(e-r)/60,s=o=>String(Math.abs(o)).padStart(2,"0");return`${n}${s(i)}:${s(r)}`}function Cf(t){const e=YA(t),n=XA(t);return`${e} ${n}`}function If(t){return Cf(t).replace(" ","T").replace(" ","")}function JA(t){return new Date(Date.parse(t))}function $g({checked:t,label:e,onChange:n}){function r(s){n(s.target.checked)}const i=e.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","");return g.jsxs("label",{htmlFor:i,className:"relative inline-flex flex-row flex-nowrap justify-start items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",id:i,checked:t,onChange:r,className:"hidden peer"}),g.jsx("div",{role:"checkbox-icon-box",className:"w-5 h-5 rounded-sm border-2     border-gray-300       peer-checked:border-blue-500         dark:border-gray-600  dark:peer-checked:border-blue-600              bg-gray-100           peer-checked:bg-blue-500         dark:bg-gray-700      dark:peer-checked:bg-blue-700 transition-all",children:t&&g.jsx("svg",{role:"checkbox-icon-check",className:"w-4 h-4 absolute left-2.5 top-1/2 transform -translate-x-1/2 -translate-y-1/2      stroke-gray-100 dark:stroke-blue-200",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})}),g.jsx("div",{role:"checkbox-label",className:"p-2 text-sm ",children:e})]})}class Sn{constructor(e,n){G(this,"key");G(this,"type");this.key=e,this.type=n}exists(){return!!window.localStorage.getItem(this.key)}read(){const e=window.localStorage.getItem(this.key);if(e!==null)switch(this.type){case"string":return e;case"number":return Number(e);case"object":return JSON.parse(e);default:throw new Error(`Type ${this.type} is not supported yet`)}}set(e){this.assertType(e);let n="";switch(this.type){case"string":n=e;break;case"number":n=e.toString();break;case"object":n=JSON.stringify(e);break;default:throw new Error(`Type ${this.type} is not supported yet`)}window.localStorage.setItem(this.key,n)}delete(){this.exists()&&window.localStorage.removeItem(this.key)}assertType(e){const n=typeof e,r=this.type;if(n!==r)throw new Error(`Expected ${r}, got ${n} instead`)}}class U1{constructor(){G(this,"splitwiseApiToken");G(this,"tripTags");G(this,"people");G(this,"expenses");G(this,"paymentAccounts");G(this,"defaultPaymentAccountId");G(this,"firestoreConfig");G(this,"currencies");G(this,"shortcuts");this.splitwiseApiToken=new Sn("exp_splitwise_api_token","string"),this.tripTags=new Sn("exp__trip_tags","object"),this.people=new Sn("exp__people","object"),this.expenses=new Sn("exp__expenses","object"),this.paymentAccounts=new Sn("exp__payment_accounts","object"),this.defaultPaymentAccountId=new Sn("exp__default_payment_account_id","string"),this.firestoreConfig=new Sn("exp__firestore_config","object"),this.currencies=new Sn("exp__currencies","string"),this.shortcuts=new Sn("exp__shortcuts","object")}}const Me=new U1;function ZA(t,e){return new Set([...t,...e])}function eC(t,e){const n=new Set;if(t===void 0||e===void 0)return n;for(const r of t)e.has(r)&&n.add(r);return n}function tC({a:t,b:e}){const n=new Set,r=new Set([...e]);for(const i of t)e.has(i)?r.delete(i):n.add(i);return{inAButNotInB:n,inBButNotInA:r}}const Ar="";function B1({id:t,value:e,placeholder:n,choices:r,onChange:i,allowChoiceCreation:s,className:o}){const l=s===void 0?!0:s,[u,h]=M.useState(Ar),[p,f]=M.useState(!1),m=r.filter(T=>!e.includes(T)),_=m.filter(T=>T.toLowerCase().includes(u.toLowerCase())),S=Ta({chosen:e,notChosen:m,toChoose:_,all:r}),I=M.useRef(null);let N="relative text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 p-3 has-[input:focus]:border-t  border-t-blue-300  dark:has-[input:focus]:border-t-blue-300 has-[input:focus]:border-l  border-l-blue-300  dark:has-[input:focus]:border-l-blue-300 has-[input:focus]:border-r  border-r-blue-300  dark:has-[input:focus]:border-r-blue-300 group rounded has-[input:focus]:rounded-b-none appearance-none leading-tight";o&&(N+=` ${o}`);const x=" text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";function E(){f(!0)}function C(){f(!1)}M.useEffect(()=>{function T(R){R.composedPath().includes(I.current)||C()}document.addEventListener("mousedown",T)},[]);function D(T){h(T)}function V(){const T=nC({choice:u,state:S});Ta(T),i([...T.chosen]),h(Ar)}function L(T){const R=rC({choice:T,state:S});Ta(R),i([...R.chosen]),h(Ar)}function w(T){const R=iC({choice:T,state:S});Ta(R),i([...R.chosen]),h(Ar)}const A=![Ar,void 0].includes(u)&&_.length===0,k=e.length>0?void 0:n;return g.jsxs("div",{ref:I,className:N,role:"multi-choice-dropdown",onFocus:E,children:[g.jsxs("div",{className:"flex flex-row flex-wrap gap-2 overflow-x-hidden",role:"listbox-selected",children:[e.map((T,R)=>g.jsxs("div",{role:"choice",onClick:()=>w(T),className:"px-3 py-2 rounded text-gray-800 dark:text-gray-800   bg-gray-300   dark:bg-gray-400 cursor-pointer",children:[T,"  "]},`${R}-${T}`)),g.jsx("input",{id:t,type:"search",className:x,value:u===void 0?Ar:u,placeholder:k===void 0?Ar:k,onChange:T=>D(T.target.value)})]}),p&&g.jsxs("div",{role:"listbox-selectable",className:"absolute top-full inset-x-0 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 group-focus-within:border-l  group-focus-within:border-l-blue-300  dark:group-focus-within:border-l-blue-300 group-focus-within:border-b  group-focus-within:border-b-blue-300  dark:group-focus-within:border-b-blue-300 group-focus-within:border-r  group-focus-within:border-r-blue-300  dark:group-focus-within:border-r-blue-300 rounded-b -m-px z-10 dark:z-10",children:[A?l?g.jsxs("div",{role:"create-choice",onClick:V,className:"px-3 py-3 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:["Add  ",g.jsx("b",{children:u})]}):g.jsx("div",{role:"choices-not-found",className:"px-3 py-3 text-gray-800  dark:text-gray-200    bg-red-200     dark:bg-red-500",children:"Not found"}):null,m.filter(T=>T.toLowerCase().includes(u.toLowerCase())).map((T,R)=>g.jsx("div",{role:"choice",onClick:()=>L(T),className:"py-3 px-5 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:T},`${R}-${T}`))]})]})}function Ta(t){const e=new Set(t.chosen),n=new Set(t.notChosen),r=new Set(t.all),i=eC(e,n);if(i.size>0)throw on("invalid state: a choice must only appear in either 'chosen' or 'notChosen' collections, but the following choices appear in both: "+[...i].map(u=>`'${u}'`).sort().join(", "));const s=[],{inAButNotInB:o,inBButNotInA:l}=tC({a:r,b:ZA(e,n)});if(o.size>0&&s.push("every choice in the 'all' collection must appear in either 'chosen' or, 'notChosen' collections but these do not: "+[...o].map(u=>`'${u}'`).sort().join(", ")),l.size>0&&s.push("every choice in the 'chosen' and 'notChosen' collections must appear in the 'all' collection, but these do not: "+[...l].map(u=>`'${u}'`).sort().join(", ")),s.length>0)throw on(`invalid state:
${s.join(`

`)}`);return t}function nC({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:[...e.chosen,t],notChosen:e.notChosen.filter(n=>n!==t),all:[...e.all,t]}}function rC({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:[...e.chosen,t],notChosen:e.notChosen.filter(n=>n!==t),all:[...e.all]}}function iC({choice:t,state:e}){return{toChoose:[...e.toChoose],chosen:e.chosen.filter(n=>n!==t),notChosen:[...e.notChosen,t],all:[...e.all]}}function Et({id:t,value:e,placeholder:n,onChange:r,className:i,isCode:s}){let o="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";i&&(o+=` ${i}`),s&&(o+=" font-mono");function l(u){let h=u.target.value;h===""&&(h=void 0),r(h)}return g.jsx("input",{id:t,className:o,value:e===void 0?"":e,placeholder:n===void 0?"":n,onChange:l})}var Mn=(t=>(t[t.KeepOrder=-1]="KeepOrder",t[t.SwapOrder=1]="SwapOrder",t))(Mn||{});let sC=t=>crypto.getRandomValues(new Uint8Array(t)),oC=(t,e,n)=>{let r=(2<<Math.log2(t.length-1))-1,i=-~(1.6*r*e/t.length);return(s=e)=>{let o="";for(;;){let l=n(i),u=i;for(;u--;)if(o+=t[l[u]&r]||"",o.length===s)return o}}},aC=(t,e=21)=>oC(t,e,sC);function lC(){return aC("1234567890abcdef",10)()}function z1(t){return`${t}_${lC()}`}var H1=(t=>(t.local="local",t.pushed="pushed",t.changedSincePushed="changedSincePushed",t))(H1||{});class Pf{constructor(){G(this,"change$");G(this,"changeSubject");G(this,"expenses");this.changeSubject=new Xr,this.change$=this.changeSubject.asObservable(),this.expenses=new Map}add(e){console.debug("ExpenseManager.add::newExpense:",e);const n=this.generateId(),i={expense:{id:n,...e},status:"local",readyToPublish:!1};this.expenses.set(n,i),this.changeSubject.next({kind:"ExpenseAdded",expenseId:n})}get(e){const n=this.expenses.get(e);if(n===void 0)throw new Error(`Expected a ${e} Expense ID in ${Pf.name}, but not found`);return n}getAll(){console.debug("ExpenseManager.getAll()");const e=[];for(const n of this.expenses.values())e.push(n);return e.sort((n,r)=>n.expense.datetime<r.expense.datetime?Mn.SwapOrder:Mn.KeepOrder)}update(e){console.debug("ExpenseManager.update::expense:",e);const{id:n}=e,r=this.expenses.get(n);if(r===void 0)throw new Error(`Expected an Expense with ID ${n}, but none found.`);const i={...r,expense:e,readyToPublish:uC(e)};this.expenses.set(n,i),this.changeSubject.next({kind:"ExpenseUpdated",expenseId:n})}delete(e){console.debug(`ExpenseManager.delete::id=${e}`),this.expenses.delete(e),this.changeSubject.next({kind:"ExpenseDeleted",expenseId:e})}initialize({appExpenses:e}){console.debug("ExpenseManager.initialize::Starting initialization...");const n=new Set;e.forEach(r=>{const i=r.expense.id;if(n.has(i))throw new Error(`IDs must be unique, and ${i} is repeated`);n.add(i),this.expenses.set(i,r)}),console.debug("ExpenseManager.initialize::Run to completion")}generateId(){return z1("exp")}}function uC(t){return t.amount!==void 0}function cC(t){function e(i){return i.expense.datetime.slice(0,10)}const n=new Map;for(const i of t){const s=e(i),o=n.get(s)||[];n.set(s,[...o,i])}return[...n.keys()].sort().reverse().map(i=>[i,n.get(i)])}const hC=new Set("abcdefghijklmnopqrstuvwxyz0123456789".split(""));function dC(t){const e="",n=" ";function r(f){return f.replaceAll("&","And")}function i(f){return hC.has(f.toLowerCase())===!1}function s(f){return i(f)?n:f}function o(f){return f.split(e).map((m,_)=>_===0?m.toUpperCase():m.toLowerCase()).join(e)}function l(f){return r(f).split(e).map(s).join(e).split(n).map(o).join(e)}const h=t.includes(" via ")?t.split(" via "):[t];if(h.length===0)throw on("expected 1 or 2 chunks, but got 0");const p=h.map(l);switch(p.length){case 1:return{ok:!0,seller:p[0]};case 2:const[f,m]=p;return{ok:!0,seller:`${f} (via @${m})`};default:throw on(`expected 1 or 2 chunks, but got ${p.length}`)}}function fC({descriptionSeller:t,onAcceptance:e}){if(t===void 0)return null;const n=dC(t);if(n.ok===!1)return g.jsxs("div",{children:["ERROR when computing seller suggestion: ",n.error]});if(n.seller===t)return null;const r=n.seller;return g.jsxs("div",{className:"m-3 flex flex-col flex-wrap gap-y-3",children:[g.jsx("div",{className:"opacity-70",children:"seller format suggestion:"}),g.jsx("div",{children:r}),g.jsx("div",{children:g.jsx(se,{text:"Apply suggestion",onClick:()=>e(r)})})]})}function pC({name:t,selected:e,onClick:n}){const r=i=>{i.preventDefault(),n()};return g.jsx(se,{text:t,active:e,onClick:r})}const mC=Lt.div`
  display: flex;
  flex-flow: row wrap;
  justify-content: flex-start;
  align-items: stretch;
  align-content: flex-start;
  row-gap: 0.5rem;
  column-gap: 0.5rem;
`;function gC({tags:t,selected:e,onChange:n}){function r(i){const s=new Set([...e.values()]);e.has(i)?s.delete(i):s.add(i),n(s)}return g.jsx(mC,{children:t.map((i,s)=>g.jsx(pC,{name:i,selected:e.has(i),onClick:()=>r(i)},`${i}-${s}`))})}function Rr({main:t,people:e,seller:n,tags:r}){const i=[];if(t&&i.push(t),e&&e.length>0){const s=e.map(o=>`@${o}`);i.push(`with ${s.join(",")}`)}if(n&&i.push(`at @${n}`),r.length>0){const s=r.map(o=>`#${o}`).join(" ");i.push(s)}return i.join(" ")}function gu({raw:t}){let e=t,n,r,i=[],s,o=[];return e.startsWith("#")?(i=e.split("#").map(u=>u.trim()).filter(u=>u!==""),{main:r,people:o,seller:n,tags:i}):([e,...i]=e.split(" #"),e.startsWith("at @")?(n=e.replace("at @","").trim(),{main:r,people:o,seller:n,tags:i}):([e,n]=e.split(" at @"),e.startsWith("with @")?(o=e.replace("with @","").split(",@"),{main:r,people:o,seller:n,tags:i}):([e,s]=e.split(" with @"),s&&(o=s.split(",@")),e.trim()!==""&&(r=e),{main:r,people:o,seller:n,tags:i})))}const yC=Me.tripTags.read()||[],vC=_C([GA,yC]);function _C(t){const e=new Set([]),n=[];for(const r of t.flatMap(i=>i))e.has(r)||(e.add(r),n.push(r));return n}function kf({description:t,peopleInSettings:e,onChange:n}){const r=gu({raw:t}),[i,s]=M.useState([]),o=wC({inSettings:e,addedByUser:i,inExpense:r.people});function l(m){n(Rr({...r,main:m}))}function u(m){n(Rr({...r,seller:m}))}function h(m){const _=m;if(!_)return;const S=new Set(o),I=_.filter(x=>!S.has(x));I.length>0&&s([...i,...I]);const N=_.sort();n(Rr({...r,people:N}))}function p(m){const _=[...m.values()];n(Rr({...r,tags:_}))}function f(m){n(Rr({...r,seller:m}))}return g.jsxs("div",{role:"description-form",className:"mb-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[g.jsx(Et,{value:r.main,placeholder:"description",className:"col-start-1 col-span-2",onChange:l}),g.jsx(Et,{value:r.seller,placeholder:"seller",className:"col-start-1 col-span-1",onChange:u}),g.jsx(B1,{placeholder:"people",value:r.people,choices:o,onChange:h,allowChoiceCreation:!0})]}),r.seller&&g.jsx(fC,{descriptionSeller:r.seller,onAcceptance:f}),g.jsx(gC,{tags:vC,selected:new Set(r.tags),onChange:p})]})}function wC({inSettings:t,addedByUser:e,inExpense:n}){return[...new Set([...t,...e,...n]).values()].sort()}function EC(t){if(t==="")return{isNumber:!1};const e=Number(t);return isNaN(e)?{isNumber:!1}:{isNumber:!0,value:e}}function Hs({value:t,placeholder:e,onChange:n,className:r}){let i="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";r&&(i+=` ${r}`);function s(o){if(o===""||o===void 0||o===null){n(void 0);return}const l=EC(o);l.isNumber&&n(l.value)}return g.jsx("input",{type:"number",pattern:"[0-9]*",className:i,value:t===void 0?"":t,placeholder:e===void 0?"":e,onChange:o=>s(o.target.value)})}class yu{constructor({expenseManager:e}){G(this,"change$");G(this,"accounts");G(this,"changeSubject");G(this,"defaultAccountId");G(this,"expensesPerAccount");G(this,"expenseManager");this.expenseManager=e,this.accounts=new Map,this.expensesPerAccount=new Map,this.changeSubject=new Xr,this.change$=this.changeSubject.asObservable(),this.defaultAccountId=void 0,this.change$.subscribe(n=>console.debug(`${yu.name}.change$:`,n)),this.expenseManager.change$.subscribe(n=>{switch(n.kind){case"ExpenseAdded":return this.updateAccountToExpenseIndex();case"ExpenseUpdated":return this.updateAccountToExpenseIndex();case"ExpenseDeleted":return this.updateAccountToExpenseIndex();default:throw new Error(`PaymentAccountsManager: unsupported change: ${n}`)}})}initialize({accounts:e,defaultAccountId:n}){console.debug("PaymentAccountsManager.initialize::started"),console.debug("PaymentAccountsManager.initialize::defaultAccountId",n);for(const r of e){const{id:i}=r;if(this.accounts.has(i))throw new Error(`PaymentAccountsManager.initialize::same PaymentAccountId found at least twice: ${i}`);this.accounts.set(i,r)}if(n&&this.accounts.has(n)===!1)throw new Error(`PaymentAccountsManager.initialize::no account ID matches the defaultAccountId='${n}'`);this.updateAccountToExpenseIndex(),this.defaultAccountId=n,this.changeSubject.next({kind:"PaymentAccountManagerInitialized"})}get({id:e}){return this.accounts.get(e)}setDefault({id:e}){if(this.accounts.has(e)===!1)throw new Error(`PaymentAccountsManager.setDefault::'${e}' must match an existing Payment Account ID`);this.defaultAccountId=e,this.changeSubject.next({kind:"DefaultPaymentAccountSet",id:e})}getDefault(){if(this.accounts.size!==0){if(this.accounts.size===1)return[...this.accounts.values()][0];if(this.defaultAccountId!==void 0)return this.accounts.get(this.defaultAccountId)}}getAll(){return[...this.accounts.values()].sort(Ug)}getAllVisible(){return[...this.accounts.values()].filter(e=>e.isVisible).sort(Ug)}add({draft:e}){const n=this.generatePaymentAccountId(),r={id:n,...e};this.accounts.set(n,r),this.changeSubject.next({kind:"PaymentAccountAdded",id:n})}update({account:e}){const{id:n}=e;return this.accounts.has(n)===!1?{ok:!1,reason:`cannot update account because it does not exist, id=${n}`}:e.isVisible===!1&&this.isAccountUsedByExpense(n)?{ok:!1,reason:"cannot save account as hidden because it is used by at least one expense"}:(this.accounts.set(n,e),this.changeSubject.next({kind:"PaymentAccountUpdated",id:n}),{ok:!0})}delete({id:e}){return this.accounts.has(e)===!1?{ok:!1,reason:`cannot delete account because it does not exist, id=${e}`}:this.isAccountUsedByExpense(e)?{ok:!1,reason:"cannot delete account because it is used by at least one expense"}:(this.accounts.delete(e),this.changeSubject.next({kind:"PaymentAccountDeleted",id:e}),{ok:!0})}generatePaymentAccountId(){for(;;){const e=z1("pay");if(this.accounts.has(e)===!1)return e}}updateAccountToExpenseIndex(){const e=new Map;for(const n of this.expenseManager.getAll()){const r=n.expense,i=r.paid_with,s=e.get(i);s===void 0?e.set(i,[r.id]):e.set(i,[...s,r.id])}this.expensesPerAccount=e}isAccountUsedByExpense(e){return this.expensesPerAccount.has(e)}}function Ug(t,e){return t.name<=e.name?Mn.KeepOrder:Mn.SwapOrder}function Fe({htmlFor:t,text:e,children:n}){return g.jsxs("label",{className:"text-gray-600  dark:text-gray-400",htmlFor:t,children:[e,n]})}const Bg={id:"empty-option",label:""};function or({id:t,selected:e,options:n,onSelect:r,className:i,disabled:s}){let o="relative";i&&(o+=` ${i}`);let l="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-100   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none cursor-pointer leading-tight focus:outline-none focus:shadow-outline";s&&(l+=" cursor-not-allowed opacity-20 dark:opacity-50");const u=new Map([]),h=new Map([]);for(const{id:_,label:S}of n)u.set(S,_),h.set(_,S);function p(_){const S=_.currentTarget.value,I=u.get(S);if(I===void 0){console.error("BUG: selected `<option>` has an unexpected `value`:",S);return}r(I)}let f,m=[...n];return e===void 0?(f=Bg.label,m=[Bg,...n]):f=h.get(e),g.jsxs("div",{id:t,className:o,role:"select",children:[g.jsx("select",{value:f,className:l,disabled:s,onChange:p,children:m.map(({id:_,label:S})=>g.jsx("option",{value:S,children:S},_))}),!s&&g.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",role:"fold-unfold-icon",children:g.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-1",fill:"currentColor",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 10l5 5 5-5H7z"})})})]})}function W1({paidWith:t,app:e,onChange:n}){const[r,i]=M.useState(t),[s,o]=M.useState([]);M.useEffect(()=>{const h=e.paymentAccountsManager.change$.subscribe(p=>{o(e.paymentAccountsManager.getAllVisible())});return o(e.paymentAccountsManager.getAllVisible()),()=>{h.unsubscribe()}},[e]);function l(h){const p=e.paymentAccountsManager.get({id:h});if(p===void 0){Js.add({header:`UNEXPECTED ERROR: no account found with ID ${h}`,description:`When handling account selection in ${W1.name} component, the ID ${h} was picked by the UI but no payment account found with that ID in ${yu.name}`});return}i(h),n(p)}if(s.length===0)return g.jsx("div",{children:"loading accounts..."});const u=s.map(h=>({id:h.id,label:h.name}));return g.jsx("div",{children:g.jsx(Fe,{htmlFor:"paid-with",text:"Paid with:",children:g.jsx(or,{id:"paid-with",selected:r,options:u,onSelect:l})})})}class SC extends Error{constructor(e){super(e),this.name="InvalidDate"}}const ed=1e3,kl=60*ed,td=60*kl,Ws=24*td,zg=6;class _e{constructor({year:e,month:n,day:r,hour:i,minute:s,second:o,ms:l}){G(this,"year");G(this,"month");G(this,"day");G(this,"hour");G(this,"minute");G(this,"second");G(this,"ms");G(this,"nativeDate");const u=Nc(n),h=i||0,p=s||0,f=o||0,m=l||0,_=new Date(e,u,r,h,p,f,m);if(_.getDate()!==r||Cr({value:n,start:1,end:12})||Cr({value:r,start:1,end:31})||Cr({value:h,start:0,end:23})||Cr({value:h,start:0,end:23})||Cr({value:p,start:0,end:59})||Cr({value:f,start:0,end:59})||Cr({value:m,start:0,end:999})){const S=n.toString().padStart(2,"0"),I=r.toString().padStart(2,"0"),N=h.toString().padStart(2,"0"),x=p.toString().padStart(2,"0"),E=f.toString().padStart(2,"0"),C=m.toString().padStart(3,"0");let D=`${e}-${S}-${I} ${N}:${x}:${E}.${C}`;throw new SC(`${D} is not a valid date`)}this.year=e,this.month=n,this.day=r,this.hour=h,this.minute=p,this.second=f,this.ms=m,this.nativeDate=_}static fromNative(e){const n=e.getFullYear(),r=xC(e.getMonth()),i=e.getDate(),s=e.getHours(),o=e.getMinutes(),l=e.getSeconds(),u=e.getMilliseconds();return new _e({year:n,month:r,day:i,hour:s,minute:o,second:l,ms:u})}weekday(){return TC(this.nativeDate.getDay())}toISODate(){return`${this.year}-${this.toISOMonthString()}-${this.toISODayString()}`}toNative(){return this.nativeDate}setYear(e){return new _e({year:e,month:this.month,day:this.day})}setMonth(e){return new _e({year:this.year,month:e,day:this.day})}minusNMonths(e){const n=Math.floor(e/12),r=e%12;let i=this.year-n,s=this.month-r;s<1&&(i=i-1,s=s+12);const o=Nc(s);return new Date(Date.UTC(i,o,this.day)).getUTCDate()!==this.day?this.minusNDays(1).minusNMonths(e):new _e({year:i,month:s,day:this.day})}minusNDays(e){const n=new Date(this.nativeDate.getTime()-e*Ws);return _e.fromNative(n)}minusNHours(e){const n=new Date(this.nativeDate.getTime()-e*td);return _e.fromNative(n)}minusNMinutes(e){const n=new Date(this.nativeDate.getTime()-e*kl);return _e.fromNative(n)}minusNSeconds(e){const n=new Date(this.nativeDate.getTime()-e*ed);return _e.fromNative(n)}plusNMonths(e){const n=Math.floor(e/12),r=e%12;let i=this.year+n,s=this.month+r;s>12&&(i=i+1,s=s-12);const o=Nc(s);return new Date(Date.UTC(i,o,this.day)).getUTCDate()!==this.day?this.minusNDays(1).plusNMonths(e):new _e({year:i,month:s,day:this.day})}plusNDays(e){const n=new Date(this.nativeDate.getTime()+e*Ws);return _e.fromNative(n)}plusNHours(e){const n=new Date(this.nativeDate.getTime()+e*td);return _e.fromNative(n)}plusNMinutes(e){const n=new Date(this.nativeDate.getTime()+e*kl);return _e.fromNative(n)}plusNSeconds(e){const n=new Date(this.nativeDate.getTime()+e*ed);return _e.fromNative(n)}isEqualTo(e){return this.year===e.year&&this.month===e.month&&this.day===e.day}toISOMonthString(){return this.month.toString().padStart(2,"0")}toISODayString(){return this.day.toString().padStart(2,"0")}}function Nc(t){return t-1}function xC(t){return t+1}function TC(t){let e=t-1;return e<0&&(e=e+7),e}function AC({year:t,month:e}){const n=[new _e({year:t,month:e,day:1})];for(;;){const r=n.at(-1);if(r===void 0)throw on();try{n.push(new _e({year:t,month:e,day:r.day+1}))}catch{break}}return n}function Cr({value:t,start:e,end:n}){return t<e||n<t}function CC({of:t,withTimeFrom:e}){const n=t.getTimezoneOffset()*kl,r=Math.floor((t.getTime()-n)/Ws)*Ws,i=e.getTime()%Ws,s=r+i;return new Date(s)}function IC({value:t,defaultValue:e,onChange:n}){const[r,i]=M.useState(e);function s(p){const m=CC({of:p,withTimeFrom:t});n(m),i(t)}function o(){const p=_e.fromNative(t).minusNMonths(1).toNative();s(p)}function l(){const p=_e.fromNative(t).plusNMonths(1).toNative();s(p)}const u="flex flex-row items-center justify-center gap-3 h-14 ",h="w-3 text-xl text-bold cursor-pointer";return g.jsxs("div",{className:"flex flex-col w-80",children:[g.jsxs("div",{className:u,role:"month-and-year-picker",children:[g.jsx("div",{role:"go-to-previous-month",className:h,onClick:()=>o(),children:"<"}),g.jsx(PC,{value:t,onChange:s,className:"w-24"}),g.jsx(kC,{value:t,onChange:s,className:"w-32"}),g.jsx("div",{role:"go-to-next-month",className:h,onClick:()=>l(),children:">"})]}),g.jsx(RC,{value:t,previousValue:r,onChange:s})]})}function PC({value:t,onChange:e,className:n}){const r=NC({reference:t.getFullYear()}),i=`${t.getFullYear()}`,s=r.map(l=>l.toString()).map(l=>({id:l,label:l}));function o(l){const u=s.filter(f=>f.id===l)[0],h=Number(u.label),p=_e.fromNative(t).setYear(h).toNative();e(p)}return g.jsx("div",{className:n,role:"year-picker",children:g.jsx(or,{selected:i,options:s,onSelect:o})})}const Hg=new Map([["January",1],["February",2],["March",3],["April",4],["May",5],["June",6],["July",7],["August",8],["September",9],["October",10],["November",11],["December",12]]);function kC({value:t,onChange:e,className:n}){const r=t.toLocaleString("default",{month:"long"}),i=[...Hg.keys()].map(o=>({id:o,label:o}));function s(o){const l=Hg.get(o);if(l===void 0)throw on(`failed to map '${o}' to a month`);const u=_e.fromNative(t).setMonth(l).toNative();e(u)}return g.jsx("div",{className:n,role:"month-picker",children:g.jsx(or,{selected:r,options:i,onSelect:s})})}function RC({value:t,previousValue:e,onChange:n}){const r="p-1",i="grid grid-cols-7",s=_e.fromNative(t),o=_e.fromNative(e),l=AC({year:s.year,month:s.month}),u=[{text:"Mo"},{text:"Tu"},{text:"We"},{text:"Th"},{text:"Fr"},{text:"Sa"},{text:"Su"}],h=l[0],p=h.weekday(),f=[];for(let I=p;I>0;I--){const N=h.minusNDays(I);f.push(N)}const m=l[l.length-1],_=m.weekday(),S=[];if(_<zg){const I=zg-m.weekday();for(let N=1;N<=I;N++){const x=m.plusNDays(N);S.push(x)}}return g.jsx("div",{className:r,children:g.jsxs("div",{className:i,children:[u.map(I=>g.jsx(Aa,{text:I.text,selected:!1,wasPreviousSelection:!1,grayedOut:!0,onSelect:void 0},I.text)),f.map(I=>g.jsx(Aa,{text:I.day.toString(),selected:!1,wasPreviousSelection:I.isEqualTo(o),grayedOut:!0,onSelect:()=>{n(I.toNative())}},`prev-month-${I.day.toString()}`)),l.map(I=>g.jsx(Aa,{text:I.day.toString(),selected:I.isEqualTo(s),wasPreviousSelection:I.isEqualTo(o),grayedOut:!1,onSelect:()=>{n(I.toNative())}},`this-month-${I.day.toString()}`)),S.map(I=>g.jsx(Aa,{text:I.day.toString(),selected:!1,wasPreviousSelection:I.isEqualTo(o),grayedOut:!0,onSelect:()=>{n(I.toNative())}},`next-month-${I.day.toString()}`))]})})}function Aa({text:t,selected:e,wasPreviousSelection:n,grayedOut:r,onSelect:i}){let s="w-12 p-2 text-xl rounded flex items-center justify-center cursor-pointer",o=" opacity-50",l=" border-2 border-gray-500 border-opacity-30";return e?(s+=" text-white  bg-blue-600  dark:bg-blue-800",s+=" z-10"):n&&r?(s+=l,s+=o):n&&!r?s+=l:r&&(s+=o),g.jsx("div",{className:s,onClick:i?()=>i():void 0,children:t})}function NC({reference:t}){const e=[];for(let i=1;i<10;i++)e.push(t-i);e.push(t);const r=10;for(let i=1;i<r;i++)e.push(t+i);return e.sort()}function bC({value:t,onChange:e}){const n=_e.fromNative(t);function r(){e(n.plusNHours(1).toNative())}function i(){e(n.minusNHours(1).toNative())}function s(){e(n.plusNMinutes(1).toNative())}function o(){e(n.minusNMinutes(1).toNative())}function l(){e(n.plusNSeconds(1).toNative())}function u(){e(n.minusNSeconds(1).toNative())}return g.jsxs("div",{className:"flex flex-row gap-8",children:[g.jsx(bc,{value:n.hour,onIncrement:r,onDecrement:i}),g.jsx(bc,{value:n.minute,onIncrement:s,onDecrement:o}),g.jsx(bc,{value:n.second,onIncrement:l,onDecrement:u})]})}function bc({value:t,onIncrement:e,onDecrement:n}){return g.jsxs("div",{className:"flex flex-row gap-2 text-xl",children:[g.jsx("div",{role:"increase",className:"cursor-pointer",onClick:e,children:"+"}),g.jsx("div",{role:"value",children:t.toString().padStart(2,"0")}),g.jsx("div",{role:"decrease",className:"cursor-pointer",onClick:n,children:"-"})]})}function DC({children:t,className:e,isOpen:n,onClickOutside:r}){let i="z-10",s="z-10 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none";return e&&(s+=` ${e}`),g.jsxs(g.Fragment,{children:[g.jsx(MC,{onClick:r,isVisible:n,className:i}),g.jsx("dialog",{className:s,open:n,children:t})]})}function MC({isVisible:t,onClick:e,className:n}){let r="absolute top-0  left-0  right-0  bottom-0 bg-gray-900 opacity-60";return t?r+="":r+=" hidden",n&&(r+=` ${n}`),g.jsx("div",{className:r,role:"dialog-backdrop",onClick:e})}const jC=Lt.span`
  opacity: 0.6;
  margin-left: 1rem;
`;function Wg({date:t}){const[e,n]=M.useState(0);M.useEffect(()=>{const f=setInterval(()=>{n(m=>{const _=_o().getTime()-t.getTime();return Math.round(_/1e3)})},100);return()=>clearInterval(f)},[t]);const r=Cf(t),[i,s,o]=r.split(" "),l=e%60,u=(e-l)/60,h=[];u>0&&h.push(`${u}m`),h.push(`${l}s`);const p=h.join(" ");return g.jsxs("span",{children:[i," ",g.jsx("b",{children:s})," ",o,g.jsx(jC,{children:p})]})}function OC({defaultDate:t,date:e,onChange:n}){const[r,i]=M.useState(!1),s="flex flex-row flex-nowrap justify-between";return g.jsxs("div",{className:"m-1",children:[g.jsx("div",{className:s,children:g.jsx(DC,{className:"p-4 rounded-lg",isOpen:r,onClickOutside:()=>i(!1),children:g.jsxs("div",{className:"flex flex-col gap-8 justify-center align-center",children:[g.jsx(IC,{value:e,defaultValue:t,onChange:n}),g.jsx(bC,{value:e,onChange:n}),g.jsx(Wg,{date:e})]})})}),g.jsxs("div",{className:s,children:[g.jsx(Wg,{date:e}),g.jsx(se,{text:r?"Close":"Edit time",disabled:r,onClick:()=>i(!r)})]})]})}function VC({split:t,onChange:e}){const[n,r]=M.useState(t.paid),[i,s]=M.useState(t.owed);M.useEffect(()=>{r(t.paid),s(t.owed)},[t]);function o(u){s(u),e({...t,owed:u})}function l(u){r(u),e({...t,paid:u})}return g.jsxs("li",{role:"split",className:"px-4",children:[g.jsx("div",{role:"split-name",className:"text-lg pt-3",children:t.person}),g.jsxs("div",{className:"grid grid-col-2 gap-3",children:[g.jsx("div",{role:"split-paid",className:"col-start-0 col-start-1",children:g.jsx(Fe,{htmlFor:`paid-${t.person}`,text:"paid",children:g.jsx("div",{className:"pt-1",children:g.jsx(Hs,{value:n,placeholder:"Paid amount",onChange:l})})})}),g.jsx("div",{role:"split-owed",className:"col-start-1 col-start-2",children:g.jsx(Fe,{htmlFor:`paid-${t.person}`,text:"owed",children:g.jsx("div",{className:"pt-1",children:g.jsx(Hs,{value:i,placeholder:"Owed amount",onChange:o})})})})]})]})}function LC(t){const e=Math.pow(10,QA),n=t.map(f=>f.paid||0).reduce((f,m)=>f+m,0),r=t.length,i=e*n/r,s=Math.floor(i),o=n*e-s*t.length,l=1,u=[];let h=0;for(let f=0;f<t.length;f++)h<o?(h+=l,u.push(s+l)):u.push(s);return t.map((f,m)=>({...f,owed:u[m]/e}))}function FC(t){let e=0,n=0;for(const r of t)e+=r.paid||0,n+=r.owed||0;return e!==n?{isValid:!1,reason:"total paid amount does not match total owed amount"}:{isValid:!0}}function $C({splits:t,onChange:e}){function n(){const i=LC(t);e(i)}const r=FC(t);return g.jsxs("div",{role:"split-default-actions",className:"p-3",children:[g.jsx("div",{className:"flex flex-column justify-center",children:g.jsx(se,{text:"split equally",onClick:n})}),r.isValid===!1&&g.jsxs("div",{role:"invalid-splits",className:"pt-3 flex flex-column justify-center",children:["INVALID SPLITS: ",r.reason]})]})}function UC({splits:t,amount:e,selectablePeople:n,onChange:r}){const[i,s]=M.useState(t),[o,l]=M.useState(i.map(f=>f.person));function u(f){s(f),r(f)}function h(f){function m(_){const S=i.map((I,N)=>f===N?_:{...I});u(S)}return m}function p(f){l(f);const _=[],S=new Set([...f.values()]),I=new Set;for(const N of i){const x=N.person;S.has(x)!==!1&&(_.push(N),S.delete(x),I.add(x))}for(const N of S.values()){if(_.length===0){_.push({person:N,paid:e,owed:void 0});continue}_.push({person:N,paid:void 0,owed:void 0})}u(_)}return g.jsxs("div",{role:"splits-container",className:"pb-3",children:[g.jsx("div",{role:"participants",children:g.jsx(Fe,{htmlFor:"participants",text:"Participants",children:g.jsx("div",{className:"pt-2",children:g.jsx(B1,{id:"participants",placeholder:"participant names",value:o,choices:n,onChange:p,allowChoiceCreation:!1})})})}),i.length===0&&g.jsx("div",{className:"p-2 flex flex-row justify-center",children:g.jsx("p",{children:"there are no splits"})}),i.length>0&&g.jsx($C,{splits:i,onChange:u}),i.length>0&&g.jsx("ol",{children:i.map((f,m)=>g.jsx(VC,{split:f,onChange:h(m)},`split-${f.person}`))})]})}function BC({data:t,select:e}){function n(r,i){r.preventDefault(),e(i)}return g.jsx("div",{className:"flex flex-row flex-wrap my-2 mb-2 gap-2",children:t.length===0?g.jsxs("div",{children:["No shortcuts found. You can add them in the"," ",g.jsx($1,{to:Nt.settings,children:"Settings"})," page"]}):t.map((r,i)=>g.jsx(se,{text:r.buttonName,onClick:s=>n(s,r.id)},`shortcut-${i}`))})}const zC=Lt.div`
  display: flex;
  flex-flow: row wrap;
`,HC=Lt.div`
  margin-bottom: 1rem;
`;function WC({app:t,expense:e,update:n}){const[r,i]=M.useState(e.originalAmount!==void 0),[s,o]=M.useState(new Set),[l,u]=M.useState(),[h,p]=M.useState([]),[f,m]=M.useState(e.splits),[_,S]=M.useState([]);M.useEffect(()=>{const T=t.paymentAccountsManager.change$.subscribe(lt=>{u(t.paymentAccountsManager.get({id:e.paid_with}))}),R=t.currencyManager.change$.subscribe(lt=>{o(t.currencyManager.getAll())}),P=t.peopleManager.change$.subscribe(lt=>{p(t.peopleManager.getAll().map(yn=>yn.name))}),Ye=t.shortcutsManager.change$.subscribe(lt=>{S(t.shortcutsManager.getAll())});return u(t.paymentAccountsManager.get({id:e.paid_with})),o(t.currencyManager.getAll()),p(t.peopleManager.getAll().map(lt=>lt.name)),S(t.shortcutsManager.getAll()),()=>{T.unsubscribe(),R.unsubscribe(),P.unsubscribe(),Ye.unsubscribe()}},[t,e.paid_with]);function I(T){const R=If(T);n({...e,datetime:R})}function N(T){console.debug("Refreshing date"),T.preventDefault(),I(_o())}function x(T){n({...e,paid_with:T.id,currency:T.currency})}function E(T){n({...e,amount:T})}function C(T){n({...e,originalAmount:T})}function D(T){n({...e,originalCurrency:T})}function V(T){console.debug("ExpenseEditor::handleDescriptionChange:description:",T),e.description!==T&&n({...e,description:T})}function L(T){const R=_.filter(P=>P.id===T)[0];V(Rr({main:R.main,people:R.people,seller:R.seller,tags:R.tags}))}function w(T){n({...e,shared:T})}function v(T){T&&n({...e,originalAmount:void 0,originalCurrency:void 0}),i(T)}function A(T){m(T),n({...e,splits:T})}if(l===void 0)return g.jsxs("div",{children:["Account ",g.jsx("code",{children:e.paid_with})," not found"]});const k=[...s].filter(T=>T!==l.currency).sort();return g.jsxs("div",{children:[g.jsx(OC,{date:new Date(Date.parse(e.datetime)),defaultDate:_o(),onChange:I}),g.jsx(zC,{children:g.jsx(HC,{onClick:N,children:g.jsx(se,{text:"now",icon:"rotate",onClick:N})})}),g.jsx(W1,{paidWith:e.paid_with,app:t,onChange:x}),g.jsx("div",{className:"pb-3 flex flex-row flex-no-wrap justify-end",children:g.jsx($g,{label:"paid with different currency",checked:r,onChange:v})}),g.jsx("div",{className:"grid grid-col-2 gap-2",children:r?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"col-span-1",children:g.jsx(Hs,{value:e.originalAmount,placeholder:"Amount in payment currency",onChange:C})}),g.jsx("div",{className:"col-start-2 col-span-2",children:g.jsx(or,{id:"payment-currency",selected:e.originalCurrency,options:k.map(T=>({id:T,label:T})),onSelect:D})}),g.jsx("div",{className:"col-span-1",children:g.jsx(Hs,{value:e.amount,placeholder:"Amount in account currency",onChange:E})}),g.jsx("div",{className:"col-start-2 col-span-2",children:g.jsx(or,{id:"account-currency",selected:l.currency,options:[{id:l.currency,label:l.currency}],onSelect:()=>{},disabled:!0})})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"col-span-1",children:g.jsx(Hs,{value:e.amount,placeholder:"Amount",onChange:E})}),g.jsx("div",{className:"col-start-2 col-span-2",children:g.jsx(or,{selected:l.currency,options:[{id:l.currency,label:l.currency}],onSelect:()=>{},disabled:!0})})]})}),g.jsx(BC,{data:_.map(({id:T,buttonName:R})=>({id:T,buttonName:R})),select:L}),g.jsx(kf,{description:e.description,peopleInSettings:h,onChange:V}),g.jsx("div",{className:"py-4 flex flex-row justify-end",children:g.jsx($g,{checked:e.shared,label:"is shared",onChange:w})}),e.shared&&g.jsx("div",{style:{height:`${8*Math.max(h.length,e.splits.length)}rem`},children:g.jsx(UC,{splits:f,amount:e.originalAmount||e.amount||0,selectablePeople:h,onChange:A})})]})}function GC({app:t}){const{expenseId:e}=vA(),n=mu(),[r,i]=M.useState(void 0);if(e===void 0)return n(Nt.root),null;M.useEffect(()=>{const o=t.expenseManager.change$.subscribe(l=>{i(t.expenseManager.get(e))});return i(t.expenseManager.get(e)),()=>{o.unsubscribe()}},[t]);function s(o){console.debug("ExpenseEditorPage::handleUpdate::expense",o),t.expenseManager.update(o)}return r===void 0?g.jsx(Ur,{children:g.jsx("div",{className:"flex flex-row justify-center",children:"loading..."})}):g.jsx(Ur,{children:g.jsx(WC,{expense:r.expense,app:t,update:s})})}function Rf({children:t,isOpen:e}){const n=`
    overflow-hidden
    transition-all
    duration-300
    ease-in-out
    ${e?"":"max-h-0"}
  `;return g.jsx("div",{className:n,role:"collapse",children:t})}function Nf({uniqueKey:t,isOn:e,labelOn:n,labelOff:r,onToggle:i}){function s(l){i(l.target.checked)}const o=[t,n].map(l=>l.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","")).join("-");return g.jsxs("label",{htmlFor:o,className:"relative inline-flex flex-row flex-nowrap items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",id:o,checked:e,onChange:s,className:"hidden peer"}),g.jsx("div",{role:"toggle-rail",className:"w-11 h-6 bg-gray-200  dark:bg-gray-700 rounded-full peer-checked:bg-blue-600 peer-checked:after:translate-x-full after:h-5 after:w-5 after:absolute  after:top-2  after:start-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:transition-all"}),g.jsx("div",{role:"toggle-label",className:"p-2 text-sm ",children:e?n:r})]})}const KC=new RegExp(/([0-9]{4}[a-z]+)/gm);function QC(t){return KC.exec(t)!==null}function qC(t){var i;const e=gu({raw:t}),n=e.tags.filter(QC).map(s=>`#${s}`).join(" ");let r=`${(i=e.main)==null?void 0:i.trim()} @ ${e.seller}`;return n&&(r=`${r} ${n}`),r}const YC=Lt.div`
  order: 1;
  flex-grow: 0;
  flex-shrink: 1;
`,XC=Lt.div`
  order: 2;
  flex-grow: 1;
  flex-shrink: 1;
`,JC={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};function ZC(t){const e=t.getMonth()+1,n=t.getDate(),r=JC[e],i=n>9?`${n}`:`0${n}`;return`${r}-${i}`}function Gg(t){return navigator.clipboard.writeText(t).then(e=>{alert(`Copied to clipboard:
${t}`)}).catch(e=>{Js.add({header:"Error while trying to copy to clipboard",description:e})})}function eI(t){return t.originalAmount?`${t.originalAmount} ${t.originalCurrency}`:t.amount===void 0?"?":`${t.amount} ${t.currency}`}function tI({appExpense:t,deleting:e,edit:n,remove:r,deleteMode:i,app:s}){const{expense:o}=t,[l,u]=M.useState(!1);function h(){console.debug(`ExpenseQueue.handleOnEditClick:: ${o.id}`),n()}function p(){console.debug(`ExpenseQueue.handleOnDeleteClick:: ${o.id}`),!e&&r()}const f=s.paymentAccountsManager.get({id:o.paid_with});let m=qC(o.description),_="flex flex-row flex-nowrap gap-x-2 p-2 dark:p-2";return t.readyToPublish||(_+=" bg-red-200 dark:bg-red-900"),g.jsxs("div",{className:_,children:[g.jsx(YC,{children:i?g.jsx(se,{onClick:p,icon:"bin"}):g.jsx(se,{onClick:h,icon:"pencil"})}),g.jsxs(XC,{children:[g.jsxs("span",{onClick:()=>u(!l),children:[g.jsx("b",{children:eI(o)})," ",o.description]}),g.jsxs(Rf,{isOpen:l,children:[g.jsxs("pre",{children:["id: ",o.id]}),g.jsxs("pre",{children:["datetime: ",Cf(JA(o.datetime))]}),g.jsxs("pre",{children:["paid_with: ",f&&f.name]}),g.jsxs("pre",{children:["amount:"," ",o.amount===void 0?"--":`${o.amount} ${o.currency}`]}),g.jsxs("pre",{children:["original_amount: ",o.originalAmount," ",o.originalCurrency]}),g.jsxs("pre",{children:["splits: ",o.splits.length===0?"--":JSON.stringify(o.splits)]}),g.jsxs("div",{className:"flex flex-row gap-3 pt-1",children:[g.jsx(se,{text:"Copy full description",onClick:()=>Gg(o.description)}),g.jsx(se,{text:"Copy Splitwise description",onClick:()=>Gg(m)})]})]})]})]})}function nI({expenses:t,onEditExpense:e,onDelete:n,app:r}){const[i,s]=M.useState(!1);function o(){s(!i)}const l=cC(t);return g.jsxs("div",{children:[g.jsx("div",{className:"flex flex-row justify-end",children:g.jsx(Nf,{uniqueKey:"expenses",isOn:i,labelOn:"enable deletion mode",labelOff:"exit deletion mode",onToggle:()=>o()})}),l.length>0?l.map(([u,h])=>{const p=ZC(new Date(Date.parse(u)));return g.jsxs("div",{children:[g.jsx("div",{className:"pt-4 p-2",children:g.jsx("b",{children:p})}),g.jsx("div",{children:h.map(f=>{const m=f.expense.id;return g.jsx(tI,{deleting:!1,appExpense:f,edit:()=>e(m),remove:()=>n(m),deleteMode:i,app:r},`queued-expense-${m}`)})})]},`${u}-expenses`)}):g.jsx("p",{children:"No expenses :)"})]})}const rI=nI;var Kg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},K1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,p=s>>2,f=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,o||(m=64)),r.push(n[p],n[f],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||f==null)throw new sI;const m=s<<2|l>>4;if(r.push(m),h!==64){const _=l<<4&240|h>>2;if(r.push(_),f!==64){const S=h<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oI=function(t){const e=G1(t);return K1.encodeByteArray(e,!0)},Rl=function(t){return oI(t).replace(/\./g,"")},aI=function(t){try{return K1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=()=>lI().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof Kg>"u")return;const t=Kg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aI(t[1]);return e&&JSON.parse(e)},bf=()=>{try{return uI()||cI()||hI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dI=t=>{var e,n;return(n=(e=bf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fI=t=>{const e=dI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q1=()=>{var t;return(t=bf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rl(JSON.stringify(n)),Rl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yI(){var t;const e=(t=bf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vI(){return!yI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _I(){try{return typeof indexedDB=="object"}catch{return!1}}function wI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="FirebaseError";class is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EI,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q1.prototype.create)}}class q1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?SI(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new is(i,l,r)}}function SI(t,e){return t.replace(xI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xI=/\{\$([^}]+)}/g;function nd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Qg(s)&&Qg(o)){if(!nd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t){return t&&t._delegate?t._delegate:t}class wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CI(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AI(t){return t===kr?void 0:t}function CI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const PI={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},kI=te.INFO,RI={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},NI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=RI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y1{constructor(e){this.name=e,this._logLevel=kI,this._logHandler=NI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const bI=(t,e)=>e.some(n=>t instanceof n);let qg,Yg;function DI(){return qg||(qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MI(){return Yg||(Yg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X1=new WeakMap,rd=new WeakMap,J1=new WeakMap,Dc=new WeakMap,Df=new WeakMap;function jI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ar(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&X1.set(n,t)}).catch(()=>{}),Df.set(e,t),e}function OI(t){if(rd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rd.set(t,e)}let id={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||J1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VI(t){id=t(id)}function LI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mc(this),e,...n);return J1.set(r,e.sort?e.sort():[e]),ar(r)}:MI().includes(t)?function(...e){return t.apply(Mc(this),e),ar(X1.get(this))}:function(...e){return ar(t.apply(Mc(this),e))}}function FI(t){return typeof t=="function"?LI(t):(t instanceof IDBTransaction&&OI(t),bI(t,DI())?new Proxy(t,id):t)}function ar(t){if(t instanceof IDBRequest)return jI(t);if(Dc.has(t))return Dc.get(t);const e=FI(t);return e!==t&&(Dc.set(t,e),Df.set(e,t)),e}const Mc=t=>Df.get(t);function $I(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=ar(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ar(o.result),u.oldVersion,u.newVersion,ar(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const UI=["get","getKey","getAll","getAllKeys","count"],BI=["put","add","delete","clear"],jc=new Map;function Xg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jc.get(e))return jc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=BI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UI.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return jc.set(e,s),s}VI(t=>({...t,get:(e,n,r)=>Xg(e,n)||t.get(e,n,r),has:(e,n)=>!!Xg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sd="@firebase/app",Jg="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new Y1("@firebase/app"),WI="@firebase/app-compat",GI="@firebase/analytics-compat",KI="@firebase/analytics",QI="@firebase/app-check-compat",qI="@firebase/app-check",YI="@firebase/auth",XI="@firebase/auth-compat",JI="@firebase/database",ZI="@firebase/data-connect",eP="@firebase/database-compat",tP="@firebase/functions",nP="@firebase/functions-compat",rP="@firebase/installations",iP="@firebase/installations-compat",sP="@firebase/messaging",oP="@firebase/messaging-compat",aP="@firebase/performance",lP="@firebase/performance-compat",uP="@firebase/remote-config",cP="@firebase/remote-config-compat",hP="@firebase/storage",dP="@firebase/storage-compat",fP="@firebase/firestore",pP="@firebase/vertexai",mP="@firebase/firestore-compat",gP="firebase",yP="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]",vP={[sd]:"fire-core",[WI]:"fire-core-compat",[KI]:"fire-analytics",[GI]:"fire-analytics-compat",[qI]:"fire-app-check",[QI]:"fire-app-check-compat",[YI]:"fire-auth",[XI]:"fire-auth-compat",[JI]:"fire-rtdb",[ZI]:"fire-data-connect",[eP]:"fire-rtdb-compat",[tP]:"fire-fn",[nP]:"fire-fn-compat",[rP]:"fire-iid",[iP]:"fire-iid-compat",[sP]:"fire-fcm",[oP]:"fire-fcm-compat",[aP]:"fire-perf",[lP]:"fire-perf-compat",[uP]:"fire-rc",[cP]:"fire-rc-compat",[hP]:"fire-gcs",[dP]:"fire-gcs-compat",[fP]:"fire-fst",[mP]:"fire-fst-compat",[pP]:"fire-vertex","fire-js":"fire-js",[gP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new Map,_P=new Map,ad=new Map;function Zg(t,e){try{t.container.addComponent(e)}catch(n){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bl(t){const e=t.name;if(ad.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,t);for(const n of Nl.values())Zg(n,t);for(const n of _P.values())Zg(n,t);return!0}function wP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new q1("app","Firebase",EP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=yP;function Z1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:od,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw lr.create("bad-app-name",{appName:String(i)});if(n||(n=Q1()),!n)throw lr.create("no-options");const s=Nl.get(i);if(s){if(nd(n,s.options)&&nd(r,s.config))return s;throw lr.create("duplicate-app",{appName:i})}const o=new II(i);for(const u of ad.values())o.addComponent(u);const l=new SP(n,r,o);return Nl.set(i,l),l}function TP(t=od){const e=Nl.get(t);if(!e&&t===od&&Q1())return Z1();if(!e)throw lr.create("no-app",{appName:t});return e}function Di(t,e,n){var r;let i=(r=vP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(l.join(" "));return}bl(new wo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="firebase-heartbeat-database",CP=1,Eo="firebase-heartbeat-store";let Oc=null;function e_(){return Oc||(Oc=$I(AP,CP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eo)}catch(n){console.warn(n)}}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),Oc}async function IP(t){try{const n=(await e_()).transaction(Eo),r=await n.objectStore(Eo).get(t_(t));return await n.done,r}catch(e){if(e instanceof is)jn.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jn.warn(n.message)}}}async function ey(t,e){try{const r=(await e_()).transaction(Eo,"readwrite");await r.objectStore(Eo).put(e,t_(t)),await r.done}catch(n){if(n instanceof is)jn.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jn.warn(r.message)}}}function t_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=1024,kP=30*24*60*60*1e3;class RP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ty();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=kP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){jn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ty(),{heartbeatsToSend:r,unsentEntries:i}=NP(this._heartbeatsCache.heartbeats),s=Rl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return jn.warn(n),""}}}function ty(){return new Date().toISOString().substring(0,10)}function NP(t,e=PP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ny(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ny(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _I()?wI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ny(t){return Rl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){bl(new wo("platform-logger",e=>new zI(e),"PRIVATE")),bl(new wo("heartbeat",e=>new RP(e),"PRIVATE")),Di(sd,Jg,t),Di(sd,Jg,"esm2017"),Di("fire-js","")}DP("");var MP="firebase",jP="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(MP,jP,"app");var ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function A(){}A.prototype=v.prototype,w.D=v.prototype,w.prototype=new A,w.prototype.constructor=w,w.C=function(k,T,R){for(var P=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)P[Ye-2]=arguments[Ye];return v.prototype[T].apply(k,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,A){A||(A=0);var k=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)k[T]=v.charCodeAt(A++)|v.charCodeAt(A++)<<8|v.charCodeAt(A++)<<16|v.charCodeAt(A++)<<24;else for(T=0;16>T;++T)k[T]=v[A++]|v[A++]<<8|v[A++]<<16|v[A++]<<24;v=w.g[0],A=w.g[1],T=w.g[2];var R=w.g[3],P=v+(R^A&(T^R))+k[0]+3614090360&4294967295;v=A+(P<<7&4294967295|P>>>25),P=R+(T^v&(A^T))+k[1]+3905402710&4294967295,R=v+(P<<12&4294967295|P>>>20),P=T+(A^R&(v^A))+k[2]+606105819&4294967295,T=R+(P<<17&4294967295|P>>>15),P=A+(v^T&(R^v))+k[3]+3250441966&4294967295,A=T+(P<<22&4294967295|P>>>10),P=v+(R^A&(T^R))+k[4]+4118548399&4294967295,v=A+(P<<7&4294967295|P>>>25),P=R+(T^v&(A^T))+k[5]+1200080426&4294967295,R=v+(P<<12&4294967295|P>>>20),P=T+(A^R&(v^A))+k[6]+2821735955&4294967295,T=R+(P<<17&4294967295|P>>>15),P=A+(v^T&(R^v))+k[7]+4249261313&4294967295,A=T+(P<<22&4294967295|P>>>10),P=v+(R^A&(T^R))+k[8]+1770035416&4294967295,v=A+(P<<7&4294967295|P>>>25),P=R+(T^v&(A^T))+k[9]+2336552879&4294967295,R=v+(P<<12&4294967295|P>>>20),P=T+(A^R&(v^A))+k[10]+4294925233&4294967295,T=R+(P<<17&4294967295|P>>>15),P=A+(v^T&(R^v))+k[11]+2304563134&4294967295,A=T+(P<<22&4294967295|P>>>10),P=v+(R^A&(T^R))+k[12]+1804603682&4294967295,v=A+(P<<7&4294967295|P>>>25),P=R+(T^v&(A^T))+k[13]+4254626195&4294967295,R=v+(P<<12&4294967295|P>>>20),P=T+(A^R&(v^A))+k[14]+2792965006&4294967295,T=R+(P<<17&4294967295|P>>>15),P=A+(v^T&(R^v))+k[15]+1236535329&4294967295,A=T+(P<<22&4294967295|P>>>10),P=v+(T^R&(A^T))+k[1]+4129170786&4294967295,v=A+(P<<5&4294967295|P>>>27),P=R+(A^T&(v^A))+k[6]+3225465664&4294967295,R=v+(P<<9&4294967295|P>>>23),P=T+(v^A&(R^v))+k[11]+643717713&4294967295,T=R+(P<<14&4294967295|P>>>18),P=A+(R^v&(T^R))+k[0]+3921069994&4294967295,A=T+(P<<20&4294967295|P>>>12),P=v+(T^R&(A^T))+k[5]+3593408605&4294967295,v=A+(P<<5&4294967295|P>>>27),P=R+(A^T&(v^A))+k[10]+38016083&4294967295,R=v+(P<<9&4294967295|P>>>23),P=T+(v^A&(R^v))+k[15]+3634488961&4294967295,T=R+(P<<14&4294967295|P>>>18),P=A+(R^v&(T^R))+k[4]+3889429448&4294967295,A=T+(P<<20&4294967295|P>>>12),P=v+(T^R&(A^T))+k[9]+568446438&4294967295,v=A+(P<<5&4294967295|P>>>27),P=R+(A^T&(v^A))+k[14]+3275163606&4294967295,R=v+(P<<9&4294967295|P>>>23),P=T+(v^A&(R^v))+k[3]+4107603335&4294967295,T=R+(P<<14&4294967295|P>>>18),P=A+(R^v&(T^R))+k[8]+1163531501&4294967295,A=T+(P<<20&4294967295|P>>>12),P=v+(T^R&(A^T))+k[13]+2850285829&4294967295,v=A+(P<<5&4294967295|P>>>27),P=R+(A^T&(v^A))+k[2]+4243563512&4294967295,R=v+(P<<9&4294967295|P>>>23),P=T+(v^A&(R^v))+k[7]+1735328473&4294967295,T=R+(P<<14&4294967295|P>>>18),P=A+(R^v&(T^R))+k[12]+2368359562&4294967295,A=T+(P<<20&4294967295|P>>>12),P=v+(A^T^R)+k[5]+4294588738&4294967295,v=A+(P<<4&4294967295|P>>>28),P=R+(v^A^T)+k[8]+2272392833&4294967295,R=v+(P<<11&4294967295|P>>>21),P=T+(R^v^A)+k[11]+1839030562&4294967295,T=R+(P<<16&4294967295|P>>>16),P=A+(T^R^v)+k[14]+4259657740&4294967295,A=T+(P<<23&4294967295|P>>>9),P=v+(A^T^R)+k[1]+2763975236&4294967295,v=A+(P<<4&4294967295|P>>>28),P=R+(v^A^T)+k[4]+1272893353&4294967295,R=v+(P<<11&4294967295|P>>>21),P=T+(R^v^A)+k[7]+4139469664&4294967295,T=R+(P<<16&4294967295|P>>>16),P=A+(T^R^v)+k[10]+3200236656&4294967295,A=T+(P<<23&4294967295|P>>>9),P=v+(A^T^R)+k[13]+681279174&4294967295,v=A+(P<<4&4294967295|P>>>28),P=R+(v^A^T)+k[0]+3936430074&4294967295,R=v+(P<<11&4294967295|P>>>21),P=T+(R^v^A)+k[3]+3572445317&4294967295,T=R+(P<<16&4294967295|P>>>16),P=A+(T^R^v)+k[6]+76029189&4294967295,A=T+(P<<23&4294967295|P>>>9),P=v+(A^T^R)+k[9]+3654602809&4294967295,v=A+(P<<4&4294967295|P>>>28),P=R+(v^A^T)+k[12]+3873151461&4294967295,R=v+(P<<11&4294967295|P>>>21),P=T+(R^v^A)+k[15]+530742520&4294967295,T=R+(P<<16&4294967295|P>>>16),P=A+(T^R^v)+k[2]+3299628645&4294967295,A=T+(P<<23&4294967295|P>>>9),P=v+(T^(A|~R))+k[0]+4096336452&4294967295,v=A+(P<<6&4294967295|P>>>26),P=R+(A^(v|~T))+k[7]+1126891415&4294967295,R=v+(P<<10&4294967295|P>>>22),P=T+(v^(R|~A))+k[14]+2878612391&4294967295,T=R+(P<<15&4294967295|P>>>17),P=A+(R^(T|~v))+k[5]+4237533241&4294967295,A=T+(P<<21&4294967295|P>>>11),P=v+(T^(A|~R))+k[12]+1700485571&4294967295,v=A+(P<<6&4294967295|P>>>26),P=R+(A^(v|~T))+k[3]+2399980690&4294967295,R=v+(P<<10&4294967295|P>>>22),P=T+(v^(R|~A))+k[10]+4293915773&4294967295,T=R+(P<<15&4294967295|P>>>17),P=A+(R^(T|~v))+k[1]+2240044497&4294967295,A=T+(P<<21&4294967295|P>>>11),P=v+(T^(A|~R))+k[8]+1873313359&4294967295,v=A+(P<<6&4294967295|P>>>26),P=R+(A^(v|~T))+k[15]+4264355552&4294967295,R=v+(P<<10&4294967295|P>>>22),P=T+(v^(R|~A))+k[6]+2734768916&4294967295,T=R+(P<<15&4294967295|P>>>17),P=A+(R^(T|~v))+k[13]+1309151649&4294967295,A=T+(P<<21&4294967295|P>>>11),P=v+(T^(A|~R))+k[4]+4149444226&4294967295,v=A+(P<<6&4294967295|P>>>26),P=R+(A^(v|~T))+k[11]+3174756917&4294967295,R=v+(P<<10&4294967295|P>>>22),P=T+(v^(R|~A))+k[2]+718787259&4294967295,T=R+(P<<15&4294967295|P>>>17),P=A+(R^(T|~v))+k[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(T+(P<<21&4294967295|P>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+R&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var A=v-this.blockSize,k=this.B,T=this.h,R=0;R<v;){if(T==0)for(;R<=A;)i(this,w,R),R+=this.blockSize;if(typeof w=="string"){for(;R<v;)if(k[T++]=w.charCodeAt(R++),T==this.blockSize){i(this,k),T=0;break}}else for(;R<v;)if(k[T++]=w[R++],T==this.blockSize){i(this,k),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var A=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=A&255,A/=256;for(this.u(w),w=Array(16),v=A=0;4>v;++v)for(var k=0;32>k;k+=8)w[A++]=this.g[v]>>>k&255;return w};function s(w,v){var A=l;return Object.prototype.hasOwnProperty.call(A,w)?A[w]:A[w]=v(w)}function o(w,v){this.h=v;for(var A=[],k=!0,T=w.length-1;0<=T;T--){var R=w[T]|0;k&&R==v||(A[T]=R,k=!1)}this.g=A}var l={};function u(w){return-128<=w&&128>w?s(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return N(h(-w));for(var v=[],A=1,k=0;w>=A;k++)v[k]=w/A|0,A*=4294967296;return new o(v,0)}function p(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return N(p(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(v,8)),k=f,T=0;T<w.length;T+=8){var R=Math.min(8,w.length-T),P=parseInt(w.substring(T,T+R),v);8>R?(R=h(Math.pow(v,R)),k=k.j(R).add(h(P))):(k=k.j(A),k=k.add(h(P)))}return k}var f=u(0),m=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-N(this).m();for(var w=0,v=1,A=0;A<this.g.length;A++){var k=this.i(A);w+=(0<=k?k:4294967296+k)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(I(this))return"-"+N(this).toString(w);for(var v=h(Math.pow(w,6)),A=this,k="";;){var T=D(A,v).g;A=x(A,T.j(v));var R=((0<A.g.length?A.g[0]:A.h)>>>0).toString(w);if(A=T,S(A))return R+k;for(;6>R.length;)R="0"+R;k=R+k}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function I(w){return w.h==-1}t.l=function(w){return w=x(this,w),I(w)?-1:S(w)?0:1};function N(w){for(var v=w.g.length,A=[],k=0;k<v;k++)A[k]=~w.g[k];return new o(A,~w.h).add(m)}t.abs=function(){return I(this)?N(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),A=[],k=0,T=0;T<=v;T++){var R=k+(this.i(T)&65535)+(w.i(T)&65535),P=(R>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);k=P>>>16,R&=65535,P&=65535,A[T]=P<<16|R}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(w,v){return w.add(N(v))}t.j=function(w){if(S(this)||S(w))return f;if(I(this))return I(w)?N(this).j(N(w)):N(N(this).j(w));if(I(w))return N(this.j(N(w)));if(0>this.l(_)&&0>w.l(_))return h(this.m()*w.m());for(var v=this.g.length+w.g.length,A=[],k=0;k<2*v;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var T=0;T<w.g.length;T++){var R=this.i(k)>>>16,P=this.i(k)&65535,Ye=w.i(T)>>>16,lt=w.i(T)&65535;A[2*k+2*T]+=P*lt,E(A,2*k+2*T),A[2*k+2*T+1]+=R*lt,E(A,2*k+2*T+1),A[2*k+2*T+1]+=P*Ye,E(A,2*k+2*T+1),A[2*k+2*T+2]+=R*Ye,E(A,2*k+2*T+2)}for(k=0;k<v;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=v;k<2*v;k++)A[k]=0;return new o(A,0)};function E(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function C(w,v){this.g=w,this.h=v}function D(w,v){if(S(v))throw Error("division by zero");if(S(w))return new C(f,f);if(I(w))return v=D(N(w),v),new C(N(v.g),N(v.h));if(I(v))return v=D(w,N(v)),new C(N(v.g),v.h);if(30<w.g.length){if(I(w)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var A=m,k=v;0>=k.l(w);)A=V(A),k=V(k);var T=L(A,1),R=L(k,1);for(k=L(k,2),A=L(A,2);!S(k);){var P=R.add(k);0>=P.l(w)&&(T=T.add(A),R=P),k=L(k,1),A=L(A,1)}return v=x(w,T.j(v)),new C(T,v)}for(T=f;0<=w.l(v);){for(A=Math.max(1,Math.floor(w.m()/v.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),R=h(A),P=R.j(v);I(P)||0<P.l(w);)A-=k,R=h(A),P=R.j(v);S(R)&&(R=m),T=T.add(R),w=x(w,P)}return new C(T,w)}t.A=function(w){return D(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),A=[],k=0;k<v;k++)A[k]=this.i(k)&w.i(k);return new o(A,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),A=[],k=0;k<v;k++)A[k]=this.i(k)|w.i(k);return new o(A,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),A=[],k=0;k<v;k++)A[k]=this.i(k)^w.i(k);return new o(A,this.h^w.h)};function V(w){for(var v=w.g.length+1,A=[],k=0;k<v;k++)A[k]=w.i(k)<<1|w.i(k-1)>>>31;return new o(A,w.h)}function L(w,v){var A=v>>5;v%=32;for(var k=w.g.length-A,T=[],R=0;R<k;R++)T[R]=0<v?w.i(R+A)>>>v|w.i(R+A+1)<<32-v:w.i(R+A);return new o(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,n_=o}).apply(typeof ry<"u"?ry:typeof self<"u"?self:typeof window<"u"?window:{});var Ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r_,Ds,i_,qa,ld,s_,o_,a_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,d){return a==Array.prototype||a==Object.prototype||(a[c]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ca=="object"&&Ca];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,c){if(c)e:{var d=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var b=a[y];if(!(b in d))break e;d=d[b]}a=a[a.length-1],y=d[a],c=c(y),c!=y&&c!=null&&e(d,a,{configurable:!0,writable:!0,value:c})}}function s(a,c){a instanceof String&&(a+="");var d=0,y=!1,b={next:function(){if(!y&&d<a.length){var j=d++;return{value:c(j,a[j]),done:!1}}return y=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var c=typeof a;return c=c!="object"?c:a?Array.isArray(a)?"array":c:"null",c=="array"||c=="object"&&typeof a.length=="number"}function h(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function p(a,c,d){return a.call.apply(a.bind,arguments)}function f(a,c,d){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,y),a.apply(c,b)}}return function(){return a.apply(c,arguments)}}function m(a,c,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:f,m.apply(null,arguments)}function _(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function S(a,c){function d(){}d.prototype=c.prototype,a.aa=c.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(y,b,j){for(var U=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)U[ue-2]=arguments[ue];return c.prototype[b].apply(y,U)}}function I(a){const c=a.length;if(0<c){const d=Array(c);for(let y=0;y<c;y++)d[y]=a[y];return d}return[]}function N(a,c){for(let d=1;d<arguments.length;d++){const y=arguments[d];if(u(y)){const b=a.length||0,j=y.length||0;a.length=b+j;for(let U=0;U<j;U++)a[b+U]=y[U]}else a.push(y)}}class x{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(a){return/^[\s\xa0]*$/.test(a)}function C(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function D(a){return D[" "](a),a}D[" "]=function(){};var V=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function L(a,c,d){for(const y in a)c.call(d,a[y],y,a)}function w(a,c){for(const d in a)c.call(void 0,a[d],d,a)}function v(a){const c={};for(const d in a)c[d]=a[d];return c}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(a,c){let d,y;for(let b=1;b<arguments.length;b++){y=arguments[b];for(d in y)a[d]=y[d];for(let j=0;j<A.length;j++)d=A[j],Object.prototype.hasOwnProperty.call(y,d)&&(a[d]=y[d])}}function T(a){var c=1;a=a.split(":");const d=[];for(;0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(":")),d}function R(a){l.setTimeout(()=>{throw a},0)}function P(){var a=W;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class Ye{constructor(){this.h=this.g=null}add(c,d){const y=lt.get();y.set(c,d),this.h?this.h.next=y:this.g=y,this.h=y}}var lt=new x(()=>new yn,a=>a.reset());class yn{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,B=!1,W=new Ye,Q=()=>{const a=l.Promise.resolve(void 0);Ct=()=>{a.then(oe)}};var oe=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(d){R(d)}var c=lt;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}B=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var It=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,c),l.removeEventListener("test",d,c)}catch{}return a}();function gt(a,c){if(ge.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget){if(V){e:{try{D(c.nodeName);var b=!0;break e}catch{}b=!1}b||(c=null)}}else d=="mouseover"?c=a.fromElement:d=="mouseout"&&(c=a.toElement);this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ut[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&gt.aa.h.call(this)}}S(gt,ge);var ut={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),wr=0;function vn(a,c,d,y,b){this.listener=a,this.proxy=null,this.src=c,this.type=d,this.capture=!!y,this.ha=b,this.key=++wr,this.da=this.fa=!1}function Vn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function _n(a){this.src=a,this.g={},this.h=0}_n.prototype.add=function(a,c,d,y,b){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var U=ku(a,c,y,b);return-1<U?(c=a[U],d||(c.fa=!1)):(c=new vn(c,this.src,j,!!y,b),c.fa=d,a.push(c)),c};function Ut(a,c){var d=c.type;if(d in a.g){var y=a.g[d],b=Array.prototype.indexOf.call(y,c,void 0),j;(j=0<=b)&&Array.prototype.splice.call(y,b,1),j&&(Vn(c),a.g[d].length==0&&(delete a.g[d],a.h--))}}function ku(a,c,d,y){for(var b=0;b<a.length;++b){var j=a[b];if(!j.da&&j.listener==c&&j.capture==!!d&&j.ha==y)return b}return-1}var Ru="closure_lm_"+(1e6*Math.random()|0),Nu={};function sp(a,c,d,y,b){if(Array.isArray(c)){for(var j=0;j<c.length;j++)sp(a,c[j],d,y,b);return null}return d=lp(d),a&&a[yt]?a.K(c,d,h(y)?!!y.capture:!!y,b):aw(a,c,d,!1,y,b)}function aw(a,c,d,y,b,j){if(!c)throw Error("Invalid event type");var U=h(b)?!!b.capture:!!b,ue=Du(a);if(ue||(a[Ru]=ue=new _n(a)),d=ue.add(c,d,y,U,j),d.proxy)return d;if(y=lw(),d.proxy=y,y.src=a,y.listener=d,a.addEventListener)It||(b=U),b===void 0&&(b=!1),a.addEventListener(c.toString(),y,b);else if(a.attachEvent)a.attachEvent(ap(c.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function lw(){function a(d){return c.call(a.src,a.listener,d)}const c=uw;return a}function op(a,c,d,y,b){if(Array.isArray(c))for(var j=0;j<c.length;j++)op(a,c[j],d,y,b);else y=h(y)?!!y.capture:!!y,d=lp(d),a&&a[yt]?(a=a.i,c=String(c).toString(),c in a.g&&(j=a.g[c],d=ku(j,d,y,b),-1<d&&(Vn(j[d]),Array.prototype.splice.call(j,d,1),j.length==0&&(delete a.g[c],a.h--)))):a&&(a=Du(a))&&(c=a.g[c.toString()],a=-1,c&&(a=ku(c,d,y,b)),(d=-1<a?c[a]:null)&&bu(d))}function bu(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[yt])Ut(c.i,a);else{var d=a.type,y=a.proxy;c.removeEventListener?c.removeEventListener(d,y,a.capture):c.detachEvent?c.detachEvent(ap(d),y):c.addListener&&c.removeListener&&c.removeListener(y),(d=Du(c))?(Ut(d,a),d.h==0&&(d.src=null,c[Ru]=null)):Vn(a)}}}function ap(a){return a in Nu?Nu[a]:Nu[a]="on"+a}function uw(a,c){if(a.da)a=!0;else{c=new gt(c,this);var d=a.listener,y=a.ha||a.src;a.fa&&bu(a),a=d.call(y,c)}return a}function Du(a){return a=a[Ru],a instanceof _n?a:null}var Mu="__closure_events_fn_"+(1e9*Math.random()>>>0);function lp(a){return typeof a=="function"?a:(a[Mu]||(a[Mu]=function(c){return a.handleEvent(c)}),a[Mu])}function Xe(){J.call(this),this.i=new _n(this),this.M=this,this.F=null}S(Xe,J),Xe.prototype[yt]=!0,Xe.prototype.removeEventListener=function(a,c,d,y){op(this,a,c,d,y)};function ct(a,c){var d,y=a.F;if(y)for(d=[];y;y=y.F)d.push(y);if(a=a.M,y=c.type||c,typeof c=="string")c=new ge(c,a);else if(c instanceof ge)c.target=c.target||a;else{var b=c;c=new ge(y,a),k(c,b)}if(b=!0,d)for(var j=d.length-1;0<=j;j--){var U=c.g=d[j];b=Uo(U,y,!0,c)&&b}if(U=c.g=a,b=Uo(U,y,!0,c)&&b,b=Uo(U,y,!1,c)&&b,d)for(j=0;j<d.length;j++)U=c.g=d[j],b=Uo(U,y,!1,c)&&b}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var a=this.i,c;for(c in a.g){for(var d=a.g[c],y=0;y<d.length;y++)Vn(d[y]);delete a.g[c],a.h--}}this.F=null},Xe.prototype.K=function(a,c,d,y){return this.i.add(String(a),c,!1,d,y)},Xe.prototype.L=function(a,c,d,y){return this.i.add(String(a),c,!0,d,y)};function Uo(a,c,d,y){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();for(var b=!0,j=0;j<c.length;++j){var U=c[j];if(U&&!U.da&&U.capture==d){var ue=U.listener,Be=U.ha||U.src;U.fa&&Ut(a.i,U),b=ue.call(Be,y)!==!1&&b}}return b&&!y.defaultPrevented}function up(a,c,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(a,c||0)}function cp(a){a.g=up(()=>{a.g=null,a.i&&(a.i=!1,cp(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class cw extends J{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:cp(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(a){J.call(this),this.h=a,this.g={}}S(os,J);var hp=[];function dp(a){L(a.g,function(c,d){this.g.hasOwnProperty(d)&&bu(c)},a),a.g={}}os.prototype.N=function(){os.aa.N.call(this),dp(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ju=l.JSON.stringify,hw=l.JSON.parse,dw=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ou(){}Ou.prototype.h=null;function fp(a){return a.h||(a.h=a.i())}function pp(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vu(){ge.call(this,"d")}S(Vu,ge);function Lu(){ge.call(this,"c")}S(Lu,ge);var Er={},mp=null;function Bo(){return mp=mp||new Xe}Er.La="serverreachability";function gp(a){ge.call(this,Er.La,a)}S(gp,ge);function ls(a){const c=Bo();ct(c,new gp(c))}Er.STAT_EVENT="statevent";function yp(a,c){ge.call(this,Er.STAT_EVENT,a),this.stat=c}S(yp,ge);function ht(a){const c=Bo();ct(c,new yp(c,a))}Er.Ma="timingevent";function vp(a,c){ge.call(this,Er.Ma,a),this.size=c}S(vp,ge);function us(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},c)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function fw(a,c,d,y,b,j){a.info(function(){if(a.g)if(j)for(var U="",ue=j.split("&"),Be=0;Be<ue.length;Be++){var re=ue[Be].split("=");if(1<re.length){var Je=re[0];re=re[1];var Ze=Je.split("_");U=2<=Ze.length&&Ze[1]=="type"?U+(Je+"="+re+"&"):U+(Je+"=redacted&")}}else U=null;else U=j;return"XMLHTTP REQ ("+y+") [attempt "+b+"]: "+c+`
`+d+`
`+U})}function pw(a,c,d,y,b,j,U){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+b+"]: "+c+`
`+d+`
`+j+" "+U})}function ri(a,c,d,y){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+gw(a,d)+(y?" "+y:"")})}function mw(a,c){a.info(function(){return"TIMEOUT: "+c})}cs.prototype.info=function(){};function gw(a,c){if(!a.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var y=d[a];if(!(2>y.length)){var b=y[1];if(Array.isArray(b)&&!(1>b.length)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(var U=1;U<b.length;U++)b[U]=""}}}}return ju(d)}catch{return c}}var zo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_p={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fu;function Ho(){}S(Ho,Ou),Ho.prototype.g=function(){return new XMLHttpRequest},Ho.prototype.i=function(){return{}},Fu=new Ho;function Ln(a,c,d,y){this.j=a,this.i=c,this.l=d,this.R=y||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wp}function wp(){this.i=null,this.g="",this.h=!1}var Ep={},$u={};function Uu(a,c,d){a.L=1,a.v=Qo(wn(c)),a.m=d,a.P=!0,Sp(a,null)}function Sp(a,c){a.F=Date.now(),Wo(a),a.A=wn(a.v);var d=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),Op(d.i,"t",y),a.C=0,d=a.j.J,a.h=new wp,a.g=em(a.j,d?c:null,!a.m),0<a.O&&(a.M=new cw(m(a.Y,a,a.g),a.O)),c=a.U,d=a.g,y=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(hp[0]=b.toString()),b=hp);for(var j=0;j<b.length;j++){var U=sp(d,b[j],y||c.handleEvent,!1,c.h||c);if(!U)break;c.g[U.key]=U}c=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,c)):(a.u="GET",a.g.ea(a.A,a.u,null,c)),ls(),fw(a.i,a.u,a.A,a.l,a.R,a.m)}Ln.prototype.ca=function(a){a=a.target;const c=this.M;c&&En(a)==3?c.j():this.Y(a)},Ln.prototype.Y=function(a){try{if(a==this.g)e:{const Ze=En(this.g);var c=this.g.Ba();const oi=this.g.Z();if(!(3>Ze)&&(Ze!=3||this.g&&(this.h.h||this.g.oa()||zp(this.g)))){this.J||Ze!=4||c==7||(c==8||0>=oi?ls(3):ls(2)),Bu(this);var d=this.g.Z();this.X=d;t:if(xp(this)){var y=zp(this.g);a="";var b=y.length,j=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sr(this),hs(this);var U="";break t}this.h.i=new l.TextDecoder}for(c=0;c<b;c++)this.h.h=!0,a+=this.h.i.decode(y[c],{stream:!(j&&c==b-1)});y.length=0,this.h.g+=a,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=d==200,pw(this.i,this.u,this.A,this.l,this.R,Ze,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ue,Be=this.g;if((ue=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ue)){var re=ue;break t}}re=null}if(d=re)ri(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zu(this,d);else{this.o=!1,this.s=3,ht(12),Sr(this),hs(this);break e}}if(this.P){d=!0;let qt;for(;!this.J&&this.C<U.length;)if(qt=yw(this,U),qt==$u){Ze==4&&(this.s=4,ht(14),d=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Ep){this.s=4,ht(15),ri(this.i,this.l,U,"[Invalid Chunk]"),d=!1;break}else ri(this.i,this.l,qt,null),zu(this,qt);if(xp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||U.length!=0||this.h.h||(this.s=1,ht(16),d=!1),this.o=this.o&&d,!d)ri(this.i,this.l,U,"[Invalid Chunked Response]"),Sr(this),hs(this);else if(0<U.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),qu(Je),Je.M=!0,ht(11))}}else ri(this.i,this.l,U,null),zu(this,U);Ze==4&&Sr(this),this.o&&!this.J&&(Ze==4?Yp(this.j,this):(this.o=!1,Wo(this)))}else Mw(this.g),d==400&&0<U.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Sr(this),hs(this)}}}catch{}finally{}};function xp(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function yw(a,c){var d=a.C,y=c.indexOf(`
`,d);return y==-1?$u:(d=Number(c.substring(d,y)),isNaN(d)?Ep:(y+=1,y+d>c.length?$u:(c=c.slice(y,y+d),a.C=y+d,c)))}Ln.prototype.cancel=function(){this.J=!0,Sr(this)};function Wo(a){a.S=Date.now()+a.I,Tp(a,a.I)}function Tp(a,c){if(a.B!=null)throw Error("WatchDog timer not null");a.B=us(m(a.ba,a),c)}function Bu(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Ln.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(mw(this.i,this.A),this.L!=2&&(ls(),ht(17)),Sr(this),this.s=2,hs(this)):Tp(this,this.S-a)};function hs(a){a.j.G==0||a.J||Yp(a.j,a)}function Sr(a){Bu(a);var c=a.M;c&&typeof c.ma=="function"&&c.ma(),a.M=null,dp(a.U),a.g&&(c=a.g,a.g=null,c.abort(),c.ma())}function zu(a,c){try{var d=a.j;if(d.G!=0&&(d.g==a||Hu(d.h,a))){if(!a.K&&Hu(d.h,a)&&d.G==3){try{var y=d.Da.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var b=y;if(b[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)ea(d),Jo(d);else break e;Qu(d),ht(18)}}else d.za=b[1],0<d.za-d.T&&37500>b[2]&&d.F&&d.v==0&&!d.C&&(d.C=us(m(d.Za,d),6e3));if(1>=Ip(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Tr(d,11)}else if((a.K||d.g==a)&&ea(d),!E(c))for(b=d.Da.g.parse(c),c=0;c<b.length;c++){let re=b[c];if(d.T=re[0],re=re[1],d.G==2)if(re[0]=="c"){d.K=re[1],d.ia=re[2];const Je=re[3];Je!=null&&(d.la=Je,d.j.info("VER="+d.la));const Ze=re[4];Ze!=null&&(d.Aa=Ze,d.j.info("SVER="+d.Aa));const oi=re[5];oi!=null&&typeof oi=="number"&&0<oi&&(y=1.5*oi,d.L=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const qt=a.g;if(qt){const na=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var j=y.h;j.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Wu(j,j.h),j.h=null))}if(y.D){const Yu=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yu&&(y.ya=Yu,de(y.I,y.D,Yu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),y=d;var U=a;if(y.qa=Zp(y,y.J?y.ia:null,y.W),U.K){Pp(y.h,U);var ue=U,Be=y.L;Be&&(ue.I=Be),ue.B&&(Bu(ue),Wo(ue)),y.g=U}else Qp(y);0<d.i.length&&Zo(d)}else re[0]!="stop"&&re[0]!="close"||Tr(d,7);else d.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?Tr(d,7):Ku(d):re[0]!="noop"&&d.l&&d.l.ta(re),d.v=0)}}ls(4)}catch{}}var vw=class{constructor(a,c){this.g=a,this.map=c}};function Ap(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ip(a){return a.h?1:a.g?a.g.size:0}function Hu(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function Wu(a,c){a.g?a.g.add(c):a.h=c}function Pp(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}Ap.prototype.cancel=function(){if(this.i=kp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function kp(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const d of a.g.values())c=c.concat(d.D);return c}return I(a.i)}function _w(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var c=[],d=a.length,y=0;y<d;y++)c.push(a[y]);return c}c=[],d=0;for(y in a)c[d++]=a[y];return c}function ww(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var c=[];a=a.length;for(var d=0;d<a;d++)c.push(d);return c}c=[],d=0;for(const y in a)c[d++]=y;return c}}}function Rp(a,c){if(a.forEach&&typeof a.forEach=="function")a.forEach(c,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,c,void 0);else for(var d=ww(a),y=_w(a),b=y.length,j=0;j<b;j++)c.call(void 0,y[j],d&&d[j],a)}var Np=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ew(a,c){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var y=a[d].indexOf("="),b=null;if(0<=y){var j=a[d].substring(0,y);b=a[d].substring(y+1)}else j=a[d];c(j,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function xr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof xr){this.h=a.h,Go(this,a.j),this.o=a.o,this.g=a.g,Ko(this,a.s),this.l=a.l;var c=a.i,d=new ps;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),bp(this,d),this.m=a.m}else a&&(c=String(a).match(Np))?(this.h=!1,Go(this,c[1]||"",!0),this.o=ds(c[2]||""),this.g=ds(c[3]||"",!0),Ko(this,c[4]),this.l=ds(c[5]||"",!0),bp(this,c[6]||"",!0),this.m=ds(c[7]||"")):(this.h=!1,this.i=new ps(null,this.h))}xr.prototype.toString=function(){var a=[],c=this.j;c&&a.push(fs(c,Dp,!0),":");var d=this.g;return(d||c=="file")&&(a.push("//"),(c=this.o)&&a.push(fs(c,Dp,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(fs(d,d.charAt(0)=="/"?Tw:xw,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",fs(d,Cw)),a.join("")};function wn(a){return new xr(a)}function Go(a,c,d){a.j=d?ds(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function Ko(a,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);a.s=c}else a.s=null}function bp(a,c,d){c instanceof ps?(a.i=c,Iw(a.i,a.h)):(d||(c=fs(c,Aw)),a.i=new ps(c,a.h))}function de(a,c,d){a.i.set(c,d)}function Qo(a){return de(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ds(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function fs(a,c,d){return typeof a=="string"?(a=encodeURI(a).replace(c,Sw),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Sw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Dp=/[#\/\?@]/g,xw=/[#\?:]/g,Tw=/[#\?]/g,Aw=/[#\?@]/g,Cw=/#/g;function ps(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function Fn(a){a.g||(a.g=new Map,a.h=0,a.i&&Ew(a.i,function(c,d){a.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=ps.prototype,t.add=function(a,c){Fn(this),this.i=null,a=ii(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(c),this.h+=1,this};function Mp(a,c){Fn(a),c=ii(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function jp(a,c){return Fn(a),c=ii(a,c),a.g.has(c)}t.forEach=function(a,c){Fn(this),this.g.forEach(function(d,y){d.forEach(function(b){a.call(c,b,y,this)},this)},this)},t.na=function(){Fn(this);const a=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let y=0;y<c.length;y++){const b=a[y];for(let j=0;j<b.length;j++)d.push(c[y])}return d},t.V=function(a){Fn(this);let c=[];if(typeof a=="string")jp(this,a)&&(c=c.concat(this.g.get(ii(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)c=c.concat(a[d])}return c},t.set=function(a,c){return Fn(this),this.i=null,a=ii(this,a),jp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},t.get=function(a,c){return a?(a=this.V(a),0<a.length?String(a[0]):c):c};function Op(a,c,d){Mp(a,c),0<d.length&&(a.i=null,a.g.set(ii(a,c),I(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var y=c[d];const j=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var b=j;U[y]!==""&&(b+="="+encodeURIComponent(String(U[y]))),a.push(b)}}return this.i=a.join("&")};function ii(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function Iw(a,c){c&&!a.j&&(Fn(a),a.i=null,a.g.forEach(function(d,y){var b=y.toLowerCase();y!=b&&(Mp(this,y),Op(this,b,d))},a)),a.j=c}function Pw(a,c){const d=new cs;if(l.Image){const y=new Image;y.onload=_($n,d,"TestLoadImage: loaded",!0,c,y),y.onerror=_($n,d,"TestLoadImage: error",!1,c,y),y.onabort=_($n,d,"TestLoadImage: abort",!1,c,y),y.ontimeout=_($n,d,"TestLoadImage: timeout",!1,c,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else c(!1)}function kw(a,c){const d=new cs,y=new AbortController,b=setTimeout(()=>{y.abort(),$n(d,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:y.signal}).then(j=>{clearTimeout(b),j.ok?$n(d,"TestPingServer: ok",!0,c):$n(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(b),$n(d,"TestPingServer: error",!1,c)})}function $n(a,c,d,y,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),y(d)}catch{}}function Rw(){this.g=new dw}function Nw(a,c,d){const y=d||"";try{Rp(a,function(b,j){let U=b;h(b)&&(U=ju(b)),c.push(y+j+"="+encodeURIComponent(U))})}catch(b){throw c.push(y+"type="+encodeURIComponent("_badmap")),b}}function qo(a){this.l=a.Ub||null,this.j=a.eb||!1}S(qo,Ou),qo.prototype.g=function(){return new Yo(this.l,this.j)},qo.prototype.i=function(a){return function(){return a}}({});function Yo(a,c){Xe.call(this),this.D=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Yo,Xe),t=Yo.prototype,t.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=c,this.readyState=1,gs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(c.body=a),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?ms(this):gs(this),this.readyState==3&&Vp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ms(this))},t.Qa=function(a){this.g&&(this.response=a,ms(this))},t.ga=function(){this.g&&ms(this)};function ms(a){a.readyState=4,a.l=null,a.j=null,a.v=null,gs(a)}t.setRequestHeader=function(a,c){this.u.append(a,c)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=c.next();return a.join(`\r
`)};function gs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Lp(a){let c="";return L(a,function(d,y){c+=y,c+=":",c+=d,c+=`\r
`}),c}function Gu(a,c,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=Lp(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):de(a,c,d))}function xe(a){Xe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(xe,Xe);var bw=/^https?$/i,Dw=["POST","PUT"];t=xe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,c,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fu.g(),this.v=this.o?fp(this.o):fp(Fu),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(j){Fp(this,j);return}if(a=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var b in y)d.set(b,y[b]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const j of y.keys())d.set(j,y.get(j));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(j=>j.toLowerCase()=="content-type"),b=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Dw,c,void 0))||y||b||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,U]of d)this.g.setRequestHeader(j,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bp(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){Fp(this,j)}};function Fp(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.m=5,$p(a),Xo(a)}function $p(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),Xo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xo(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Up(this):this.bb())},t.bb=function(){Up(this)};function Up(a){if(a.h&&typeof o<"u"&&(!a.v[1]||En(a)!=4||a.Z()!=2)){if(a.u&&En(a)==4)up(a.Ea,0,a);else if(ct(a,"readystatechange"),En(a)==4){a.h=!1;try{const U=a.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var y;if(y=U===0){var b=String(a.D).match(Np)[1]||null;!b&&l.self&&l.self.location&&(b=l.self.location.protocol.slice(0,-1)),y=!bw.test(b?b.toLowerCase():"")}d=y}if(d)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var j=2<En(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",$p(a)}}finally{Xo(a)}}}}function Xo(a,c){if(a.g){Bp(a);const d=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,c||ct(a,"ready");try{d.onreadystatechange=y}catch{}}}function Bp(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function En(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),hw(c)}};function zp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Mw(a){const c={};a=(a.g&&2<=En(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(E(a[y]))continue;var d=T(a[y]);const b=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const j=c[b]||[];c[b]=j,j.push(d)}w(c,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(a,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||c}function Hp(a){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ys("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ys("baseRetryDelayMs",5e3,a),this.cb=ys("retryDelaySeedMs",1e4,a),this.Wa=ys("forwardChannelMaxRetries",2,a),this.wa=ys("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ap(a&&a.concurrentRequestLimit),this.Da=new Rw,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hp.prototype,t.la=8,t.G=1,t.connect=function(a,c,d,y){ht(0),this.W=a,this.H=c||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.I=Zp(this,null,this.W),Zo(this)};function Ku(a){if(Wp(a),a.G==3){var c=a.U++,d=wn(a.I);if(de(d,"SID",a.K),de(d,"RID",c),de(d,"TYPE","terminate"),vs(a,d),c=new Ln(a,a.j,c),c.L=2,c.v=Qo(wn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=c.v,d=!0),d||(c.g=em(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Wo(c)}Jp(a)}function Jo(a){a.g&&(qu(a),a.g.cancel(),a.g=null)}function Wp(a){Jo(a),a.u&&(l.clearTimeout(a.u),a.u=null),ea(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Zo(a){if(!Cp(a.h)&&!a.s){a.s=!0;var c=a.Ga;Ct||Q(),B||(Ct(),B=!0),W.add(c,a),a.B=0}}function jw(a,c){return Ip(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=c.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=us(m(a.Ga,a,c),Xp(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const b=new Ln(this,this.j,a);let j=this.o;if(this.S&&(j?(j=v(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(b.H=j,j=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=Kp(this,b,c),d=wn(this.I),de(d,"RID",a),de(d,"CVER",22),this.D&&de(d,"X-HTTP-Session-Id",this.D),vs(this,d),j&&(this.O?c="headers="+encodeURIComponent(String(Lp(j)))+"&"+c:this.m&&Gu(d,this.m,j)),Wu(this.h,b),this.Ua&&de(d,"TYPE","init"),this.P?(de(d,"$req",c),de(d,"SID","null"),b.T=!0,Uu(b,d,null)):Uu(b,d,c),this.G=2}}else this.G==3&&(a?Gp(this,a):this.i.length==0||Cp(this.h)||Gp(this))};function Gp(a,c){var d;c?d=c.l:d=a.U++;const y=wn(a.I);de(y,"SID",a.K),de(y,"RID",d),de(y,"AID",a.T),vs(a,y),a.m&&a.o&&Gu(y,a.m,a.o),d=new Ln(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),c&&(a.i=c.D.concat(a.i)),c=Kp(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Wu(a.h,d),Uu(d,y,c)}function vs(a,c){a.H&&L(a.H,function(d,y){de(c,y,d)}),a.l&&Rp({},function(d,y){de(c,y,d)})}function Kp(a,c,d){d=Math.min(a.i.length,d);var y=a.l?m(a.l.Na,a.l,a):null;e:{var b=a.i;let j=-1;for(;;){const U=["count="+d];j==-1?0<d?(j=b[0].g,U.push("ofs="+j)):j=0:U.push("ofs="+j);let ue=!0;for(let Be=0;Be<d;Be++){let re=b[Be].g;const Je=b[Be].map;if(re-=j,0>re)j=Math.max(0,b[Be].g-100),ue=!1;else try{Nw(Je,U,"req"+re+"_")}catch{y&&y(Je)}}if(ue){y=U.join("&");break e}}}return a=a.i.splice(0,d),c.D=a,y}function Qp(a){if(!a.g&&!a.u){a.Y=1;var c=a.Fa;Ct||Q(),B||(Ct(),B=!0),W.add(c,a),a.v=0}}function Qu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=us(m(a.Fa,a),Xp(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,qp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=us(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Jo(this),qp(this))};function qu(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function qp(a){a.g=new Ln(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var c=wn(a.qa);de(c,"RID","rpc"),de(c,"SID",a.K),de(c,"AID",a.T),de(c,"CI",a.F?"0":"1"),!a.F&&a.ja&&de(c,"TO",a.ja),de(c,"TYPE","xmlhttp"),vs(a,c),a.m&&a.o&&Gu(c,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=Qo(wn(c)),d.m=null,d.P=!0,Sp(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Jo(this),Qu(this),ht(19))};function ea(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Yp(a,c){var d=null;if(a.g==c){ea(a),qu(a),a.g=null;var y=2}else if(Hu(a.h,c))d=c.D,Pp(a.h,c),y=1;else return;if(a.G!=0){if(c.o)if(y==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var b=a.B;y=Bo(),ct(y,new vp(y,d)),Zo(a)}else Qp(a);else if(b=c.s,b==3||b==0&&0<c.X||!(y==1&&jw(a,c)||y==2&&Qu(a)))switch(d&&0<d.length&&(c=a.h,c.i=c.i.concat(d)),b){case 1:Tr(a,5);break;case 4:Tr(a,10);break;case 3:Tr(a,6);break;default:Tr(a,2)}}}function Xp(a,c){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*c}function Tr(a,c){if(a.j.info("Error code "+c),c==2){var d=m(a.fb,a),y=a.Xa;const b=!y;y=new xr(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Go(y,"https"),Qo(y),b?Pw(y.toString(),d):kw(y.toString(),d)}else ht(2);a.G=0,a.l&&a.l.sa(c),Jp(a),Wp(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Jp(a){if(a.G=0,a.ka=[],a.l){const c=kp(a.h);(c.length!=0||a.i.length!=0)&&(N(a.ka,c),N(a.ka,a.i),a.h.i.length=0,I(a.i),a.i.length=0),a.l.ra()}}function Zp(a,c,d){var y=d instanceof xr?wn(d):new xr(d);if(y.g!="")c&&(y.g=c+"."+y.g),Ko(y,y.s);else{var b=l.location;y=b.protocol,c=c?c+"."+b.hostname:b.hostname,b=+b.port;var j=new xr(null);y&&Go(j,y),c&&(j.g=c),b&&Ko(j,b),d&&(j.l=d),y=j}return d=a.D,c=a.ya,d&&c&&de(y,d,c),de(y,"VER",a.la),vs(a,y),y}function em(a,c,d){if(c&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Ca&&!a.pa?new xe(new qo({eb:d})):new xe(a.pa),c.Ha(a.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tm(){}t=tm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ta(){}ta.prototype.g=function(a,c){return new Pt(a,c)};function Pt(a,c){Xe.call(this),this.g=new Hp(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(a?a["X-WebChannel-Client-Profile"]=c.va:a={"X-WebChannel-Client-Profile":c.va}),this.g.S=a,(a=c&&c.Sb)&&!E(a)&&(this.g.m=a),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new si(this)}S(Pt,Xe),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Ku(this.g)},Pt.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=ju(a),a=d);c.i.push(new vw(c.Ya++,a)),c.G==3&&Zo(c)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Ku(this.g),delete this.g,Pt.aa.N.call(this)};function nm(a){Vu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const d in c){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}S(nm,Vu);function rm(){Lu.call(this),this.status=1}S(rm,Lu);function si(a){this.g=a}S(si,tm),si.prototype.ua=function(){ct(this.g,"a")},si.prototype.ta=function(a){ct(this.g,new nm(a))},si.prototype.sa=function(a){ct(this.g,new rm)},si.prototype.ra=function(){ct(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,a_=function(){return new ta},o_=function(){return Bo()},s_=Er,ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zo.NO_ERROR=0,zo.TIMEOUT=8,zo.HTTP_ERROR=6,qa=zo,_p.COMPLETE="complete",i_=_p,pp.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Ds=pp,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,r_=xe}).apply(typeof Ca<"u"?Ca:typeof self<"u"?self:typeof window<"u"?window:{});const iy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ss="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Y1("@firebase/firestore");function hi(){return Kr.logLevel}function H(t,...e){if(Kr.logLevel<=te.DEBUG){const n=e.map(Mf);Kr.debug(`Firestore (${ss}): ${t}`,...n)}}function Qr(t,...e){if(Kr.logLevel<=te.ERROR){const n=e.map(Mf);Kr.error(`Firestore (${ss}): ${t}`,...n)}}function Dl(t,...e){if(Kr.logLevel<=te.WARN){const n=e.map(Mf);Kr.warn(`Firestore (${ss}): ${t}`,...n)}}function Mf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+t;throw Qr(e),new Error(e)}function Ae(t,e){t||Z()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}}class VP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LP{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new l_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new rt(e)}}class FP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $P{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new FP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ae(this.o===void 0);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new UP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=zP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Ki(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Ue(0,0))}static max(){return new ye(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return So.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof So?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends So{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const HP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends So{construct(e,n,r){return new Ge(e,n,r)}static isValidIdentifier(e){return HP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ge(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new K($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new K($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(ke.fromString(e))}static fromName(e){return new Y(ke.fromString(e).popFirst(5))}static empty(){return new Y(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new ke(e.slice()))}}function WP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new dr(i,Y.empty(),e)}function GP(t){return new dr(t.readTime,t.key,-1)}class dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dr(ye.min(),Y.empty(),-1)}static max(){return new dr(ye.max(),Y.empty(),-1)}}function KP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==QP)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(p=>{o[h]=p,++l,l===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function YP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Of.oe=-1;function Vf(t){return t==null}function Ml(t){return t===0&&1/t==-1/0}function XP(t){return typeof t=="number"&&Number.isInteger(t)&&!Ml(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sy(e)),e=ZP(t.get(n),e);return sy(e)}function ZP(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function sy(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||He.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ia(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ia(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ia(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ia(this.root,e,this.comparator,!0)}}class Ia{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??He.RED,this.left=i??He.EMPTY,this.right=s??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new He(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return He.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new He(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ay(this.data.getIterator())}getIteratorFrom(e){return new ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Mt([])}unionWith(e){let n=new Qe(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ki(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ek("Invalid base64 string: "+s):s}}(e);return new mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const tk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=tk.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qi(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ff(t){const e=t.mapValue.fields.__previous_value__;return Lf(e)?Ff(e):e}function jl(t){const e=qr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,r,i,s,o,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class Ol{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lf(t)?4:ik(t)?9007199254740991:rk(t)?10:11:Z()}function gn(t,e){if(t===e)return!0;const n=Yr(t);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jl(t).isEqual(jl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=qr(i.timestampValue),l=qr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qi(i.bytesValue).isEqual(Qi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return We(i.geoPointValue.latitude)===We(s.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return We(i.integerValue)===We(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=We(i.doubleValue),l=We(s.doubleValue);return o===l?Ml(o)===Ml(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ki(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(oy(o)!==oy(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!gn(o[u],l[u])))return!1;return!0}(t,e);default:return Z()}}function xo(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function qi(t,e){if(t===e)return 0;const n=Yr(t),r=Yr(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=We(s.integerValue||s.doubleValue),u=We(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return ly(t.timestampValue,e.timestampValue);case 4:return ly(jl(t),jl(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Qi(s),u=Qi(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const p=ae(l[h],u[h]);if(p!==0)return p}return ae(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ae(We(s.latitude),We(o.latitude));return l!==0?l:ae(We(s.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uy(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,h,p;const f=s.fields||{},m=o.fields||{},_=(l=f.value)===null||l===void 0?void 0:l.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,I=ae(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return I!==0?I:uy(_,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Pa.mapValue&&o===Pa.mapValue)return 0;if(s===Pa.mapValue)return 1;if(o===Pa.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let f=0;f<u.length&&f<p.length;++f){const m=ae(u[f],p[f]);if(m!==0)return m;const _=qi(l[u[f]],h[p[f]]);if(_!==0)return _}return ae(u.length,p.length)}(t.mapValue,e.mapValue);default:throw Z()}}function ly(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=qr(t),r=qr(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function uy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=qi(n[i],r[i]);if(s)return s}return ae(n.length,r.length)}function Yi(t){return ud(t)}function ud(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ud(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ud(n.fields[o])}`;return i+"}"}(t.mapValue):Z()}function Ya(t){switch(Yr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ff(t);return e?16+Ya(e):16;case 5:return 2*t.stringValue.length;case 6:return Qi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ya(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ti(r.fields,(s,o)=>{i+=s.length+Ya(o)}),i}(t.mapValue);default:throw Z()}}function cd(t){return!!t&&"integerValue"in t}function $f(t){return!!t&&"arrayValue"in t}function Xa(t){return!!t&&"mapValue"in t}function rk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Gs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ik(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gs(n)}setAll(e){let n=Ge.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Gs(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ti(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bt(Gs(this.value))}}function h_(t){const e=[];return ti(t.fields,(n,r)=>{const i=new Ge([n]);if(Xa(r)){const s=h_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new en(e,0,ye.min(),ye.min(),ye.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,ye.min(),ye.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,ye.min(),ye.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.position=e,this.inclusive=n}}function cy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=qi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function hy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n="asc"){this.field=e,this.dir=n}}function sk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{}class Le extends d_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ak(e,n,r):n==="array-contains"?new ck(e,r):n==="in"?new hk(e,r):n==="not-in"?new dk(e,r):n==="array-contains-any"?new fk(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lk(e,r):new uk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qi(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends d_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new fr(e,n)}matches(e){return f_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function f_(t){return t.op==="and"}function p_(t){return ok(t)&&f_(t)}function ok(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function hd(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+Yi(t.value);if(p_(t))return t.filters.map(e=>hd(e)).join(",");{const e=t.filters.map(n=>hd(n)).join(",");return`${t.op}(${e})`}}function m_(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&gn(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&m_(o,i.filters[l]),!0):!1}(t,e):void Z()}function g_(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${Yi(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(g_).join(" ,")+"}"}(t):"Filter"}class ak extends Le{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class lk extends Le{constructor(e,n){super(e,"in",n),this.keys=y_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uk extends Le{constructor(e,n){super(e,"not-in",n),this.keys=y_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function y_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class ck extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $f(n)&&xo(n.arrayValue,this.value)}}class hk extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xo(this.value.arrayValue,n)}}class dk extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xo(this.value.arrayValue,n)}}class fk extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$f(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function dy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pk(t,e,n,r,i,s,o)}function Uf(t){const e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yi(r)).join(",")),e.ue=n}return e.ue}function Bf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hy(t.startAt,e.startAt)&&hy(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mk(t,e,n,r,i,s,o,l){return new vu(t,e,n,r,i,s,o,l)}function gk(t){return new vu(t)}function fy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yk(t){return t.collectionGroup!==null}function Ks(t){const e=he(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Qe(Ge.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ll(s,r))}),n.has(Ge.keyField().canonicalString())||e.ce.push(new Ll(Ge.keyField(),r))}return e.ce}function $r(t){const e=he(t);return e.le||(e.le=vk(e,Ks(t))),e.le}function vk(t,e){if(t.limitType==="F")return dy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ll(i.field,s)});const n=t.endAt?new Vl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vl(t.startAt.position,t.startAt.inclusive):null;return dy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dd(t,e,n){return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function v_(t,e){return Bf($r(t),$r(e))&&t.limitType===e.limitType}function __(t){return`${Uf($r(t))}|lt:${t.limitType}`}function Is(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>g_(i)).join(", ")}]`),Vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yi(i)).join(",")),`Target(${r})`}($r(t))}; limitType=${t.limitType})`}function zf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ks(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const h=cy(o,l,u);return o.inclusive?h<=0:h<0}(r.startAt,Ks(r),i)||r.endAt&&!function(o,l,u){const h=cy(o,l,u);return o.inclusive?h>=0:h>0}(r.endAt,Ks(r),i))}(t,e)}function _k(t){return(e,n)=>{let r=!1;for(const i of Ks(t)){const s=wk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function wk(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?qi(u,h):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return c_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=new At(Y.comparator);function Fl(){return Ek}const w_=new At(Y.comparator);function ka(...t){let e=w_;for(const n of t)e=e.insert(n.key,n);return e}function E_(t){let e=w_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function jr(){return Qs()}function S_(){return Qs()}function Qs(){return new ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const Sk=new At(Y.comparator),xk=new Qe(Y.comparator);function st(...t){let e=xk;for(const n of t)e=e.add(n);return e}const Tk=new Qe(ae);function Ak(){return Tk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ml(e)?"-0":e}}function x_(t){return{integerValue:""+t}}function Ck(t,e){return XP(e)?x_(e):Hf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this._=void 0}}function Ik(t,e,n){return t instanceof $l?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Lf(s)&&(s=Ff(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof To?A_(t,e):t instanceof Ao?C_(t,e):function(i,s){const o=T_(i,s),l=py(o)+py(i.Pe);return cd(o)&&cd(i.Pe)?x_(l):Hf(i.serializer,l)}(t,e)}function Pk(t,e,n){return t instanceof To?A_(t,e):t instanceof Ao?C_(t,e):n}function T_(t,e){return t instanceof Ul?function(r){return cd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class $l extends _u{}class To extends _u{constructor(e){super(),this.elements=e}}function A_(t,e){const n=I_(e);for(const r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ao extends _u{constructor(e){super(),this.elements=e}}function C_(t,e){let n=I_(e);for(const r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}class Ul extends _u{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function py(t){return We(t.integerValue||t.doubleValue)}function I_(t){return $f(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof To&&i instanceof To||r instanceof Ao&&i instanceof Ao?Ki(r.elements,i.elements,gn):r instanceof Ul&&i instanceof Ul?gn(r.Pe,i.Pe):r instanceof $l&&i instanceof $l}(t.transform,e.transform)}class Rk{constructor(e,n){this.version=e,this.transformResults=n}}class Ot{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ot}static exists(e){return new Ot(void 0,e)}static updateTime(e){return new Ot(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ja(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wu{}function P_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Eu(t.key,Ot.none()):new Lo(t.key,t.data,Ot.none());{const n=t.data,r=bt.empty();let i=new Qe(Ge.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new _r(t.key,r,new Mt(i.toArray()),Ot.none())}}function Nk(t,e,n){t instanceof Lo?function(i,s,o){const l=i.value.clone(),u=gy(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof _r?function(i,s,o){if(!Ja(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=gy(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(k_(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function qs(t,e,n,r){return t instanceof Lo?function(s,o,l,u){if(!Ja(s.precondition,o))return l;const h=s.value.clone(),p=yy(s.fieldTransforms,u,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof _r?function(s,o,l,u){if(!Ja(s.precondition,o))return l;const h=yy(s.fieldTransforms,u,o),p=o.data;return p.setAll(k_(s)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,l){return Ja(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function bk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=T_(r.transform,i||null);s!=null&&(n===null&&(n=bt.empty()),n.set(r.field,s))}return n||null}function my(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ki(r,i,(s,o)=>kk(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lo extends wu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _r extends wu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function k_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function gy(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Pk(o,l,n[i]))}return r}function yy(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ik(s,o,e))}return r}class Eu extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dk extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Nk(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=S_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=P_(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Ki(this.mutations,e.mutations,(n,r)=>my(n,r))&&Ki(this.baseMutations,e.baseMutations,(n,r)=>my(n,r))}}class Wf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return Sk}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Wf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,ee;function Ok(t){switch(t){default:return Z();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function Vk(t){if(t===void 0)return Qr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ie.OK:return $.OK;case Ie.CANCELLED:return $.CANCELLED;case Ie.UNKNOWN:return $.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return $.INTERNAL;case Ie.UNAVAILABLE:return $.UNAVAILABLE;case Ie.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ie.NOT_FOUND:return $.NOT_FOUND;case Ie.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ie.ABORTED:return $.ABORTED;case Ie.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ie.DATA_LOSS:return $.DATA_LOSS;default:return Z()}}(ee=Ie||(Ie={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new n_([4294967295,4294967295],0);class Lk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $k(t,e){return fd(t,e.toTimestamp())}function Mi(t){return Ae(!!t),ye.fromTimestamp(function(n){const r=qr(n);return new Ue(r.seconds,r.nanos)}(t))}function R_(t,e){return pd(t,e).canonicalString()}function pd(t,e){const n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Uk(t){const e=ke.fromString(t);return Ae(qk(e)),e}function md(t,e){return R_(t.databaseId,e.path)}function Bk(t){const e=Uk(t);return e.length===4?ke.emptyPath():Hk(e)}function zk(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hk(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vy(t,e,n){return{name:md(t,e),fields:n.value.mapValue.fields}}function Wk(t,e){let n;if(e instanceof Lo)n={update:vy(t,e.key,e.value)};else if(e instanceof Eu)n={delete:md(t,e.key)};else if(e instanceof _r)n={update:vy(t,e.key,e.data),updateMask:Qk(e.fieldMask)};else{if(!(e instanceof Dk))return Z();n={verify:md(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof $l)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof To)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ao)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ul)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:$k(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function Gk(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Mi(i.updateTime):Mi(s);return o.isEqual(ye.min())&&(o=Mi(s)),new Rk(o,i.transformResults||[])}(n,e))):[]}function Kk(t){let e=Bk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(f){const m=N_(f);return m instanceof fr&&p_(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(S){return new Ll(di(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Vf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,_=f.values||[];return new Vl(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(f){const m=!f.before,_=f.values||[];return new Vl(_,m)}(n.endAt)),mk(e,i,o,s,l,"F",u,h)}function N_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=di(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=di(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=di(n.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=di(n.unaryFilter.field);return Le.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Le.create(di(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>N_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function di(t){return Ge.fromServerFormat(t.fieldPath)}function Qk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.ct=e}}function Xk(t){const e=Kk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.un=new Zk}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(dr.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class Zk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vt(e,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vt.DEFAULT_COLLECTION_PERCENTILE=10,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vt.DEFAULT=new vt(41943040,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vt.DISABLED=new vt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xi(0)}static kn(){return new Xi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class e2{constructor(e){this.Un=e,this.buffer=new Qe(wy),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wy(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){H("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?H("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await jf(n)}await this.Hn(3e5)})}}class n2{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(Of.oe);const r=new e2(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(_y)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_y):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,l,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(h=Date.now(),hi()<=te.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function r2(t,e){return new n2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.changes=new ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qs(r.mutation,i,Mt.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const i=jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ka();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Fl();const o=Qs(),l=function(){return Qs()}();return n.forEach((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof _r)?s=s.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),qs(p.mutation,h,p.mutation.getFieldMask(),Ue.now())):o.set(h.key,Mt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>{var f;return l.set(h,new s2(p,(f=o.get(h))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Qs();let i=new At((o,l)=>o-l),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Mt.empty();p=l.applyToLocalView(h,p),r.set(u,p);const f=(i.get(l.batchId)||st()).add(u);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,p=u.value,f=S_();p.forEach(m=>{if(!s.has(m)){const _=P_(n.get(m),r.get(m));_!==null&&f.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(jr());let l=-1,u=s;return o.next(h=>O.forEach(h,(p,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(p)?O.resolve():this.remoteDocumentCache.getEntry(e,p).next(m=>{u=u.insert(p,m)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,st())).next(p=>({batchId:l,changes:E_(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=ka();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ka();return this.indexManager.getCollectionParents(e,s).next(l=>O.forEach(l,u=>{const h=function(f,m){return new vu(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,en.newInvalidDocument(p)))});let l=ka();return o.forEach((u,h)=>{const p=s.get(u);p!==void 0&&qs(p.mutation,h,Mt.empty(),Ue.now()),zf(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mi(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Xk(i.bundledQuery),readTime:Mi(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.overlays=new At(Y.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jr();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=jr(),s=n.length+1,o=new Y(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new At((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=jr(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=jr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,p)=>l.set(h,p)),!(l.size()>=i)););return O.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jk(n,r));let s=this.Ir.get(n);s===void 0&&(s=st(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this.Tr=new Qe(je.Er),this.dr=new Qe(je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Y(new ke([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Y(new ke([])),r=new je(n,e),i=new je(n,e+1);let s=st();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class je{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||ae(e.wr,n.wr)}static Ar(e,n){return ae(e.wr,n.wr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Qe(je.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Mk(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new je(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(ae);return n.forEach(i=>{const s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new je(new Y(s),0);let l=new Qe(ae);return this.br.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.wr)),!0)},o),O.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{const s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new je(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.Mr=e,this.docs=function(){return new At(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=Fl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fl();const o=n.path,l=new Y(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||KP(GP(p),r)<=0||(i.has(p.key)||zf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new d2(this)}getSize(e){return O.resolve(this.size)}}class d2 extends i2{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.persistence=e,this.Nr=new ni(n=>Uf(n),Bf),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gf,this.targetCount=0,this.kr=Xi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Of(0),this.Kr=!1,this.Kr=!0,this.$r=new u2,this.referenceDelegate=e(this),this.Ur=new f2(this),this.indexManager=new Jk,this.remoteDocumentCache=function(i){return new h2(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Yk(n),this.Gr=new a2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new c2(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new p2(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class p2 extends qP{constructor(e){super(),this.currentSequenceNumber=e}}class Kf{constructor(e){this.persistence=e,this.Jr=new Gf,this.Yr=null}static Zr(e){return new Kf(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{const i=Y.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Bl{constructor(e,n){this.persistence=e,this.ti=new ni(r=>JP(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=r2(this,n)}static Zr(e,n){return new Bl(e,n)}zr(){}jr(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return O.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?O.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(l=>{l||(r++,s.removeEntry(o,ye.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),O.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ya(e.data.value)),n}nr(e,n,r){return O.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=st(),i=st();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return vI()?8:YP(gI())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new m2;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(hi()<=te.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Is(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(hi()<=te.DEBUG&&H("QueryEngine","Query:",Is(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hi()<=te.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Is(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):O.resolve())}Yi(e,n){if(fy(n))return O.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dd(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=st(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ts(n,l);return this.ns(n,h,o,u.readTime)?this.Yi(e,dd(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return fy(n)||i.isEqual(ye.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?O.resolve(null):(hi()<=te.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Is(n)),this.rs(e,o,n,WP(i,-1)).next(l=>l))})}ts(e,n){let r=new Qe(_k(e));return n.forEach((i,s)=>{zf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return hi()<=te.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Is(n)),this.Ji.getDocumentsMatchingQuery(e,n,dr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new At(ae),this._s=new ni(s=>Uf(s),Bf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function v2(t,e,n,r){return new y2(t,e,n,r)}async function D_(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=st();for(const h of i){o.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of s){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:l}))})})}function _2(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,p){const f=h.batch,m=f.keys();let _=O.resolve();return m.forEach(S=>{_=_.next(()=>p.getEntry(u,S)).next(I=>{const N=h.docVersions.get(S);Ae(N!==null),I.version.compareTo(N)<0&&(f.applyToRemoteDocument(I,h),I.isValidDocument()&&(I.setReadTime(h.commitVersion),p.addEntry(I)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=st();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function w2(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function E2(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class Ey{constructor(){this.activeTargetIds=Ak()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S2{constructor(){this.so=new Ey,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ey,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra=null;function Vc(){return Ra===null?Ra=function(){return 268435456+Math.round(2147483648*Math.random())}():Ra++,"0x"+Ra.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt="WebChannelConnection";class C2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=Vc(),u=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(n,u,h,i).then(p=>(H("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw Dl("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ss}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=T2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Vc();return new Promise((o,l)=>{const u=new r_;u.setWithCredentials(!0),u.listenOnce(i_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qa.NO_ERROR:const p=u.getResponseJson();H(nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case qa.TIMEOUT:H(nt,`RPC '${e}' ${s} timed out`),l(new K($.DEADLINE_EXCEEDED,"Request time out"));break;case qa.HTTP_ERROR:const f=u.getStatus();if(H(nt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const S=function(N){const x=N.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(x)>=0?x:$.UNKNOWN}(_.status);l(new K(S,_.message))}else l(new K($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K($.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{H(nt,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);H(nt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=Vc(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=a_(),l=o_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");H(nt,`Creating RPC '${e}' stream ${i}: ${p}`,u);const f=o.createWebChannel(p,u);let m=!1,_=!1;const S=new A2({Io:N=>{_?H(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(H(nt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),H(nt,`RPC '${e}' stream ${i} sending:`,N),f.send(N))},To:()=>f.close()}),I=(N,x,E)=>{N.listen(x,C=>{try{E(C)}catch(D){setTimeout(()=>{throw D},0)}})};return I(f,Ds.EventType.OPEN,()=>{_||(H(nt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),I(f,Ds.EventType.CLOSE,()=>{_||(_=!0,H(nt,`RPC '${e}' stream ${i} transport closed`),S.So())}),I(f,Ds.EventType.ERROR,N=>{_||(_=!0,Dl(nt,`RPC '${e}' stream ${i} transport errored:`,N),S.So(new K($.UNAVAILABLE,"The operation could not be completed")))}),I(f,Ds.EventType.MESSAGE,N=>{var x;if(!_){const E=N.data[0];Ae(!!E);const C=E,D=C.error||((x=C[0])===null||x===void 0?void 0:x.error);if(D){H(nt,`RPC '${e}' stream ${i} received error:`,D);const V=D.status;let L=function(A){const k=Ie[A];if(k!==void 0)return Vk(k)}(V),w=D.message;L===void 0&&(L=$.INTERNAL,w="Unknown error status: "+V+" with message "+D.message),_=!0,S.So(new K(L,w)),f.close()}else H(nt,`RPC '${e}' stream ${i} received:`,E),S.bo(E)}}),I(l,s_.STAT_EVENT,N=>{N.stat===ld.PROXY?H(nt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===ld.NOPROXY&&H(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function Lc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){return new Lk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new M_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new K($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P2 extends I2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Gk(e.writeResults,e.commitTime),r=Mi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=zk(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Wk(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,pd(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,pd(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class R2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qr(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{$o(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=he(u);h.L_.add(4),await Fo(h),h.q_.set("Unknown"),h.L_.delete(4),await xu(h)}(this))})}),this.q_=new R2(r,i)}}async function xu(t){if($o(t))for(const e of t.B_)await e(!0)}async function Fo(t){for(const e of t.B_)await e(!1)}function $o(t){return he(t).L_.size===0}async function j_(t,e,n){if(!Vo(e))throw e;t.L_.add(1),await Fo(t),t.q_.set("Offline"),n||(n=()=>w2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await xu(t)})}function O_(t,e){return e().catch(n=>j_(t,n,e))}async function Tu(t){const e=he(t),n=pr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;b2(e);)try{const i=await E2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,D2(e,i)}catch(i){await j_(e,i)}V_(e)&&L_(e)}function b2(t){return $o(t)&&t.O_.length<10}function D2(t,e){t.O_.push(e);const n=pr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function V_(t){return $o(t)&&!pr(t).n_()&&t.O_.length>0}function L_(t){pr(t).start()}async function M2(t){pr(t).p_()}async function j2(t){const e=pr(t);for(const n of t.O_)e.m_(n.mutations)}async function O2(t,e,n){const r=t.O_.shift(),i=Wf.from(r,e,n);await O_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tu(t)}async function V2(t,e){e&&pr(t).V_&&await async function(r,i){if(function(o){return Ok(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();pr(r).s_(),await O_(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Tu(r)}}(t,e),V_(t)&&L_(t)}async function xy(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=$o(n);n.L_.add(3),await Fo(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await xu(n)}async function L2(t,e){const n=he(t);e?(n.L_.delete(2),await xu(n)):e||(n.L_.add(2),await Fo(n),n.q_.set("Unknown"))}function pr(t){return t.U_||(t.U_=function(n,r,i){const s=he(n);return s.w_(),new P2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:M2.bind(null,t),mo:V2.bind(null,t),f_:j2.bind(null,t),g_:O2.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Tu(t)):(await t.U_.stop(),t.O_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new qf(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F_(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),Vo(t))return new K($.UNAVAILABLE,`${e}: ${t}`);throw t}class F2{constructor(){this.queries=Ty(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=he(n),s=i.queries;i.queries=Ty(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new K($.ABORTED,"Firestore shutting down"))}}function Ty(){return new ni(t=>__(t),v_)}function $2(t){t.Y_.forEach(e=>{e.next()})}var Ay,Cy;(Cy=Ay||(Ay={})).ea="default",Cy.Cache="cache";class U2{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ni(l=>__(l),v_),this.Ma=new Map,this.xa=new Set,this.Oa=new At(Y.comparator),this.Na=new Map,this.La=new Gf,this.Ba={},this.ka=new Map,this.qa=Xi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function B2(t,e,n){const r=G2(t);try{const i=await function(o,l){const u=he(o),h=Ue.now(),p=l.reduce((_,S)=>_.add(S.key),st());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=Fl(),I=st();return u.cs.getEntries(_,p).next(N=>{S=N,S.forEach((x,E)=>{E.isValidDocument()||(I=I.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,S)).next(N=>{f=N;const x=[];for(const E of l){const C=bk(E,f.get(E.key).overlayedDocument);C!=null&&x.push(new _r(E.key,C,h_(C.value.mapValue),Ot.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,x,l)}).next(N=>{m=N;const x=N.applyToLocalDocumentSet(f,I);return u.documentOverlayCache.saveOverlays(_,N.batchId,x)})}).then(()=>({batchId:m.batchId,changes:E_(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let h=o.Ba[o.currentUser.toKey()];h||(h=new At(ae)),h=h.insert(l,u),o.Ba[o.currentUser.toKey()]=h}(r,i.batchId,n),await Au(r,i.changes),await Tu(r.remoteStore)}catch(i){const s=F_(i,"Failed to persist write");n.reject(s)}}function Iy(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=he(o);u.onlineState=l;let h=!1;u.queries.forEach((p,f)=>{for(const m of f.j_)m.Z_(l)&&(h=!0)}),h&&$2(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function z2(t,e){const n=he(t),r=e.batch.batchId;try{const i=await _2(n.localStore,e);U_(n,r,null),$_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Au(n,i)}catch(i){await jf(i)}}async function H2(t,e,n){const r=he(t);try{const i=await function(o,l){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,l).next(f=>(Ae(f!==null),p=f.keys(),u.mutationQueue.removeMutationBatch(h,f))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,e);U_(r,e,n),$_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Au(r,i)}catch(i){await jf(i)}}function $_(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function U_(t,e,n){const r=he(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}async function Au(t,e,n){const r=he(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:(p=void 0)===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){i.push(h);const f=Qf.Wi(u.targetId,h);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,h){const p=he(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>O.forEach(h,m=>O.forEach(m.$i,_=>p.persistence.referenceDelegate.addReference(f,m.targetId,_)).next(()=>O.forEach(m.Ui,_=>p.persistence.referenceDelegate.removeReference(f,m.targetId,_)))))}catch(f){if(!Vo(f))throw f;H("LocalStore","Failed to update sequence numbers: "+f)}for(const f of h){const m=f.targetId;if(!f.fromCache){const _=p.os.get(m),S=_.snapshotVersion,I=_.withLastLimboFreeSnapshotVersion(S);p.os=p.os.insert(m,I)}}}(r.localStore,s))}async function W2(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await D_(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new K($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Au(n,r.hs)}}function G2(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H2.bind(null,e),e}class zl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Su(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return v2(this.persistence,new g2,e.initialUser,this.serializer)}Ga(e){return new b_(Kf.Zr,this.serializer)}Wa(e){return new S2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zl.provider={build:()=>new zl};class K2 extends zl{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Ae(this.persistence.referenceDelegate instanceof Bl);const r=this.persistence.referenceDelegate.garbageCollector;return new t2(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?vt.withCacheSize(this.cacheSizeBytes):vt.DEFAULT;return new b_(r=>Bl.Zr(r,n),this.serializer)}}class gd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Iy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W2.bind(null,this.syncEngine),await L2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new F2}()}createDatastore(e){const n=Su(e.databaseInfo.databaseId),r=function(s){return new C2(s)}(e.databaseInfo);return function(s,o,l,u){return new k2(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new N2(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Iy(this.syncEngine,n,0),function(){return Sy.D()?new Sy:new x2}())}createSyncEngine(e,n){return function(i,s,o,l,u,h,p){const f=new U2(i,s,o,l,u,h);return p&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=he(i);H("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Fo(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gd.provider={build:()=>new gd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q2=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=u_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{H("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=F_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Fc(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await D_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Py(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q2(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>xy(e.remoteStore,i)),t._onlineComponents=e}async function q2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await Fc(t,new zl)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await Fc(t,new K2(void 0));return t._offlineComponents}async function Y2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await Py(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await Py(t,new gd))),t._onlineComponents}function X2(t){return Y2(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t,e,n){if(!n)throw new K($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z2(t,e,n,r){if(e===!0&&r===!0)throw new K($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ry(t){if(!Y.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yf(t);throw new K($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ny({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ny(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OP;switch(r.type){case"firstParty":return new $P(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ky.get(n);r&&(H("ComponentProvider","Removing Datastore"),ky.delete(n),r.terminate())}(this),Promise.resolve()}}function eR(t,e,n,r={}){var i;const s=(t=Co(t,Xf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=rt.MOCK_USER;else{l=mI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new K($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new rt(h)}t._authCredentials=new VP(new l_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jf(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Io extends Jf{constructor(e,n,r){super(e,n,gk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new Y(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function tR(t,e,...n){if(t=hr(t),arguments.length===1&&(e=u_.newId()),J2("doc","path",e),t instanceof Xf){const r=ke.fromString(e,...n);return Ry(r),new kn(t,null,new Y(r))}{if(!(t instanceof kn||t instanceof Io))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return Ry(r),new kn(t.firestore,t instanceof Io?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new M_(this,"async_queue_retry"),this.Vu=()=>{const r=Lc();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Lc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Lc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Fr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vo(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=qf.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Cu extends Xf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new by,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new by(e),this._firestoreClient=void 0,await e}}}function nR(t,e){const n=typeof t=="object"?t:TP(),r=typeof t=="string"?t:"(default)",i=wP(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=fI("firestore");s&&eR(i,...s)}return i}function z_(t){if(t._terminated)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rR(t),t._firestoreClient}function rR(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,h,p){return new nk(l,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,B_(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Q2(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Po(mn.fromBase64String(e))}catch(n){throw new K($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Po(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=/^__.*__$/;class sR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lo(e,this.data,n,this.fieldTransforms)}}class G_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function K_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class tp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(K_(this.Cu)&&iR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class oR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Su(e)}Qu(e,n,r,i=!1){return new tp({Cu:e,methodName:n,qu:r,path:Ge.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q_(t){const e=t._freezeSettings(),n=Su(t._databaseId);return new oR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function q_(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);np("Data must be an object, but it was:",o,r);const l=Y_(r,o);let u,h;if(s.merge)u=new Mt(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const f of s.mergeFields){const m=yd(e,f,n);if(!o.contains(m))throw new K($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Z_(p,m)||p.push(m)}u=new Mt(p),h=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,h=o.fieldTransforms;return new sR(new bt(l),u,h)}class Iu extends ep{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iu}}function aR(t,e,n,r){const i=t.Qu(1,e,n);np("Data must be an object, but it was:",i,r);const s=[],o=bt.empty();ti(r,(u,h)=>{const p=J_(e,u,n);h=hr(h);const f=i.Nu(p);if(h instanceof Iu)s.push(p);else{const m=Pu(h,f);m!=null&&(s.push(p),o.set(p,m))}});const l=new Mt(s);return new G_(o,l,i.fieldTransforms)}function lR(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[yd(e,r,n)],u=[i];if(s.length%2!=0)throw new K($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(yd(e,s[m])),u.push(s[m+1]);const h=[],p=bt.empty();for(let m=l.length-1;m>=0;--m)if(!Z_(h,l[m])){const _=l[m];let S=u[m];S=hr(S);const I=o.Nu(_);if(S instanceof Iu)h.push(_);else{const N=Pu(S,I);N!=null&&(h.push(_),p.set(_,N))}}const f=new Mt(h);return new G_(p,f,o.fieldTransforms)}function Pu(t,e){if(X_(t=hr(t)))return np("Unsupported field value:",e,t),Y_(t,e);if(t instanceof ep)return function(r,i){if(!K_(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Pu(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=hr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ck(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ue.fromDate(r);return{timestampValue:fd(i.serializer,s)}}if(r instanceof Ue){const s=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fd(i.serializer,s)}}if(r instanceof H_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Po)return{bytesValue:Fk(i.serializer,r._byteString)};if(r instanceof kn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:R_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof W_)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return Hf(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Yf(r)}`)}(t,e)}function Y_(t,e){const n={};return c_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(t,(r,i)=>{const s=Pu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function X_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof H_||t instanceof Po||t instanceof kn||t instanceof ep||t instanceof W_)}function np(t,e,n){if(!X_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function yd(t,e,n){if((e=hr(e))instanceof Zf)return e._internalPath;if(typeof e=="string")return J_(t,e);throw Hl("Field path arguments must be of type string or ",t,!1,void 0,n)}const uR=new RegExp("[~\\*/\\[\\]]");function J_(t,e,n){if(e.search(uR)>=0)throw Hl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zf(...e.split("."))._internalPath}catch{throw Hl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new K($.INVALID_ARGUMENT,l+t+u)}function Z_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function cR(t,e,n){t=Co(t,kn);const r=Co(t.firestore,Cu),i=ew(t.converter,e,n);return rp(r,[q_(Q_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ot.none())])}function hR(t){return rp(Co(t.firestore,Cu),[new Eu(t._key,Ot.none())])}function rp(t,e){return function(r,i){const s=new Fr;return r.asyncQueue.enqueueAndForget(async()=>B2(await X2(r),i,s)),s.promise}(z_(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Q_(e)}set(e,n,r){this._verifyNotCommitted();const i=$c(e,this._firestore),s=ew(i.converter,n,r),o=q_(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ot.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=$c(e,this._firestore);let o;return o=typeof(n=hr(n))=="string"||n instanceof Zf?lR(this._dataReader,"WriteBatch.update",s._key,n,r,i):aR(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ot.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=$c(e,this._firestore);return this._mutations=this._mutations.concat(new Eu(n._key,Ot.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new K($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $c(t,e){if((t=hr(t)).firestore!==e)throw new K($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){return z_(t=Co(t,Cu)),new dR(t,e=>rp(t,e))}(function(e,n=!0){(function(i){ss=i})(xP),bl(new wo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Cu(new LP(r.getProvider("auth-internal")),new BP(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new K($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(h.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Di(iy,"4.7.4",e),Di(iy,"4.7.4","esm2017")})();class pR{constructor({config:e}){G(this,"expenseCollection");G(this,"app");G(this,"db");this.expenseCollection="expenses",this.app=Z1(e),this.db=nR(this.app)}async addExpense(e){console.debug("FirestoreClient.addExpense::",e);const n=this.getExpenseDocRef(e.id);await cR(n,e),console.debug("FirestoreClient.addExpense::completed without error")}async deleteExpense(e){console.debug("FirestoreClient.deleteExpense::expenseId=",e);const n=this.getExpenseDocRef(e);await hR(n),console.debug("FirestoreClient.deleteExpense:: completed without error")}async setAll(e){const n=fR(this.db);e.map(mR).forEach(r=>{const i=this.getExpenseDocRef(r.id);n.set(i,r)}),await n.commit()}getExpenseDocRef(e){return tR(this.db,this.expenseCollection,e)}}function mR(t){return Object.entries(t).filter(([e,n])=>n!==void 0).reduce((e,[n,r])=>(e[n]=r,e),{})}function Dy(t){const e=JSON.stringify(t,null,2);return new Blob([e],{type:"application/json"})}const gR=Lt.div`
  padding: 1rem 0;
`;function yR(t,e){const n=URL.createObjectURL(t),r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="blob",r.onload=function(i){if(this.status===200){const s=this.response,o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=e,o.click()}else{const s=[`Status 200 expected but got ${this.status} instead. No idea what happened`,`here:
`,`
`,`blob=${t.text()}
`,`
`,`filename=${e}
`,`
`,`fileUrl=${n}
`,`
`].join("");throw new Error(s)}},r.send()}function My(){return navigator.share===void 0}function vR(){return new Date().toISOString().slice(0,19).replaceAll(":","").replaceAll("-","").replace("T","-")}function _R({expenses:t,app:e}){const[n,r]=M.useState(!1),s=`expenses-form-${vR()}.json`,o=My()===!1;function l(){const f=Dy(t);yR(f,s)}function u(){const f=Dy(t),m=new File([f],s,{type:"text/csv"});if(My()){alert("Your device is not compatible with the Web Share API, sorry :)");return}const _={title:"fitness-tracker CSV",files:[m]};if(!navigator.canShare(_)){alert("You cannot share the CSV for some reason, sorry :)");return}navigator.share(_).then(()=>alert("all good")).catch(I=>{alert(I)})}function h(f){const m=e.paymentAccountsManager.get({id:f.paid_with});if(m===void 0)throw on(`failed to clean Expense because Account ID ${f.paid_with} was not found`);const _={id:f.id,amount:f.amount,currency:f.currency,description:f.description,datetime:f.datetime,paid_with:m.ledgerName,shared:f.shared,pending:f.pending,splits:f.splits,published_at:If(_o())};return f.originalAmount===void 0?_:{..._,originalAmount:f.originalAmount,originalCurrency:f.originalCurrency}}function p(){const f=t.map(h),m=Me.firestoreConfig.read();if(m===void 0){alert("Please, set up Firestore config in settings");return}const _=new pR({config:m});r(!0),_.setAll(f).then(()=>{r(!1)}).catch(S=>{Js.add({header:"Failed to push all expenses to Firestore",description:S})})}return g.jsxs(gR,{children:[g.jsx(se,{text:"Download CSV",onClick:()=>l()}),g.jsx(se,{text:"Share CSV",onClick:()=>u(),disabled:o===!1}),g.jsx(se,{text:"Push to Firestore",onClick:()=>p(),disabled:n,icon:n?"rotate":void 0})]})}function wR({app:t}){const e=mu(),[n,r]=M.useState([]),[i,s]=M.useState();M.useEffect(()=>{const f=t.expenseManager.change$.subscribe(m=>{s(t.paymentAccountsManager.getDefault()),r(t.expenseManager.getAll())});return s(t.paymentAccountsManager.getDefault()),r(t.expenseManager.getAll()),()=>{f.unsubscribe()}},[t]);function o(f){e(Nt.expenseEditor.replace(":expenseId",f))}function l(){t.expenseManager.change$.pipe(IS()).subscribe(_=>{o(_.expenseId)});const f=t.paymentAccountsManager.getDefault();if(f===void 0)throw on("No default account found");const m={datetime:If(_o()),amount:void 0,originalAmount:void 0,currency:f.currency,originalCurrency:void 0,description:"",shared:!1,pending:!0,paid_with:f.id,splits:[]};t.expenseManager.add(m)}function u(){window.location.reload(!0)}const h=i!==void 0,p=n.filter(f=>f.readyToPublish).map(f=>f.expense);return g.jsxs(Ur,{children:[g.jsx(se,{text:"reload PWA",icon:"rotate",onClick:u}),h?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex justify-center items-center p-4",role:"warning",children:g.jsx("div",{children:"Add expense or select an existing one"})}),g.jsx(se,{text:"Add expense",onClick:l})]}):g.jsx("div",{className:"flex justify-center p-4",role:"warning",children:g.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[g.jsxs("div",{children:["Must ",g.jsx("b",{children:"select a default account"}),' in "Accounts" page to add an expense.']}),g.jsx($1,{to:Nt.paymentAccounts,children:g.jsx(se,{text:"Go to Accounts"})})]})}),p.length>0&&g.jsx(_R,{expenses:p,app:t}),g.jsx("div",{className:"mt-4",children:g.jsx(rI,{expenses:n,onEditExpense:o,onDelete:f=>t.expenseManager.delete(f),app:t})})]})}const ER=Lt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  row-gap: 3.5rem;
  height: 100vh;
`,SR=Lt.span`
  font-size: 8rem;
  font-weight: 100;
  color: #aaa;
`,xR=Lt.p`
  margin-top: 1.5rem;
`;function TR(){return g.jsx(Ur,{children:g.jsxs(ER,{children:[g.jsx("h1",{children:"Ooops...!"}),g.jsx(SR,{children:"404"}),g.jsx(xR,{children:"Page not found"})]})})}const jy=!0;function AR({currencies:t,onAddPaymentAccount:e}){const[n,r]=M.useState(void 0),[i,s]=M.useState(void 0),[o,l]=M.useState(void 0),[u,h]=M.useState(jy);function p(){n===void 0||i===void 0||o===void 0||u===void 0||(e({name:n,ledgerName:i,currency:o,isVisible:u}),r(void 0),s(void 0),l(void 0),h(jy))}const f=n!==void 0&&i!==void 0;return g.jsxs("div",{className:"flex flex-col gap-3 ",children:[g.jsx(Fe,{htmlFor:"new-account-name",text:"Account name: *",children:g.jsx(Et,{id:"new-account-name",value:n,placeholder:"Name",onChange:r,className:"mt-1"})}),g.jsx(Fe,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:g.jsx(Et,{id:"new-account-ledger-name",value:i,placeholder:"Ledger name",onChange:s,className:"mt-1"})}),g.jsx(Fe,{htmlFor:"new-account-currency",text:"Account currency:",children:g.jsx(or,{id:"new-account-currency",selected:o,options:t.map(m=>({id:m,label:m})),onSelect:l,className:"mt-1"})}),g.jsx(Nf,{uniqueKey:"new-account",isOn:u,labelOn:"account is visible",labelOff:"account is hidden",onToggle:()=>h(!u)}),g.jsx("div",{className:"flex justify-end p-4",children:g.jsx(se,{text:f?"Create":"fill details above",onClick:p,disabled:!f})})]})}function CR({account:t,isDefault:e,currencies:n,onUpdate:r}){const[i,s]=M.useState(t.name),[o,l]=M.useState(t.ledgerName),[u,h]=M.useState(t.currency),[p,f]=M.useState(t.isVisible),m=i===t.name&&o===t.ledgerName&&u===t.currency&&p===t.isVisible;function _(){if(i===void 0||o===void 0||u===void 0||m)return;const N=r({...t,name:i,ledgerName:o,currency:u,isVisible:p});N.ok===!1&&alert(N.reason)}function S(N){e?alert("default account cannot be hidden"):f(N)}const I=i!==void 0&&o!==void 0;return g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx(Fe,{htmlFor:"new-account-name",text:"Account name: *",children:g.jsx(Et,{id:"new-account-name",value:i,placeholder:"Name",onChange:s,className:"mt-1"})}),g.jsx(Fe,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:g.jsx(Et,{id:"new-account-ledger-name",value:o,placeholder:"Ledger name",onChange:l,className:"mt-1"})}),g.jsx(Fe,{htmlFor:"new-account-currency",text:"Account currency:",children:g.jsx(or,{id:"new-account-currency",selected:u,options:n.map(N=>({id:N,label:N})),onSelect:h,className:"mt-1"})}),g.jsx(Nf,{uniqueKey:t.id,isOn:p,labelOn:"account is visible",labelOff:"account is hidden",onToggle:S}),g.jsx("div",{className:"flex justify-end m-3",children:g.jsx(se,{onClick:_,disabled:!I||m,text:I?"Save":"'name' and 'ledger name' must not be empty"})})]})}function IR({account:t,isDefault:e,currencies:n,onUpdate:r,onDelete:i,onMarkAsDefault:s}){const[o,l]=M.useState(!1);let u="px-4 py-3 rounded relative";if(e&&o)u+=" bg-blue-200  dark:bg-blue-900 dark:bg-opacity-50";else if(e&&!o)u+=" bg-blue-200  dark:bg-blue-900";else if(!e&&!o)u+=" bg-gray-100  dark:bg-gray-700";else if(!e&&o)u+=" bg-gray-300  dark:bg-gray-900";else throw on();if(o===!1){const{name:p,ledgerName:f}=t;return g.jsxs("div",{role:"payment-account",className:u,onClick:()=>l(!0),children:[e&&g.jsx("div",{className:"absolute top-2 right-3 text-xs flex justify-end z-10 opacity-50",role:"default-payment-account-indicator",children:"default"}),g.jsx("div",{children:g.jsx("b",{children:p})}),g.jsx("div",{children:f})]})}function h(){const p=i(t.id);p.ok===!1&&alert(p.reason)}return g.jsxs("div",{role:"payment-account",className:u,children:[g.jsx(CR,{account:t,isDefault:e,currencies:n,onUpdate:r}),g.jsx(se,{text:"Delete",onClick:h}),g.jsx(se,{text:"Close",onClick:()=>l(!1)}),g.jsx(se,{text:e?"is default payment method":"Mark as default",onClick:s,disabled:e})]})}function PR({app:t}){const[e,n]=M.useState([]),[r,i]=M.useState(),[s,o]=M.useState([]);M.useEffect(()=>{var S;const m=t.paymentAccountsManager.change$.subscribe(I=>{var N;n(t.paymentAccountsManager.getAll()),i((N=t.paymentAccountsManager.getDefault())==null?void 0:N.id)}),_=t.currencyManager.change$.subscribe(I=>{o([...t.currencyManager.getAll()].sort())});return n(t.paymentAccountsManager.getAll()),i((S=t.paymentAccountsManager.getDefault())==null?void 0:S.id),o([...t.currencyManager.getAll()].sort()),()=>{m.unsubscribe(),_.unsubscribe()}},[t]);function l(m){t.paymentAccountsManager.add({draft:m})}function u(m){return t.paymentAccountsManager.update({account:m})}function h(m){return t.paymentAccountsManager.delete({id:m})}function p(m){t.paymentAccountsManager.setDefault({id:m})}const f=s.length>0;return g.jsx(Ur,{children:f?g.jsxs(g.Fragment,{children:[g.jsx(AR,{currencies:s,onAddPaymentAccount:l}),r===void 0&&e.length>0&&g.jsx("div",{role:"warning",className:"p-4 flex justify-center",children:g.jsx("p",{children:g.jsx("b",{children:"please, select your default payment account"})})}),g.jsx("div",{className:"flex flex-col gap-3",role:"payment-accounts",children:e.length>0?e.map((m,_)=>g.jsx(IR,{account:m,isDefault:m.id===r,currencies:s,onUpdate:u,onDelete:h,onMarkAsDefault:()=>p(m.id)},`${_}-${m.id}`)):g.jsx("p",{children:"No payment accounts :)"})})]}):g.jsx("div",{children:"You must add currencies in the Settings page to be able to add Payment Accounts here"})})}function kR({app:t}){const[e,n]=M.useState([]),[r,i]=M.useState();M.useEffect(()=>{const h=t.peopleManager.change$.subscribe(p=>{n(t.peopleManager.getAll())});return n(t.peopleManager.getAll()),()=>h.unsubscribe()},[t]);function s(h){i(h)}function o(){if(r===void 0)return;const h=r;t.peopleManager.add(h),i(void 0)}function l(h){t.peopleManager.update({person:h})}function u(h){t.peopleManager.delete(h)}return g.jsx(Fe,{htmlFor:"people",text:"People",children:g.jsxs("div",{role:"people-form",className:"pt-2 px-2",children:[e.length===0?g.jsx("div",{children:"No people found"}):g.jsx("div",{role:"person-list",className:"flex flex-col gap-2",children:e.map(h=>g.jsx(RR,{person:h,onUpdate:l,onDelete:u},`person-${h.name}`))}),g.jsxs("div",{className:"pt-3",children:[g.jsx(Fe,{htmlFor:"add-person",text:"Add person",children:g.jsx(Et,{id:"add-person",value:r,placeholder:"Name",onChange:s,className:"mt-1"})}),g.jsx("div",{className:"flex justify-end p-2",children:g.jsx(se,{text:"Add",onClick:o,disabled:!r})})]})]})})}function RR({person:t,onUpdate:e,onDelete:n}){const[r,i]=M.useState(!1),[s,o]=M.useState(t.splitwiseId),l=s!==t.splitwiseId;function u(){i(!r)}function h(){l!==!1&&e({...t,splitwiseId:s})}return g.jsxs("div",{role:"person",children:[g.jsxs("div",{className:"flex flex-row items-center gap-2 px-4 py-3 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded",children:[g.jsx(se,{icon:"pencil",onClick:u}),g.jsx("div",{role:"person-name",className:"w-full",children:t.name}),g.jsx(se,{icon:"bin",onClick:()=>n(t.name)})]}),g.jsx(Rf,{isOpen:r,children:g.jsxs("div",{className:"flex flex-row items-center gap-2 pl-6 pt-1 pr-2 pb-4",children:[g.jsx(se,{icon:"rotate",disabled:l===!1,onClick:h}),g.jsx(Et,{id:"splitwise-id",value:s,placeholder:"Splitwise ID",onChange:o})]})})]})}function NR({app:t,shortcut:e,onUpdate:n}){const[r,i]=M.useState(e.buttonName),s=Rr(e),[o,l]=M.useState(s),[u,h]=M.useState([]),p=r!=null&&r!=="",f=r!==e.buttonName||o!==s,m=p&&f;M.useEffect(()=>{const S=t.peopleManager.change$.subscribe(I=>{h(t.peopleManager.getAll().map(N=>N.name))});return h(t.peopleManager.getAll().map(I=>I.name)),()=>{S.unsubscribe()}},[t]);function _(){if(!m)return;const{main:S,seller:I,people:N,tags:x}=gu({raw:o});n({id:e.id,buttonName:r,main:S,seller:I,people:[...N],tags:[...x]})}return g.jsxs("div",{children:[g.jsx(Et,{id:`shortcut-${e.id}-button-name`,value:r,placeholder:"Button name (required)",onChange:i,className:"mt-1"}),g.jsx(kf,{description:o,peopleInSettings:u,onChange:l}),g.jsx("div",{className:"flex justify-end p-2",children:g.jsx(se,{text:f?"Update":"No changes",onClick:_,disabled:!m})})]})}function bR({shortcut:t,onUpdate:e,onDelete:n,app:r}){const[i,s]=M.useState(!1);function o(){s(!i)}return g.jsxs("div",{role:"shortcut",children:[g.jsxs("div",{className:"flex flex-row items-center gap-2 px-4 py-3 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded",children:[g.jsx(se,{icon:i?"arrow-left":"pencil",onClick:o}),g.jsx("div",{role:"shortcut-name",className:"w-full",children:t.buttonName}),g.jsx(se,{icon:"bin",onClick:()=>n(t.id)})]}),g.jsx(Rf,{isOpen:i,children:g.jsx("div",{className:"flex flex-row items-center gap-2 pl-6 pt-1 pr-2 pb-4",children:g.jsx(NR,{app:r,shortcut:t,onUpdate:e})})})]})}const Uc="";function DR({app:t}){const[e,n]=M.useState([]),[r,i]=M.useState([]),[s,o]=M.useState(),[l,u]=M.useState(Uc);M.useEffect(()=>{const S=t.peopleManager.change$.subscribe(N=>{i(t.peopleManager.getAll().map(x=>x.name))}),I=t.shortcutsManager.change$.subscribe(N=>{n(t.shortcutsManager.getAll())});return i(t.peopleManager.getAll().map(N=>N.name)),n(t.shortcutsManager.getAll()),()=>{S.unsubscribe(),I.unsubscribe()}},[t]);function h(){o(void 0),u(Uc)}function p(){const{main:S,seller:I,people:N,tags:x}=gu({raw:l});if(s==null||s===""){alert("button name must not be empty");return}if(S==null||S===""){alert("main description name must not be empty");return}t.shortcutsManager.add({buttonName:s,main:S,people:[...N],seller:I,tags:[...x]}),h()}function f(S){t.shortcutsManager.update({shortcut:S})}function m(S){t.shortcutsManager.delete(S)}function _(){return!(s==null||s===""||l===Uc)}return g.jsx(Fe,{htmlFor:"shortcuts",text:"Shortcuts",children:g.jsxs("div",{role:"shortcuts-form",className:"pt-2 px-2",children:[e.length===0?g.jsx("div",{children:"No shortcuts found"}):g.jsx("div",{role:"shortcut-list",className:"flex flex-col gap-2",children:e.map(S=>g.jsx(bR,{shortcut:S,onUpdate:f,onDelete:m,app:t},`shortcut-${S.id}`))}),g.jsxs("div",{className:"pt-3",children:[g.jsxs(Fe,{htmlFor:"add-shortcut",text:"Add shortcut",children:[g.jsx(Et,{id:"new-shortcut-button-name",value:s,placeholder:"Button name",onChange:o,className:"mt-1"}),g.jsx(kf,{description:l,peopleInSettings:r,onChange:u})]}),g.jsx("div",{className:"flex justify-end p-2",children:g.jsx(se,{text:"Add",onClick:p,disabled:!_()})})]})]})})}function MR(t){return t.join(",")}function jR(t){const e=t.split(",").filter(r=>r!=="").map(r=>`"${r}"`).join(",");return JSON.parse(`[${e}]`)}function OR({app:t}){const[e,n]=M.useState(void 0),[r,i]=M.useState(void 0),[s,o]=M.useState(void 0),[l,u]=M.useState();M.useEffect(()=>{if(Me.splitwiseApiToken.exists()&&n(Me.splitwiseApiToken.read()),Me.tripTags.exists()&&i(MR(Me.tripTags.read())),Me.firestoreConfig.exists()){const _=Me.firestoreConfig.read();o(JSON.stringify(_))}Me.currencies.exists()&&u(Me.currencies.read())},[]);function h(_){if(_===void 0||_===""){n(void 0),Me.splitwiseApiToken.delete();return}n(_),Me.splitwiseApiToken.set(_)}function p(_){if(_===void 0||_===""){i(void 0),Me.tripTags.delete();return}i(_);const S=jR(_);Me.tripTags.set(S)}function f(_){if(_===void 0||_===""){o(void 0),Me.firestoreConfig.delete();return}o(_);const S=JSON.parse(_);Me.firestoreConfig.set(S)}function m(_){if(_===void 0||_===""){u(void 0),Me.currencies.delete();return}u(_),Me.currencies.set(_)}return g.jsx(Ur,{children:g.jsxs("div",{className:"px-3 flex flex-col gap-4",children:[g.jsx(Fe,{htmlFor:"splitwise-api-token",text:"Splitwise API token",children:g.jsx(Et,{id:"splitwise-api-token",value:e,placeholder:"Splitwise API token",onChange:h,className:"mt-1"})}),g.jsx(Fe,{htmlFor:"trip-tags",text:"Trip tags",children:g.jsx(Et,{id:"trip-tags",value:r,placeholder:"trip tags",onChange:p,className:"mt-1"})}),g.jsx(Fe,{htmlFor:"firestore-config",text:"Firestore config",children:g.jsx(Et,{id:"firestore-config",value:s,placeholder:'{"a":1,"b":2}',onChange:f,isCode:!0,className:"mt-1"})}),g.jsx(Fe,{htmlFor:"currencies",text:"Currencies",children:g.jsx(Et,{id:"currencies",value:l,placeholder:"GBP,EUR,USD",onChange:m,className:"mt-1"})}),g.jsx(kR,{app:t}),g.jsx(DR,{app:t})]})})}const VR="50px",LR=Lt.div`
  height: calc(100vh - ${VR});
  overflow-y: scroll;
`;function FR({app:t}){const[e,n]=M.useState(!0),[r,i]=M.useState(ih);M.useEffect(()=>{t.initialize(),n(!1)},[t]);const s="bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-200";return e?g.jsx(aa.Parent,{className:ih,children:g.jsx(aa.ContentFullyCentered,{className:s,children:g.jsx(Ur,{children:g.jsx("div",{className:"flex flex-row justify-center",children:"Loading data..."})})})}):g.jsx(Iv.Provider,{value:{theme:r,setTheme:i},children:g.jsx(UA,{basename:KA,children:g.jsx(aa.Parent,{className:r,children:g.jsxs(aa.Content,{className:s,children:[g.jsx(DS,{}),g.jsx(WA,{}),g.jsx(LR,{children:g.jsxs(MA,{children:[g.jsx(ci,{path:Nt.root,element:g.jsx(wR,{app:t})}),g.jsx(ci,{path:Nt.expenseEditor,element:g.jsx(GC,{app:t})}),g.jsx(ci,{path:Nt.paymentAccounts,element:g.jsx(PR,{app:t})}),g.jsx(ci,{path:Nt.settings,element:g.jsx(OR,{app:t})}),g.jsx(ci,{path:Nt.notFound,element:g.jsx(TR,{})})]})})]})})})})}class $R{constructor({expenseManager:e,paymentAccountsManager:n,browserStorage:r,currencyManager:i,peopleManager:s,shortcutsManager:o}){G(this,"expenseManager");G(this,"paymentAccountsManager");G(this,"currencyManager");G(this,"peopleManager");G(this,"shortcutsManager");G(this,"initialized",!1);G(this,"browserStorage");this.expenseManager=e,this.paymentAccountsManager=n,this.browserStorage=r,this.currencyManager=i,this.peopleManager=s,this.shortcutsManager=o,this.paymentAccountsManager.change$.subscribe(l=>this.handlePaymentAccountChange(l))}initialize(){if(console.debug("App.initialize::started"),this.initialized)console.debug("App.initialize::already initialized");else{const e=this.browserStorage.readExpenses();this.expenseManager.initialize({appExpenses:e});const n=this.browserStorage.readCurrencies(),r=this.browserStorage.readPaymentAccounts();this.currencyManager.initialize({currencies:[...n,...r.map(i=>i.currency)]}),this.paymentAccountsManager.initialize({accounts:r,defaultAccountId:this.browserStorage.readDefaultAccountId()}),this.peopleManager.initialize({people:this.browserStorage.readPeople()}),this.shortcutsManager.initialize({shortcuts:this.browserStorage.readShortcuts()}),this.initialized=!0}console.debug("App.initialize::completed")}handlePaymentAccountChange(e){switch(e.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return;case"PaymentAccountUpdated":return;case"PaymentAccountDeleted":return;case"DefaultPaymentAccountSet":return this.handleDefaultPaymentAccountChange(e.id);default:bd(e,`unsupported PaymentAccountChange: ${e}`)}}handleDefaultPaymentAccountChange(e){this.browserStorage.setDefaultAccountId({id:e})}}var tw,Oy=zT;tw=Oy.createRoot,Oy.hydrateRoot;class UR{constructor(){G(this,"change$");G(this,"people");G(this,"changesSubject");this.people=new Map,this.changesSubject=new Xr,this.change$=this.changesSubject.asObservable()}initialize({people:e}){console.debug("PeopleManager.initialize:: initializing people:",e);const n=[void 0,null,""," "];for(const r of e)n.includes(r.name)||this.people.set(r.name,r);this.changesSubject.next({kind:"PeopleManagerInitialized"})}getAll(){return[...this.people.values()].sort(BR)}add(e){if(this.people.has(e)){console.warn(`PeopleManager.add: '${e}' not added because already existed`);return}const r={name:e};this.people.set(e,r),this.changesSubject.next({kind:"PersonAdded",name:e})}update({person:e}){const n=e.name,r=this.people.get(n);return r===void 0?{success:!1,reason:`person '${n}' not found`}:r.splitwiseId===e.splitwiseId?{success:!1,reason:`person '${n}' is already up to date`}:(this.people.set(n,e),this.changesSubject.next({kind:"PersonUpdated",name:n}),{success:!0})}delete(e){if(this.people.delete(e)===!1){console.warn(`PeopleManager.delete: '${e}' not deleted because it was not found`);return}this.changesSubject.next({kind:"PersonDeleted",name:e})}}function BR(t,e){return t.name>e.name?Mn.SwapOrder:Mn.KeepOrder}class Ci{constructor({client:e,expenseManager:n,paymentAccountsManager:r,peopleManager:i,shortcutsManager:s}){G(this,"client");G(this,"expenseManager");G(this,"paymentAccountsManager");G(this,"peopleManager");G(this,"shortcutsManager");this.client=e,this.expenseManager=n,this.paymentAccountsManager=r,this.peopleManager=i,this.shortcutsManager=s,this.expenseManager.change$.subscribe(o=>{switch(console.debug("BrowserStorage.expenseManager.changes:",o),o.kind){case"ExpenseAdded":return this.handleExpenseAdded(o.expenseId);case"ExpenseUpdated":return this.handleExpenseUpdated(o.expenseId);case"ExpenseDeleted":return this.handleExpenseDeleted(o.expenseId);default:throw new Error(`BrowserStorage: unsupported change: ${o}`)}}),this.paymentAccountsManager.change$.subscribe(o=>{switch(console.debug("BrowserStorage.paymentAccountsManager.change$:",o),o.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return this.persistAllPaymentAccounts();case"PaymentAccountUpdated":return this.persistAllPaymentAccounts();case"PaymentAccountDeleted":return this.persistAllPaymentAccounts()}}),this.peopleManager.change$.subscribe(o=>{switch(console.debug("BrowserStorage.peopleManager.change$:",o),o.kind){case"PeopleManagerInitialized":return;case"PersonAdded":return this.persistAllPeople();case"PersonUpdated":return this.persistAllPeople();case"PersonDeleted":return this.persistAllPeople();default:bd(o,`unsupported PeopleChange: ${o}`)}}),this.shortcutsManager.change$.subscribe(o=>{switch(console.debug("BrowserStorage.shortcutsManager.change$:",o),o.kind){case"ShortcutsManagerInitialized":return;case"ShortcutAdded":return this.persistAllShortcuts();case"ShortcutUpdated":return this.persistAllShortcuts();case"ShortcutDeleted":return this.persistAllShortcuts()}})}readExpenses(){console.debug("BrowserStorage.readExpenses()");const e=this.client.expenses.read()||{},n=[];for(const r of Object.values(e)){const i={expense:{id:r.expense.id,amount:r.expense.amount,currency:r.expense.currency,originalAmount:r.expense.originalAmount,originalCurrency:r.expense.originalCurrency,description:r.expense.description,datetime:r.expense.datetime,paid_with:r.expense.paid_with,shared:r.expense.shared,pending:r.expense.pending,splits:r.expense.splits},status:H1[r.status],readyToPublish:r.readyToPublish};n.push(i)}return n}readCurrencies(){return console.debug(`${Ci.name}.${this.readCurrencies.name}()`),(this.client.currencies.read()||"").split(",")}readPaymentAccounts(){console.debug(`${Ci.name}.${this.readPaymentAccounts.name}()`);const e=this.client.paymentAccounts.read()||[],n=[];for(const r of e){const i={id:r.id,name:r.name,ledgerName:r.ledgerName,currency:r.currency,isVisible:r.isVisible===void 0?!0:r.isVisible};n.push(i)}return n}readDefaultAccountId(){return console.debug(`${Ci.name}.${this.readDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.read()}readPeople(){console.debug("BrowserStorage.readPeople()");const e=this.client.people.read()||[],n=[];for(const r of e){const i={name:r.name,splitwiseId:r.splitwiseId};n.push(i)}return n}readShortcuts(){console.debug("BrowserStorage.readShortcuts()");const e=this.client.shortcuts.read()||[],n=[];for(const r of e){const i={id:r.id,buttonName:r.buttonName,main:r.main,people:r.people,seller:r.seller,tags:r.tags};n.push(i)}return n}setDefaultAccountId({id:e}){console.debug(`${Ci.name}.${this.setDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.set(e)}persistAppExpense(e){const r={...this.client.expenses.read()||{},[e.expense.id]:e};this.client.expenses.set(r)}deleteExpense(e){console.debug(`BrowserStorage.deleteExpense::id=${e}`);const r={...this.client.expenses.read()||{}};delete r[e],this.client.expenses.set(r)}handleExpenseAdded(e){const n=this.expenseManager.get(e);this.persistAppExpense(n)}handleExpenseUpdated(e){const n=this.expenseManager.get(e);this.persistAppExpense(n)}handleExpenseDeleted(e){this.deleteExpense(e)}persistAllPaymentAccounts(){const e=this.paymentAccountsManager.getAll();this.client.paymentAccounts.set(e)}persistAllPeople(){const e=this.peopleManager.getAll();this.client.people.set(e)}persistAllShortcuts(){const e=this.shortcutsManager.getAll();this.client.shortcuts.set(e)}}class zR{constructor(){G(this,"change$");G(this,"currencies");G(this,"changeSubject");this.currencies=new Set,this.changeSubject=new Xr,this.change$=this.changeSubject.asObservable()}initialize({currencies:e}){for(const n of e)[void 0,null,""].includes(n)||this.currencies.add(n);this.changeSubject.next({kind:"CurrencyManagerInitialized"})}getAll(){return new Set([...this.currencies.values()])}}var Vy={};const HR=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function WR(t){if("serviceWorker"in navigator){if(new URL(Vy.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const n=`${Vy.PUBLIC_URL}/service-worker.js`;HR?(GR(n),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):nw(n)})}}function nw(t,e){navigator.serviceWorker.register(t).then(n=>{n.update(),setInterval(()=>{n.update(),console.debug("Checked for update...")},1e3*60*5),n.onupdatefound=()=>{const r=n.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."):console.log("Content is cached for offline use."))})}}).catch(n=>{console.error("Error during service worker registration:",n)})}function GR(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");n.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(i=>{i.unregister().then(()=>{window.location.reload()})}):nw(t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const KR=lS`
  a {
    color: inherit;
    text-decoration: none;
  }

  ul li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  ol li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  html {
    font-size: 1.2rem;
  }

  body {
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 0;
    text-transform: none;
  }
`,QR="modulepreload",qR=function(t){return"/expenses-form/"+t},Ly={},YR=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=qR(u),u in Ly)return;Ly[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":QR,h||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((m,_)=>{f.addEventListener("load",m),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function XR(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let l,u,h;const p=async(m=!0)=>{await u,await(h==null?void 0:h())};async function f(){if("serviceWorker"in navigator){if(l=await YR(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/expenses-form/sw.js",{scope:"/expenses-form/",type:"classic"})).catch(m=>{o==null||o(m)}),!l)return;h=async()=>{await(l==null?void 0:l.messageSkipWaiting())};{let m=!1;const _=()=>{m=!0,l==null||l.addEventListener("controlling",S=>{S.isUpdate&&window.location.reload()}),n==null||n()};l.addEventListener("installed",S=>{typeof S.isUpdate>"u"?typeof S.isExternal<"u"?S.isExternal?_():!m&&(r==null||r()):S.isExternal?window.location.reload():!m&&(r==null||r()):S.isUpdate||r==null||r()}),l.addEventListener("waiting",_),l.addEventListener("externalwaiting",_)}l.register({immediate:e}).then(m=>{s?s("/expenses-form/sw.js",m):i==null||i(m)}).catch(m=>{o==null||o(m)})}}return u=f(),p}class JR{constructor(){G(this,"change$");G(this,"shortcuts");G(this,"changesSubject");this.shortcuts=new Map,this.changesSubject=new Xr,this.change$=this.changesSubject.asObservable()}initialize({shortcuts:e}){console.debug("ShortcutsManager.initialize:: initializing shortcuts:",e);for(const n of e)this.shortcuts.set(n.id,n);this.changesSubject.next({kind:"ShortcutsManagerInitialized"})}getAll(){return[...this.shortcuts.values()].sort(ZR)}add(e){const n=this.generateId(),r={id:n,...e};this.shortcuts.set(n,r),this.changesSubject.next({kind:"ShortcutAdded",id:n})}update({shortcut:e}){const{id:n}=e;return this.shortcuts.get(n)===void 0?{success:!1,reason:`shortcut '${n}' not found`}:(this.shortcuts.set(n,e),this.changesSubject.next({kind:"ShortcutUpdated",id:n}),{success:!0})}delete(e){if(this.shortcuts.delete(e)===!1){console.warn(`ShortcutsManager.delete: '${e}' not deleted because it was not found`);return}this.changesSubject.next({kind:"ShortcutDeleted",id:e})}generateId(){let e=0;for(;this.shortcuts.has(e)!==!1;)e++;return e}}function ZR(t,e){return t.id>e.id?Mn.SwapOrder:Mn.KeepOrder}const eN=window.location.hostname==="localhost",tN=XR({onNeedRefresh:function(){(eN||confirm("There is an newer version of this app. Do you want to update?"))&&tN(!0)}}),ip=new Pf,rw=new yu({expenseManager:ip}),iw=new UR,sw=new JR,nN=new Ci({expenseManager:ip,paymentAccountsManager:rw,client:new U1,peopleManager:iw,shortcutsManager:sw}),rN=new zR,iN=new $R({browserStorage:nN,expenseManager:ip,paymentAccountsManager:rw,currencyManager:rN,peopleManager:iw,shortcutsManager:sw}),ow=document.getElementById("root");if(ow===null)throw new Error('expected to find an element with `id="root"` to render the React app, but found none');const sN=tw(ow);sN.render(g.jsxs(tn.StrictMode,{children:[g.jsx(KR,{}),g.jsx(FR,{app:iN})]}));WR();
