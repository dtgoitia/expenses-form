var sE=Object.defineProperty;var oE=(e,t,n)=>t in e?sE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var G=(e,t,n)=>(oE(e,typeof t!="symbol"?t+"":t,n),n);function aE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function af(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jg={exports:{}},oo={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var op=Object.getOwnPropertySymbols,lE=Object.prototype.hasOwnProperty,uE=Object.prototype.propertyIsEnumerable;function cE(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function hE(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Zg=hE()?Object.assign:function(e,t){for(var n,r=cE(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)lE.call(n,o)&&(r[o]=n[o]);if(op){i=op(n);for(var a=0;a<i.length;a++)uE.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r},ey={exports:{}},J={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=Zg,Ei=60103,ty=60106;J.Fragment=60107;J.StrictMode=60108;J.Profiler=60114;var ny=60109,ry=60110,iy=60112;J.Suspense=60113;var sy=60115,oy=60116;if(typeof Symbol=="function"&&Symbol.for){var Rt=Symbol.for;Ei=Rt("react.element"),ty=Rt("react.portal"),J.Fragment=Rt("react.fragment"),J.StrictMode=Rt("react.strict_mode"),J.Profiler=Rt("react.profiler"),ny=Rt("react.provider"),ry=Rt("react.context"),iy=Rt("react.forward_ref"),J.Suspense=Rt("react.suspense"),sy=Rt("react.memo"),oy=Rt("react.lazy")}var ap=typeof Symbol=="function"&&Symbol.iterator;function fE(e){return e===null||typeof e!="object"?null:(e=ap&&e[ap]||e["@@iterator"],typeof e=="function"?e:null)}function ao(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ay={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ly={};function Si(e,t,n){this.props=e,this.context=t,this.refs=ly,this.updater=n||ay}Si.prototype.isReactComponent={};Si.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(ao(85));this.updater.enqueueSetState(this,e,t,"setState")};Si.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uy(){}uy.prototype=Si.prototype;function uf(e,t,n){this.props=e,this.context=t,this.refs=ly,this.updater=n||ay}var cf=uf.prototype=new uy;cf.constructor=uf;lf(cf,Si.prototype);cf.isPureReactComponent=!0;var hf={current:null},cy=Object.prototype.hasOwnProperty,hy={key:!0,ref:!0,__self:!0,__source:!0};function fy(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)cy.call(t,r)&&!hy.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ei,type:e,key:s,ref:o,props:i,_owner:hf.current}}function dE(e,t){return{$$typeof:Ei,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ff(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ei}function pE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lp=/\/+/g;function $u(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pE(""+e.key):t.toString(36)}function sa(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ei:case ty:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+$u(o,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(lp,"$&/")+"/"),sa(i,t,n,"",function(u){return u})):i!=null&&(ff(i)&&(i=dE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lp,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+$u(s,a);o+=sa(s,t,n,l,i)}else if(l=fE(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+$u(s,a++),o+=sa(s,t,n,l,i);else if(s==="object")throw t=""+e,Error(ao(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return o}function Do(e,t,n){if(e==null)return e;var r=[],i=0;return sa(e,r,"","",function(s){return t.call(n,s,i++)}),r}function mE(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var dy={current:null};function gn(){var e=dy.current;if(e===null)throw Error(ao(321));return e}var gE={ReactCurrentDispatcher:dy,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:hf,IsSomeRendererActing:{current:!1},assign:lf};J.Children={map:Do,forEach:function(e,t,n){Do(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Do(e,function(){t++}),t},toArray:function(e){return Do(e,function(t){return t})||[]},only:function(e){if(!ff(e))throw Error(ao(143));return e}};J.Component=Si;J.PureComponent=uf;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gE;J.cloneElement=function(e,t,n){if(e==null)throw Error(ao(267,e));var r=lf({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=hf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)cy.call(t,l)&&!hy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ei,type:e.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:ry,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:ny,_context:e},e.Consumer=e};J.createElement=fy;J.createFactory=function(e){var t=fy.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:iy,render:e}};J.isValidElement=ff;J.lazy=function(e){return{$$typeof:oy,_payload:{_status:-1,_result:e},_init:mE}};J.memo=function(e,t){return{$$typeof:sy,type:e,compare:t===void 0?null:t}};J.useCallback=function(e,t){return gn().useCallback(e,t)};J.useContext=function(e,t){return gn().useContext(e,t)};J.useDebugValue=function(){};J.useEffect=function(e,t){return gn().useEffect(e,t)};J.useImperativeHandle=function(e,t,n){return gn().useImperativeHandle(e,t,n)};J.useLayoutEffect=function(e,t){return gn().useLayoutEffect(e,t)};J.useMemo=function(e,t){return gn().useMemo(e,t)};J.useReducer=function(e,t,n){return gn().useReducer(e,t,n)};J.useRef=function(e){return gn().useRef(e)};J.useState=function(e){return gn().useState(e)};J.version="17.0.2";ey.exports=J;var C=ey.exports;const Tr=af(C),yE=aE({__proto__:null,default:Tr},[C]);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE=C,py=60103;oo.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var up=Symbol.for;py=up("react.element"),oo.Fragment=up("react.fragment")}var wE=vE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EE=Object.prototype.hasOwnProperty,SE={key:!0,ref:!0,__self:!0,__source:!0};function my(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)EE.call(t,r)&&!SE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:py,type:e,key:s,ref:o,props:i,_owner:wE.current}}oo.jsx=my;oo.jsxs=my;Jg.exports=oo;var p=Jg.exports,gy={exports:{}},oe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=Symbol.for("react.element"),pf=Symbol.for("react.portal"),yl=Symbol.for("react.fragment"),vl=Symbol.for("react.strict_mode"),wl=Symbol.for("react.profiler"),El=Symbol.for("react.provider"),Sl=Symbol.for("react.context"),xE=Symbol.for("react.server_context"),xl=Symbol.for("react.forward_ref"),Cl=Symbol.for("react.suspense"),kl=Symbol.for("react.suspense_list"),Tl=Symbol.for("react.memo"),Al=Symbol.for("react.lazy"),CE=Symbol.for("react.offscreen"),yy;yy=Symbol.for("react.module.reference");function Pt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case df:switch(e=e.type,e){case yl:case wl:case vl:case Cl:case kl:return e;default:switch(e=e&&e.$$typeof,e){case xE:case Sl:case xl:case Al:case Tl:case El:return e;default:return t}}case pf:return t}}}oe.ContextConsumer=Sl;oe.ContextProvider=El;oe.Element=df;oe.ForwardRef=xl;oe.Fragment=yl;oe.Lazy=Al;oe.Memo=Tl;oe.Portal=pf;oe.Profiler=wl;oe.StrictMode=vl;oe.Suspense=Cl;oe.SuspenseList=kl;oe.isAsyncMode=function(){return!1};oe.isConcurrentMode=function(){return!1};oe.isContextConsumer=function(e){return Pt(e)===Sl};oe.isContextProvider=function(e){return Pt(e)===El};oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===df};oe.isForwardRef=function(e){return Pt(e)===xl};oe.isFragment=function(e){return Pt(e)===yl};oe.isLazy=function(e){return Pt(e)===Al};oe.isMemo=function(e){return Pt(e)===Tl};oe.isPortal=function(e){return Pt(e)===pf};oe.isProfiler=function(e){return Pt(e)===wl};oe.isStrictMode=function(e){return Pt(e)===vl};oe.isSuspense=function(e){return Pt(e)===Cl};oe.isSuspenseList=function(e){return Pt(e)===kl};oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yl||e===wl||e===vl||e===Cl||e===kl||e===CE||typeof e=="object"&&e!==null&&(e.$$typeof===Al||e.$$typeof===Tl||e.$$typeof===El||e.$$typeof===Sl||e.$$typeof===xl||e.$$typeof===yy||e.getModuleId!==void 0)};oe.typeOf=Pt;gy.exports=oe;var vy=gy.exports;function kE(e){function t(k,T,b,F,x){for(var q=0,P=0,re=0,ee=0,ie,W,Ue=0,ft=0,Z,Ye=Z=ie=0,te=0,Be=0,ji=0,Ve=0,Po=b.length,Ri=Po-1,jt,H="",ke="",Iu="",Nu="",vn;te<Po;){if(W=b.charCodeAt(te),te===Ri&&P+ee+re+q!==0&&(P!==0&&(W=P===47?10:47),ee=re=q=0,Po++,Ri++),P+ee+re+q===0){if(te===Ri&&(0<Be&&(H=H.replace(h,"")),0<H.trim().length)){switch(W){case 32:case 9:case 59:case 13:case 10:break;default:H+=b.charAt(te)}W=59}switch(W){case 123:for(H=H.trim(),ie=H.charCodeAt(0),Z=1,Ve=++te;te<Po;){switch(W=b.charCodeAt(te)){case 123:Z++;break;case 125:Z--;break;case 47:switch(W=b.charCodeAt(te+1)){case 42:case 47:e:{for(Ye=te+1;Ye<Ri;++Ye)switch(b.charCodeAt(Ye)){case 47:if(W===42&&b.charCodeAt(Ye-1)===42&&te+2!==Ye){te=Ye+1;break e}break;case 10:if(W===47){te=Ye+1;break e}}te=Ye}}break;case 91:W++;case 40:W++;case 34:case 39:for(;te++<Ri&&b.charCodeAt(te)!==W;);}if(Z===0)break;te++}switch(Z=b.substring(Ve,te),ie===0&&(ie=(H=H.replace(d,"").trim()).charCodeAt(0)),ie){case 64:switch(0<Be&&(H=H.replace(h,"")),W=H.charCodeAt(1),W){case 100:case 109:case 115:case 45:Be=T;break;default:Be=Mt}if(Z=t(T,Be,Z,W,x+1),Ve=Z.length,0<qe&&(Be=n(Mt,H,ji),vn=a(3,Z,Be,T,le,ue,Ve,W,x,F),H=Be.join(""),vn!==void 0&&(Ve=(Z=vn.trim()).length)===0&&(W=0,Z="")),0<Ve)switch(W){case 115:H=H.replace(I,o);case 100:case 109:case 45:Z=H+"{"+Z+"}";break;case 107:H=H.replace(g,"$1 $2"),Z=H+"{"+Z+"}",Z=Ee===1||Ee===2&&s("@"+Z,3)?"@-webkit-"+Z+"@"+Z:"@"+Z;break;default:Z=H+Z,F===112&&(Z=(ke+=Z,""))}else Z="";break;default:Z=t(T,n(T,H,ji),Z,F,x+1)}Iu+=Z,Z=ji=Be=Ye=ie=0,H="",W=b.charCodeAt(++te);break;case 125:case 59:if(H=(0<Be?H.replace(h,""):H).trim(),1<(Ve=H.length))switch(Ye===0&&(ie=H.charCodeAt(0),ie===45||96<ie&&123>ie)&&(Ve=(H=H.replace(" ",":")).length),0<qe&&(vn=a(1,H,T,k,le,ue,ke.length,F,x,F))!==void 0&&(Ve=(H=vn.trim()).length)===0&&(H="\0\0"),ie=H.charCodeAt(0),W=H.charCodeAt(1),ie){case 0:break;case 64:if(W===105||W===99){Nu+=H+b.charAt(te);break}default:H.charCodeAt(Ve-1)!==58&&(ke+=i(H,ie,W,H.charCodeAt(2)))}ji=Be=Ye=ie=0,H="",W=b.charCodeAt(++te)}}switch(W){case 13:case 10:P===47?P=0:1+ie===0&&F!==107&&0<H.length&&(Be=1,H+="\0"),0<qe*yn&&a(0,H,T,k,le,ue,ke.length,F,x,F),ue=1,le++;break;case 59:case 125:if(P+ee+re+q===0){ue++;break}default:switch(ue++,jt=b.charAt(te),W){case 9:case 32:if(ee+q+P===0)switch(Ue){case 44:case 58:case 9:case 32:jt="";break;default:W!==32&&(jt=" ")}break;case 0:jt="\\0";break;case 12:jt="\\f";break;case 11:jt="\\v";break;case 38:ee+P+q===0&&(Be=ji=1,jt="\f"+jt);break;case 108:if(ee+P+q+at===0&&0<Ye)switch(te-Ye){case 2:Ue===112&&b.charCodeAt(te-3)===58&&(at=Ue);case 8:ft===111&&(at=ft)}break;case 58:ee+P+q===0&&(Ye=te);break;case 44:P+re+ee+q===0&&(Be=1,jt+="\r");break;case 34:case 39:P===0&&(ee=ee===W?0:ee===0?W:ee);break;case 91:ee+P+re===0&&q++;break;case 93:ee+P+re===0&&q--;break;case 41:ee+P+q===0&&re--;break;case 40:if(ee+P+q===0){if(ie===0)switch(2*Ue+3*ft){case 533:break;default:ie=1}re++}break;case 64:P+re+ee+q+Ye+Z===0&&(Z=1);break;case 42:case 47:if(!(0<ee+q+re))switch(P){case 0:switch(2*W+3*b.charCodeAt(te+1)){case 235:P=47;break;case 220:Ve=te,P=42}break;case 42:W===47&&Ue===42&&Ve+2!==te&&(b.charCodeAt(Ve+2)===33&&(ke+=b.substring(Ve,te+1)),jt="",P=0)}}P===0&&(H+=jt)}ft=Ue,Ue=W,te++}if(Ve=ke.length,0<Ve){if(Be=T,0<qe&&(vn=a(2,ke,Be,k,le,ue,Ve,F,x,F),vn!==void 0&&(ke=vn).length===0))return Nu+ke+Iu;if(ke=Be.join(",")+"{"+ke+"}",Ee*at!==0){switch(Ee!==2||s(ke,2)||(at=0),at){case 111:ke=ke.replace(S,":-moz-$1")+ke;break;case 112:ke=ke.replace(w,"::-webkit-input-$1")+ke.replace(w,"::-moz-$1")+ke.replace(w,":-ms-input-$1")+ke}at=0}}return Nu+ke+Iu}function n(k,T,b){var F=T.trim().split(f);T=F;var x=F.length,q=k.length;switch(q){case 0:case 1:var P=0;for(k=q===0?"":k[0]+" ";P<x;++P)T[P]=r(k,T[P],b).trim();break;default:var re=P=0;for(T=[];P<x;++P)for(var ee=0;ee<q;++ee)T[re++]=r(k[ee]+" ",F[P],b).trim()}return T}function r(k,T,b){var F=T.charCodeAt(0);switch(33>F&&(F=(T=T.trim()).charCodeAt(0)),F){case 38:return T.replace(m,"$1"+k.trim());case 58:return k.trim()+T.replace(m,"$1"+k.trim());default:if(0<1*b&&0<T.indexOf("\f"))return T.replace(m,(k.charCodeAt(0)===58?"":"$1")+k.trim())}return k+T}function i(k,T,b,F){var x=k+";",q=2*T+3*b+4*F;if(q===944){k=x.indexOf(":",9)+1;var P=x.substring(k,x.length-1).trim();return P=x.substring(0,k).trim()+P+";",Ee===1||Ee===2&&s(P,1)?"-webkit-"+P+P:P}if(Ee===0||Ee===2&&!s(x,1))return x;switch(q){case 1015:return x.charCodeAt(10)===97?"-webkit-"+x+x:x;case 951:return x.charCodeAt(3)===116?"-webkit-"+x+x:x;case 963:return x.charCodeAt(5)===110?"-webkit-"+x+x:x;case 1009:if(x.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+x+x;case 978:return"-webkit-"+x+"-moz-"+x+x;case 1019:case 983:return"-webkit-"+x+"-moz-"+x+"-ms-"+x+x;case 883:if(x.charCodeAt(8)===45)return"-webkit-"+x+x;if(0<x.indexOf("image-set(",11))return x.replace(Ot,"$1-webkit-$2")+x;break;case 932:if(x.charCodeAt(4)===45)switch(x.charCodeAt(5)){case 103:return"-webkit-box-"+x.replace("-grow","")+"-webkit-"+x+"-ms-"+x.replace("grow","positive")+x;case 115:return"-webkit-"+x+"-ms-"+x.replace("shrink","negative")+x;case 98:return"-webkit-"+x+"-ms-"+x.replace("basis","preferred-size")+x}return"-webkit-"+x+"-ms-"+x+x;case 964:return"-webkit-"+x+"-ms-flex-"+x+x;case 1023:if(x.charCodeAt(8)!==99)break;return P=x.substring(x.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+P+"-webkit-"+x+"-ms-flex-pack"+P+x;case 1005:return E.test(x)?x.replace(v,":-webkit-")+x.replace(v,":-moz-")+x:x;case 1e3:switch(P=x.substring(13).trim(),T=P.indexOf("-")+1,P.charCodeAt(0)+P.charCodeAt(T)){case 226:P=x.replace(D,"tb");break;case 232:P=x.replace(D,"tb-rl");break;case 220:P=x.replace(D,"lr");break;default:return x}return"-webkit-"+x+"-ms-"+P+x;case 1017:if(x.indexOf("sticky",9)===-1)break;case 975:switch(T=(x=k).length-10,P=(x.charCodeAt(T)===33?x.substring(0,T):x).substring(k.indexOf(":",7)+1).trim(),q=P.charCodeAt(0)+(P.charCodeAt(7)|0)){case 203:if(111>P.charCodeAt(8))break;case 115:x=x.replace(P,"-webkit-"+P)+";"+x;break;case 207:case 102:x=x.replace(P,"-webkit-"+(102<q?"inline-":"")+"box")+";"+x.replace(P,"-webkit-"+P)+";"+x.replace(P,"-ms-"+P+"box")+";"+x}return x+";";case 938:if(x.charCodeAt(5)===45)switch(x.charCodeAt(6)){case 105:return P=x.replace("-items",""),"-webkit-"+x+"-webkit-box-"+P+"-ms-flex-"+P+x;case 115:return"-webkit-"+x+"-ms-flex-item-"+x.replace(L,"")+x;default:return"-webkit-"+x+"-ms-flex-line-pack"+x.replace("align-content","").replace(L,"")+x}break;case 973:case 989:if(x.charCodeAt(3)!==45||x.charCodeAt(4)===122)break;case 931:case 953:if(Q.test(k)===!0)return(P=k.substring(k.indexOf(":")+1)).charCodeAt(0)===115?i(k.replace("stretch","fill-available"),T,b,F).replace(":fill-available",":stretch"):x.replace(P,"-webkit-"+P)+x.replace(P,"-moz-"+P.replace("fill-",""))+x;break;case 962:if(x="-webkit-"+x+(x.charCodeAt(5)===102?"-ms-"+x:"")+x,b+F===211&&x.charCodeAt(13)===105&&0<x.indexOf("transform",10))return x.substring(0,x.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+x}return x}function s(k,T){var b=k.indexOf(T===1?":":"{"),F=k.substring(0,T!==3?b:10);return b=k.substring(b+1,k.length-1),rn(T!==2?F:F.replace(A,"$1"),b,T)}function o(k,T){var b=i(T,T.charCodeAt(0),T.charCodeAt(1),T.charCodeAt(2));return b!==T+";"?b.replace(R," or ($1)").substring(4):"("+T+")"}function a(k,T,b,F,x,q,P,re,ee,ie){for(var W=0,Ue=T,ft;W<qe;++W)switch(ft=lt[W].call(c,k,Ue,b,F,x,q,P,re,ee,ie)){case void 0:case!1:case!0:case null:break;default:Ue=ft}if(Ue!==T)return Ue}function l(k){switch(k){case void 0:case null:qe=lt.length=0;break;default:if(typeof k=="function")lt[qe++]=k;else if(typeof k=="object")for(var T=0,b=k.length;T<b;++T)l(k[T]);else yn=!!k|0}return l}function u(k){return k=k.prefix,k!==void 0&&(rn=null,k?typeof k!="function"?Ee=1:(Ee=2,rn=k):Ee=0),u}function c(k,T){var b=k;if(33>b.charCodeAt(0)&&(b=b.trim()),O=b,b=[O],0<qe){var F=a(-1,T,b,b,le,ue,0,0,0,0);F!==void 0&&typeof F=="string"&&(T=F)}var x=t(Mt,b,T,0,0);return 0<qe&&(F=a(-2,x,b,b,le,ue,x.length,0,0,0),F!==void 0&&(x=F)),O="",at=0,ue=le=1,x}var d=/^\0+/g,h=/[\0\r\f]/g,v=/: */g,E=/zoo|gra/,y=/([,: ])(transform)/g,f=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,S=/:(read-only)/g,D=/[svh]\w+-[tblr]{2}/,I=/\(\s*(.*)\s*\)/g,R=/([\s\S]*?);/g,L=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Q=/stretch|:\s*\w+\-(?:conte|avail)/,Ot=/([^-])(image-set\()/,ue=1,le=1,at=0,Ee=1,Mt=[],lt=[],qe=0,rn=null,yn=0,O="";return c.use=l,c.set=u,e!==void 0&&u(e),c}var TE={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function AE(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var _E=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,cp=AE(function(e){return _E.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),wy={exports:{}},ae={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Le=typeof Symbol=="function"&&Symbol.for,mf=Le?Symbol.for("react.element"):60103,gf=Le?Symbol.for("react.portal"):60106,_l=Le?Symbol.for("react.fragment"):60107,Il=Le?Symbol.for("react.strict_mode"):60108,Nl=Le?Symbol.for("react.profiler"):60114,$l=Le?Symbol.for("react.provider"):60109,Pl=Le?Symbol.for("react.context"):60110,yf=Le?Symbol.for("react.async_mode"):60111,Dl=Le?Symbol.for("react.concurrent_mode"):60111,bl=Le?Symbol.for("react.forward_ref"):60112,Ol=Le?Symbol.for("react.suspense"):60113,IE=Le?Symbol.for("react.suspense_list"):60120,Ml=Le?Symbol.for("react.memo"):60115,jl=Le?Symbol.for("react.lazy"):60116,NE=Le?Symbol.for("react.block"):60121,$E=Le?Symbol.for("react.fundamental"):60117,PE=Le?Symbol.for("react.responder"):60118,DE=Le?Symbol.for("react.scope"):60119;function St(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mf:switch(e=e.type,e){case yf:case Dl:case _l:case Nl:case Il:case Ol:return e;default:switch(e=e&&e.$$typeof,e){case Pl:case bl:case jl:case Ml:case $l:return e;default:return t}}case gf:return t}}}function Ey(e){return St(e)===Dl}ae.AsyncMode=yf;ae.ConcurrentMode=Dl;ae.ContextConsumer=Pl;ae.ContextProvider=$l;ae.Element=mf;ae.ForwardRef=bl;ae.Fragment=_l;ae.Lazy=jl;ae.Memo=Ml;ae.Portal=gf;ae.Profiler=Nl;ae.StrictMode=Il;ae.Suspense=Ol;ae.isAsyncMode=function(e){return Ey(e)||St(e)===yf};ae.isConcurrentMode=Ey;ae.isContextConsumer=function(e){return St(e)===Pl};ae.isContextProvider=function(e){return St(e)===$l};ae.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mf};ae.isForwardRef=function(e){return St(e)===bl};ae.isFragment=function(e){return St(e)===_l};ae.isLazy=function(e){return St(e)===jl};ae.isMemo=function(e){return St(e)===Ml};ae.isPortal=function(e){return St(e)===gf};ae.isProfiler=function(e){return St(e)===Nl};ae.isStrictMode=function(e){return St(e)===Il};ae.isSuspense=function(e){return St(e)===Ol};ae.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_l||e===Dl||e===Nl||e===Il||e===Ol||e===IE||typeof e=="object"&&e!==null&&(e.$$typeof===jl||e.$$typeof===Ml||e.$$typeof===$l||e.$$typeof===Pl||e.$$typeof===bl||e.$$typeof===$E||e.$$typeof===PE||e.$$typeof===DE||e.$$typeof===NE)};ae.typeOf=St;wy.exports=ae;var bE=wy.exports,vf=bE,OE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ME={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jE={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sy={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wf={};wf[vf.ForwardRef]=jE;wf[vf.Memo]=Sy;function hp(e){return vf.isMemo(e)?Sy:wf[e.$$typeof]||OE}var RE=Object.defineProperty,LE=Object.getOwnPropertyNames,fp=Object.getOwnPropertySymbols,FE=Object.getOwnPropertyDescriptor,UE=Object.getPrototypeOf,dp=Object.prototype;function xy(e,t,n){if(typeof t!="string"){if(dp){var r=UE(t);r&&r!==dp&&xy(e,r,n)}var i=LE(t);fp&&(i=i.concat(fp(t)));for(var s=hp(e),o=hp(t),a=0;a<i.length;++a){var l=i[a];if(!ME[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=FE(t,l);try{RE(e,l,u)}catch{}}}}return e}var BE=xy;const VE=af(BE);function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pp=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Tc=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!vy.typeOf(e)},Ea=Object.freeze([]),An=Object.freeze({});function As(e){return typeof e=="function"}function mp(e){return e.displayName||e.name||"Component"}function Ef(e){return e&&typeof e.styledComponentId=="string"}var ai=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Sf=typeof window<"u"&&"HTMLElement"in window,zE=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY)),HE={};function lo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var WE=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;n>=o;)(o<<=1)<0&&lo(16,""+n);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,c=r.length;u<c;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[n]++,l++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),s=i+r;this.groupSizes[n]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],s=this.indexOfGroup(n),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},e}(),oa=new Map,Sa=new Map,as=1,bo=function(e){if(oa.has(e))return oa.get(e);for(;Sa.has(as);)as++;var t=as++;return oa.set(e,t),Sa.set(t,e),t},GE=function(e){return Sa.get(e)},KE=function(e,t){t>=as&&(as=t+1),oa.set(e,t),Sa.set(t,e)},QE="style["+ai+'][data-styled-version="5.3.11"]',qE=new RegExp("^"+ai+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),YE=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},XE=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=n.length;i<s;i++){var o=n[i].trim();if(o){var a=o.match(qE);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(KE(u,l),YE(e,u,a[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},JE=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},Cy=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(ai))return c}}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(ai,"active"),r.setAttribute("data-styled-version","5.3.11");var o=JE();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},ZE=function(){function e(n){var r=this.element=Cy(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}lo(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),eS=function(){function e(n){var r=this.element=Cy(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),s=this.nodes[n];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),tS=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),gp=Sf,nS={isServer:!Sf,useCSSOMInjection:!zE},xa=function(){function e(n,r,i){n===void 0&&(n=An),r===void 0&&(r={}),this.options=Ht({},nS,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&Sf&&gp&&(gp=!1,function(s){for(var o=document.querySelectorAll(QE),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(ai)!=="active"&&(XE(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}e.registerId=function(n){return bo(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(Ht({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,n=i?new tS(o):s?new ZE(o):new eS(o),new WE(n)));var n,r,i,s,o},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(bo(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},t.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(bo(n),i)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(bo(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,s="",o=0;o<i;o++){var a=GE(o);if(a!==void 0){var l=n.names.get(a),u=r.getGroup(o);if(l&&u&&l.size){var c=ai+".g"+o+'[id="'+a+'"]',d="";l!==void 0&&l.forEach(function(h){h.length>0&&(d+=h+",")}),s+=""+u+c+'{content:"'+d+`"}/*!sc*/
`}}}return s}(this)},e}(),rS=/(a)(d)/gi,yp=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ac(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=yp(t%52)+n;return(yp(t%52)+n).replace(rS,"$1-$2")}var Lr=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ky=function(e){return Lr(5381,e)};function Ty(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(As(n)&&!Ef(n))return!1}return!0}var iS=ky("5.3.11"),sS=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Ty(t),this.componentId=n,this.baseHash=Lr(iS,n),this.baseStyle=r,xa.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=yr(this.rules,t,n,r).join(""),a=Ac(Lr(this.baseHash,o)>>>0);if(!n.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);n.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Lr(this.baseHash,r.hash),d="",h=0;h<u;h++){var v=this.rules[h];if(typeof v=="string")d+=v;else if(v){var E=yr(v,t,n,r),y=Array.isArray(E)?E.join(""):E;c=Lr(c,y+h),d+=y}}if(d){var f=Ac(c>>>0);if(!n.hasNameForId(i,f)){var m=r(d,"."+f,void 0,i);n.insertRules(i,f,m)}s.push(f)}}return s.join(" ")},e}(),oS=/^\s*\/\/.*$/gm,aS=[":","[",".","#"];function lS(e){var t,n,r,i,s=e===void 0?An:e,o=s.options,a=o===void 0?An:o,l=s.plugins,u=l===void 0?Ea:l,c=new kE(a),d=[],h=function(y){function f(m){if(m)try{y(m+"}")}catch{}}return function(m,g,w,S,D,I,R,L,A,Q){switch(m){case 1:if(A===0&&g.charCodeAt(0)===64)return y(g+";"),"";break;case 2:if(L===0)return g+"/*|*/";break;case 3:switch(L){case 102:case 112:return y(w[0]+g),"";default:return g+(Q===0?"/*|*/":"")}case-2:g.split("/*|*/}").forEach(f)}}}(function(y){d.push(y)}),v=function(y,f,m){return f===0&&aS.indexOf(m[n.length])!==-1||m.match(i)?y:"."+t};function E(y,f,m,g){g===void 0&&(g="&");var w=y.replace(oS,""),S=f&&m?m+" "+f+" { "+w+" }":w;return t=g,n=f,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(m||!f?"":f,S)}return c.use([].concat(u,[function(y,f,m){y===2&&m.length&&m[0].lastIndexOf(n)>0&&(m[0]=m[0].replace(r,v))},h,function(y){if(y===-2){var f=d;return d=[],f}}])),E.hash=u.length?u.reduce(function(y,f){return f.name||lo(15),Lr(y,f.name)},5381).toString():"",E}var Ay=Tr.createContext();Ay.Consumer;var _y=Tr.createContext(),uS=(_y.Consumer,new xa),_c=lS();function Iy(){return C.useContext(Ay)||uS}function Ny(){return C.useContext(_y)||_c}var cS=function(){function e(t,n){var r=this;this.inject=function(i,s){s===void 0&&(s=_c);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return lo(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=_c),this.name+t.hash},e}(),hS=/([A-Z])/,fS=/([A-Z])/g,dS=/^ms-/,pS=function(e){return"-"+e.toLowerCase()};function vp(e){return hS.test(e)?e.replace(fS,pS).replace(dS,"-ms-"):e}var wp=function(e){return e==null||e===!1||e===""};function yr(e,t,n,r){if(Array.isArray(e)){for(var i,s=[],o=0,a=e.length;o<a;o+=1)(i=yr(e[o],t,n,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(wp(e))return"";if(Ef(e))return"."+e.styledComponentId;if(As(e)){if(typeof(u=e)!="function"||u.prototype&&u.prototype.isReactComponent||!t)return e;var l=e(t);return yr(l,t,n,r)}var u;return e instanceof cS?n?(e.inject(n,r),e.getName(r)):e:Tc(e)?function c(d,h){var v,E,y=[];for(var f in d)d.hasOwnProperty(f)&&!wp(d[f])&&(Array.isArray(d[f])&&d[f].isCss||As(d[f])?y.push(vp(f)+":",d[f],";"):Tc(d[f])?y.push.apply(y,c(d[f],f)):y.push(vp(f)+": "+(v=f,(E=d[f])==null||typeof E=="boolean"||E===""?"":typeof E!="number"||E===0||v in TE||v.startsWith("--")?String(E).trim():E+"px")+";"));return h?[h+" {"].concat(y,["}"]):y}(e):e.toString()}var Ep=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function $y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return As(e)||Tc(e)?Ep(yr(pp(Ea,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:Ep(yr(pp(e,n)))}var Py=function(e,t,n){return n===void 0&&(n=An),e.theme!==n.theme&&e.theme||t||n.theme},mS=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,gS=/(^-|-$)/g;function Pu(e){return e.replace(mS,"-").replace(gS,"")}var Dy=function(e){return Ac(ky(e)>>>0)};function Oo(e){return typeof e=="string"&&!0}var Ic=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},yS=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function vS(e,t,n){var r=e[n];Ic(t)&&Ic(r)?by(r,t):e[n]=t}function by(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,s=n;i<s.length;i++){var o=s[i];if(Ic(o))for(var a in o)yS(a)&&vS(e,o[a],a)}return e}var xf=Tr.createContext();xf.Consumer;var Du={};function Oy(e,t,n){var r=Ef(e),i=!Oo(e),s=t.attrs,o=s===void 0?Ea:s,a=t.componentId,l=a===void 0?function(g,w){var S=typeof g!="string"?"sc":Pu(g);Du[S]=(Du[S]||0)+1;var D=S+"-"+Dy("5.3.11"+S+Du[S]);return w?w+"-"+D:D}(t.displayName,t.parentComponentId):a,u=t.displayName,c=u===void 0?function(g){return Oo(g)?"styled."+g:"Styled("+mp(g)+")"}(e):u,d=t.displayName&&t.componentId?Pu(t.displayName)+"-"+t.componentId:t.componentId||l,h=r&&e.attrs?Array.prototype.concat(e.attrs,o).filter(Boolean):o,v=t.shouldForwardProp;r&&e.shouldForwardProp&&(v=t.shouldForwardProp?function(g,w,S){return e.shouldForwardProp(g,w,S)&&t.shouldForwardProp(g,w,S)}:e.shouldForwardProp);var E,y=new sS(n,d,r?e.componentStyle:void 0),f=y.isStatic&&o.length===0,m=function(g,w){return function(S,D,I,R){var L=S.attrs,A=S.componentStyle,Q=S.defaultProps,Ot=S.foldedComponentIds,ue=S.shouldForwardProp,le=S.styledComponentId,at=S.target,Ee=function(F,x,q){F===void 0&&(F=An);var P=Ht({},x,{theme:F}),re={};return q.forEach(function(ee){var ie,W,Ue,ft=ee;for(ie in As(ft)&&(ft=ft(P)),ft)P[ie]=re[ie]=ie==="className"?(W=re[ie],Ue=ft[ie],W&&Ue?W+" "+Ue:W||Ue):ft[ie]}),[P,re]}(Py(D,C.useContext(xf),Q)||An,D,L),Mt=Ee[0],lt=Ee[1],qe=function(F,x,q,P){var re=Iy(),ee=Ny(),ie=x?F.generateAndInjectStyles(An,re,ee):F.generateAndInjectStyles(q,re,ee);return ie}(A,R,Mt),rn=I,yn=lt.$as||D.$as||lt.as||D.as||at,O=Oo(yn),k=lt!==D?Ht({},D,{},lt):D,T={};for(var b in k)b[0]!=="$"&&b!=="as"&&(b==="forwardedAs"?T.as=k[b]:(ue?ue(b,cp,yn):!O||cp(b))&&(T[b]=k[b]));return D.style&&lt.style!==D.style&&(T.style=Ht({},D.style,{},lt.style)),T.className=Array.prototype.concat(Ot,le,qe!==le?qe:null,D.className,lt.className).filter(Boolean).join(" "),T.ref=rn,C.createElement(yn,T)}(E,g,w,f)};return m.displayName=c,(E=Tr.forwardRef(m)).attrs=h,E.componentStyle=y,E.displayName=c,E.shouldForwardProp=v,E.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Ea,E.styledComponentId=d,E.target=r?e.target:e,E.withComponent=function(g){var w=t.componentId,S=function(I,R){if(I==null)return{};var L,A,Q={},Ot=Object.keys(I);for(A=0;A<Ot.length;A++)L=Ot[A],R.indexOf(L)>=0||(Q[L]=I[L]);return Q}(t,["componentId"]),D=w&&w+"-"+(Oo(g)?g:Pu(mp(g)));return Oy(g,Ht({},S,{attrs:h,componentId:D}),n)},Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(g){this._foldedDefaultProps=r?by({},e.defaultProps,g):g}}),Object.defineProperty(E,"toString",{value:function(){return"."+E.styledComponentId}}),i&&VE(E,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),E}var Nc=function(e){return function t(n,r,i){if(i===void 0&&(i=An),!vy.isValidElementType(r))return lo(1,String(r));var s=function(){return n(r,i,$y.apply(void 0,arguments))};return s.withConfig=function(o){return t(n,r,Ht({},i,{},o))},s.attrs=function(o){return t(n,r,Ht({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(Oy,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Nc[e]=Nc(e)});var wS=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=Ty(n),xa.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,i,s){var o=s(yr(this.rules,r,i,s).join(""),""),a=this.componentId+n;i.insertRules(a,a,o)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,i,s){n>2&&xa.registerId(this.componentId+n),this.removeStyles(n,i),this.createStyles(n,r,i,s)},e}();function ES(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=$y.apply(void 0,[e].concat(n)),s="sc-global-"+Dy(JSON.stringify(i)),o=new wS(i,s);function a(u){var c=Iy(),d=Ny(),h=C.useContext(xf),v=C.useRef(c.allocateGSInstance(s)).current;return c.server&&l(v,u,c,h,d),C.useLayoutEffect(function(){if(!c.server)return l(v,u,c,h,d),function(){return o.removeStyles(v,c)}},[v,u,c,h,d]),null}function l(u,c,d,h,v){if(o.isStatic)o.renderStyles(u,HE,d,v);else{var E=Ht({},c,{theme:Py(c,h,a.defaultProps)});o.renderStyles(u,E,d,v)}}return Tr.memo(a)}const Dt=Nc,uo=Dt.div`
  margin: 0 0.5rem;
`;var $c=function(e,t){return $c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},$c(e,t)};function xi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$c(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Pc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ca(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function ka(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Xt(e){return typeof e=="function"}function Cf(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var bu=Cf(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Dc(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Rl=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Pc(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(y){t={error:y}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else o.remove(this);var c=this.initialTeardown;if(Xt(c))try{c()}catch(y){s=y instanceof bu?y.errors:[y]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=Pc(d),v=h.next();!v.done;v=h.next()){var E=v.value;try{Sp(E)}catch(y){s=s??[],y instanceof bu?s=ka(ka([],Ca(s)),Ca(y.errors)):s.push(y)}}}catch(y){r={error:y}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new bu(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Sp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Dc(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Dc(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),My=Rl.EMPTY;function jy(e){return e instanceof Rl||e&&"closed"in e&&Xt(e.remove)&&Xt(e.add)&&Xt(e.unsubscribe)}function Sp(e){Xt(e)?e():e.unsubscribe()}var Ry={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bc={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=bc.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,ka([e,t],Ca(n))):setTimeout.apply(void 0,ka([e,t],Ca(n)))},clearTimeout:function(e){var t=bc.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function SS(e){bc.setTimeout(function(){throw e})}function xp(){}function aa(e){e()}var kf=function(e){xi(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,jy(n)&&n.add(r)):r.destination=TS,r}return t.create=function(n,r,i){return new Oc(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Rl),xS=Function.prototype.bind;function Ou(e,t){return xS.call(e,t)}var CS=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Mo(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Mo(r)}else Mo(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Mo(n)}},e}(),Oc=function(e){xi(t,e);function t(n,r,i){var s=e.call(this)||this,o;if(Xt(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&Ry.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Ou(n.next,a),error:n.error&&Ou(n.error,a),complete:n.complete&&Ou(n.complete,a)}):o=n}return s.destination=new CS(o),s}return t}(kf);function Mo(e){SS(e)}function kS(e){throw e}var TS={closed:!0,next:xp,error:kS,complete:xp},AS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ly(e){return e}function _S(e){return e.length===0?Ly:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Mc=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,s=NS(t)?t:new Oc(t,n,r);return aa(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Cp(n),new n(function(i,s){var o=new Oc({next:function(a){try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[AS]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return _S(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Cp(t),new t(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function Cp(e){var t;return(t=e??Ry.Promise)!==null&&t!==void 0?t:Promise}function IS(e){return e&&Xt(e.next)&&Xt(e.error)&&Xt(e.complete)}function NS(e){return e&&e instanceof kf||IS(e)&&jy(e)}function $S(e){return Xt(e==null?void 0:e.lift)}function Ll(e){return function(t){if($S(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Fl(e,t,n,r,i){return new PS(e,t,n,r,i)}var PS=function(e){xi(t,e);function t(n,r,i,s,o,a){var l=e.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:e.prototype._next,l._error=s?function(u){try{s(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(kf),DS=Cf(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),co=function(e){xi(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new kp(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new DS},t.prototype.next=function(n){var r=this;aa(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Pc(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;aa(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;aa(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?My:(this.currentObservers=null,a.push(n),new Rl(function(){r.currentObservers=null,Dc(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},t.prototype.asObservable=function(){var n=new Mc;return n.source=this,n},t.create=function(n,r){return new kp(n,r)},t}(Mc),kp=function(e){xi(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:My},t}(co),Tp=function(e){xi(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(co),bS=new Mc(function(e){return e.complete()}),Fy=Cf(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function OS(e,t){return Ll(function(n,r){var i=0;n.subscribe(Fl(r,function(s){return e.call(t,s,i++)&&r.next(s)}))})}function MS(e){return Ll(function(t,n){var r=!1;t.subscribe(Fl(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}function jS(e){return e<=0?function(){return bS}:Ll(function(t,n){var r=0;t.subscribe(Fl(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function RS(e){return e===void 0&&(e=LS),Ll(function(t,n){var r=!1;t.subscribe(Fl(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(e())}))})}function LS(){return new Fy}function FS(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?OS(function(i,s){return e(i,s,r)}):Ly,jS(1),n?MS(t):RS(function(){return new Fy}))}}class US{constructor(){G(this,"errorsFeed$");G(this,"lastError$");this.errorsFeed$=new Tp([]),this.lastError$=new Tp(void 0)}add(t){let n=[];this.errorsFeed$.subscribe(s=>{n=s}).unsubscribe();const i=[...n,t];console.error(i),this.errorsFeed$.next(i),this.lastError$.next(t)}deleteAll(){this.errorsFeed$.next([]),this.lastError$.next(void 0)}}const _s=new US,dn=e=>e?new Error(`This code path should have never been executed: ${e}`):new Error("This code path should have never been executed"),BS="small",Dr={fill:"currentColor"};function VS({icon:e}){switch(e){case"arrow-left":return["0 0 512 512",p.jsx("path",{...Dr,d:"M 475,219.46 H 125 L 245,99 A 36.7,36.7 0 0 0 193.33,47.33 L 10.6,230 a 37.1,37.1 0 0 0 0,52 L 193.3,464.7 a 36.7,36.7 0 0 0 51.9,-51.9 L 125,292 h 350.47 c 20.1,0 36.55,-16.45 36.55,-36.55 0,-20.1 -16.8,-36.55 -36.9,-36.55 z"})];case"bin":return["0 0 16 16",[p.jsx("path",{...Dr,d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.8824zM2.53h11V2h-11z"}),p.jsx("path",{...Dr,d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"})]];case"pencil":return["0 0 16 16",p.jsx("path",{...Dr,d:"M3.25 10.26l2.47 2.47 6.69-6.69-2.46-2.48-6.7 6.7zM.99 14.99l3.86-1.39-2.46-2.44-1.4 3.83zm12.25-14c-.48 0-.92.2-1.24.51l-1.44 1.44 2.47 2.47 1.44-1.44c.32-.32.51-.75.51-1.24.01-.95-.77-1.74-1.74-1.74z"})];case"gear":return["0 0 512 512",p.jsx("path",{...Dr,d:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"})];case"rotate":return["0 0 512 512",p.jsx("path",{...Dr,d:"M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"})];default:throw dn(`unsupported icon '${e}'`)}}function zS({size:e}){switch(e){case"small":return{width:"0.9rem",height:"0.9rem"};case"large":return{width:"1.2rem",height:"1.2rem"};case"extralarge":return{width:"1.5rem",height:"1.5rem"};default:throw dn(`unsupported size '${e}'`)}}function HS({icon:e,size:t}){const{width:n,height:r}=zS({size:t||BS}),[i,s]=VS({icon:e});return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"fill-current","aria-hidden":"true",focusable:"false",viewBox:i,width:n,height:r,role:"icon",children:s})}function Ie({text:e,active:t,disabled:n,icon:r,iconSize:i,onClick:s}){const o="text-sm py-2 px-3 rounded inline-flex items-center gap-2 focus:outline-none",a=" bg-gray-300  dark:bg-gray-600  text-gray-700  dark:text-gray-300",l=" bg-gray-400  dark:bg-gray-400  text-gray-100  dark:text-gray-800",u=" opacity-50 cursor-not-allowed";let c=o;n?c+=u:t?c+=l:c+=a;let d={};return i&&(d={size:i}),p.jsxs("button",{className:c,disabled:n,onClick:s,children:[r&&p.jsx(HS,{icon:r,...d}),e!==void 0&&p.jsx("span",{children:e})]})}function WS(){const[e,t]=C.useState([]);return C.useEffect(()=>_s.errorsFeed$.subscribe(t).unsubscribe,[]),!e||e.length===0?null:p.jsxs("div",{className:"p-3",children:[p.jsx("div",{className:"flex flex-row justify-end pb-3",children:p.jsx(Ie,{text:"Clear all error messages",onClick:()=>_s.deleteAll()})}),p.jsx("div",{className:"flex flex-col gap-2",role:"error-list",children:e.map((n,r)=>p.jsx(GS,{error:n},`error-${r}`))})]})}function GS({error:{header:e,description:t}}){return p.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-red-800",role:"error",children:[p.jsx("div",{className:"font-bold",role:"error-header",children:e}),p.jsx("div",{className:"",role:"error-description",children:t})]})}function KS({children:e,className:t}){return p.jsx("div",{className:`h-screen ${t}`,children:e})}function QS({children:e,className:t}){return p.jsx("div",{className:t,children:e})}function qS({children:e,className:t}){return p.jsx("div",{className:`h-screen flex flex-col flex-nowrap justify-center ${t}`,children:e})}const jo={Parent:KS,Content:QS,ContentFullyCentered:qS};var ln=(e=>(e.root="/",e.paymentAccounts="/payment-accounts",e.settings="/settings",e.notFound="/*",e))(ln||{});function Uy(e,t){throw new Error(t||`BUG: please make sure this value never reaches here: ${e}`)}const jc="dark",By=C.createContext({theme:jc,setTheme:e=>{}});function YS(){const{theme:e,setTheme:t}=C.useContext(By);function n(){switch(e){case"light":return t("dark");case"dark":return t("light");default:Uy(e,`unsupported theme: ${e}`)}}return p.jsx("div",{className:"cursor-pointer hover:text-blue-300",onClick:n,children:e})}/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Is.apply(this,arguments)}var xn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xn||(xn={}));const Ap="popstate";function XS(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Rc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ta(i)}return ZS(t,n,null,e)}function Ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JS(){return Math.random().toString(36).substr(2,8)}function _p(e,t){return{usr:e.state,key:e.key,idx:t}}function Rc(e,t,n,r){return n===void 0&&(n=null),Is({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ci(t):t,{state:n,key:t&&t.key||r||JS()})}function Ta(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ci(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ZS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=xn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Is({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=xn.Pop;let f=c(),m=f==null?null:f-u;u=f,l&&l({action:a,location:y.location,delta:m})}function h(f,m){a=xn.Push;let g=Rc(y.location,f,m);n&&n(g,f),u=c()+1;let w=_p(g,u),S=y.createHref(g);try{o.pushState(w,"",S)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(S)}s&&l&&l({action:a,location:y.location,delta:1})}function v(f,m){a=xn.Replace;let g=Rc(y.location,f,m);n&&n(g,f),u=c();let w=_p(g,u),S=y.createHref(g);o.replaceState(w,"",S),s&&l&&l({action:a,location:y.location,delta:0})}function E(f){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof f=="string"?f:Ta(f);return Ne(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let y={get action(){return a},get location(){return e(i,o)},listen(f){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ap,d),l=f,()=>{i.removeEventListener(Ap,d),l=null}},createHref(f){return t(i,f)},createURL:E,encodeLocation(f){let m=E(f);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:v,go(f){return o.go(f)}};return y}var Ip;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ip||(Ip={}));function ex(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ci(t):t,i=Af(r.pathname||"/",n);if(i==null)return null;let s=Vy(e);tx(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=cx(s[a],dx(i));return o}function Vy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ne(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=_n([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vy(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:lx(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of zy(s.path))i(s,o,l)}),t}function zy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=zy(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function tx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ux(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nx=/^:\w+$/,rx=3,ix=2,sx=1,ox=10,ax=-2,Np=e=>e==="*";function lx(e,t){let n=e.split("/"),r=n.length;return n.some(Np)&&(r+=ax),t&&(r+=ix),n.filter(i=>!Np(i)).reduce((i,s)=>i+(nx.test(s)?rx:s===""?sx:ox),r)}function ux(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function cx(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=hx({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:_n([i,c.pathname]),pathnameBase:yx(_n([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=_n([i,c.pathnameBase]))}return s}function hx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=fx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=px(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function fx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Tf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function dx(e){try{return decodeURI(e)}catch(t){return Tf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function px(e,t){try{return decodeURIComponent(e)}catch(n){return Tf(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Af(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function mx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ci(e):e;return{pathname:n?n.startsWith("/")?n:gx(n,t):t,search:vx(r),hash:wx(i)}}function gx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wy(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ci(e):(i=Is({},e),Ne(!i.pathname||!i.pathname.includes("?"),Mu("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),Mu("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),Mu("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=t.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=mx(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const _n=e=>e.join("/").replace(/\/\/+/g,"/"),yx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ex(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gy=["post","put","patch","delete"];new Set(Gy);const Sx=["get",...Gy];new Set(Sx);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aa.apply(this,arguments)}const _f=C.createContext(null),xx=C.createContext(null),ki=C.createContext(null),Ul=C.createContext(null),Ar=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Ky=C.createContext(null);function Cx(e,t){let{relative:n}=t===void 0?{}:t;ho()||Ne(!1);let{basename:r,navigator:i}=C.useContext(ki),{hash:s,pathname:o,search:a}=Yy(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:_n([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ho(){return C.useContext(Ul)!=null}function fo(){return ho()||Ne(!1),C.useContext(Ul).location}function Qy(e){C.useContext(ki).static||C.useLayoutEffect(e)}function qy(){let{isDataRoute:e}=C.useContext(Ar);return e?jx():kx()}function kx(){ho()||Ne(!1);let e=C.useContext(_f),{basename:t,navigator:n}=C.useContext(ki),{matches:r}=C.useContext(Ar),{pathname:i}=fo(),s=JSON.stringify(Hy(r).map(l=>l.pathnameBase)),o=C.useRef(!1);return Qy(()=>{o.current=!0}),C.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Wy(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:_n([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}function Yy(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=C.useContext(Ar),{pathname:i}=fo(),s=JSON.stringify(Hy(r).map(o=>o.pathnameBase));return C.useMemo(()=>Wy(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function Tx(e,t){return Ax(e,t)}function Ax(e,t,n){ho()||Ne(!1);let{navigator:r}=C.useContext(ki),{matches:i}=C.useContext(Ar),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=fo(),u;if(t){var c;let y=typeof t=="string"?Ci(t):t;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||Ne(!1),u=y}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",v=ex(e,{pathname:h}),E=Px(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:_n([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:_n([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return t&&E?C.createElement(Ul.Provider,{value:{location:Aa({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xn.Pop}},E):E}function _x(){let e=Mx(),t=Ex(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,s)}const Ix=C.createElement(_x,null);class Nx extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?C.createElement(Ar.Provider,{value:this.props.routeContext},C.createElement(Ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $x(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(_f);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Ar.Provider,{value:t},r)}function Px(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Ne(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||Ix);let h=t.concat(s.slice(0,u+1)),v=()=>{let E;return c?E=d:l.route.Component?E=C.createElement(l.route.Component,null):l.route.element?E=l.route.element:E=a,C.createElement($x,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:E})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?C.createElement(Nx,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:v(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):v()},null)}var Xy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xy||{}),_a=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_a||{});function Dx(e){let t=C.useContext(_f);return t||Ne(!1),t}function bx(e){let t=C.useContext(xx);return t||Ne(!1),t}function Ox(e){let t=C.useContext(Ar);return t||Ne(!1),t}function Jy(e){let t=Ox(),n=t.matches[t.matches.length-1];return n.route.id||Ne(!1),n.route.id}function Mx(){var e;let t=C.useContext(Ky),n=bx(_a.UseRouteError),r=Jy(_a.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function jx(){let{router:e}=Dx(Xy.UseNavigateStable),t=Jy(_a.UseNavigateStable),n=C.useRef(!1);return Qy(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Aa({fromRouteId:t},s)))},[e,t])}function Zi(e){Ne(!1)}function Rx(e){let{basename:t="/",children:n=null,location:r,navigationType:i=xn.Pop,navigator:s,static:o=!1}=e;ho()&&Ne(!1);let a=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ci(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:v="default"}=r,E=C.useMemo(()=>{let y=Af(u,a);return y==null?null:{location:{pathname:y,search:c,hash:d,state:h,key:v},navigationType:i}},[a,u,c,d,h,v,i]);return E==null?null:C.createElement(ki.Provider,{value:l},C.createElement(Ul.Provider,{children:n,value:E}))}function Lx(e){let{children:t,location:n}=e;return Tx(Lc(t),n)}new Promise(()=>{});function Lc(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let s=[...t,i];if(r.type===C.Fragment){n.push.apply(n,Lc(r.props.children,s));return}r.type!==Zi&&Ne(!1),!r.props.index||!r.props.children||Ne(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Lc(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fc.apply(this,arguments)}function Fx(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ux(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Bx(e,t){return e.button===0&&(!t||t==="_self")&&!Ux(e)}const Vx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],zx="startTransition",$p=yE[zx];function Hx(e){let{basename:t,children:n,future:r,window:i}=e,s=C.useRef();s.current==null&&(s.current=XS({window:i,v5Compat:!0}));let o=s.current,[a,l]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=C.useCallback(d=>{u&&$p?$p(()=>l(d)):l(d)},[l,u]);return C.useLayoutEffect(()=>o.listen(c),[o,c]),C.createElement(Rx,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const Wx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kx=C.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=t,d=Fx(t,Vx),{basename:h}=C.useContext(ki),v,E=!1;if(typeof u=="string"&&Gx.test(u)&&(v=u,Wx))try{let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=Af(w.pathname,h);w.origin===g.origin&&S!=null?u=S+w.search+w.hash:E=!0}catch{}let y=Cx(u,{relative:i}),f=Qx(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function m(g){r&&r(g),g.defaultPrevented||f(g)}return C.createElement("a",Fc({},d,{href:v||y,onClick:E||s?r:m,ref:n,target:l}))});var Pp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Pp||(Pp={}));var Dp;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dp||(Dp={}));function Qx(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=qy(),l=fo(),u=Yy(e,{relative:o});return C.useCallback(c=>{if(Bx(c,n)){c.preventDefault();let d=r!==void 0?r:Ta(l)===Ta(u);a(e,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,e,s,o])}function ju({title:e,path:t}){let n=qy();const r=fo();function i(a){n(a)}const s=r.pathname===t;let o="cursor-pointer hover:text-blue-300";return s&&(o+=" text-blue-800 dark:text-blue-300",o+=" underline underline-offset-8 decoration-2"),p.jsx("div",{className:o,onClick:()=>i(t),children:e})}function qx(){return p.jsxs("div",{className:"flex flex-row justify-between p-4 pr-6",children:[p.jsx("div",{className:"mr-6",children:"expenses"}),p.jsxs("div",{id:"nav-bar",className:"flex flex-row gap-5",children:[p.jsx(ju,{title:"Expenses",path:ln.root}),p.jsx(ju,{title:"Accounts",path:ln.paymentAccounts}),p.jsx(ju,{title:"Settings",path:ln.settings}),p.jsx(YS,{})]})]})}const bp=[{id:1,buttonName:"Sainsbury's",main:"Groceries",people:["AngelaPerez"],seller:"Sainsburys",tags:["groceries"]},{id:2,buttonName:"Morrisons's",main:"Groceries",people:["AngelaPerez"],seller:"Morrisons",tags:["groceries"]},{id:3,buttonName:"Lidl",main:"Groceries",people:["AngelaPerez"],seller:"Lidl",tags:["groceries"]},{id:4,buttonName:"Tesco",main:"Groceries",people:["AngelaPerez"],seller:"Tesco",tags:["groceries"]},{id:5,buttonName:"TfL",main:"Transport",people:[],seller:"TfL",tags:["transport"]},{id:6,buttonName:"Move",main:"Move money between accounts",people:[],seller:"",tags:[]}],Yx=["expenses","groceries","eatout","social","ocio","drinks","invite","transport","health","present","home"],Xx=["AngelaPerez"],Jx="expenses-form";function Zx({children:e,isOpen:t}){const n=`
    overflow-hidden
    transition-all
    duration-300
    ease-in-out
    ${t?"max-h-96":"max-h-0"}
  `;return p.jsx("div",{className:n,role:"collapse",children:e})}function e2({isOn:e,labelOn:t,labelOff:n,onToggle:r}){function i(o){r(o.target.checked)}const s=t.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","");return p.jsxs("label",{htmlFor:s,className:"relative inline-flex flex-row flex-nowrap items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",id:s,checked:e,onChange:i,className:"hidden peer"}),p.jsx("div",{role:"toggle-rail",className:"w-11 h-6 bg-gray-200  dark:bg-gray-700 rounded-full peer-checked:bg-blue-600 peer-checked:after:translate-x-full after:h-5 after:w-5 after:absolute  after:top-2  after:start-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:transition-all"}),p.jsx("div",{role:"toggle-label",className:"p-2 text-sm ",children:e?t:n})]})}function Ia(){return new Date(new Date().setMilliseconds(0))}const t2="sv-SE",n2=new Intl.DateTimeFormat(t2,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format;function r2(e){const t=e.getTimezoneOffset(),n=t<=0?"+":"-",r=t%60,i=(t-r)/60,s=o=>String(Math.abs(o)).padStart(2,"0");return`${n}${s(i)}:${s(r)}`}function If(e){const t=n2(e),n=r2(e);return`${t} ${n}`}function Zy(e){return If(e).replace(" ","T").replace(" ","")}function Op(e){return new Date(Date.parse(e))}function i2({data:e,select:t}){function n(r,i){r.preventDefault(),t(i)}return p.jsx("div",{className:"flex flex-row flex-wrap my-2 mb-2 gap-2",children:e.map((r,i)=>p.jsx(Ie,{text:r.buttonName,onClick:s=>n(s,r.id)},`shortcut-${i}`))})}class wn{constructor(t,n){G(this,"key");G(this,"type");this.key=t,this.type=n}exists(){return!!window.localStorage.getItem(this.key)}read(){const t=window.localStorage.getItem(this.key);if(t!==null)switch(this.type){case"string":return t;case"number":return Number(t);case"object":return JSON.parse(t);default:throw new Error(`Type ${this.type} is not supported yet`)}}set(t){this.assertType(t);let n="";switch(this.type){case"string":n=t;break;case"number":n=t.toString();break;case"object":n=JSON.stringify(t);break;default:throw new Error(`Type ${this.type} is not supported yet`)}window.localStorage.setItem(this.key,n)}delete(){this.exists()&&window.localStorage.removeItem(this.key)}assertType(t){const n=typeof t,r=this.type;if(n!==r)throw new Error(`Expected ${r}, got ${n} instead`)}}class ev{constructor(){G(this,"splitwiseApiToken");G(this,"tripTags");G(this,"people");G(this,"expenses");G(this,"paymentAccounts");G(this,"defaultPaymentAccountId");G(this,"firestoreConfig");G(this,"currencies");this.splitwiseApiToken=new wn("exp_splitwise_api_token","string"),this.tripTags=new wn("exp__trip_tags","object"),this.people=new wn("exp__people","object"),this.expenses=new wn("exp__expenses","object"),this.paymentAccounts=new wn("exp__payment_accounts","object"),this.defaultPaymentAccountId=new wn("exp__default_payment_account_id","string"),this.firestoreConfig=new wn("exp__firestore_config","object"),this.currencies=new wn("exp__currencies","string")}}const ye=new ev;function s2(e,t){return new Set([...e,...t])}function o2(e,t){const n=new Set;if(e===void 0||t===void 0)return n;for(const r of e)t.has(r)&&n.add(r);return n}function a2({a:e,b:t}){const n=new Set,r=new Set([...t]);for(const i of e)t.has(i)?r.delete(i):n.add(i);return{inAButNotInB:n,inBButNotInA:r}}const er="";function l2({value:e,placeholder:t,choices:n,onChange:r,className:i}){const s=n.filter(A=>!e.includes(A)),[o,a]=C.useState(Ro({chosen:e,toChoose:s,all:n})),[l,u]=C.useState(er),[c,d]=C.useState(!1),h=C.useRef(null);let v="relative text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 p-3 has-[input:focus]:border-t  border-t-blue-300  dark:has-[input:focus]:border-t-blue-300 has-[input:focus]:border-l  border-l-blue-300  dark:has-[input:focus]:border-l-blue-300 has-[input:focus]:border-r  border-r-blue-300  dark:has-[input:focus]:border-r-blue-300 group rounded has-[input:focus]:rounded-b-none appearance-none leading-tight";i&&(v+=` ${i}`);const E=" text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";function y(){d(!0)}function f(){d(!1)}C.useEffect(()=>{function A(Q){Q.composedPath().includes(h.current)||f()}document.addEventListener("mousedown",A)},[]);function m(A){u(A)}function g(){const A=u2({choice:l,state:o});a(Ro(A)),r([...A.chosen]),u(er)}function w(A){const Q=c2({choice:A,state:o});a(Ro(Q)),r([...Q.chosen]),u(er)}function S(A){const Q=h2({choice:A,state:o});a(Ro(Q)),r([...Q.chosen]),u(er)}const D=n.map(A=>A.toLowerCase()).includes(l.toLowerCase()),R=![er,void 0].includes(l)&&!D,L=e.length>0?void 0:t;return p.jsxs("div",{ref:h,className:v,role:"multi-choice-dropdown",onFocus:y,children:[p.jsxs("div",{className:"flex flex-row flex-wrap gap-2 overflow-x-hidden",role:"listbox-selected",children:[e.map((A,Q)=>p.jsxs("div",{role:"choice",onClick:()=>S(A),className:"px-3 py-2 rounded text-gray-800 dark:text-gray-800   bg-gray-300   dark:bg-gray-400 cursor-pointer",children:[A,"   ❌"]},`${Q}-${A}`)),p.jsx("input",{type:"search",className:E,value:l===void 0?er:l,placeholder:L===void 0?er:L,onChange:A=>m(A.target.value)})]}),c&&p.jsxs("div",{role:"listbox-selectable",className:"absolute top-full inset-x-0 text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 group-focus-within:border-l  group-focus-within:border-l-blue-300  dark:group-focus-within:border-l-blue-300 group-focus-within:border-b  group-focus-within:border-b-blue-300  dark:group-focus-within:border-b-blue-300 group-focus-within:border-r  group-focus-within:border-r-blue-300  dark:group-focus-within:border-r-blue-300 rounded-b -m-px z-10 dark:z-10",children:[R&&p.jsxs("div",{role:"create-choice",onClick:g,className:"px-3 py-3 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:["Add   ",p.jsx("b",{children:l})]}),s.filter(A=>A.toLowerCase().includes(l.toLowerCase())).map((A,Q)=>p.jsx("div",{role:"choice",onClick:()=>w(A),className:"py-3 px-5 hover:bg-gray-100 dark:hover:bg-gray-800 truncate cursor-pointer",children:A},`${Q}-${A}`))]})]})}function Ro(e){const t=new Set(e.chosen),n=new Set(e.toChoose),r=new Set(e.all),i=o2(t,n);if(i.size>0)throw dn("invalid state: a choice must only appear in either 'chosen' or 'toChoose' collections, but the following choices appear in both: "+[...i].map(l=>`'${l}'`).sort().join(", "));const s=[],{inAButNotInB:o,inBButNotInA:a}=a2({a:r,b:s2(t,n)});if(o.size>0&&s.push("every choice in the 'all' collection must appear in either 'chosen' or, 'toChoose' collections but these do not: "+[...o].map(l=>`'${l}'`).sort().join(", ")),a.size>0&&s.push("every choice in the 'chosen' and 'toChoose' collections must appear in the 'all' collection, but these do not: "+[...a].map(l=>`'${l}'`).sort().join(", ")),s.length>0)throw dn(`invalid state:
${s.join(`

`)}`);return e}function u2({choice:e,state:t}){return{chosen:[...t.chosen,e],toChoose:t.toChoose.filter(n=>n!==e),all:[...t.all,e]}}function c2({choice:e,state:t}){return{chosen:[...t.chosen,e],toChoose:t.toChoose.filter(n=>n!==e),all:t.all}}function h2({choice:e,state:t}){return{chosen:t.chosen.filter(n=>n!==e),toChoose:[...t.toChoose,e],all:t.all}}function Ut({id:e,value:t,placeholder:n,onChange:r,className:i,isCode:s}){let o="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";i&&(o+=` ${i}`),s&&(o+=" font-mono");function a(l){let u=l.target.value;u===""&&(u=void 0),r(u)}return p.jsx("input",{id:e,className:o,value:t===void 0?"":t,placeholder:n===void 0?"":n,onChange:a})}function f2({name:e,selected:t,onClick:n}){const r=i=>{i.preventDefault(),n()};return p.jsx(Ie,{text:e,active:t,onClick:r})}const d2=Dt.div`
  display: flex;
  flex-flow: row wrap;
  justify-content: flex-start;
  align-items: stretch;
  align-content: flex-start;
  row-gap: 0.5rem;
  column-gap: 0.5rem;
`;function p2({tags:e,selected:t,onChange:n}){function r(i){const s=new Set([...t.values()]);t.has(i)?s.delete(i):s.add(i),n(s)}return p.jsx(d2,{children:e.map((i,s)=>p.jsx(f2,{name:i,selected:t.has(i),onClick:()=>r(i)},`${i}-${s}`))})}function Li({main:e,people:t,seller:n,tags:r}){const i=[];if(e&&i.push(e),t&&t.length>0){const s=t.map(o=>`@${o}`);i.push(`with ${s.join(",")}`)}if(n&&i.push(`at @${n}`),r.length>0){const s=r.map(o=>`#${o}`).join(" ");i.push(s)}return i.join(" ")}function tv({raw:e}){let t=e,n,r,i=[],s,o=[];return t.startsWith("#")?(i=t.split("#").map(l=>l.trim()).filter(l=>l!==""),{main:r,people:o,seller:n,tags:i}):([t,...i]=t.split(" #"),t.startsWith("at @")?(n=t.replace("at @","").trim(),{main:r,people:o,seller:n,tags:i}):([t,n]=t.split(" at @"),t.startsWith("with @")?(o=t.replace("with @","").split(",@"),{main:r,people:o,seller:n,tags:i}):([t,s]=t.split(" with @"),s&&(o=s.split(",@")),t.trim()!==""&&(r=t),{main:r,people:o,seller:n,tags:i})))}const m2=ye.tripTags.read()||[],g2=nv([Yx,m2]),y2=ye.people.read()||[],v2=nv([Xx,y2]);function nv(e){const t=new Set([]),n=[];for(const r of e.flatMap(i=>i))t.has(r)||(t.add(r),n.push(r));return n}function w2({description:e,onChange:t}){const n=tv({raw:e}),[r,i]=C.useState([]),s=E2({inSettings:v2,addedByUser:r,inExpense:n.people});function o(d){t(Li({...n,main:d}))}function a(d){t(Li({...n,seller:d}))}function l(d){const h=d;if(!h)return;const v=new Set(s),E=h.filter(f=>!v.has(f));E.length>0&&i([...r,...E]);const y=h.sort();t(Li({...n,people:y}))}function u(d){const h=[...d.values()];t(Li({...n,tags:h}))}function c(d){const h=bp.filter(v=>v.id===d)[0];t(Li({main:h.main,people:h.people,seller:h.seller,tags:h.tags}))}return p.jsxs("div",{role:"description-form",className:"mb-4",children:[p.jsx(i2,{data:bp.map(({id:d,buttonName:h})=>({id:d,buttonName:h})),select:c}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[p.jsx(Ut,{value:n.main,placeholder:"description",className:"col-start-1 col-span-2",onChange:o}),p.jsx(Ut,{value:n.seller,placeholder:"seller",className:"col-start-1 col-span-1",onChange:a}),p.jsx(l2,{placeholder:"people",value:n.people,choices:s,onChange:l})]}),p.jsx(p2,{tags:g2,selected:new Set(n.tags),onChange:u})]})}function E2({inSettings:e,addedByUser:t,inExpense:n}){return[...new Set([...e,...t,...n]).values()].sort()}const S2=new RegExp(/([0-9]{4}[a-z]+)/gm);function x2(e){return S2.exec(e)!==null}function C2(e){var i;const t=tv({raw:e}),n=t.tags.filter(x2).map(s=>`#${s}`).join(" ");let r=`${(i=t.main)==null?void 0:i.trim()} @ ${t.seller}`;return n&&(r=`${r} ${n}`),r}const k2=Dt.div`
  order: 1;
  flex-grow: 0;
  flex-shrink: 1;
`,T2=Dt.div`
  order: 2;
  flex-grow: 1;
  flex-shrink: 1;
`,A2={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};function _2(e){const t=e.getMonth()+1,n=e.getDate(),r=A2[t],i=n>9?`${n}`:`0${n}`;return`${r}-${i}`}function Mp(e){return navigator.clipboard.writeText(e).then(t=>{alert(`Copied to clipboard:
${e}`)}).catch(t=>{_s.add({header:"Error while trying to copy to clipboard",description:t})})}function I2(e){return e.originalAmount?`${e.originalAmount} ${e.originalCurrency}`:e.amount===void 0?"?":`${e.amount} ${e.currency}`}function N2({appExpense:e,editing:t,deleting:n,edit:r,remove:i,deleteMode:s,app:o}){const{expense:a}=e,[l,u]=C.useState(!1);function c(){console.debug(`ExpenseQueue.handleOnEditClick:: ${a.id}`),r()}function d(){console.debug(`ExpenseQueue.handleOnDeleteClick:: ${a.id}`),!n&&i()}const h=o.paymentAccountsManager.get({id:a.paid_with});let v=C2(a.description),E="flex flex-row flex-nowrap gap-x-2 p-2 dark:p-2";return e.readyToPublish||(E+=" bg-red-200 dark:bg-red-900"),p.jsxs("div",{className:E,children:[p.jsx(k2,{children:s?p.jsx(Ie,{onClick:d,icon:"bin"}):p.jsx(Ie,{onClick:c,icon:"pencil"})}),p.jsxs(T2,{children:[p.jsxs("span",{onClick:()=>u(!l),children:[_2(Op(a.datetime))," ",p.jsx("b",{children:I2(a)})," ",a.description]}),p.jsxs(Zx,{isOpen:l,children:[p.jsxs("pre",{children:["id: ",a.id]}),p.jsxs("pre",{children:["datetime: ",If(Op(a.datetime))]}),p.jsxs("pre",{children:["paid_with: ",h&&h.name]}),p.jsxs("pre",{children:["original_amount: ",a.originalAmount," ",a.originalCurrency]}),p.jsx("p",{onClick:()=>Mp(a.description),children:"Click to copy description"}),p.jsxs("pre",{onClick:()=>Mp(v),children:["Splitwise: ",v]})]})]})]})}function $2({expenses:e,underEdition:t,onEditExpense:n,onDelete:r,app:i}){const[s,o]=C.useState(!1);function a(){o(!s)}return p.jsxs("div",{children:[p.jsx(e2,{isOn:s,labelOn:"enable deletion mode",labelOff:"exit deletion mode",onToggle:()=>a()}),e.length>0?e.map(l=>{const u=l.expense.id;return p.jsx(N2,{editing:t===u,deleting:!1,appExpense:l,edit:()=>n(u),remove:()=>r(u),deleteMode:s,app:i},`queued-expense-${u}`)}):p.jsx("p",{children:"No expenses :)"})]})}const P2=$2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},D2=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(h=64)),r.push(n[c],n[d],n[h],n[v])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):D2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new b2;const h=s<<2|a>>4;if(r.push(h),u!==64){const v=a<<4&240|u>>2;if(r.push(v),d!==64){const E=u<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class b2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O2=function(e){const t=rv(e);return iv.encodeByteArray(t,!0)},Na=function(e){return O2(e).replace(/\./g,"")},M2=function(e){try{return iv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=()=>j2().__FIREBASE_DEFAULTS__,L2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},F2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&M2(e[1]);return t&&JSON.parse(t)},sv=()=>{try{return R2()||L2()||F2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},U2=e=>{var t,n;return(n=(t=sv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},B2=e=>{const t=U2(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ov=()=>{var e;return(e=sv())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Na(JSON.stringify(n)),Na(JSON.stringify(o)),a].join(".")}function H2(){try{return typeof indexedDB=="object"}catch{return!1}}function W2(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="FirebaseError";class Ti extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=G2,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,av.prototype.create)}}class av{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?K2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ti(i,a,r)}}function K2(e,t){return e.replace(Q2,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Q2=/\{\$([^}]+)}/g;function Uc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(jp(s)&&jp(o)){if(!Uc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(e){return e&&e._delegate?e._delegate:e}class Ns{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new V2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(X2(t))try{this.getOrInitializeService({instanceIdentifier:nr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=nr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=nr){return this.instances.has(t)}getOptions(t=nr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y2(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=nr){return this.component?this.component.multipleInstances?t:nr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y2(e){return e===nr?void 0:e}function X2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new q2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ne||(ne={}));const Z2={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},eC=ne.INFO,tC={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},nC=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=tC[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lv{constructor(t){this.name=t,this._logLevel=eC,this._logHandler=nC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Z2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const rC=(e,t)=>t.some(n=>e instanceof n);let Rp,Lp;function iC(){return Rp||(Rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sC(){return Lp||(Lp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uv=new WeakMap,Bc=new WeakMap,cv=new WeakMap,Ru=new WeakMap,Nf=new WeakMap;function oC(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(In(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&uv.set(n,e)}).catch(()=>{}),Nf.set(t,e),t}function aC(e){if(Bc.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Bc.set(e,t)}let Vc={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Bc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||cv.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function lC(e){Vc=e(Vc)}function uC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Lu(this),t,...n);return cv.set(r,t.sort?t.sort():[t]),In(r)}:sC().includes(e)?function(...t){return e.apply(Lu(this),t),In(uv.get(this))}:function(...t){return In(e.apply(Lu(this),t))}}function cC(e){return typeof e=="function"?uC(e):(e instanceof IDBTransaction&&aC(e),rC(e,iC())?new Proxy(e,Vc):e)}function In(e){if(e instanceof IDBRequest)return oC(e);if(Ru.has(e))return Ru.get(e);const t=cC(e);return t!==e&&(Ru.set(e,t),Nf.set(t,e)),t}const Lu=e=>Nf.get(e);function hC(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=In(o);return r&&o.addEventListener("upgradeneeded",l=>{r(In(o.result),l.oldVersion,l.newVersion,In(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const fC=["get","getKey","getAll","getAllKeys","count"],dC=["put","add","delete","clear"],Fu=new Map;function Fp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Fu.get(t))return Fu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=dC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fC.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Fu.set(t,s),s}lC(e=>({...e,get:(t,n,r)=>Fp(t,n)||e.get(t,n,r),has:(t,n)=>!!Fp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zc="@firebase/app",Up="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new lv("@firebase/app"),gC="@firebase/app-compat",yC="@firebase/analytics-compat",vC="@firebase/analytics",wC="@firebase/app-check-compat",EC="@firebase/app-check",SC="@firebase/auth",xC="@firebase/auth-compat",CC="@firebase/database",kC="@firebase/database-compat",TC="@firebase/functions",AC="@firebase/functions-compat",_C="@firebase/installations",IC="@firebase/installations-compat",NC="@firebase/messaging",$C="@firebase/messaging-compat",PC="@firebase/performance",DC="@firebase/performance-compat",bC="@firebase/remote-config",OC="@firebase/remote-config-compat",MC="@firebase/storage",jC="@firebase/storage-compat",RC="@firebase/firestore",LC="@firebase/firestore-compat",FC="firebase",UC="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="[DEFAULT]",BC={[zc]:"fire-core",[gC]:"fire-core-compat",[vC]:"fire-analytics",[yC]:"fire-analytics-compat",[EC]:"fire-app-check",[wC]:"fire-app-check-compat",[SC]:"fire-auth",[xC]:"fire-auth-compat",[CC]:"fire-rtdb",[kC]:"fire-rtdb-compat",[TC]:"fire-fn",[AC]:"fire-fn-compat",[_C]:"fire-iid",[IC]:"fire-iid-compat",[NC]:"fire-fcm",[$C]:"fire-fcm-compat",[PC]:"fire-perf",[DC]:"fire-perf-compat",[bC]:"fire-rc",[OC]:"fire-rc-compat",[MC]:"fire-gcs",[jC]:"fire-gcs-compat",[RC]:"fire-fst",[LC]:"fire-fst-compat","fire-js":"fire-js",[FC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Map,Wc=new Map;function VC(e,t){try{e.container.addComponent(t)}catch(n){vr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Pa(e){const t=e.name;if(Wc.has(t))return vr.debug(`There were multiple attempts to register component ${t}.`),!1;Wc.set(t,e);for(const n of $a.values())VC(n,e);return!0}function zC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Nn=new av("app","Firebase",HC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=UC;function hv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Hc,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Nn.create("bad-app-name",{appName:String(i)});if(n||(n=ov()),!n)throw Nn.create("no-options");const s=$a.get(i);if(s){if(Uc(n,s.options)&&Uc(r,s.config))return s;throw Nn.create("duplicate-app",{appName:i})}const o=new J2(i);for(const l of Wc.values())o.addComponent(l);const a=new WC(n,r,o);return $a.set(i,a),a}function KC(e=Hc){const t=$a.get(e);if(!t&&e===Hc&&ov())return hv();if(!t)throw Nn.create("no-app",{appName:e});return t}function Kr(e,t,n){var r;let i=(r=BC[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vr.warn(a.join(" "));return}Pa(new Ns(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="firebase-heartbeat-database",qC=1,$s="firebase-heartbeat-store";let Uu=null;function fv(){return Uu||(Uu=hC(QC,qC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore($s)}}}).catch(e=>{throw Nn.create("idb-open",{originalErrorMessage:e.message})})),Uu}async function YC(e){try{return await(await fv()).transaction($s).objectStore($s).get(dv(e))}catch(t){if(t instanceof Ti)vr.warn(t.message);else{const n=Nn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});vr.warn(n.message)}}}async function Bp(e,t){try{const r=(await fv()).transaction($s,"readwrite");await r.objectStore($s).put(t,dv(e)),await r.done}catch(n){if(n instanceof Ti)vr.warn(n.message);else{const r=Nn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vr.warn(r.message)}}}function dv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=1024,JC=30*24*60*60*1e3;class ZC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=JC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Vp(),{heartbeatsToSend:n,unsentEntries:r}=ek(this._heartbeatsCache.heartbeats),i=Na(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Vp(){return new Date().toISOString().substring(0,10)}function ek(e,t=XC){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zp(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H2()?W2().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await YC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function zp(e){return Na(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(e){Pa(new Ns("platform-logger",t=>new pC(t),"PRIVATE")),Pa(new Ns("heartbeat",t=>new ZC(t),"PRIVATE")),Kr(zc,Up,e),Kr(zc,Up,"esm2017"),Kr("fire-js","")}nk("");var rk="firebase",ik="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(rk,ik,"app");var sk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,$f=$f||{},z=sk||self;function Bl(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function po(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function ok(e){return Object.prototype.hasOwnProperty.call(e,Bu)&&e[Bu]||(e[Bu]=++ak)}var Bu="closure_uid_"+(1e9*Math.random()>>>0),ak=0;function lk(e,t,n){return e.call.apply(e.bind,arguments)}function uk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function rt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rt=lk:rt=uk,rt.apply(null,arguments)}function Lo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Fe(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function qn(){this.s=this.s,this.o=this.o}var ck=0;qn.prototype.s=!1;qn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ck!=0)&&ok(this)};qn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Pf(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Hp(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Bl(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function it(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var hk=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{z.addEventListener("test",()=>{},t),z.removeEventListener("test",()=>{},t)}catch{}return e}();function Ps(e){return/^[\s\xa0]*$/.test(e)}function Vl(){var e=z.navigator;return e&&(e=e.userAgent)?e:""}function zt(e){return Vl().indexOf(e)!=-1}function Df(e){return Df[" "](e),e}Df[" "]=function(){};function fk(e,t){var n=iT;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var dk=zt("Opera"),li=zt("Trident")||zt("MSIE"),mv=zt("Edge"),Gc=mv||li,gv=zt("Gecko")&&!(Vl().toLowerCase().indexOf("webkit")!=-1&&!zt("Edge"))&&!(zt("Trident")||zt("MSIE"))&&!zt("Edge"),pk=Vl().toLowerCase().indexOf("webkit")!=-1&&!zt("Edge");function yv(){var e=z.document;return e?e.documentMode:void 0}var Kc;e:{var Vu="",zu=function(){var e=Vl();if(gv)return/rv:([^\);]+)(\)|;)/.exec(e);if(mv)return/Edge\/([\d\.]+)/.exec(e);if(li)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(pk)return/WebKit\/(\S+)/.exec(e);if(dk)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(zu&&(Vu=zu?zu[1]:""),li){var Hu=yv();if(Hu!=null&&Hu>parseFloat(Vu)){Kc=String(Hu);break e}}Kc=Vu}var Qc;if(z.document&&li){var Wp=yv();Qc=Wp||parseInt(Kc,10)||void 0}else Qc=void 0;var mk=Qc;function Ds(e,t){if(it.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(gv){e:{try{Df(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:gk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ds.$.h.call(this)}}Fe(Ds,it);var gk={2:"touch",3:"pen",4:"mouse"};Ds.prototype.h=function(){Ds.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var mo="closure_listenable_"+(1e6*Math.random()|0),yk=0;function vk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++yk,this.fa=this.ia=!1}function zl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function bf(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function wk(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function vv(e){const t={};for(const n in e)t[n]=e[n];return t}const Gp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wv(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Gp.length;s++)n=Gp[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Hl(e){this.src=e,this.g={},this.h=0}Hl.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Yc(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new vk(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function qc(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=pv(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Yc(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var Of="closure_lm_"+(1e6*Math.random()|0),Wu={};function Ev(e,t,n,r,i){if(r&&r.once)return xv(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ev(e,t[s],n,r,i);return null}return n=Rf(n),e&&e[mo]?e.O(t,n,po(r)?!!r.capture:!!r,i):Sv(e,t,n,!1,r,i)}function Sv(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=po(i)?!!i.capture:!!i,a=jf(e);if(a||(e[Of]=a=new Hl(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=Ek(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)hk||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(kv(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Ek(){function e(n){return t.call(e.src,e.listener,n)}const t=Sk;return e}function xv(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)xv(e,t[s],n,r,i);return null}return n=Rf(n),e&&e[mo]?e.P(t,n,po(r)?!!r.capture:!!r,i):Sv(e,t,n,!0,r,i)}function Cv(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Cv(e,t[s],n,r,i);else r=po(r)?!!r.capture:!!r,n=Rf(n),e&&e[mo]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Yc(s,n,r,i),-1<n&&(zl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=jf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yc(t,n,r,i)),(n=-1<e?t[e]:null)&&Mf(n))}function Mf(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[mo])qc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(kv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jf(t))?(qc(n,e),n.h==0&&(n.src=null,t[Of]=null)):zl(e)}}}function kv(e){return e in Wu?Wu[e]:Wu[e]="on"+e}function Sk(e,t){if(e.fa)e=!0;else{t=new Ds(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Mf(e),e=n.call(r,t)}return e}function jf(e){return e=e[Of],e instanceof Hl?e:null}var Gu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rf(e){return typeof e=="function"?e:(e[Gu]||(e[Gu]=function(t){return e.handleEvent(t)}),e[Gu])}function Me(){qn.call(this),this.i=new Hl(this),this.S=this,this.J=null}Fe(Me,qn);Me.prototype[mo]=!0;Me.prototype.removeEventListener=function(e,t,n,r){Cv(this,e,t,n,r)};function Ke(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new it(t,e);else if(t instanceof it)t.target=t.target||e;else{var i=t;t=new it(r,e),wv(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Fo(o,r,!0,t)&&i}if(o=t.g=e,i=Fo(o,r,!0,t)&&i,i=Fo(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Fo(o,r,!1,t)&&i}Me.prototype.N=function(){if(Me.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)zl(n[r]);delete e.g[t],e.h--}}this.J=null};Me.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Me.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Fo(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&qc(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Lf=z.JSON.stringify;let xk=class{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}};function Ck(){var e=Ff;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}let kk=class{constructor(){this.h=this.g=null}add(t,n){const r=Tv.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}};var Tv=new xk(()=>new Tk,e=>e.reset());let Tk=class{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Ak(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _k(e){z.setTimeout(()=>{throw e},0)}let bs,Os=!1,Ff=new kk,Av=()=>{const e=z.Promise.resolve(void 0);bs=()=>{e.then(Ik)}};var Ik=()=>{for(var e;e=Ck();){try{e.h.call(e.g)}catch(n){_k(n)}var t=Tv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Os=!1};function Wl(e,t){Me.call(this),this.h=e||1,this.g=t||z,this.j=rt(this.qb,this),this.l=Date.now()}Fe(Wl,Me);M=Wl.prototype;M.ga=!1;M.T=null;M.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ke(this,"tick"),this.ga&&(Uf(this),this.start()))}};M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Uf(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}M.N=function(){Wl.$.N.call(this),Uf(this),delete this.g};function Bf(e,t,n){if(typeof e=="function")n&&(e=rt(e,n));else if(e&&typeof e.handleEvent=="function")e=rt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:z.setTimeout(e,t||0)}function _v(e){e.g=Bf(()=>{e.g=null,e.i&&(e.i=!1,_v(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}let Nk=class extends qn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:_v(this)}N(){super.N(),this.g&&(z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ms(e){qn.call(this),this.h=e,this.g={}}Fe(Ms,qn);var Kp=[];function Iv(e,t,n,r){Array.isArray(n)||(n&&(Kp[0]=n.toString()),n=Kp);for(var i=0;i<n.length;i++){var s=Ev(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Nv(e){bf(e.g,function(t,n){this.g.hasOwnProperty(n)&&Mf(t)},e),e.g={}}Ms.prototype.N=function(){Ms.$.N.call(this),Nv(this)};Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gl(){this.g=!0}Gl.prototype.Ea=function(){this.g=!1};function $k(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function Pk(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Fr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+bk(e,n)+(r?" "+r:"")})}function Dk(e,t){e.info(function(){return"TIMEOUT: "+t})}Gl.prototype.info=function(){};function bk(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Lf(n)}catch{return t}}var _r={},Qp=null;function Kl(){return Qp=Qp||new Me}_r.Ta="serverreachability";function $v(e){it.call(this,_r.Ta,e)}Fe($v,it);function js(e){const t=Kl();Ke(t,new $v(t))}_r.STAT_EVENT="statevent";function Pv(e,t){it.call(this,_r.STAT_EVENT,e),this.stat=t}Fe(Pv,it);function ut(e){const t=Kl();Ke(t,new Pv(t,e))}_r.Ua="timingevent";function Dv(e,t){it.call(this,_r.Ua,e),this.size=t}Fe(Dv,it);function go(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return z.setTimeout(function(){e()},t)}var Ql={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Vf(){}Vf.prototype.h=null;function qp(e){return e.h||(e.h=e.i())}function Ov(){}var yo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zf(){it.call(this,"d")}Fe(zf,it);function Hf(){it.call(this,"c")}Fe(Hf,it);var Xc;function ql(){}Fe(ql,Vf);ql.prototype.g=function(){return new XMLHttpRequest};ql.prototype.i=function(){return{}};Xc=new ql;function vo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ms(this),this.P=Ok,e=Gc?125:void 0,this.V=new Wl(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Mv}function Mv(){this.i=null,this.g="",this.h=!1}var Ok=45e3,Jc={},Da={};M=vo.prototype;M.setTimeout=function(e){this.P=e};function Zc(e,t,n){e.L=1,e.v=Xl(pn(t)),e.s=n,e.S=!0,jv(e,null)}function jv(e,t){e.G=Date.now(),wo(e),e.A=pn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Hv(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Mv,e.g=h0(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Nk(rt(e.Pa,e,e.g),e.O)),Iv(e.U,e.g,"readystatechange",e.nb),t=e.I?vv(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),js(),$k(e.j,e.u,e.A,e.m,e.W,e.s)}M.nb=function(e){e=e.target;const t=this.M;t&&Wt(e)==3?t.l():this.Pa(e)};M.Pa=function(e){try{if(e==this.g)e:{const c=Wt(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Gc||this.g&&(this.h.h||this.g.ja()||Zp(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?js(3):js(2)),Yl(this);var n=this.g.da();this.ca=n;t:if(Rv(this)){var r=Zp(this.g);e="";var i=r.length,s=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),ls(this);var o="";break t}this.h.i=new z.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Pk(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ps(a)){var u=a;break t}}u=null}if(n=u)Fr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eh(this,n);else{this.i=!1,this.o=3,ut(12),ir(this),ls(this);break e}}this.S?(Lv(this,c,o),Gc&&this.i&&c==3&&(Iv(this.U,this.V,"tick",this.mb),this.V.start())):(Fr(this.j,this.m,o,null),eh(this,o)),c==4&&ir(this),this.i&&!this.J&&(c==4?a0(this.l,this):(this.i=!1,wo(this)))}else tT(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ut(12)):(this.o=0,ut(13)),ir(this),ls(this)}}}catch{}finally{}};function Rv(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function Lv(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=Mk(e,n),i==Da){t==4&&(e.o=4,ut(14),r=!1),Fr(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Jc){e.o=4,ut(15),Fr(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Fr(e.j,e.m,i,null),eh(e,i);Rv(e)&&i!=Da&&i!=Jc&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,ut(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yf(t),t.M=!0,ut(11))):(Fr(e.j,e.m,n,"[Invalid Chunked Response]"),ir(e),ls(e))}M.mb=function(){if(this.g){var e=Wt(this.g),t=this.g.ja();this.C<t.length&&(Yl(this),Lv(this,e,t),this.i&&e!=4&&wo(this))}};function Mk(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Da:(n=Number(t.substring(n,r)),isNaN(n)?Jc:(r+=1,r+n>t.length?Da:(t=t.slice(r,r+n),e.C=r+n,t)))}M.cancel=function(){this.J=!0,ir(this)};function wo(e){e.Y=Date.now()+e.P,Fv(e,e.P)}function Fv(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=go(rt(e.lb,e),t)}function Yl(e){e.B&&(z.clearTimeout(e.B),e.B=null)}M.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(Dk(this.j,this.A),this.L!=2&&(js(),ut(17)),ir(this),this.o=2,ls(this)):Fv(this,this.Y-e)};function ls(e){e.l.H==0||e.J||a0(e.l,e)}function ir(e){Yl(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Uf(e.V),Nv(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function eh(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||th(n.i,e))){if(!e.K&&th(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Ma(n),eu(n);else break e;qf(n),ut(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=go(rt(n.ib,n),6e3));if(1>=Kv(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else sr(n,11)}else if((e.K||n.g==e)&&Ma(n),!Ps(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=e.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=r.i;s.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Wf(s,s.h),s.h=null))}if(r.F){const y=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,de(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=c0(r,r.J?r.pa:null,r.Y),o.K){Qv(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Yl(a),wo(a)),r.g=o}else s0(r);0<n.j.length&&tu(n)}else u[0]!="stop"&&u[0]!="close"||sr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?sr(n,7):Qf(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}js(4)}catch{}}function jk(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Bl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Rk(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Bl(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Uv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Bl(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Rk(e),r=jk(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var Bv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lk(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function dr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof dr){this.h=e.h,ba(this,e.j),this.s=e.s,this.g=e.g,Oa(this,e.m),this.l=e.l;var t=e.i,n=new Rs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Yp(this,n),this.o=e.o}else e&&(t=String(e).match(Bv))?(this.h=!1,ba(this,t[1]||"",!0),this.s=es(t[2]||""),this.g=es(t[3]||"",!0),Oa(this,t[4]),this.l=es(t[5]||"",!0),Yp(this,t[6]||"",!0),this.o=es(t[7]||"")):(this.h=!1,this.i=new Rs(null,this.h))}dr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ts(t,Xp,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ts(t,Xp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ts(n,n.charAt(0)=="/"?Bk:Uk,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ts(n,zk)),e.join("")};function pn(e){return new dr(e)}function ba(e,t,n){e.j=n?es(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Oa(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yp(e,t,n){t instanceof Rs?(e.i=t,Hk(e.i,e.h)):(n||(t=ts(t,Vk)),e.i=new Rs(t,e.h))}function de(e,t,n){e.i.set(t,n)}function Xl(e){return de(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function es(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ts(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Fk),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fk(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Xp=/[#\/\?@]/g,Uk=/[#\?:]/g,Bk=/[#\?]/g,Vk=/[#\?@]/g,zk=/#/g;function Rs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yn(e){e.g||(e.g=new Map,e.h=0,e.i&&Lk(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}M=Rs.prototype;M.add=function(e,t){Yn(this),this.i=null,e=Ai(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Vv(e,t){Yn(e),t=Ai(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zv(e,t){return Yn(e),t=Ai(e,t),e.g.has(t)}M.forEach=function(e,t){Yn(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};M.ta=function(){Yn(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};M.Z=function(e){Yn(this);let t=[];if(typeof e=="string")zv(this,e)&&(t=t.concat(this.g.get(Ai(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};M.set=function(e,t){return Yn(this),this.i=null,e=Ai(this,e),zv(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};M.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Hv(e,t,n){Vv(e,t),0<n.length&&(e.i=null,e.g.set(Ai(e,t),Pf(n)),e.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Ai(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Hk(e,t){t&&!e.j&&(Yn(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Vv(this,r),Hv(this,i,n))},e)),e.j=t}var Wk=class{constructor(t,n){this.g=t,this.map=n}};function Wv(e){this.l=e||Gk,z.PerformanceNavigationTiming?(e=z.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(z.g&&z.g.Ka&&z.g.Ka()&&z.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gk=10;function Gv(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Kv(e){return e.h?1:e.g?e.g.size:0}function th(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Wf(e,t){e.g?e.g.add(t):e.h=t}function Qv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Wv.prototype.cancel=function(){if(this.i=qv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function qv(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Pf(e.i)}var Kk=class{stringify(t){return z.JSON.stringify(t,void 0)}parse(t){return z.JSON.parse(t,void 0)}};function Qk(){this.g=new Kk}function qk(e,t,n){const r=n||"";try{Uv(e,function(i,s){let o=i;po(i)&&(o=Lf(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yk(e,t){const n=new Gl;if(z.Image){const r=new Image;r.onload=Lo(Uo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Lo(Uo,n,r,"TestLoadImage: error",!1,t),r.onabort=Lo(Uo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Lo(Uo,n,r,"TestLoadImage: timeout",!1,t),z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Uo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Eo(e){this.l=e.fc||null,this.j=e.ob||!1}Fe(Eo,Vf);Eo.prototype.g=function(){return new Jl(this.l,this.j)};Eo.prototype.i=function(e){return function(){return e}}({});function Jl(e,t){Me.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Gf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fe(Jl,Me);var Gf=0;M=Jl.prototype;M.open=function(e,t){if(this.readyState!=Gf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ls(this)};M.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||z).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,So(this)),this.readyState=Gf};M.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof z.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yv(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Yv(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}M.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?So(this):Ls(this),this.readyState==3&&Yv(this)}};M.Za=function(e){this.g&&(this.response=this.responseText=e,So(this))};M.Ya=function(e){this.g&&(this.response=e,So(this))};M.ka=function(){this.g&&So(this)};function So(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ls(e)}M.setRequestHeader=function(e,t){this.v.append(e,t)};M.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ls(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Xk=z.JSON.parse;function Ce(e){Me.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xv,this.L=this.M=!1}Fe(Ce,Me);var Xv="",Jk=/^https?$/i,Zk=["POST","PUT"];M=Ce.prototype;M.Oa=function(e){this.M=e};M.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xc.g(),this.C=this.u?qp(this.u):qp(Xc),this.g.onreadystatechange=rt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Jp(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=z.FormData&&e instanceof z.FormData,!(0<=pv(Zk,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{e0(this),0<this.B&&((this.L=eT(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.ua,this)):this.A=Bf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Jp(this,s)}};function eT(e){return li&&typeof e.timeout=="number"&&e.ontimeout!==void 0}M.ua=function(){typeof $f<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ke(this,"timeout"),this.abort(8))};function Jp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Jv(e),Zl(e)}function Jv(e){e.F||(e.F=!0,Ke(e,"complete"),Ke(e,"error"))}M.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ke(this,"complete"),Ke(this,"abort"),Zl(this))};M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zl(this,!0)),Ce.$.N.call(this)};M.La=function(){this.s||(this.G||this.v||this.l?Zv(this):this.kb())};M.kb=function(){Zv(this)};function Zv(e){if(e.h&&typeof $f<"u"&&(!e.C[1]||Wt(e)!=4||e.da()!=2)){if(e.v&&Wt(e)==4)Bf(e.La,0,e);else if(Ke(e,"readystatechange"),Wt(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(Bv)[1]||null;!i&&z.self&&z.self.location&&(i=z.self.location.protocol.slice(0,-1)),r=!Jk.test(i?i.toLowerCase():"")}n=r}if(n)Ke(e,"complete"),Ke(e,"success");else{e.m=6;try{var s=2<Wt(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Jv(e)}}finally{Zl(e)}}}}function Zl(e,t){if(e.g){e0(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ke(e,"ready");try{n.onreadystatechange=r}catch{}}}function e0(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(z.clearTimeout(e.A),e.A=null)}M.isActive=function(){return!!this.g};function Wt(e){return e.g?e.g.readyState:0}M.da=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}};M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Xk(t)}};function Zp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Xv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function tT(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Ps(e[r]))continue;var n=Ak(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}wk(t,function(r){return r.join(", ")})}M.Ia=function(){return this.m};M.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function t0(e){let t="";return bf(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Kf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=t0(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):de(e,t,n))}function Fi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function n0(e){this.Ga=0,this.j=[],this.l=new Gl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fi("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fi("baseRetryDelayMs",5e3,e),this.hb=Fi("retryDelaySeedMs",1e4,e),this.eb=Fi("forwardChannelMaxRetries",2,e),this.xa=Fi("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Wv(e&&e.concurrentRequestLimit),this.Ja=new Qk,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}M=n0.prototype;M.ra=8;M.H=1;function Qf(e){if(r0(e),e.H==3){var t=e.W++,n=pn(e.I);if(de(n,"SID",e.K),de(n,"RID",t),de(n,"TYPE","terminate"),xo(e,n),t=new vo(e,e.l,t),t.L=2,t.v=Xl(pn(n)),n=!1,z.navigator&&z.navigator.sendBeacon)try{n=z.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&z.Image&&(new Image().src=t.v,n=!0),n||(t.g=h0(t.l,null),t.g.ha(t.v)),t.G=Date.now(),wo(t)}u0(e)}function eu(e){e.g&&(Yf(e),e.g.cancel(),e.g=null)}function r0(e){eu(e),e.u&&(z.clearTimeout(e.u),e.u=null),Ma(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&z.clearTimeout(e.m),e.m=null)}function tu(e){if(!Gv(e.i)&&!e.m){e.m=!0;var t=e.Na;bs||Av(),Os||(bs(),Os=!0),Ff.add(t,e),e.C=0}}function nT(e,t){return Kv(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=go(rt(e.Na,e,t),l0(e,e.C)),e.C++,!0)}M.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new vo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=vv(s),wv(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=i0(this,i,t),n=pn(this.I),de(n,"RID",e),de(n,"CVER",22),this.F&&de(n,"X-HTTP-Session-Id",this.F),xo(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(t0(s)))+"&"+t:this.o&&Kf(n,this.o,s)),Wf(this.i,i),this.bb&&de(n,"TYPE","init"),this.P?(de(n,"$req",t),de(n,"SID","null"),i.aa=!0,Zc(i,n,null)):Zc(i,n,t),this.H=2}}else this.H==3&&(e?em(this,e):this.j.length==0||Gv(this.i)||em(this))};function em(e,t){var n;t?n=t.m:n=e.W++;const r=pn(e.I);de(r,"SID",e.K),de(r,"RID",n),de(r,"AID",e.V),xo(e,r),e.o&&e.s&&Kf(r,e.o,e.s),n=new vo(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=i0(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Wf(e.i,n),Zc(n,r,t)}function xo(e,t){e.na&&bf(e.na,function(n,r){de(t,r,n)}),e.h&&Uv({},function(n,r){de(t,r,n)})}function i0(e,t,n){n=Math.min(e.j.length,n);var r=e.h?rt(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{qk(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function s0(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;bs||Av(),Os||(bs(),Os=!0),Ff.add(t,e),e.A=0}}function qf(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=go(rt(e.Ma,e),l0(e,e.A)),e.A++,!0)}M.Ma=function(){if(this.u=null,o0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=go(rt(this.jb,this),e)}};M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ut(10),eu(this),o0(this))};function Yf(e){e.B!=null&&(z.clearTimeout(e.B),e.B=null)}function o0(e){e.g=new vo(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=pn(e.wa);de(t,"RID","rpc"),de(t,"SID",e.K),de(t,"AID",e.V),de(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&de(t,"TO",e.qa),de(t,"TYPE","xmlhttp"),xo(e,t),e.o&&e.s&&Kf(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Xl(pn(t)),n.s=null,n.S=!0,jv(n,e)}M.ib=function(){this.v!=null&&(this.v=null,eu(this),qf(this),ut(19))};function Ma(e){e.v!=null&&(z.clearTimeout(e.v),e.v=null)}function a0(e,t){var n=null;if(e.g==t){Ma(e),Yf(e),e.g=null;var r=2}else if(th(e.i,t))n=t.F,Qv(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=Kl(),Ke(r,new Dv(r,n)),tu(e)}else s0(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&nT(e,t)||r==2&&qf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:sr(e,5);break;case 4:sr(e,10);break;case 3:sr(e,6);break;default:sr(e,2)}}}function l0(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function sr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=rt(e.pb,e);n||(n=new dr("//www.google.com/images/cleardot.gif"),z.location&&z.location.protocol=="http"||ba(n,"https"),Xl(n)),Yk(n.toString(),r)}else ut(2);e.H=0,e.h&&e.h.za(t),u0(e),r0(e)}M.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ut(2)):(this.l.info("Failed to ping google.com"),ut(1))};function u0(e){if(e.H=0,e.ma=[],e.h){const t=qv(e.i);(t.length!=0||e.j.length!=0)&&(Hp(e.ma,t),Hp(e.ma,e.j),e.i.i.length=0,Pf(e.j),e.j.length=0),e.h.ya()}}function c0(e,t,n){var r=n instanceof dr?pn(n):new dr(n);if(r.g!="")t&&(r.g=t+"."+r.g),Oa(r,r.m);else{var i=z.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new dr(null);r&&ba(s,r),t&&(s.g=t),i&&Oa(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&de(r,n,t),de(r,"VER",e.ra),xo(e,r),r}function h0(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Ce(new Eo({ob:!0})):new Ce(e.va),t.Oa(e.J),t}M.isActive=function(){return!!this.h&&this.h.isActive(this)};function f0(){}M=f0.prototype;M.Ba=function(){};M.Aa=function(){};M.za=function(){};M.ya=function(){};M.isActive=function(){return!0};M.Va=function(){};function ja(){if(li&&!(10<=Number(mk)))throw Error("Environmental error: no available transport.")}ja.prototype.g=function(e,t){return new Et(e,t)};function Et(e,t){Me.call(this),this.g=new n0(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ps(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ps(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new _i(this)}Fe(Et,Me);Et.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ut(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=c0(e,null,e.Y),tu(e)};Et.prototype.close=function(){Qf(this.g)};Et.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Lf(e),e=n);t.j.push(new Wk(t.fb++,e)),t.H==3&&tu(t)};Et.prototype.N=function(){this.g.h=null,delete this.j,Qf(this.g),delete this.g,Et.$.N.call(this)};function d0(e){zf.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Fe(d0,zf);function p0(){Hf.call(this),this.status=1}Fe(p0,Hf);function _i(e){this.g=e}Fe(_i,f0);_i.prototype.Ba=function(){Ke(this.g,"a")};_i.prototype.Aa=function(e){Ke(this.g,new d0(e))};_i.prototype.za=function(e){Ke(this.g,new p0)};_i.prototype.ya=function(){Ke(this.g,"b")};function rT(){this.blockSize=-1}function en(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Fe(en,rT);en.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ku(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}en.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Ku(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ku(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ku(this,r),i=0;break}}this.h=i,this.i+=t};en.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function se(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var iT={};function Xf(e){return-128<=e&&128>e?fk(e,function(t){return new se([t|0],0>t?-1:0)}):new se([e|0],0>e?-1:0)}function Gt(e){if(isNaN(e)||!isFinite(e))return Qr;if(0>e)return We(Gt(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=nh;return new se(t,0)}function m0(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return We(m0(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Gt(Math.pow(t,8)),r=Qr,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Gt(Math.pow(t,s)),r=r.R(s).add(Gt(o))):(r=r.R(n),r=r.add(Gt(o)))}return r}var nh=4294967296,Qr=Xf(0),rh=Xf(1),tm=Xf(16777216);M=se.prototype;M.ea=function(){if(Ct(this))return-We(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:nh+r)*t,t*=nh}return e};M.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(un(this))return"0";if(Ct(this))return"-"+We(this).toString(e);for(var t=Gt(Math.pow(e,6)),n=this,r="";;){var i=La(n,t).g;n=Ra(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,un(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};M.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function un(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Ct(e){return e.h==-1}M.X=function(e){return e=Ra(this,e),Ct(e)?-1:un(e)?0:1};function We(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new se(n,~e.h).add(rh)}M.abs=function(){return Ct(this)?We(this):this};M.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new se(n,n[n.length-1]&-2147483648?-1:0)};function Ra(e,t){return e.add(We(t))}M.R=function(e){if(un(this)||un(e))return Qr;if(Ct(this))return Ct(e)?We(this).R(We(e)):We(We(this).R(e));if(Ct(e))return We(this.R(We(e)));if(0>this.X(tm)&&0>e.X(tm))return Gt(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,Bo(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Bo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Bo(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Bo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new se(n,0)};function Bo(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ui(e,t){this.g=e,this.h=t}function La(e,t){if(un(t))throw Error("division by zero");if(un(e))return new Ui(Qr,Qr);if(Ct(e))return t=La(We(e),t),new Ui(We(t.g),We(t.h));if(Ct(t))return t=La(e,We(t)),new Ui(We(t.g),t.h);if(30<e.g.length){if(Ct(e)||Ct(t))throw Error("slowDivide_ only works with positive integers.");for(var n=rh,r=t;0>=r.X(e);)n=nm(n),r=nm(r);var i=br(n,1),s=br(r,1);for(r=br(r,2),n=br(n,2);!un(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=br(r,1),n=br(n,1)}return t=Ra(e,i.R(t)),new Ui(i,t)}for(i=Qr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Gt(n),o=s.R(t);Ct(o)||0<o.X(e);)n-=r,s=Gt(n),o=s.R(t);un(s)&&(s=rh),i=i.add(s),e=Ra(e,o)}return new Ui(i,e)}M.gb=function(e){return La(this,e).h};M.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new se(n,this.h&e.h)};M.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new se(n,this.h|e.h)};M.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new se(n,this.h^e.h)};function nm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new se(n,e.h)}function br(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new se(i,e.h)}ja.prototype.createWebChannel=ja.prototype.g;Et.prototype.send=Et.prototype.u;Et.prototype.open=Et.prototype.m;Et.prototype.close=Et.prototype.close;Ql.NO_ERROR=0;Ql.TIMEOUT=8;Ql.HTTP_ERROR=6;bv.COMPLETE="complete";Ov.EventType=yo;yo.OPEN="a";yo.CLOSE="b";yo.ERROR="c";yo.MESSAGE="d";Me.prototype.listen=Me.prototype.O;Ce.prototype.listenOnce=Ce.prototype.P;Ce.prototype.getLastError=Ce.prototype.Sa;Ce.prototype.getLastErrorCode=Ce.prototype.Ia;Ce.prototype.getStatus=Ce.prototype.da;Ce.prototype.getResponseJson=Ce.prototype.Wa;Ce.prototype.getResponseText=Ce.prototype.ja;Ce.prototype.send=Ce.prototype.ha;Ce.prototype.setWithCredentials=Ce.prototype.Oa;en.prototype.digest=en.prototype.l;en.prototype.reset=en.prototype.reset;en.prototype.update=en.prototype.j;se.prototype.add=se.prototype.add;se.prototype.multiply=se.prototype.R;se.prototype.modulo=se.prototype.gb;se.prototype.compare=se.prototype.X;se.prototype.toNumber=se.prototype.ea;se.prototype.toString=se.prototype.toString;se.prototype.getBits=se.prototype.D;se.fromNumber=Gt;se.fromString=m0;var sT=function(){return new ja},oT=function(){return Kl()},Qu=Ql,aT=bv,lT=_r,rm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uT=Eo,Vo=Ov,cT=Ce,hT=se;const im="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Je=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ii="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new lv("@firebase/firestore");function sm(){return wr.logLevel}function U(e,...t){if(wr.logLevel<=ne.DEBUG){const n=t.map(Jf);wr.debug(`Firestore (${Ii}): ${e}`,...n)}}function Er(e,...t){if(wr.logLevel<=ne.ERROR){const n=t.map(Jf);wr.error(`Firestore (${Ii}): ${e}`,...n)}}function Fa(e,...t){if(wr.logLevel<=ne.WARN){const n=t.map(Jf);wr.warn(`Firestore (${Ii}): ${e}`,...n)}}function Jf(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e="Unexpected state"){const t=`FIRESTORE (${Ii}) INTERNAL ASSERTION FAILED: `+e;throw Er(t),new Error(t)}function je(e,t){e||Y()}function me(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let B=class extends Ti{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g0=class{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}};class fT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}}class dT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pT{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pr,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new g0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return je(t===null||typeof t=="string"),new Je(t)}}let mT=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},gT=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new mT(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class yT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}let vT=class{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(je(typeof n.token=="string"),this.T=n.token,new yT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=wT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function he(e,t){return e<t?-1:e>t?1:0}function ui(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new B(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new B(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new B(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Oe.fromMillis(Date.now())}static fromDate(t){return Oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Oe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?he(this.nanoseconds,t.nanoseconds):he(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.timestamp=t}static fromTimestamp(t){return new we(t)}static min(){return new we(new Oe(0,0))}static max(){return new we(new Oe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t,n,r){n===void 0?n=0:n>t.length&&Y(),r===void 0?r=t.length-n:r>t.length-n&&Y(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Fs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Fs?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class _e extends Fs{construct(t,n,r){return new _e(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new B(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const ET=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends Fs{construct(t,n,r){return new tt(t,n,r)}static isValidIdentifier(t){return ET.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new B(_.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new B(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new B(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.path=t}static fromPath(t){return new K(_e.fromString(t))}static fromName(t){return new K(_e.fromString(t).popFirst(5))}static empty(){return new K(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return _e.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new K(new _e(t.slice()))}}function ST(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new Bn(i,K.empty(),t)}function xT(e){return new Bn(e.readTime,e.key,-1)}class Bn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Bn(we.min(),K.empty(),-1)}static max(){return new Bn(we.max(),K.empty(),-1)}}function CT(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=K.comparator(e.documentKey,t.documentKey),n!==0?n:he(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v0(e){if(e.code!==_.FAILED_PRECONDITION||e.message!==kT)throw e;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,r)=>{n(t)})}static reject(t){return new N((n,r)=>{r(t)})}static waitFor(t){return new N((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=N.resolve(!1);for(const r of t)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new N((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new N((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function nu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}w0.ct=-1;function Zf(e){return e==null}function Ua(e){return e===0&&1/e==-1/0}function AT(e){return typeof e=="number"&&Number.isInteger(e)&&!Ua(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ni(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function E0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vt=class ih{constructor(t,n){this.comparator=t,this.root=n||$n.EMPTY}insert(t,n){return new ih(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(t){return new ih(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$n.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zo(this.root,t,this.comparator,!1)}getReverseIterator(){return new zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zo(this.root,t,this.comparator,!0)}},zo=class{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},$n=class sn{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=s??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new sn(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const t=this.left.check();if(t!==this.right.check())throw Y();return t+(this.isRed()?0:1)}};$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,t,n,r,i){return this}insert(e,t,n){return new $n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _t=class sh{constructor(t){this.comparator=t,this.data=new Vt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new am(this.data.getIterator())}getIteratorFrom(t){return new am(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof sh)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new sh(this.comparator);return n.data=t,n}},am=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kt=class oh{constructor(t){this.fields=t,t.sort(tt.comparator)}static empty(){return new oh([])}unionWith(t){let n=new _t(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new oh(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ui(this.fields,t.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _T=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ci=class ah{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new _T("Invalid base64 string: "+i):i}}(t);return new ah(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new ah(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return he(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};ci.EMPTY_BYTE_STRING=new ci("");const IT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(e){if(je(!!e),typeof e=="string"){let t=0;const n=IT.exec(e);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ze(e.seconds),nanos:ze(e.nanos)}}function ze(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Us(e){return typeof e=="string"?ci.fromBase64String(e):ci.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function S0(e){const t=e.mapValue.fields.__previous_value__;return ed(t)?S0(t):t}function Ba(e){const t=Sr(e.mapValue.fields.__local_write_time__.timestampValue);return new Oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NT=class{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},$T=class lh{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new lh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof lh&&t.projectId===this.projectId&&t.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ed(e)?4:PT(e)?9007199254740991:10:Y()}function tn(e,t){if(e===t)return!0;const n=hi(e);if(n!==hi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ba(e).isEqual(Ba(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Sr(r.timestampValue),o=Sr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Us(r.bytesValue).isEqual(Us(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return ze(r.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ze(r.integerValue)===ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ze(r.doubleValue),o=ze(i.doubleValue);return s===o?Ua(s)===Ua(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return ui(e.arrayValue.values||[],t.arrayValue.values||[],tn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(om(s)!==om(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!tn(s[a],o[a])))return!1;return!0}(e,t);default:return Y()}}function Bs(e,t){return(e.values||[]).find(n=>tn(n,t))!==void 0}function fi(e,t){if(e===t)return 0;const n=hi(e),r=hi(t);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=ze(i.integerValue||i.doubleValue),a=ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return lm(e.timestampValue,t.timestampValue);case 4:return lm(Ba(e),Ba(t));case 5:return he(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Us(i),a=Us(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=he(o[l],a[l]);if(u!==0)return u}return he(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=he(ze(i.latitude),ze(s.latitude));return o!==0?o:he(ze(i.longitude),ze(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=fi(o[l],a[l]);if(u)return u}return he(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===Ho.mapValue&&s===Ho.mapValue)return 0;if(i===Ho.mapValue)return 1;if(s===Ho.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=he(a[c],u[c]);if(d!==0)return d;const h=fi(o[a[c]],l[u[c]]);if(h!==0)return h}return he(a.length,u.length)}(e.mapValue,t.mapValue);default:throw Y()}}function lm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return he(e,t);const n=Sr(e),r=Sr(t),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function di(e){return uh(e)}function uh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=Sr(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Us(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,K.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=uh(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${uh(r.fields[a])}`;return s+"}"}(e.mapValue):Y();var t,n}function ch(e){return!!e&&"integerValue"in e}function td(e){return!!e&&"arrayValue"in e}function la(e){return!!e&&"mapValue"in e}function us(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ni(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=us(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=us(e.arrayValue.values[n]);return t}return Object.assign({},e)}function PT(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.value=t}static empty(){return new yt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!la(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=us(n)}setAll(t){let n=tt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=us(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());la(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return tn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];la(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Ni(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new yt(us(this.value))}}function x0(e){const t=[];return Ni(e.fields,(n,r)=>{const i=new tt([n]);if(la(r)){const s=x0(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Kt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ft(t,0,we.min(),we.min(),we.min(),yt.empty(),0)}static newFoundDocument(t,n,r,i){return new Ft(t,1,n,we.min(),r,i,0)}static newNoDocument(t,n){return new Ft(t,2,n,we.min(),we.min(),yt.empty(),0)}static newUnknownDocument(t,n){return new Ft(t,3,n,we.min(),we.min(),yt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ft&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,n){this.position=t,this.inclusive=n}}function um(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=fi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cm(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!tn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t,n="asc"){this.field=t,this.dir=n}}function DT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{}class be extends C0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new OT(t,n,r):n==="array-contains"?new RT(t,r):n==="in"?new LT(t,r):n==="not-in"?new FT(t,r):n==="array-contains-any"?new UT(t,r):new be(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new MT(t,r):new jT(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fi(n,this.value)):n!==null&&hi(this.value)===hi(n)&&this.matchesComparison(fi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends C0{constructor(t,n){super(),this.filters=t,this.op=n,this.lt=null}static create(t,n){return new Vn(t,n)}matches(t){return k0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(n=>n.isInequality());return t!==null?t.field:null}ft(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function k0(e){return e.op==="and"}function T0(e){return bT(e)&&k0(e)}function bT(e){for(const t of e.filters)if(t instanceof Vn)return!1;return!0}function hh(e){if(e instanceof be)return e.field.canonicalString()+e.op.toString()+di(e.value);if(T0(e))return e.filters.map(t=>hh(t)).join(",");{const t=e.filters.map(n=>hh(n)).join(",");return`${e.op}(${t})`}}function A0(e,t){return e instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.field.isEqual(r.field)&&tn(n.value,r.value)}(e,t):e instanceof Vn?function(n,r){return r instanceof Vn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&A0(s,r.filters[o]),!0):!1}(e,t):void Y()}function _0(e){return e instanceof be?function(t){return`${t.field.canonicalString()} ${t.op} ${di(t.value)}`}(e):e instanceof Vn?function(t){return t.op.toString()+" {"+t.getFilters().map(_0).join(" ,")+"}"}(e):"Filter"}class OT extends be{constructor(t,n,r){super(t,n,r),this.key=K.fromName(r.referenceValue)}matches(t){const n=K.comparator(t.key,this.key);return this.matchesComparison(n)}}class MT extends be{constructor(t,n){super(t,"in",n),this.keys=I0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class jT extends be{constructor(t,n){super(t,"not-in",n),this.keys=I0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function I0(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class RT extends be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return td(n)&&Bs(n.arrayValue,this.value)}}class LT extends be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Bs(this.value.arrayValue,n)}}class FT extends be{constructor(t,n){super(t,"not-in",n)}matches(t){if(Bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Bs(this.value.arrayValue,n)}}class UT extends be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!td(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function hm(e,t=null,n=[],r=[],i=null,s=null,o=null){return new BT(e,t,n,r,i,s,o)}function nd(e){const t=me(e);if(t.dt===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>hh(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Zf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>di(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>di(r)).join(",")),t.dt=n}return t.dt}function rd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!DT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!A0(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cm(e.startAt,t.startAt)&&cm(e.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function VT(e,t,n,r,i,s,o,a){return new ru(e,t,n,r,i,s,o,a)}function zT(e){return new ru(e)}function fm(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function HT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function WT(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function GT(e){return e.collectionGroup!==null}function qr(e){const t=me(e);if(t.wt===null){t.wt=[];const n=WT(t),r=HT(t);if(n!==null&&r===null)n.isKeyField()||t.wt.push(new cs(n)),t.wt.push(new cs(tt.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new cs(tt.keyField(),s))}}}return t.wt}function pi(e){const t=me(e);if(!t._t)if(t.limitType==="F")t._t=hm(t.path,t.collectionGroup,qr(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of qr(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new cs(s.field,o))}const r=t.endAt?new Va(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Va(t.startAt.position,t.startAt.inclusive):null;t._t=hm(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t._t}function fh(e,t,n){return new ru(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function N0(e,t){return rd(pi(e),pi(t))&&e.limitType===t.limitType}function $0(e){return`${nd(pi(e))}|lt:${e.limitType}`}function dm(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>_0(r)).join(", ")}]`),Zf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>di(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>di(r)).join(",")),`Target(${n})`}(pi(e))}; limitType=${e.limitType})`}function id(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):K.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of qr(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=um(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,qr(n),r)||n.endAt&&!function(i,s,o){const a=um(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,qr(n),r))}(e,t)}function KT(e){return(t,n)=>{let r=!1;for(const i of qr(e)){const s=QT(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QT(e,t,n){const r=e.field.isKeyField()?K.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?fi(a,l):Y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ni(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return E0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Vt(K.comparator);function za(){return qT}const P0=new Vt(K.comparator);function Wo(...e){let t=P0;for(const n of e)t=t.insert(n.key,n);return t}function D0(e){let t=P0;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function or(){return hs()}function b0(){return hs()}function hs(){return new $i(e=>e.toString(),(e,t)=>e.isEqual(t))}const YT=new Vt(K.comparator),XT=new _t(K.comparator);function et(...e){let t=XT;for(const n of e)t=t.add(n);return t}const JT=new _t(he);function ZT(){return JT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ua(t)?"-0":t}}function M0(e){return{integerValue:""+e}}function eA(e,t){return AT(t)?M0(t):O0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this._=void 0}}function tA(e,t,n){return e instanceof Ha?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ed(i)&&(i=S0(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Vs?R0(e,t):e instanceof zs?L0(e,t):function(r,i){const s=j0(r,i),o=pm(s)+pm(r.gt);return ch(s)&&ch(r.gt)?M0(o):O0(r.serializer,o)}(e,t)}function nA(e,t,n){return e instanceof Vs?R0(e,t):e instanceof zs?L0(e,t):n}function j0(e,t){return e instanceof Wa?ch(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class Ha extends iu{}class Vs extends iu{constructor(t){super(),this.elements=t}}function R0(e,t){const n=F0(t);for(const r of e.elements)n.some(i=>tn(i,r))||n.push(r);return{arrayValue:{values:n}}}class zs extends iu{constructor(t){super(),this.elements=t}}function L0(e,t){let n=F0(t);for(const r of e.elements)n=n.filter(i=>!tn(i,r));return{arrayValue:{values:n}}}class Wa extends iu{constructor(t,n){super(),this.serializer=t,this.gt=n}}function pm(e){return ze(e.integerValue||e.doubleValue)}function F0(e){return td(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function rA(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Vs&&r instanceof Vs||n instanceof zs&&r instanceof zs?ui(n.elements,r.elements,tn):n instanceof Wa&&r instanceof Wa?tn(n.gt,r.gt):n instanceof Ha&&r instanceof Ha}(e.transform,t.transform)}class iA{constructor(t,n){this.version=t,this.transformResults=n}}class vt{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new vt}static exists(t){return new vt(void 0,t)}static updateTime(t){return new vt(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ua(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class su{}function U0(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ou(e.key,vt.none()):new Co(e.key,e.data,vt.none());{const n=e.data,r=yt.empty();let i=new _t(tt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xn(e.key,r,new Kt(i.toArray()),vt.none())}}function sA(e,t,n){e instanceof Co?function(r,i,s){const o=r.value.clone(),a=gm(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Xn?function(r,i,s){if(!ua(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=gm(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(B0(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function fs(e,t,n,r){return e instanceof Co?function(i,s,o,a){if(!ua(i.precondition,s))return o;const l=i.value.clone(),u=ym(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Xn?function(i,s,o,a){if(!ua(i.precondition,s))return o;const l=ym(i.fieldTransforms,a,s),u=s.data;return u.setAll(B0(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return ua(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function oA(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=j0(r.transform,i||null);s!=null&&(n===null&&(n=yt.empty()),n.set(r.field,s))}return n||null}function mm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ui(n,r,(i,s)=>rA(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Co extends su{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xn extends su{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function B0(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function gm(e,t,n){const r=new Map;je(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,nA(o,a,n[i]))}return r}function ym(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,tA(s,o,t))}return r}class ou extends su{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aA extends su{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&sA(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=fs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=fs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=b0();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=U0(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),et())}isEqual(t){return this.batchId===t.batchId&&ui(this.mutations,t.mutations,(n,r)=>mm(n,r))&&ui(this.baseMutations,t.baseMutations,(n,r)=>mm(n,r))}}let uA=class V0{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){je(t.mutations.length===r.length);let i=YT;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new V0(t,n,r,i)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cA=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,X;function hA(e){switch(e){default:return Y();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function fA(e){if(e===void 0)return Er("GRPC error has no .code"),_.UNKNOWN;switch(e){case Ae.OK:return _.OK;case Ae.CANCELLED:return _.CANCELLED;case Ae.UNKNOWN:return _.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return _.INTERNAL;case Ae.UNAVAILABLE:return _.UNAVAILABLE;case Ae.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Ae.NOT_FOUND:return _.NOT_FOUND;case Ae.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Ae.ABORTED:return _.ABORTED;case Ae.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Ae.DATA_LOSS:return _.DATA_LOSS;default:return Y()}}(X=Ae||(Ae={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new hT([4294967295,4294967295],0);let dA=class{constructor(t,n){this.databaseId=t,this.useProto3Json=n}};function dh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function mA(e,t){return dh(e,t.toTimestamp())}function Yr(e){return je(!!e),we.fromTimestamp(function(t){const n=Sr(t);return new Oe(n.seconds,n.nanos)}(e))}function z0(e,t){return function(n){return new _e(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function gA(e){const t=_e.fromString(e);return je(kA(t)),t}function ph(e,t){return z0(e.databaseId,t.path)}function yA(e){const t=gA(e);return t.length===4?_e.emptyPath():wA(t)}function vA(e){return new _e(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wA(e){return je(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function vm(e,t,n){return{name:ph(e,t),fields:n.value.mapValue.fields}}function EA(e,t){let n;if(t instanceof Co)n={update:vm(e,t.key,t.value)};else if(t instanceof ou)n={delete:ph(e,t.key)};else if(t instanceof Xn)n={update:vm(e,t.key,t.data),updateMask:CA(t.fieldMask)};else{if(!(t instanceof aA))return Y();n={verify:ph(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ha)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Vs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof zs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Y()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:mA(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Y()}(e,t.precondition)),n}function SA(e,t){return e&&e.length>0?(je(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?Yr(r.updateTime):Yr(i);return s.isEqual(we.min())&&(s=Yr(i)),new iA(s,r.transformResults||[])}(n,t))):[]}function xA(e){let t=yA(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=H0(c);return d instanceof Vn&&T0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new cs(Mr(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Zf(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Va(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new Va(h,d)}(n.endAt)),VT(t,i,o,s,a,"F",l,u)}function H0(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Mr(t.unaryFilter.field);return be.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Mr(t.unaryFilter.field);return be.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mr(t.unaryFilter.field);return be.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Mr(t.unaryFilter.field);return be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(e):e.fieldFilter!==void 0?function(t){return be.create(Mr(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return Vn.create(t.compositeFilter.filters.map(n=>H0(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Y()}}(t.compositeFilter.op))}(e):Y()}function Mr(e){return tt.fromServerFormat(e.fieldPath)}function CA(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function kA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t){this.fe=t}}function AA(e){const t=xA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?fh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.rn=new IA}addToCollectionParentIndex(t,n){return this.rn.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.rn.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n){return N.resolve(null)}getIndexType(t,n){return N.resolve(0)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,n){return N.resolve(Bn.min())}getMinOffsetFromCollectionGroup(t,n){return N.resolve(Bn.min())}updateCollectionGroup(t,n,r){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class IA{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new _t(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new _t(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new mi(0)}static Mn(){return new mi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.changes=new $i(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ft.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&fs(r.mutation,i,Kt.empty(),Oe.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,et()).next(()=>r))}getLocalViewOfDocuments(t,n,r=et()){const i=or();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Wo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=or();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,et()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=za();const o=hs(),a=hs();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Xn)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),fs(c.mutation,u,c.mutation.getFieldMask(),Oe.now())):o.set(u.key,Kt.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new $A(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=hs();let i=new Vt((o,a)=>o-a),s=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Kt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||et()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=b0();c.forEach(h=>{if(!s.has(h)){const v=U0(n.get(h),r.get(h));v!==null&&d.set(h,v),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return K.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):GT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):N.resolve(or());let a=-1,l=s;return o.next(u=>N.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?N.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,et())).next(c=>({batchId:a,changes:D0(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new K(n)).next(r=>{let i=Wo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=Wo();return this.indexManager.getCollectionParents(t,i).next(o=>N.forEach(o,a=>{const l=function(u,c){return new ru(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Ft.newInvalidDocument(u)))});let o=Wo();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&fs(u.mutation,l,Kt.empty(),Oe.now()),id(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,n){return N.resolve(this.cs.get(n))}saveBundleMetadata(t,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Yr(r.createTime)}),N.resolve()}getNamedQuery(t,n){return N.resolve(this.hs.get(n))}saveNamedQuery(t,n){return this.hs.set(n.name,function(r){return{name:r.name,query:AA(r.bundledQuery),readTime:Yr(r.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.overlays=new Vt(K.comparator),this.ls=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}getOverlays(t,n){const r=or();return N.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.we(t,n,s)}),N.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),N.resolve()}getOverlaysForCollection(t,n,r){const i=or(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Vt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=or(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=or(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return N.resolve(a)}we(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cA(n,r));let s=this.ls.get(n);s===void 0&&(s=et(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.fs=new _t(De.ds),this.ws=new _t(De._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,n){const r=new De(t,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.ys(new De(t,n))}ps(t,n){t.forEach(r=>this.removeReference(r,n))}Is(t){const n=new K(new _e([])),r=new De(n,t),i=new De(n,t+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const n=new K(new _e([])),r=new De(n,t),i=new De(n,t+1);let s=et();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new De(t,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class De{constructor(t,n){this.key=t,this.As=n}static ds(t,n){return K.comparator(t.key,n.key)||he(t.As,n.As)}static _s(t,n){return he(t.As,n.As)||K.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new _t(De.ds)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lA(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new De(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(t,n){return N.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new De(n,0),i=new De(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new _t(he);return n.forEach(i=>{const s=new De(i,0),o=new De(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),N.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new De(new K(s),0);let a=new _t(he);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),N.resolve(this.Vs(a))}Vs(t){const n=[];return t.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){je(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return N.forEach(n.mutations,i=>{const s=new De(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Rs=r})}Cn(t){}containsKey(t,n){const r=new De(n,0),i=this.Rs.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}Ss(t,n){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const n=this.bs(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t){this.Ds=t,this.docs=new Vt(K.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(t,n){let r=za();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=za();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||CT(xT(c),r)<=0||(i.has(c.key)||id(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Y()}Cs(t,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new jA(this)}getSize(t){return N.resolve(this.size)}}class jA extends NA{constructor(t){super(),this.os=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(t,i)):this.os.removeEntry(r)}),N.waitFor(n)}getFromCache(t,n){return this.os.getEntry(t,n)}getAllFromCache(t,n){return this.os.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t){this.persistence=t,this.xs=new $i(n=>nd(n),rd),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Ns=0,this.ks=new sd,this.targetCount=0,this.Ms=mi.kn()}forEachTarget(t,n){return this.xs.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),N.resolve()}Fn(t){this.xs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ms=new mi(n),this.highestTargetId=n),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,n){return this.Fn(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.Fn(n),N.resolve()}removeTargetData(t,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const r=this.xs.get(n)||null;return N.resolve(r)}addMatchingKeys(t,n,r){return this.ks.gs(n,r),N.resolve()}removeMatchingKeys(t,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ks.Is(n),N.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ks.Es(n);return N.resolve(r)}containsKey(t,n){return N.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,n){this.$s={},this.overlays={},this.Os=new w0(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new RA(this),this.indexManager=new _A,this.remoteDocumentCache=function(r){return new MA(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new TA(n),this.qs=new DA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new bA,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.$s[t.toKey()];return r||(r=new OA(n,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,n,r){U("MemoryPersistence","Starting transaction:",t);const i=new FA(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(t,n){return N.or(Object.values(this.$s).map(r=>()=>r.containsKey(t,n)))}}class FA extends TT{constructor(t){super(),this.currentSequenceNumber=t}}class od{constructor(t){this.persistence=t,this.Qs=new sd,this.js=null}static zs(t){return new od(t)}get Ws(){if(this.js)return this.js;throw Y()}addReference(t,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),N.resolve()}removeReference(t,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.Ws.add(n.toString()),N.resolve()}removeTarget(t,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Us(){this.js=new Set}Ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Ws,r=>{const i=K.fromPath(r);return this.Hs(t,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.js=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hs(t,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(t){return 0}Hs(t,n){return N.or([()=>N.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gs(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(t,n){let r=et(),i=et();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ad(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.qi=!1}initialize(t,n){this.Ui=t,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ki(t,n).next(s=>s||this.Gi(t,n,i,r)).next(s=>s||this.Qi(t,n))}Ki(t,n){if(fm(n))return N.resolve(null);let r=pi(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fh(n,null,"F"),r=pi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=et(...s);return this.Ui.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(t,fh(n,null,"F")):this.Wi(t,u,n,l)}))})))}Gi(t,n,r,i){return fm(n)||i.isEqual(we.min())?this.Qi(t,n):this.Ui.getDocuments(t,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(t,n):(sm()<=ne.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dm(n)),this.Wi(t,o,n,ST(i,-1)))})}ji(t,n){let r=new _t(KT(t));return n.forEach((i,s)=>{id(t,s)&&(r=r.add(s))}),r}zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(t,n){return sm()<=ne.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",dm(n)),this.Ui.getDocumentsMatchingQuery(t,n,Bn.min())}Wi(t,n,r,i){return this.Ui.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,n,r,i){this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Vt(he),this.Yi=new $i(s=>nd(s),rd),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PA(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function VA(e,t,n,r){return new BA(e,t,n,r)}async function W0(e,t){const n=me(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=et();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function zA(e,t){const n=me(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=N.resolve();return d.forEach(v=>{h=h.next(()=>u.getEntry(a,v)).next(E=>{const y=l.docVersions.get(v);je(y!==null),E.version.compareTo(y)<0&&(c.applyToRemoteDocument(E,l),E.isValidDocument()&&(E.setReadTime(l.commitVersion),u.addEntry(E)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=et();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function HA(e){const t=me(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Bs.getLastRemoteSnapshotVersion(n))}function WA(e,t){const n=me(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}class wm{constructor(){this.activeTargetIds=ZT()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GA{constructor(){this.Hr=new wm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,n,r){this.Jr[t]=n}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new wm,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go=null;function qu(){return Go===null?Go=268435456+Math.round(2147483648*Math.random()):Go++,"0x"+Go.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class YA extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,n,r,i,s){const o=qu(),a=this.To(t,n);U("RestConnection",`Sending RPC '${t}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(t,a,l,r).then(u=>(U("RestConnection",`Received RPC '${t}' ${o}: `,u),u),u=>{throw Fa("RestConnection",`RPC '${t}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(t,n,r,i,s,o){return this.Io(t,n,r,i,s)}Eo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ii,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}To(t,n){const r=QA[t];return`${this.mo}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,n,r,i){const s=qu();return new Promise((o,a)=>{const l=new cT;l.setWithCredentials(!0),l.listenOnce(aT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qu.NO_ERROR:const c=l.getResponseJson();U(Xe,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Qu.TIMEOUT:U(Xe,`RPC '${t}' ${s} timed out`),a(new B(_.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const d=l.getStatus();if(U(Xe,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const v=h==null?void 0:h.error;if(v&&v.status&&v.message){const E=function(y){const f=y.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(f)>=0?f:_.UNKNOWN}(v.status);a(new B(E,v.message))}else a(new B(_.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(_.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{U(Xe,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);U(Xe,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(t,n,r){const i=qu(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=sT(),a=oT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new uT({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");U(Xe,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,v=!1;const E=new qA({ro:f=>{v?U(Xe,`Not sending because RPC '${t}' stream ${i} is closed:`,f):(h||(U(Xe,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),U(Xe,`RPC '${t}' stream ${i} sending:`,f),d.send(f))},oo:()=>d.close()}),y=(f,m,g)=>{f.listen(m,w=>{try{g(w)}catch(S){setTimeout(()=>{throw S},0)}})};return y(d,Vo.EventType.OPEN,()=>{v||U(Xe,`RPC '${t}' stream ${i} transport opened.`)}),y(d,Vo.EventType.CLOSE,()=>{v||(v=!0,U(Xe,`RPC '${t}' stream ${i} transport closed`),E.wo())}),y(d,Vo.EventType.ERROR,f=>{v||(v=!0,Fa(Xe,`RPC '${t}' stream ${i} transport errored:`,f),E.wo(new B(_.UNAVAILABLE,"The operation could not be completed")))}),y(d,Vo.EventType.MESSAGE,f=>{var m;if(!v){const g=f.data[0];je(!!g);const w=g,S=w.error||((m=w[0])===null||m===void 0?void 0:m.error);if(S){U(Xe,`RPC '${t}' stream ${i} received error:`,S);const D=S.status;let I=function(L){const A=Ae[L];if(A!==void 0)return fA(A)}(D),R=S.message;I===void 0&&(I=_.INTERNAL,R="Unknown error status: "+D+" with message "+S.message),v=!0,E.wo(new B(I,R)),d.close()}else U(Xe,`RPC '${t}' stream ${i} received:`,g),E._o(g)}}),y(a,lT.STAT_EVENT,f=>{f.stat===rm.PROXY?U(Xe,`RPC '${t}' stream ${i} detected buffering proxy`):f.stat===rm.NOPROXY&&U(Xe,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.fo()},0),E}}function Yu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(e){return new dA(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,n,r=1e3,i=1.5,s=6e4){this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,n,r,i,s,o,a,l){this.ii=t,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new G0(t,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{t(()=>{const i=new B(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(t,n){const r=this.Xo(this.Fo);this.stream=this.eu(t,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.Fo===t?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JA extends XA{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,n){return this.connection.Ro("Write",t,n)}onMessage(t){if(je(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const n=SA(t.writeResults,t.commitTime),r=Yr(t.commitTime);return this.listener.cu(r,n)}return je(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=vA(this.serializer),this.Wo(t)}uu(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>EA(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new B(_.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(_.UNKNOWN,i.toString())})}vo(t,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(_.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class e_{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Er(n),this.mu=!1):U("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{To(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=me(a);l.vu.add(4),await ko(l),l.bu.set("Unknown"),l.vu.delete(4),await lu(l)}(this))})}),this.bu=new e_(r,i)}}async function lu(e){if(To(e))for(const t of e.Ru)await t(!0)}async function ko(e){for(const t of e.Ru)await t(!1)}function To(e){return me(e).vu.size===0}async function K0(e,t,n){if(!nu(t))throw t;e.vu.add(1),await ko(e),e.bu.set("Offline"),n||(n=()=>HA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await lu(e)})}function Q0(e,t){return t().catch(n=>K0(e,n,t))}async function uu(e){const t=me(e),n=zn(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;n_(t);)try{const i=await WA(t.localStore,r);if(i===null){t.Eu.length===0&&n.jo();break}r=i.batchId,r_(t,i)}catch(i){await K0(t,i)}q0(t)&&Y0(t)}function n_(e){return To(e)&&e.Eu.length<10}function r_(e,t){e.Eu.push(t);const n=zn(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function q0(e){return To(e)&&!zn(e).Uo()&&e.Eu.length>0}function Y0(e){zn(e).start()}async function i_(e){zn(e).hu()}async function s_(e){const t=zn(e);for(const n of e.Eu)t.uu(n.mutations)}async function o_(e,t,n){const r=e.Eu.shift(),i=uA.from(r,t,n);await Q0(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await uu(e)}async function a_(e,t){t&&zn(e).ou&&await async function(n,r){if(i=r.code,hA(i)&&i!==_.ABORTED){const s=n.Eu.shift();zn(n).Qo(),await Q0(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await uu(n)}var i}(e,t),q0(e)&&Y0(e)}async function Sm(e,t){const n=me(e);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=To(n);n.vu.add(3),await ko(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await lu(n)}async function l_(e,t){const n=me(e);t?(n.vu.delete(2),await lu(n)):t||(n.vu.add(2),await ko(n),n.bu.set("Unknown"))}function zn(e){return e.Du||(e.Du=function(t,n,r){const i=me(t);return i.fu(),new JA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:i_.bind(null,e),ao:a_.bind(null,e),au:s_.bind(null,e),cu:o_.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await uu(e)):(await e.Du.stop(),e.Eu.length>0&&(U("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_=class X0{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new X0(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function J0(e,t){if(Er("AsyncQueue",`${t}: ${e}`),nu(e))return new B(_.UNAVAILABLE,`${t}: ${e}`);throw e}let c_=class{constructor(){this.queries=new $i(t=>$0(t),N0),this.onlineState="Unknown",this.ku=new Set}};function h_(e){e.ku.forEach(t=>{t.next()})}let f_=class{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new $i(a=>$0(a),N0),this._c=new Map,this.mc=new Set,this.gc=new Vt(K.comparator),this.yc=new Map,this.Ic=new sd,this.Tc={},this.Ec=new Map,this.Ac=mi.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}};async function d_(e,t,n){const r=y_(e);try{const i=await function(s,o){const a=me(s),l=Oe.now(),u=o.reduce((h,v)=>h.add(v.key),et());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let v=za(),E=et();return a.Zi.getEntries(h,u).next(y=>{v=y,v.forEach((f,m)=>{m.isValidDocument()||(E=E.add(f))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,v)).next(y=>{c=y;const f=[];for(const m of o){const g=oA(m,c.get(m.key).overlayedDocument);g!=null&&f.push(new Xn(m.key,g,x0(g.value.mapValue),vt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,f,o)}).next(y=>{d=y;const f=y.applyToLocalDocumentSet(c,E);return a.documentOverlayCache.saveOverlays(h,y.batchId,f)})}).then(()=>({batchId:d.batchId,changes:D0(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Vt(he)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await cu(r,i.changes),await uu(r.remoteStore)}catch(i){const s=J0(i,"Failed to persist write");n.reject(s)}}function xm(e,t,n){const r=me(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=me(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&h_(a)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function p_(e,t){const n=me(e),r=t.batch.batchId;try{const i=await zA(n.localStore,t);e1(n,r,null),Z0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,i)}catch(i){await v0(i)}}async function m_(e,t,n){const r=me(e);try{const i=await function(s,o){const a=me(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(je(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,t);e1(r,t,n),Z0(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cu(r,i)}catch(i){await v0(i)}}function Z0(e,t){(e.Ec.get(t)||[]).forEach(n=>{n.resolve()}),e.Ec.delete(t)}function e1(e,t,n){const r=me(e);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}async function cu(e,t,n){const r=me(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=ad.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=me(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>N.forEach(l,d=>N.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>N.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!nu(c))throw c;U("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),v=h.snapshotVersion,E=h.withLastLimboFreeSnapshotVersion(v);u.Ji=u.Ji.insert(d,E)}}}(r.localStore,s))}async function g_(e,t){const n=me(e);if(!n.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const r=await W0(n.localStore,t);n.currentUser=t,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new B(_.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await cu(n,r.er)}}function y_(e){const t=me(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=p_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=m_.bind(null,t),t}let Cm=class{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=au(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return VA(this.persistence,new UA,t.initialUser,this.serializer)}createPersistence(t){return new LA(od.zs,this.serializer)}createSharedClientState(t){return new GA}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},v_=class{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g_.bind(null,this.syncEngine),await l_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new c_}createDatastore(t){const n=au(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new YA(i));var i;return function(s,o,a,l){return new ZA(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>xm(this.syncEngine,a,0),o=Em.D()?new Em:new KA,new t_(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,l,u){const c=new f_(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=me(t);U("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ko(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_=class{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=y0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{U("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=J0(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}};async function Xu(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await W0(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function km(e,t){e.asyncQueue.verifyOperationInProgress();const n=await S_(e);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Sm(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Sm(t.remoteStore,s)),e._onlineComponents=t}function E_(e){return e.name==="FirebaseError"?e.code===_.FAILED_PRECONDITION||e.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function S_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!E_(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await Xu(e,new Cm)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Xu(e,new Cm);return e._offlineComponents}async function x_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await km(e,e._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await km(e,new v_))),e._onlineComponents}function C_(e){return x_(e).then(t=>t.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(e,t,n){if(!n)throw new B(_.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function T_(e,t,n,r){if(t===!0&&r===!0)throw new B(_.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Am(e){if(!K.isDocumentKey(e))throw new B(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ld(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y()}function Hs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ld(e);throw new B(_.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m=class{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new B(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new B(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}T_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new B(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=t.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var n,r}},ud=class{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _m({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new B(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _m(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new fT;switch(n.type){case"firstParty":return new gT(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Tm.get(t);n&&(U("ComponentProvider","Removing Datastore"),Tm.delete(t),n.terminate())}(this),Promise.resolve()}};function A_(e,t,n,r={}){var i;const s=(e=Hs(e,ud))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Je.MOCK_USER;else{a=z2(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Je(u)}e._authCredentials=new dT(new g0(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mr=class n1{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n1(this.firestore,t,this._key)}},__=class r1{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new r1(this.firestore,t,this._query)}},mh=class i1 extends __{constructor(t,n,r){super(t,n,zT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mr(this.firestore,null,new K(t))}withConverter(t){return new i1(this.firestore,t,this._path)}};function I_(e,t,...n){if(e=Un(e),arguments.length===1&&(t=y0.A()),k_("doc","path",t),e instanceof ud){const r=_e.fromString(t,...n);return Am(r),new mr(e,null,new K(r))}{if(!(e instanceof mr||e instanceof mh))throw new B(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(_e.fromString(t,...n));return Am(r),new mr(e.firestore,e instanceof mh?e.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N_=class{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new G0(this,"async_queue_retry"),this.Xc=()=>{const n=Yu();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const t=Yu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const n=Yu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new pr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!nu(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const n=this.Gc.then(()=>(this.Hc=!0,t().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(t,n,r){this.Zc(),this.Yc.indexOf(t)>-1&&(n=0);const i=u_.createAndSchedule(this,t,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Y()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const n of this.zc)if(n.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const n=this.zc.indexOf(t);this.zc.splice(n,1)}},hu=class extends ud{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new N_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||o1(this),this._firestoreClient.terminate()}};function $_(e,t){const n=typeof e=="object"?e:KC(),r=typeof e=="string"?e:t||"(default)",i=zC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=B2("firestore");s&&A_(i,...s)}return i}function s1(e){return e._firestoreClient||o1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function o1(e){var t,n,r;const i=e._freezeSettings(),s=function(o,a,l,u){return new NT(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,t1(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new w_(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1=class gh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gh(ci.fromBase64String(t))}catch(n){throw new B(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new gh(ci.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd=class{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new B(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd=class{constructor(t){this._methodName=t}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l1=class{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new B(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new B(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return he(this._lat,t._lat)||he(this._long,t._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=/^__.*__$/;let D_=class{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Xn(t,this.data,this.fieldMask,n,this.fieldTransforms):new Co(t,this.data,n,this.fieldTransforms)}},u1=class{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Xn(t,this.data,this.fieldMask,n,this.fieldTransforms)}};function c1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}let b_=class h1{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new h1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.fa(t),i}da(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.ua(),i}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Ga(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(c1(this.ca)&&P_.test(t))throw this._a('Document fields cannot begin and end with "__"')}},O_=class{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||au(t)}ya(t,n,r,i=!1){return new b_({ca:t,methodName:n,ga:r,path:tt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function f1(e){const t=e._freezeSettings(),n=au(e._databaseId);return new O_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function d1(e,t,n,r,i,s={}){const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);fd("Data must be an object, but it was:",o,r);const a=p1(r,o);let l,u;if(s.merge)l=new Kt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=yh(t,d,n);if(!o.contains(h))throw new B(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);y1(c,h)||c.push(h)}l=new Kt(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new D_(new yt(a),l,u)}class fu extends hd{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof fu}}function M_(e,t,n,r){const i=e.ya(1,t,n);fd("Data must be an object, but it was:",i,r);const s=[],o=yt.empty();Ni(r,(l,u)=>{const c=g1(t,l,n);u=Un(u);const d=i.da(c);if(u instanceof fu)s.push(c);else{const h=du(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Kt(s);return new u1(o,a,i.fieldTransforms)}function j_(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[yh(t,r,n)],l=[i];if(s.length%2!=0)throw new B(_.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(yh(t,s[h])),l.push(s[h+1]);const u=[],c=yt.empty();for(let h=a.length-1;h>=0;--h)if(!y1(u,a[h])){const v=a[h];let E=l[h];E=Un(E);const y=o.da(v);if(E instanceof fu)u.push(v);else{const f=du(E,y);f!=null&&(u.push(v),c.set(v,f))}}const d=new Kt(u);return new u1(c,d,o.fieldTransforms)}function du(e,t){if(m1(e=Un(e)))return fd("Unsupported field value:",t,e),p1(e,t);if(e instanceof hd)return function(n,r){if(!c1(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=du(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Un(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return eA(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Oe.fromDate(n);return{timestampValue:dh(r.serializer,i)}}if(n instanceof Oe){const i=new Oe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dh(r.serializer,i)}}if(n instanceof l1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof a1)return{bytesValue:pA(r.serializer,n._byteString)};if(n instanceof mr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:z0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${ld(n)}`)}(e,t)}function p1(e,t){const n={};return E0(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ni(e,(r,i)=>{const s=du(i,t.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function m1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Oe||e instanceof l1||e instanceof a1||e instanceof mr||e instanceof hd)}function fd(e,t,n){if(!m1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=ld(n);throw r==="an object"?t._a(e+" a custom object"):t._a(e+" "+r)}}function yh(e,t,n){if((t=Un(t))instanceof cd)return t._internalPath;if(typeof t=="string")return g1(e,t);throw Ga("Field path arguments must be of type string or ",e,!1,void 0,n)}const R_=new RegExp("[~\\*/\\[\\]]");function g1(e,t,n){if(t.search(R_)>=0)throw Ga(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cd(...t.split("."))._internalPath}catch{throw Ga(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ga(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new B(_.INVALID_ARGUMENT,a+e+l)}function y1(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function L_(e,t,n){e=Hs(e,mr);const r=Hs(e.firestore,hu),i=v1(e.converter,t,n);return dd(r,[d1(f1(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,vt.none())])}function F_(e){return dd(Hs(e.firestore,hu),[new ou(e._key,vt.none())])}function dd(e,t){return function(n,r){const i=new pr;return n.asyncQueue.enqueueAndForget(async()=>d_(await C_(n),r,i)),i.promise}(s1(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U_=class{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=f1(t)}set(t,n,r){this._verifyNotCommitted();const i=Ju(t,this._firestore),s=v1(i.converter,n,r),o=d1(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,vt.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=Ju(t,this._firestore);let o;return o=typeof(n=Un(n))=="string"||n instanceof cd?j_(this._dataReader,"WriteBatch.update",s._key,n,r,i):M_(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,vt.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Ju(t,this._firestore);return this._mutations=this._mutations.concat(new ou(n._key,vt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ju(e,t){if((e=Un(e)).firestore!==t)throw new B(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(e){return s1(e=Hs(e,hu)),new U_(e,t=>dd(e,t))}(function(e,t=!0){(function(n){Ii=n})(GC),Pa(new Ns("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new hu(new pT(n.getProvider("auth-internal")),new vT(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new B(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $T(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Kr(im,"3.13.0",e),Kr(im,"3.13.0","esm2017")})();class V_{constructor({config:t}){G(this,"expenseCollection");G(this,"app");G(this,"db");this.expenseCollection="expenses",this.app=hv(t),this.db=$_(this.app)}async addExpense(t){console.debug("FirestoreClient.addExpense::",t);const n=this.getExpenseDocRef(t.id);await L_(n,t),console.debug("FirestoreClient.addExpense::completed without error")}async deleteExpense(t){console.debug("FirestoreClient.deleteExpense::expenseId=",t);const n=this.getExpenseDocRef(t);await F_(n),console.debug("FirestoreClient.deleteExpense:: completed without error")}async setAll(t){const n=B_(this.db);t.map(z_).forEach(r=>{const i=this.getExpenseDocRef(r.id);n.set(i,r)}),await n.commit()}getExpenseDocRef(t){return I_(this.db,this.expenseCollection,t)}}function z_(e){return Object.entries(e).filter(([t,n])=>n!==void 0).reduce((t,[n,r])=>(t[n]=r,t),{})}function Im(e){const t=JSON.stringify(e,null,2);return new Blob([t],{type:"application/json"})}const H_=Dt.div`
  padding: 1rem 0;
`;function W_(e,t){const n=URL.createObjectURL(e),r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="blob",r.onload=function(i){if(this.status===200){const s=this.response,o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=t,o.click()}else{const s=[`Status 200 expected but got ${this.status} instead. No idea what happened`,`here:
`,`
`,`blob=${e.text()}
`,`
`,`filename=${t}
`,`
`,`fileUrl=${n}
`,`
`].join("");throw new Error(s)}},r.send()}function Nm(){return navigator.share===void 0}function G_(){return new Date().toISOString().slice(0,19).replaceAll(":","").replaceAll("-","").replace("T","-")}function K_({expenses:e,app:t}){const[n,r]=C.useState(!1),s=`expenses-form-${G_()}.json`,o=Nm()===!1;function a(){const d=Im(e);W_(d,s)}function l(){const d=Im(e),h=new File([d],s,{type:"text/csv"});if(Nm()){alert("Your device is not compatible with the Web Share API, sorry :)");return}const v={title:"fitness-tracker CSV",files:[h]};if(!navigator.canShare(v)){alert("You cannot share the CSV for some reason, sorry :)");return}navigator.share(v).then(()=>alert("all good")).catch(y=>{alert(y)})}function u(d){const h=t.paymentAccountsManager.get({id:d.paid_with});if(h===void 0)throw dn(`failed to clean Expense because Account ID ${d.paid_with} was not found`);const v={id:d.id,amount:d.amount,currency:d.currency,description:d.description,datetime:d.datetime,paid_with:h.ledgerName,shared:d.shared,pending:d.pending};return d.originalAmount===void 0?v:{...v,originalAmount:d.originalAmount,originalCurrency:d.originalCurrency}}function c(){const d=e.map(u),h=ye.firestoreConfig.read();if(h===void 0){alert("Please, set up Firestore config in settings");return}const v=new V_({config:h});r(!0),v.setAll(d).then(()=>{r(!1)}).catch(E=>{_s.add({header:"Failed to push all expenses to Firestore",description:E})})}return p.jsxs(H_,{children:[p.jsx(Ie,{text:"Download CSV",onClick:()=>a()}),p.jsx(Ie,{text:"Share CSV",onClick:()=>l(),disabled:o===!1}),p.jsx(Ie,{text:"Push to Firestore",onClick:()=>c(),disabled:n,icon:n?"rotate":void 0})]})}function $m({checked:e,label:t,onChange:n}){function r(s){n(s.target.checked)}const i=t.toLowerCase().replaceAll("-","").replaceAll(" ","").replaceAll("!","").replaceAll("?","");return p.jsxs("label",{htmlFor:i,className:"relative inline-flex flex-row flex-nowrap justify-start items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",id:i,checked:e,onChange:r,className:"hidden peer"}),p.jsx("div",{role:"checkbox-icon-box",className:"w-5 h-5 rounded-sm border-2     border-gray-300       peer-checked:border-blue-500         dark:border-gray-600  dark:peer-checked:border-blue-600              bg-gray-100           peer-checked:bg-blue-500         dark:bg-gray-700      dark:peer-checked:bg-blue-700 transition-all",children:e&&p.jsx("svg",{role:"checkbox-icon-check",className:"w-4 h-4 absolute left-2.5 top-1/2 transform -translate-x-1/2 -translate-y-1/2      stroke-gray-100 dark:stroke-blue-200",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})}),p.jsx("div",{role:"checkbox-label",className:"p-2 text-sm ",children:t})]})}function Zu({value:e,placeholder:t,onChange:n,className:r}){let i="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-200   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none leading-tight focus:outline-none focus:shadow-outline";return r&&(i+=` ${r}`),p.jsx("input",{type:"number",className:i,value:e===void 0?"":e,placeholder:t===void 0?"":t,onChange:s=>n(s.target.value)})}var Ws=(e=>(e[e.KeepOrder=-1]="KeepOrder",e[e.SwapOrder=1]="SwapOrder",e))(Ws||{});let Q_=e=>crypto.getRandomValues(new Uint8Array(e)),q_=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return(s=t)=>{let o="";for(;;){let a=n(i),l=i;for(;l--;)if(o+=e[a[l]&r]||"",o.length===s)return o}}},Y_=(e,t=21)=>q_(e,t,Q_);function X_(){return Y_("1234567890abcdef",10)()}function w1(e){return`${e}_${X_()}`}class ar{constructor(){G(this,"change$");G(this,"accounts");G(this,"changeSubject");G(this,"defaultAccountId");this.accounts=new Map,this.changeSubject=new co,this.change$=this.changeSubject.asObservable(),this.defaultAccountId=void 0,this.change$.subscribe(t=>console.debug(`${ar.name}.change$:`,t))}initialize({accounts:t,defaultAccountId:n}){console.debug(`${ar.name}.${this.initialize.name}::started`),console.debug(`${ar.name}.${this.initialize.name}::defaultAccountId`,n);for(const r of t){const{id:i}=r;this.accounts.has(i)&&this.error(this.initialize,`same PaymentAccountId found at least twice: ${i}`),this.accounts.set(i,r)}n&&this.accounts.has(n)===!1&&this.error(this.initialize,`no account ID matches the defaultAccountId='${n}'`),this.defaultAccountId=n,this.changeSubject.next({kind:"PaymentAccountManagerInitialized"})}get({id:t}){return this.accounts.get(t)}setDefault({id:t}){this.accounts.has(t)===!1&&this.error(this.setDefault,`'${t}' must match an existing Payment Account ID`),this.defaultAccountId=t,this.changeSubject.next({kind:"DefaultPaymentAccountSet",id:t})}getDefault(){if(this.accounts.size!==0){if(this.accounts.size===1)return[...this.accounts.values()][0];if(this.defaultAccountId!==void 0)return this.accounts.get(this.defaultAccountId)}}getAll(){return[...this.accounts.values()].sort(J_)}add({draft:t}){const n=this.generatePaymentAccountId(),r={id:n,...t};this.accounts.set(n,r),this.changeSubject.next({kind:"PaymentAccountAdded",id:n})}update({account:t}){const{id:n}=t;this.accounts.has(n)===!1&&this.error(this.update,`Cannot update an account because it does not exist, id=${n}`),this.accounts.set(n,t),this.changeSubject.next({kind:"PaymentAccountUpdated",id:n})}delete({id:t}){this.accounts.has(t)===!1&&this.error(this.delete,`Cannot delete an account because it does not exist, id=${t}`),this.accounts.delete(t),this.changeSubject.next({kind:"PaymentAccountUpdated",id:t})}error(t,n){throw new Error(`${ar.name}.${t.name}::${n}`)}generatePaymentAccountId(){for(;;){const t=w1("pay");if(this.accounts.has(t)===!1)return t}}}function J_(e,t){return e.name<=t.name?Ws.KeepOrder:Ws.SwapOrder}function kt({htmlFor:e,text:t,children:n}){return p.jsxs("label",{className:"text-gray-600  dark:text-gray-400",htmlFor:e,children:[t,n]})}const Pm={id:"empty-option",label:""};function Pn({id:e,selected:t,options:n,onSelect:r,className:i,disabled:s}){let o="relative";i&&(o+=` ${i}`);let a="w-full py-3 px-4 text-sm text-gray-700  dark:text-gray-100   bg-gray-100    dark:bg-gray-700 border      border-gray-100      focus:border-blue-300        dark:border-gray-700 dark:focus:border-blue-300 rounded appearance-none cursor-pointer leading-tight focus:outline-none focus:shadow-outline";s&&(a+=" cursor-not-allowed opacity-20 dark:opacity-50");const l=new Map([]),u=new Map([]);for(const{id:v,label:E}of n)l.set(E,v),u.set(v,E);function c(v){const E=v.currentTarget.value,y=l.get(E);if(y===void 0){console.error("BUG: selected `<option>` has an unexpected `value`:",E);return}r(y)}let d,h=[...n];return t===void 0?(d=Pm.label,h=[Pm,...n]):d=u.get(t),p.jsxs("div",{id:e,className:o,role:"select",children:[p.jsx("select",{value:d,className:a,disabled:s,onChange:c,children:h.map(({id:v,label:E})=>p.jsx("option",{value:E,children:E},v))}),!s&&p.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",role:"fold-unfold-icon",children:p.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-1",fill:"currentColor",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 10l5 5 5-5H7z"})})})]})}function E1({paidWith:e,app:t,onChange:n}){const[r,i]=C.useState(e),[s,o]=C.useState([]);C.useEffect(()=>{const u=t.paymentAccountsManager.change$.subscribe(c=>{o(t.paymentAccountsManager.getAll())});return o(t.paymentAccountsManager.getAll()),()=>{u.unsubscribe()}},[t]);function a(u){const c=t.paymentAccountsManager.get({id:u});if(c===void 0){_s.add({header:`UNEXPECTED ERROR: no account found with ID ${u}`,description:`When handling account selection in ${E1.name} component, the ID ${u} was picked by the UI but no payment account found with that ID in ${ar.name}`});return}i(u),n(c)}if(s.length===0)return p.jsx("div",{children:"loading accounts..."});const l=s.map(u=>({id:u.id,label:u.name}));return p.jsx("div",{children:p.jsx(kt,{htmlFor:"paid-with",text:"Paid with:",children:p.jsx(Pn,{id:"paid-with",selected:r,options:l,onSelect:a})})})}class Z_ extends Error{constructor(t){super(t),this.name="InvalidDate"}}const vh=1e3,Ka=60*vh,wh=60*Ka,ds=24*wh,Dm=6;class ve{constructor({year:t,month:n,day:r,hour:i,minute:s,second:o,ms:a}){G(this,"year");G(this,"month");G(this,"day");G(this,"hour");G(this,"minute");G(this,"second");G(this,"ms");G(this,"nativeDate");const l=ec(n),u=i||0,c=s||0,d=o||0,h=a||0,v=new Date(t,l,r,u,c,d,h);if(v.getDate()!==r||tr({value:n,start:1,end:12})||tr({value:r,start:1,end:31})||tr({value:u,start:0,end:23})||tr({value:u,start:0,end:23})||tr({value:c,start:0,end:59})||tr({value:d,start:0,end:59})||tr({value:h,start:0,end:999})){const E=n.toString().padStart(2,"0"),y=r.toString().padStart(2,"0"),f=u.toString().padStart(2,"0"),m=c.toString().padStart(2,"0"),g=d.toString().padStart(2,"0"),w=h.toString().padStart(3,"0");let S=`${t}-${E}-${y} ${f}:${m}:${g}.${w}`;throw new Z_(`${S} is not a valid date`)}this.year=t,this.month=n,this.day=r,this.hour=u,this.minute=c,this.second=d,this.ms=h,this.nativeDate=v}static fromNative(t){const n=t.getFullYear(),r=eI(t.getMonth()),i=t.getDate(),s=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),l=t.getMilliseconds();return new ve({year:n,month:r,day:i,hour:s,minute:o,second:a,ms:l})}weekday(){return tI(this.nativeDate.getDay())}toISODate(){return`${this.year}-${this.toISOMonthString()}-${this.toISODayString()}`}toNative(){return this.nativeDate}setYear(t){return new ve({year:t,month:this.month,day:this.day})}setMonth(t){return new ve({year:this.year,month:t,day:this.day})}minusNMonths(t){const n=Math.floor(t/12),r=t%12;let i=this.year-n,s=this.month-r;s<1&&(i=i-1,s=s+12);const o=ec(s);return new Date(Date.UTC(i,o,this.day)).getUTCDate()!==this.day?this.minusNDays(1).minusNMonths(t):new ve({year:i,month:s,day:this.day})}minusNDays(t){const n=new Date(this.nativeDate.getTime()-t*ds);return ve.fromNative(n)}minusNHours(t){const n=new Date(this.nativeDate.getTime()-t*wh);return ve.fromNative(n)}minusNMinutes(t){const n=new Date(this.nativeDate.getTime()-t*Ka);return ve.fromNative(n)}minusNSeconds(t){const n=new Date(this.nativeDate.getTime()-t*vh);return ve.fromNative(n)}plusNMonths(t){const n=Math.floor(t/12),r=t%12;let i=this.year+n,s=this.month+r;s>12&&(i=i+1,s=s-12);const o=ec(s);return new Date(Date.UTC(i,o,this.day)).getUTCDate()!==this.day?this.minusNDays(1).plusNMonths(t):new ve({year:i,month:s,day:this.day})}plusNDays(t){const n=new Date(this.nativeDate.getTime()+t*ds);return ve.fromNative(n)}plusNHours(t){const n=new Date(this.nativeDate.getTime()+t*wh);return ve.fromNative(n)}plusNMinutes(t){const n=new Date(this.nativeDate.getTime()+t*Ka);return ve.fromNative(n)}plusNSeconds(t){const n=new Date(this.nativeDate.getTime()+t*vh);return ve.fromNative(n)}isEqualTo(t){return this.year===t.year&&this.month===t.month&&this.day===t.day}toISOMonthString(){return this.month.toString().padStart(2,"0")}toISODayString(){return this.day.toString().padStart(2,"0")}}function ec(e){return e-1}function eI(e){return e+1}function tI(e){let t=e-1;return t<0&&(t=t+7),t}function nI({year:e,month:t}){const n=[new ve({year:e,month:t,day:1})];for(;;){const r=n.at(-1);if(r===void 0)throw dn();try{n.push(new ve({year:e,month:t,day:r.day+1}))}catch{break}}return n}function tr({value:e,start:t,end:n}){return e<t||n<e}function rI({of:e,withTimeFrom:t}){const n=e.getTimezoneOffset()*Ka,r=Math.floor((e.getTime()-n)/ds)*ds,i=t.getTime()%ds,s=r+i;return new Date(s)}function iI({value:e,defaultValue:t,onChange:n}){const[r,i]=C.useState(t);function s(c){const h=rI({of:c,withTimeFrom:e});n(h),i(e)}function o(){const c=ve.fromNative(e).minusNMonths(1).toNative();s(c)}function a(){const c=ve.fromNative(e).plusNMonths(1).toNative();s(c)}const l="flex flex-row items-center justify-center gap-3 h-14 ",u="w-3 text-xl text-bold cursor-pointer";return p.jsxs("div",{className:"flex flex-col w-80",children:[p.jsxs("div",{className:l,role:"month-and-year-picker",children:[p.jsx("div",{role:"go-to-previous-month",className:u,onClick:()=>o(),children:"<"}),p.jsx(sI,{value:e,onChange:s,className:"w-24"}),p.jsx(oI,{value:e,onChange:s,className:"w-32"}),p.jsx("div",{role:"go-to-next-month",className:u,onClick:()=>a(),children:">"})]}),p.jsx(aI,{value:e,previousValue:r,onChange:s})]})}function sI({value:e,onChange:t,className:n}){const r=lI({reference:e.getFullYear()}),i=`${e.getFullYear()}`,s=r.map(a=>a.toString()).map(a=>({id:a,label:a}));function o(a){const l=s.filter(d=>d.id===a)[0],u=Number(l.label),c=ve.fromNative(e).setYear(u).toNative();t(c)}return p.jsx("div",{className:n,role:"year-picker",children:p.jsx(Pn,{selected:i,options:s,onSelect:o})})}const bm=new Map([["January",1],["February",2],["March",3],["April",4],["May",5],["June",6],["July",7],["August",8],["September",9],["October",10],["November",11],["December",12]]);function oI({value:e,onChange:t,className:n}){const r=e.toLocaleString("default",{month:"long"}),i=[...bm.keys()].map(o=>({id:o,label:o}));function s(o){const a=bm.get(o);if(a===void 0)throw dn(`failed to map '${o}' to a month`);const l=ve.fromNative(e).setMonth(a).toNative();t(l)}return p.jsx("div",{className:n,role:"month-picker",children:p.jsx(Pn,{selected:r,options:i,onSelect:s})})}function aI({value:e,previousValue:t,onChange:n}){const r="p-1",i="grid grid-cols-7",s=ve.fromNative(e),o=ve.fromNative(t),a=nI({year:s.year,month:s.month}),l=[{text:"Mo"},{text:"Tu"},{text:"We"},{text:"Th"},{text:"Fr"},{text:"Sa"},{text:"Su"}],u=a[0],c=u.weekday(),d=[];for(let y=c;y>0;y--){const f=u.minusNDays(y);d.push(f)}const h=a[a.length-1],v=h.weekday(),E=[];if(v<Dm){const y=Dm-h.weekday();for(let f=1;f<=y;f++){const m=h.plusNDays(f);E.push(m)}}return p.jsx("div",{className:r,children:p.jsxs("div",{className:i,children:[l.map(y=>p.jsx(Ko,{text:y.text,selected:!1,wasPreviousSelection:!1,grayedOut:!0,onSelect:void 0},y.text)),d.map(y=>p.jsx(Ko,{text:y.day.toString(),selected:!1,wasPreviousSelection:y.isEqualTo(o),grayedOut:!0,onSelect:()=>{n(y.toNative())}},`prev-month-${y.day.toString()}`)),a.map(y=>p.jsx(Ko,{text:y.day.toString(),selected:y.isEqualTo(s),wasPreviousSelection:y.isEqualTo(o),grayedOut:!1,onSelect:()=>{n(y.toNative())}},`this-month-${y.day.toString()}`)),E.map(y=>p.jsx(Ko,{text:y.day.toString(),selected:!1,wasPreviousSelection:y.isEqualTo(o),grayedOut:!0,onSelect:()=>{n(y.toNative())}},`next-month-${y.day.toString()}`))]})})}function Ko({text:e,selected:t,wasPreviousSelection:n,grayedOut:r,onSelect:i}){let s="w-12 p-2 text-xl rounded flex items-center justify-center cursor-pointer",o=" opacity-50",a=" border-2 border-gray-500 border-opacity-30";return t?(s+=" text-white  bg-blue-600  dark:bg-blue-800",s+=" z-10"):n&&r?(s+=a,s+=o):n&&!r?s+=a:r&&(s+=o),p.jsx("div",{className:s,onClick:i?()=>i():void 0,children:e})}function lI({reference:e}){const t=[];for(let i=1;i<10;i++)t.push(e-i);t.push(e);const r=10;for(let i=1;i<r;i++)t.push(e+i);return t.sort()}function uI({value:e,onChange:t}){const n=ve.fromNative(e);function r(){t(n.plusNHours(1).toNative())}function i(){t(n.minusNHours(1).toNative())}function s(){t(n.plusNMinutes(1).toNative())}function o(){t(n.minusNMinutes(1).toNative())}function a(){t(n.plusNSeconds(1).toNative())}function l(){t(n.minusNSeconds(1).toNative())}return p.jsxs("div",{className:"flex flex-row gap-8",children:[p.jsx(tc,{value:n.hour,onIncrement:r,onDecrement:i}),p.jsx(tc,{value:n.minute,onIncrement:s,onDecrement:o}),p.jsx(tc,{value:n.second,onIncrement:a,onDecrement:l})]})}function tc({value:e,onIncrement:t,onDecrement:n}){return p.jsxs("div",{className:"flex flex-row gap-2 text-xl",children:[p.jsx("div",{role:"increase",className:"cursor-pointer",onClick:t,children:"+"}),p.jsx("div",{role:"value",children:e.toString().padStart(2,"0")}),p.jsx("div",{role:"decrease",className:"cursor-pointer",onClick:n,children:"-"})]})}function cI({children:e,className:t,isOpen:n,onClickOutside:r}){let i="z-10",s="z-10 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none";return t&&(s+=` ${t}`),p.jsxs(p.Fragment,{children:[p.jsx(hI,{onClick:r,isVisible:n,className:i}),p.jsx("dialog",{className:s,open:n,children:e})]})}function hI({isVisible:e,onClick:t,className:n}){let r="absolute top-0  left-0  right-0  bottom-0 bg-gray-900 opacity-60";return e?r+="":r+=" hidden",n&&(r+=` ${n}`),p.jsx("div",{className:r,role:"dialog-backdrop",onClick:t})}const fI=Dt.span`
  opacity: 0.6;
  margin-left: 1rem;
`;function Om({date:e}){const[t,n]=C.useState(0);C.useEffect(()=>{const d=setInterval(()=>{n(h=>{const v=Ia().getTime()-e.getTime();return Math.round(v/1e3)})},100);return()=>clearInterval(d)},[e]);const r=If(e),[i,s,o]=r.split(" "),a=t%60,l=(t-a)/60,u=[];l>0&&u.push(`${l}m`),u.push(`${a}s`);const c=u.join(" ");return p.jsxs("span",{children:[i," ",p.jsx("b",{children:s})," ",o,p.jsx(fI,{children:c})]})}function dI({defaultDate:e,date:t,onChange:n}){const[r,i]=C.useState(!1),s="flex flex-row flex-nowrap justify-between";return p.jsxs("div",{className:"m-1",children:[p.jsx("div",{className:s,children:p.jsx(cI,{className:"p-4 rounded-lg",isOpen:r,onClickOutside:()=>i(!1),children:p.jsxs("div",{className:"flex flex-col gap-8 justify-center align-center",children:[p.jsx(iI,{value:t,defaultValue:e,onChange:n}),p.jsx(uI,{value:t,onChange:n}),p.jsx(Om,{date:t})]})})}),p.jsxs("div",{className:s,children:[p.jsx(Om,{date:t}),p.jsx(Ie,{text:r?"Close":"Edit time",disabled:r,onClick:()=>i(!r)})]})]})}const pI=Dt.div`
  display: flex;
  flex-flow: row wrap;
`,mI=Dt.div`
  margin-bottom: 1rem;
`;function gI({app:e,expense:t,update:n}){const[r,i]=C.useState(t.originalAmount!==void 0),[s,o]=C.useState(new Set),[a,l]=C.useState();C.useEffect(()=>{const w=e.paymentAccountsManager.change$.subscribe(D=>{l(e.paymentAccountsManager.get({id:t.paid_with}))}),S=e.currencyManager.change$.subscribe(D=>{o(e.currencyManager.getAll())});return l(e.paymentAccountsManager.get({id:t.paid_with})),o(e.currencyManager.getAll()),()=>{w.unsubscribe(),S.unsubscribe()}},[e,t.paid_with]);function u(w){const S=Zy(w);n({...t,datetime:S})}function c(w){console.debug("Refreshing date"),w.preventDefault(),u(Ia())}function d(w){n({...t,paid_with:w.id,currency:w.currency})}function h(w){let S=w===""?void 0:Number(w);n({...t,amount:S})}function v(w){let S=w===""?void 0:Number(w);n({...t,originalAmount:S})}function E(w){n({...t,originalCurrency:w})}function y(w){console.debug("ExpenseEditor::handleDescriptionChange:description:",w),t.description!==w&&n({...t,description:w})}function f(w){n({...t,shared:w})}function m(w){w&&n({...t,originalAmount:void 0,originalCurrency:void 0}),i(w)}if(a===void 0)return p.jsxs("div",{children:["Account ",p.jsx("code",{children:t.paid_with})," not found"]});const g=[...s].filter(w=>w!==a.currency).sort();return p.jsxs("div",{children:[p.jsx(dI,{date:new Date(Date.parse(t.datetime)),defaultDate:Ia(),onChange:u}),p.jsx(pI,{children:p.jsx(mI,{onClick:c,children:p.jsx(Ie,{text:"now",icon:"rotate",onClick:c})})}),p.jsx(E1,{paidWith:t.paid_with,app:e,onChange:d}),p.jsx("div",{className:"pb-3 flex flex-row flex-no-wrap justify-end",children:p.jsx($m,{label:"paid with different currency",checked:r,onChange:m})}),p.jsx("div",{className:"grid grid-col-2 gap-2",children:r?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"col-span-1",children:p.jsx(Zu,{value:t.originalAmount,placeholder:"Amount in payment currency",onChange:v})}),p.jsx("div",{className:"col-start-2 col-span-2",children:p.jsx(Pn,{id:"payment-currency",selected:t.originalCurrency,options:g.map(w=>({id:w,label:w})),onSelect:E})}),p.jsx("div",{className:"col-span-1",children:p.jsx(Zu,{value:t.amount,placeholder:"Amount in account currency",onChange:h})}),p.jsx("div",{className:"col-start-2 col-span-2",children:p.jsx(Pn,{id:"account-currency",selected:a.currency,options:[{id:a.currency,label:a.currency}],onSelect:()=>{},disabled:!0})})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"col-span-1",children:p.jsx(Zu,{value:t.amount,placeholder:"Amount",onChange:h})}),p.jsx("div",{className:"col-start-2 col-span-2",children:p.jsx(Pn,{selected:a.currency,options:[{id:a.currency,label:a.currency}],onSelect:()=>{},disabled:!0})})]})}),p.jsx(w2,{description:t.description,onChange:y}),p.jsx("div",{className:"py-4 flex flex-row justify-end",children:p.jsx($m,{checked:t.shared,label:"Splitwise",onChange:f})})]})}function yI({app:e}){const[t,n]=C.useState([]),[r,i]=C.useState(void 0),[s,o]=C.useState();C.useEffect(()=>{const y=e.expenseManager.change$.subscribe(f=>{o(e.paymentAccountsManager.getDefault()),n(e.expenseManager.getAll())});return o(e.paymentAccountsManager.getDefault()),n(e.expenseManager.getAll()),y.unsubscribe},[e]);function a(){e.expenseManager.change$.pipe(FS()).subscribe(m=>{i(m.expenseId)});const y=e.paymentAccountsManager.getDefault();if(y===void 0)throw dn("No default account found");const f={datetime:Zy(Ia()),amount:void 0,originalAmount:void 0,currency:y.currency,originalCurrency:void 0,description:"",shared:!1,pending:!0,paid_with:y.id};e.expenseManager.add(f)}function l(){i(void 0)}function u(){window.location.reload(!0)}function c(y){i(y)}function d(y){console.debug("ExpensesForm::handleExpenseEdition::expense",y),e.expenseManager.update(y)}const h=s!==void 0,v=r?e.expenseManager.get(r):void 0,E=t.filter(y=>y.readyToPublish).map(y=>y.expense);return p.jsxs(uo,{children:[p.jsx(Ie,{text:"reload PWA",icon:"rotate",onClick:u}),v?p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{display:"flex",justifyContent:"center"},children:p.jsx(Ie,{text:"Close",onClick:l})}),p.jsx(gI,{expense:v.expense,app:e,update:d})]}):h&&p.jsx("div",{className:"flex justify-center items-center p-4",role:"warning",children:p.jsx("div",{children:"Add expense or select an existing one"})}),v?p.jsx("div",{style:{display:"flex",justifyContent:"center"},children:p.jsx(Ie,{text:"Close",onClick:l})}):h?p.jsx(Ie,{text:"Add expense",onClick:a}):p.jsx("div",{className:"flex justify-center p-4",role:"warning",children:p.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[p.jsxs("div",{children:["Must  ",p.jsx("b",{children:"select a default account"}),'  in "Accounts" page to add an expense.']}),p.jsx(Kx,{to:ln.paymentAccounts,children:p.jsx(Ie,{text:"Go to Accounts"})})]})}),E.length>0&&p.jsx(K_,{expenses:E,app:e}),p.jsx("div",{className:"mt-4",children:p.jsx(P2,{expenses:t,underEdition:r,onEditExpense:c,onDelete:y=>e.expenseManager.delete(y),app:e})})]})}const vI=Dt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  row-gap: 3.5rem;
  height: 100vh;
`,wI=Dt.span`
  font-size: 8rem;
  font-weight: 100;
  color: #aaa;
`,EI=Dt.p`
  margin-top: 1.5rem;
`;function SI(){return p.jsx(uo,{children:p.jsxs(vI,{children:[p.jsx("h1",{children:"Ooops...!"}),p.jsx(wI,{children:"404"}),p.jsx(EI,{children:"Page not found"})]})})}function xI({currencies:e,onAddPaymentAccount:t}){const[n,r]=C.useState(void 0),[i,s]=C.useState(void 0),[o,a]=C.useState(void 0);function l(){n===void 0||i===void 0||o===void 0||t({name:n,ledgerName:i,currency:o})}const u=n!==void 0&&i!==void 0;return p.jsxs("div",{className:"flex flex-col gap-3 ",children:[p.jsx(kt,{htmlFor:"new-account-name",text:"Account name: *",children:p.jsx(Ut,{id:"new-account-name",value:n,placeholder:"Name",onChange:r,className:"mt-1"})}),p.jsx(kt,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:p.jsx(Ut,{id:"new-account-ledger-name",value:i,placeholder:"Ledger name",onChange:s,className:"mt-1"})}),p.jsx(kt,{htmlFor:"new-account-currency",text:"Account currency:",children:p.jsx(Pn,{id:"new-account-currency",selected:o,options:e.map(c=>({id:c,label:c})),onSelect:a,className:"mt-1"})}),p.jsx("div",{className:"flex justify-end p-4",children:p.jsx(Ie,{text:u?"Create":"fill details above",onClick:l,disabled:!u})})]})}function CI({account:e,currencies:t,onUpdate:n}){const[r,i]=C.useState(e.name),[s,o]=C.useState(e.ledgerName),[a,l]=C.useState(e.currency),u=r===e.name&&s===e.ledgerName&&a===e.currency;function c(){r===void 0||s===void 0||a===void 0||u||n({...e,name:r,ledgerName:s,currency:a})}const d=r!==void 0&&s!==void 0;return p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx(kt,{htmlFor:"new-account-name",text:"Account name: *",children:p.jsx(Ut,{id:"new-account-name",value:r,placeholder:"Name",onChange:i,className:"mt-1"})}),p.jsx(kt,{htmlFor:"new-account-ledger-name",text:"Account name in ledger: *",children:p.jsx(Ut,{id:"new-account-ledger-name",value:s,placeholder:"Ledger name",onChange:o,className:"mt-1"})}),p.jsx(kt,{htmlFor:"new-account-currency",text:"Account currency:",children:p.jsx(Pn,{id:"new-account-currency",selected:a,options:t.map(h=>({id:h,label:h})),onSelect:l,className:"mt-1"})}),p.jsx("div",{className:"flex justify-end m-3",children:p.jsx(Ie,{onClick:c,disabled:!d||u,text:d?"Save":"'name' and 'ledger name' must not be empty"})})]})}function kI({account:e,isDefault:t,currencies:n,onUpdate:r,onDelete:i,onMarkAsDefault:s}){const[o,a]=C.useState(!1);let l="px-4 py-3 rounded relative";if(t&&o)l+=" bg-blue-200  dark:bg-blue-900 dark:bg-opacity-50";else if(t&&!o)l+=" bg-blue-200  dark:bg-blue-900";else if(!t&&!o)l+=" bg-gray-100  dark:bg-gray-700";else if(!t&&o)l+=" bg-gray-300  dark:bg-gray-900";else throw dn();if(o===!1){const{name:c,ledgerName:d}=e;return p.jsxs("div",{role:"payment-account",className:l,onClick:()=>a(!0),children:[t&&p.jsx("div",{className:"absolute top-2 right-3 text-xs flex justify-end z-10 opacity-50",role:"default-payment-account-indicator",children:"default"}),p.jsx("div",{children:p.jsx("b",{children:c})}),p.jsx("div",{children:d})]})}function u(){i(e.id)}return p.jsxs("div",{role:"payment-account",className:l,children:[p.jsx(CI,{account:e,currencies:n,onUpdate:r}),p.jsx(Ie,{text:"Delete",onClick:u}),p.jsx(Ie,{text:"Close",onClick:()=>a(!1)}),p.jsx(Ie,{text:t?"is default payment method":"Mark as default",onClick:s,disabled:t})]})}function TI({app:e}){const[t,n]=C.useState([]),[r,i]=C.useState(),[s,o]=C.useState([]);C.useEffect(()=>{var E;const h=e.paymentAccountsManager.change$.subscribe(y=>{var f;n(e.paymentAccountsManager.getAll()),i((f=e.paymentAccountsManager.getDefault())==null?void 0:f.id)}),v=e.currencyManager.change$.subscribe(y=>{o([...e.currencyManager.getAll()].sort())});return n(e.paymentAccountsManager.getAll()),i((E=e.paymentAccountsManager.getDefault())==null?void 0:E.id),o([...e.currencyManager.getAll()].sort()),()=>{h.unsubscribe(),v.unsubscribe()}},[e]);function a(h){e.paymentAccountsManager.add({draft:h})}function l(h){e.paymentAccountsManager.update({account:h})}function u(h){e.paymentAccountsManager.delete({id:h})}function c(h){e.paymentAccountsManager.setDefault({id:h})}const d=s.length>0;return p.jsx(uo,{children:d?p.jsxs(p.Fragment,{children:[p.jsx(xI,{currencies:s,onAddPaymentAccount:a}),r===void 0&&t.length>0&&p.jsx("div",{role:"warning",className:"p-4 flex justify-center",children:p.jsx("p",{children:p.jsx("b",{children:"please, select your default payment account"})})}),p.jsx("div",{className:"flex flex-col gap-3",role:"payment-accounts",children:t.length>0?t.map((h,v)=>p.jsx(kI,{account:h,isDefault:h.id===r,currencies:s,onUpdate:l,onDelete:u,onMarkAsDefault:()=>c(h.id)},`${v}-${h.id}`)):p.jsx("p",{children:"No payment accounts :)"})})]}):p.jsx("div",{children:"You must add currencies in the Settings page to be able to add Payment Accounts here"})})}function Mm(e){return e.join(",")}function jm(e){const t=e.split(",").filter(r=>r!=="").map(r=>`"${r}"`).join(",");return JSON.parse(`[${t}]`)}function AI(){const[e,t]=C.useState(void 0),[n,r]=C.useState(void 0),[i,s]=C.useState(void 0),[o,a]=C.useState(void 0),[l,u]=C.useState();C.useEffect(()=>{if(ye.splitwiseApiToken.exists()&&t(ye.splitwiseApiToken.read()),ye.tripTags.exists()&&r(Mm(ye.tripTags.read())),ye.people.exists()&&s(Mm(ye.people.read())),ye.firestoreConfig.exists()){const y=ye.firestoreConfig.read();a(JSON.stringify(y))}ye.currencies.exists()&&u(ye.currencies.read())},[]);function c(y){if(y===void 0||y===""){t(void 0),ye.splitwiseApiToken.delete();return}t(y),ye.splitwiseApiToken.set(y)}function d(y){if(y===void 0||y===""){r(void 0),ye.tripTags.delete();return}r(y);const f=jm(y);ye.tripTags.set(f)}function h(y){if(y===void 0||y===""){s(void 0),ye.people.delete();return}s(y.replaceAll(",,",",").trim());const f=jm(y);ye.people.set(f)}function v(y){if(y===void 0||y===""){a(void 0),ye.firestoreConfig.delete();return}a(y);const f=JSON.parse(y);ye.firestoreConfig.set(f)}function E(y){if(y===void 0||y===""){u(void 0),ye.currencies.delete();return}u(y),ye.currencies.set(y)}return p.jsx(uo,{children:p.jsxs("div",{className:"px-3 flex flex-col gap-4",children:[p.jsx(kt,{htmlFor:"splitwise-api-token",text:"Splitwise API token",children:p.jsx(Ut,{id:"splitwise-api-token",value:e,placeholder:"Splitwise API token",onChange:c,className:"mt-1"})}),p.jsx(kt,{htmlFor:"trip-tags",text:"Trip tags",children:p.jsx(Ut,{id:"trip-tags",value:n,placeholder:"trip tags",onChange:d,className:"mt-1"})}),p.jsx(kt,{htmlFor:"people",text:"People",children:p.jsx(Ut,{id:"people",value:i,placeholder:"JohnDoe,JaneDoe",onChange:h,className:"mt-1"})}),p.jsx(kt,{htmlFor:"firestore-config",text:"Firestore config",children:p.jsx(Ut,{id:"firestore-config",value:o,placeholder:'{"a":1,"b":2}',onChange:v,isCode:!0,className:"mt-1"})}),p.jsx(kt,{htmlFor:"currencies",text:"Currencies",children:p.jsx(Ut,{id:"currencies",value:l,placeholder:"GBP,EUR,USD",onChange:E,className:"mt-1"})})]})})}const _I="50px",II=Dt.div`
  height: calc(100vh - ${_I});
  overflow-y: scroll;
`;function NI({app:e}){const[t,n]=C.useState(!0),[r,i]=C.useState(jc);C.useEffect(()=>{e.initialize(),n(!1)},[e]);const s="bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-200";return t?p.jsx(jo.Parent,{className:jc,children:p.jsx(jo.ContentFullyCentered,{className:s,children:p.jsx(uo,{children:p.jsx("div",{className:"flex flex-row justify-center",children:"Loading data..."})})})}):p.jsx(By.Provider,{value:{theme:r,setTheme:i},children:p.jsx(Hx,{basename:Jx,children:p.jsx(jo.Parent,{className:r,children:p.jsxs(jo.Content,{className:s,children:[p.jsx(WS,{}),p.jsx(qx,{}),p.jsx(II,{children:p.jsxs(Lx,{children:[p.jsx(Zi,{path:ln.root,element:p.jsx(yI,{app:e})}),p.jsx(Zi,{path:ln.paymentAccounts,element:p.jsx(TI,{app:e})}),p.jsx(Zi,{path:ln.settings,element:p.jsx(AI,{})}),p.jsx(Zi,{path:ln.notFound,element:p.jsx(SI,{})})]})})]})})})})}class $I{constructor({expenseManager:t,paymentAccountsManager:n,browserStorage:r,currencyManager:i}){G(this,"expenseManager");G(this,"paymentAccountsManager");G(this,"currencyManager");G(this,"browserStorage");this.expenseManager=t,this.paymentAccountsManager=n,this.browserStorage=r,this.currencyManager=i,this.paymentAccountsManager.change$.subscribe(s=>this.handlePaymentAccountChange(s))}initialize(){console.debug("App.initialize::started");const t=this.browserStorage.readExpenses();this.expenseManager.initialize({appExpenses:t});const n=this.browserStorage.readCurrencies(),r=this.browserStorage.readPaymentAccounts();this.currencyManager.initialize({currencies:[...n,...r.map(i=>i.currency)]}),this.paymentAccountsManager.initialize({accounts:r,defaultAccountId:this.browserStorage.readDefaultAccountId()}),console.debug("App.initialize::completed")}handlePaymentAccountChange(t){switch(t.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return;case"PaymentAccountUpdated":return;case"PaymentAccountDeleted":return;case"DefaultPaymentAccountSet":return this.handleDefaultPaymentAccountChange(t.id);default:Uy(t,`unsupported PaymentAccountChange: ${t}`)}}handleDefaultPaymentAccountChange(t){this.browserStorage.setDefaultAccountId({id:t})}}var S1=(e=>(e.local="local",e.pushed="pushed",e.changedSincePushed="changedSincePushed",e))(S1||{});class pd{constructor(){G(this,"change$");G(this,"changeSubject");G(this,"expenses");this.changeSubject=new co,this.change$=this.changeSubject.asObservable(),this.expenses=new Map}add(t){console.debug("ExpenseManager.add::newExpense:",t);const n=this.generateId(),i={expense:{id:n,...t},status:"local",readyToPublish:!1};this.expenses.set(n,i),this.changeSubject.next(new x1(n))}get(t){const n=this.expenses.get(t);if(n===void 0)throw new Error(`Expected a ${t} Expense ID in ${pd.name}, but not found`);return n}getAll(){console.debug("ExpenseManager.getAll()");const t=[];for(const n of this.expenses.values())t.push(n);return t.sort((n,r)=>n.expense.datetime<r.expense.datetime?Ws.SwapOrder:Ws.KeepOrder)}update(t){console.debug("ExpenseManager.update::expense:",t);const{id:n}=t,r=this.expenses.get(n);if(r===void 0)throw new Error(`Expected an Expense with ID ${n}, but none found.`);const i={...r,expense:t,readyToPublish:PI(t)};this.expenses.set(n,i),this.changeSubject.next(new C1(n))}delete(t){console.debug(`ExpenseManager.delete::id=${t}`),this.expenses.delete(t),this.changeSubject.next(new k1(t))}initialize({appExpenses:t}){console.debug("ExpenseManager.initialize::Starting initialization...");const n=new Set;t.forEach(r=>{const i=r.expense.id;if(n.has(i))throw new Error(`IDs must be unique, and ${i} is repeated`);n.add(i),this.expenses.set(i,r)}),console.debug("ExpenseManager.initialize::Run to completion")}generateId(){return w1("exp")}}class x1{constructor(t){this.expenseId=t}}class C1{constructor(t){this.expenseId=t}}class k1{constructor(t){this.expenseId=t}}function PI(e){return e.amount!==void 0}class Ur{constructor({expenseManager:t,paymentAccountsManager:n,client:r}){G(this,"client");G(this,"expenseManager");G(this,"paymentAccountsManager");this.client=r,this.expenseManager=t,this.paymentAccountsManager=n,this.expenseManager.change$.subscribe(i=>{switch(console.debug(`BrowserStorage.expenseManager.changes: ${i}`),!0){case i instanceof x1:return this.handleExpenseAdded(i);case i instanceof C1:return this.handleExpenseUpdated(i);case i instanceof k1:return this.handleExpenseDeleted(i);default:throw new Error(`BrowserStorage: unsupported change: ${i}`)}}),this.paymentAccountsManager.change$.subscribe(i=>{switch(console.debug("BrowserStorage.paymentAccountsManager.change$:",i),i.kind){case"PaymentAccountManagerInitialized":return;case"PaymentAccountAdded":return this.persistAllPaymentAccounts();case"PaymentAccountUpdated":return this.persistAllPaymentAccounts();case"PaymentAccountDeleted":return this.persistAllPaymentAccounts()}})}readExpenses(){console.debug("BrowserStorage.readExpenses()");const t=this.client.expenses.read()||{},n=[];for(const r of Object.values(t)){const i={expense:{id:r.expense.id,amount:r.expense.amount,currency:r.expense.currency,originalAmount:r.expense.originalAmount,originalCurrency:r.expense.originalCurrency,description:r.expense.description,datetime:r.expense.datetime,paid_with:r.expense.paid_with,shared:r.expense.shared,pending:r.expense.pending},status:S1[r.status],readyToPublish:r.readyToPublish};n.push(i)}return n}readCurrencies(){return console.debug(`${Ur.name}.${this.readCurrencies.name}()`),(this.client.currencies.read()||"").split(",")}readPaymentAccounts(){console.debug(`${Ur.name}.${this.readPaymentAccounts.name}()`);const t=this.client.paymentAccounts.read()||[],n=[];for(const r of t){const i={id:r.id,name:r.name,ledgerName:r.ledgerName,currency:r.currency};n.push(i)}return n}readDefaultAccountId(){return console.debug(`${Ur.name}.${this.readDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.read()}setDefaultAccountId({id:t}){console.debug(`${Ur.name}.${this.setDefaultAccountId.name}()`),this.client.defaultPaymentAccountId.set(t)}persistAppExpense(t){const r={...this.client.expenses.read()||{},[t.expense.id]:t};this.client.expenses.set(r)}deleteExpense(t){console.debug(`BrowserStorage.deleteExpense::id=${t}`);const r={...this.client.expenses.read()||{}};delete r[t],this.client.expenses.set(r)}handleExpenseAdded(t){const n=this.expenseManager.get(t.expenseId);this.persistAppExpense(n)}handleExpenseUpdated(t){const n=this.expenseManager.get(t.expenseId);this.persistAppExpense(n)}handleExpenseDeleted(t){this.deleteExpense(t.expenseId)}persistAllPaymentAccounts(){const t=this.paymentAccountsManager.getAll();this.client.paymentAccounts.set(t)}}class DI{constructor(){G(this,"change$");G(this,"currencies");G(this,"changeSubject");this.currencies=new Set,this.changeSubject=new co,this.change$=this.changeSubject.asObservable()}initialize({currencies:t}){for(const n of t)[void 0,null,""].includes(n)||this.currencies.add(n);this.changeSubject.next({kind:"CurrencyManagerInitialized"})}getAll(){return new Set([...this.currencies.values()])}}const bI=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function OI(e){if("serviceWorker"in navigator){if(new URL({}.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const n=`${{}.PUBLIC_URL}/service-worker.js`;bI?(MI(n,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):T1(n,e)})}}function T1(e,t){navigator.serviceWorker.register(e).then(n=>{n.update(),setInterval(()=>{n.update(),console.debug("Checked for update...")},1e3*60*5),n.onupdatefound=()=>{const r=n.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(n)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(n)))})}}).catch(n=>{console.error("Error during service worker registration:",n)})}function MI(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");n.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(i=>{i.unregister().then(()=>{window.location.reload()})}):T1(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const jI=ES`
  a {
    color: inherit;
    text-decoration: none;
  }

  ul li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  ol li {
    list-style-type: none;
    padding: 0;
    margin: 0;
  }

  html {
    font-size: 1.2rem;
  }

  body {
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 0;
    text-transform: none;
  }
`;var A1={exports:{}},bt={},_1={exports:{}},I1={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,u=null,c=function(){if(l!==null)try{var O=e.unstable_now();l(!0,O),l=null}catch(k){throw setTimeout(c,0),k}};t=function(O){l!==null?setTimeout(t,0,O):(l=O,setTimeout(c,0))},n=function(O,k){u=setTimeout(O,k)},r=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var v=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof v!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var E=!1,y=null,f=-1,m=5,g=0;e.unstable_shouldYield=function(){return e.unstable_now()>=g},i=function(){},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<O?Math.floor(1e3/O):5};var w=new MessageChannel,S=w.port2;w.port1.onmessage=function(){if(y!==null){var O=e.unstable_now();g=O+m;try{y(!0,O)?S.postMessage(null):(E=!1,y=null)}catch(k){throw S.postMessage(null),k}}else E=!1},t=function(O){y=O,E||(E=!0,S.postMessage(null))},n=function(O,k){f=d(function(){O(e.unstable_now())},k)},r=function(){h(f),f=-1}}function D(O,k){var T=O.length;O.push(k);e:for(;;){var b=T-1>>>1,F=O[b];if(F!==void 0&&0<L(F,k))O[b]=k,O[T]=F,T=b;else break e}}function I(O){return O=O[0],O===void 0?null:O}function R(O){var k=O[0];if(k!==void 0){var T=O.pop();if(T!==k){O[0]=T;e:for(var b=0,F=O.length;b<F;){var x=2*(b+1)-1,q=O[x],P=x+1,re=O[P];if(q!==void 0&&0>L(q,T))re!==void 0&&0>L(re,q)?(O[b]=re,O[P]=T,b=P):(O[b]=q,O[x]=T,b=x);else if(re!==void 0&&0>L(re,T))O[b]=re,O[P]=T,b=P;else break e}}return k}return null}function L(O,k){var T=O.sortIndex-k.sortIndex;return T!==0?T:O.id-k.id}var A=[],Q=[],Ot=1,ue=null,le=3,at=!1,Ee=!1,Mt=!1;function lt(O){for(var k=I(Q);k!==null;){if(k.callback===null)R(Q);else if(k.startTime<=O)R(Q),k.sortIndex=k.expirationTime,D(A,k);else break;k=I(Q)}}function qe(O){if(Mt=!1,lt(O),!Ee)if(I(A)!==null)Ee=!0,t(rn);else{var k=I(Q);k!==null&&n(qe,k.startTime-O)}}function rn(O,k){Ee=!1,Mt&&(Mt=!1,r()),at=!0;var T=le;try{for(lt(k),ue=I(A);ue!==null&&(!(ue.expirationTime>k)||O&&!e.unstable_shouldYield());){var b=ue.callback;if(typeof b=="function"){ue.callback=null,le=ue.priorityLevel;var F=b(ue.expirationTime<=k);k=e.unstable_now(),typeof F=="function"?ue.callback=F:ue===I(A)&&R(A),lt(k)}else R(A);ue=I(A)}if(ue!==null)var x=!0;else{var q=I(Q);q!==null&&n(qe,q.startTime-k),x=!1}return x}finally{ue=null,le=T,at=!1}}var yn=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){Ee||at||(Ee=!0,t(rn))},e.unstable_getCurrentPriorityLevel=function(){return le},e.unstable_getFirstCallbackNode=function(){return I(A)},e.unstable_next=function(O){switch(le){case 1:case 2:case 3:var k=3;break;default:k=le}var T=le;le=k;try{return O()}finally{le=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=yn,e.unstable_runWithPriority=function(O,k){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var T=le;le=O;try{return k()}finally{le=T}},e.unstable_scheduleCallback=function(O,k,T){var b=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?b+T:b):T=b,O){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=T+F,O={id:Ot++,callback:k,priorityLevel:O,startTime:T,expirationTime:F,sortIndex:-1},T>b?(O.sortIndex=T,D(Q,O),I(A)===null&&O===I(Q)&&(Mt?r():Mt=!0,n(qe,T-b))):(O.sortIndex=F,D(A,O),Ee||at||(Ee=!0,t(rn))),O},e.unstable_wrapCallback=function(O){var k=le;return function(){var T=le;le=k;try{return O.apply(this,arguments)}finally{le=T}}}})(I1);_1.exports=I1;var RI=_1.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=C,ge=Zg,Re=RI;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!pu)throw Error($(227));var N1=new Set,Gs={};function Ir(e,t){gi(e,t),gi(e+"Capture",t)}function gi(e,t){for(Gs[e]=t,e=0;e<t.length;e++)N1.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rm=Object.prototype.hasOwnProperty,Lm={},Fm={};function FI(e){return Rm.call(Fm,e)?!0:Rm.call(Lm,e)?!1:LI.test(e)?Fm[e]=!0:(Lm[e]=!0,!1)}function UI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BI(e,t,n,r){if(t===null||typeof t>"u"||UI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var md=/[\-:]([a-z])/g;function gd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(md,gd);Qe[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(md,gd);Qe[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(md,gd);Qe[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function yd(e,t,n,r){var i=Qe.hasOwnProperty(t)?Qe[t]:null,s=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");s||(BI(t,n,i,r)&&(n=null),r||i===null?FI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nr=pu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ns=60103,lr=60106,Sn=60107,vd=60108,ps=60114,wd=60109,Ed=60110,mu=60112,ms=60113,Qa=60120,gu=60115,Sd=60116,xd=60121,Cd=60128,$1=60129,kd=60130,Eh=60131;if(typeof Symbol=="function"&&Symbol.for){var Pe=Symbol.for;ns=Pe("react.element"),lr=Pe("react.portal"),Sn=Pe("react.fragment"),vd=Pe("react.strict_mode"),ps=Pe("react.profiler"),wd=Pe("react.provider"),Ed=Pe("react.context"),mu=Pe("react.forward_ref"),ms=Pe("react.suspense"),Qa=Pe("react.suspense_list"),gu=Pe("react.memo"),Sd=Pe("react.lazy"),xd=Pe("react.block"),Pe("react.scope"),Cd=Pe("react.opaque.id"),$1=Pe("react.debug_trace_mode"),kd=Pe("react.offscreen"),Eh=Pe("react.legacy_hidden")}var Um=typeof Symbol=="function"&&Symbol.iterator;function Bi(e){return e===null||typeof e!="object"?null:(e=Um&&e[Um]||e["@@iterator"],typeof e=="function"?e:null)}var nc;function rs(e){if(nc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nc=t&&t[1]||""}return`
`+nc+e}var rc=!1;function Qo(e,t){if(!e||rc)return"";rc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{rc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rs(e):""}function VI(e){switch(e.tag){case 5:return rs(e.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 2:case 15:return e=Qo(e.type,!1),e;case 11:return e=Qo(e.type.render,!1),e;case 22:return e=Qo(e.type._render,!1),e;case 1:return e=Qo(e.type,!0),e;default:return""}}function Xr(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sn:return"Fragment";case lr:return"Portal";case ps:return"Profiler";case vd:return"StrictMode";case ms:return"Suspense";case Qa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ed:return(e.displayName||"Context")+".Consumer";case wd:return(e._context.displayName||"Context")+".Provider";case mu:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case gu:return Xr(e.type);case xd:return Xr(e._render);case Sd:t=e._payload,e=e._init;try{return Xr(e(t))}catch{}}return null}function Hn(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function P1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zI(e){var t=P1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qo(e){e._valueTracker||(e._valueTracker=zI(e))}function D1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=P1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sh(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function b1(e,t){t=t.checked,t!=null&&yd(e,"checked",t,!1)}function xh(e,t){b1(e,t);var n=Hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ch(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ch(e,t.type,Hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ch(e,t,n){(t!=="number"||qa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function HI(e){var t="";return pu.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function kh(e,t){return e=ge({children:void 0},t),(t=HI(t.children))&&(e.children=t),e}function Jr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Th(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hn(n)}}function O1(e,t){var n=Hn(t.value),r=Hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Ah={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function M1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _h(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?M1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yo,j1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==Ah.svg||"innerHTML"in e)e.innerHTML=t;else{for(Yo=Yo||document.createElement("div"),Yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gs={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WI=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(e){WI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gs[t]=gs[e]})});function R1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gs.hasOwnProperty(e)&&gs[e]?(""+t).trim():t+"px"}function L1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=R1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var GI=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ih(e,t){if(t){if(GI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Nh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Td(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $h=null,Zr=null,ei=null;function Wm(e){if(e=_o(e)){if(typeof $h!="function")throw Error($(280));var t=e.stateNode;t&&(t=xu(t),$h(e.stateNode,e.type,t))}}function F1(e){Zr?ei?ei.push(e):ei=[e]:Zr=e}function U1(){if(Zr){var e=Zr,t=ei;if(ei=Zr=null,Wm(e),t)for(e=0;e<t.length;e++)Wm(t[e])}}function Ad(e,t){return e(t)}function B1(e,t,n,r,i){return e(t,n,r,i)}function _d(){}var V1=Ad,ur=!1,ic=!1;function Id(){(Zr!==null||ei!==null)&&(_d(),U1())}function KI(e,t,n){if(ic)return e(t,n);ic=!0;try{return V1(e,t,n)}finally{ic=!1,Id()}}function Qs(e,t){var n=e.stateNode;if(n===null)return null;var r=xu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Ph=!1;if(mn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){Ph=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{Ph=!1}function QI(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ys=!1,Ya=null,Xa=!1,Dh=null,qI={onError:function(e){ys=!0,Ya=e}};function YI(e,t,n,r,i,s,o,a,l){ys=!1,Ya=null,QI.apply(qI,arguments)}function XI(e,t,n,r,i,s,o,a,l){if(YI.apply(this,arguments),ys){if(ys){var u=Ya;ys=!1,Ya=null}else throw Error($(198));Xa||(Xa=!0,Dh=u)}}function $r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function z1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gm(e){if($r(e)!==e)throw Error($(188))}function JI(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gm(i),e;if(s===r)return Gm(i),t;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function H1(e){if(e=JI(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Km(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var W1,Nd,G1,K1,bh=!1,Qt=[],Dn=null,bn=null,On=null,qs=new Map,Ys=new Map,zi=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oh(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function qm(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(t.pointerId)}}function Hi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e=Oh(t,n,r,i,s),t!==null&&(t=_o(t),t!==null&&Nd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ZI(e,t,n,r,i){switch(t){case"focusin":return Dn=Hi(Dn,e,t,n,r,i),!0;case"dragenter":return bn=Hi(bn,e,t,n,r,i),!0;case"mouseover":return On=Hi(On,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return qs.set(s,Hi(qs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ys.set(s,Hi(Ys.get(s)||null,e,t,n,r,i)),!0}return!1}function eN(e){var t=cr(e.target);if(t!==null){var n=$r(t);if(n!==null){if(t=n.tag,t===13){if(t=z1(n),t!==null){e.blockedOn=t,K1(e.lanePriority,function(){Re.unstable_runWithPriority(e.priority,function(){G1(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=_o(n),t!==null&&Nd(t),e.blockedOn=n,!1;t.shift()}return!0}function Ym(e,t,n){ca(e)&&n.delete(t)}function tN(){for(bh=!1;0<Qt.length;){var e=Qt[0];if(e.blockedOn!==null){e=_o(e.blockedOn),e!==null&&W1(e);break}for(var t=e.targetContainers;0<t.length;){var n=bd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&Qt.shift()}Dn!==null&&ca(Dn)&&(Dn=null),bn!==null&&ca(bn)&&(bn=null),On!==null&&ca(On)&&(On=null),qs.forEach(Ym),Ys.forEach(Ym)}function Wi(e,t){e.blockedOn===t&&(e.blockedOn=null,bh||(bh=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,tN)))}function Q1(e){function t(i){return Wi(i,e)}if(0<Qt.length){Wi(Qt[0],e);for(var n=1;n<Qt.length;n++){var r=Qt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dn!==null&&Wi(Dn,e),bn!==null&&Wi(bn,e),On!==null&&Wi(On,e),qs.forEach(t),Ys.forEach(t),n=0;n<zi.length;n++)r=zi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)eN(n),n.blockedOn===null&&zi.shift()}function Xo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Br={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},sc={},q1={};mn&&(q1=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function yu(e){if(sc[e])return sc[e];if(!Br[e])return e;var t=Br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in q1)return sc[e]=t[n];return e}var Y1=yu("animationend"),X1=yu("animationiteration"),J1=yu("animationstart"),Z1=yu("transitionend"),ew=new Map,$d=new Map,nN=["abort","abort",Y1,"animationEnd",X1,"animationIteration",J1,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Z1,"transitionEnd","waiting","waiting"];function Pd(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),$d.set(r,t),ew.set(r,i),Ir(i,[r])}}var rN=Re.unstable_now;rN();var ce=8;function jr(e){if(1&e)return ce=15,1;if(2&e)return ce=14,2;if(4&e)return ce=13,4;var t=24&e;return t!==0?(ce=12,t):e&32?(ce=11,32):(t=192&e,t!==0?(ce=10,t):e&256?(ce=9,256):(t=3584&e,t!==0?(ce=8,t):e&4096?(ce=7,4096):(t=4186112&e,t!==0?(ce=6,t):(t=62914560&e,t!==0?(ce=5,t):e&67108864?(ce=4,67108864):e&134217728?(ce=3,134217728):(t=805306368&e,t!==0?(ce=2,t):1073741824&e?(ce=1,1073741824):(ce=8,e))))))}function iN(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function sN(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error($(358,e))}}function Xs(e,t){var n=e.pendingLanes;if(n===0)return ce=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(s!==0)r=s,i=ce=15;else if(s=n&134217727,s!==0){var l=s&~o;l!==0?(r=jr(l),i=ce):(a&=s,a!==0&&(r=jr(a),i=ce))}else s=n&~o,s!==0?(r=jr(s),i=ce):a!==0&&(r=jr(a),i=ce);if(r===0)return 0;if(r=31-Wn(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&!(t&o)){if(jr(t),i<=ce)return t;ce=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wn(t),i=1<<n,r|=e[n],t&=~i;return r}function tw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ja(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Rr(24&~t),e===0?Ja(10,t):e;case 10:return e=Rr(192&~t),e===0?Ja(8,t):e;case 8:return e=Rr(3584&~t),e===0&&(e=Rr(4186112&~t),e===0&&(e=512)),e;case 2:return t=Rr(805306368&~t),t===0&&(t=268435456),t}throw Error($(358,e))}function Rr(e){return e&-e}function oc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vu(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-Wn(t),e[t]=n}var Wn=Math.clz32?Math.clz32:lN,oN=Math.log,aN=Math.LN2;function lN(e){return e===0?32:31-(oN(e)/aN|0)|0}var uN=Re.unstable_UserBlockingPriority,cN=Re.unstable_runWithPriority,ha=!0;function hN(e,t,n,r){ur||_d();var i=Dd,s=ur;ur=!0;try{B1(i,e,t,n,r)}finally{(ur=s)||Id()}}function fN(e,t,n,r){cN(uN,Dd.bind(null,e,t,n,r))}function Dd(e,t,n,r){if(ha){var i;if((i=(t&4)===0)&&0<Qt.length&&-1<Qm.indexOf(e))e=Oh(null,e,t,n,r),Qt.push(e);else{var s=bd(e,t,n,r);if(s===null)i&&qm(e,r);else{if(i){if(-1<Qm.indexOf(e)){e=Oh(s,e,t,n,r),Qt.push(e);return}if(ZI(s,e,t,n,r))return;qm(e,r)}pw(e,t,r,null,n)}}}}function bd(e,t,n,r){var i=Td(r);if(i=cr(i),i!==null){var s=$r(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=z1(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return pw(e,t,r,i,n),null}var Cn=null,Od=null,fa=null;function nw(){if(fa)return fa;var e,t=Od,n=t.length,r,i="value"in Cn?Cn.value:Cn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return fa=i.slice(e,1<r?1-r:void 0)}function da(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jo(){return!0}function Xm(){return!1}function xt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jo:Xm,this.isPropagationStopped=Xm,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),t}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Md=xt(Pi),Ao=ge({},Pi,{view:0,detail:0}),dN=xt(Ao),ac,lc,Gi,wu=ge({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(ac=e.screenX-Gi.screenX,lc=e.screenY-Gi.screenY):lc=ac=0,Gi=e),ac)},movementY:function(e){return"movementY"in e?e.movementY:lc}}),Jm=xt(wu),pN=ge({},wu,{dataTransfer:0}),mN=xt(pN),gN=ge({},Ao,{relatedTarget:0}),uc=xt(gN),yN=ge({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),vN=xt(yN),wN=ge({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EN=xt(wN),SN=ge({},Pi,{data:0}),Zm=xt(SN),xN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kN[e])?!!t[e]:!1}function jd(){return TN}var AN=ge({},Ao,{key:function(e){if(e.key){var t=xN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=da(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jd,charCode:function(e){return e.type==="keypress"?da(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?da(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_N=xt(AN),IN=ge({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eg=xt(IN),NN=ge({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jd}),$N=xt(NN),PN=ge({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),DN=xt(PN),bN=ge({},wu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ON=xt(bN),MN=[9,13,27,32],Rd=mn&&"CompositionEvent"in window,vs=null;mn&&"documentMode"in document&&(vs=document.documentMode);var jN=mn&&"TextEvent"in window&&!vs,rw=mn&&(!Rd||vs&&8<vs&&11>=vs),tg=String.fromCharCode(32),ng=!1;function iw(e,t){switch(e){case"keyup":return MN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function RN(e,t){switch(e){case"compositionend":return sw(t);case"keypress":return t.which!==32?null:(ng=!0,tg);case"textInput":return e=t.data,e===tg&&ng?null:e;default:return null}}function LN(e,t){if(Vr)return e==="compositionend"||!Rd&&iw(e,t)?(e=nw(),fa=Od=Cn=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rw&&t.locale!=="ko"?null:t.data;default:return null}}var FN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FN[e.type]:t==="textarea"}function ow(e,t,n,r){F1(r),t=Za(t,"onChange"),0<t.length&&(n=new Md("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ws=null,Js=null;function UN(e){hw(e,0)}function Eu(e){var t=Hr(e);if(D1(t))return e}function BN(e,t){if(e==="change")return t}var aw=!1;if(mn){var cc;if(mn){var hc="oninput"in document;if(!hc){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),hc=typeof ig.oninput=="function"}cc=hc}else cc=!1;aw=cc&&(!document.documentMode||9<document.documentMode)}function sg(){ws&&(ws.detachEvent("onpropertychange",lw),Js=ws=null)}function lw(e){if(e.propertyName==="value"&&Eu(Js)){var t=[];if(ow(t,Js,e,Td(e)),e=UN,ur)e(t);else{ur=!0;try{Ad(e,t)}finally{ur=!1,Id()}}}}function VN(e,t,n){e==="focusin"?(sg(),ws=t,Js=n,ws.attachEvent("onpropertychange",lw)):e==="focusout"&&sg()}function zN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Js)}function HN(e,t){if(e==="click")return Eu(t)}function WN(e,t){if(e==="input"||e==="change")return Eu(t)}function GN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:GN,KN=Object.prototype.hasOwnProperty;function Zs(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!KN.call(t,n[r])||!Tt(e[n[r]],t[n[r]]))return!1;return!0}function og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,t){var n=og(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=og(n)}}function uw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lg(){for(var e=window,t=qa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qa(e.document)}return t}function Mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var QN=mn&&"documentMode"in document&&11>=document.documentMode,zr=null,jh=null,Es=null,Rh=!1;function ug(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rh||zr==null||zr!==qa(r)||(r=zr,"selectionStart"in r&&Mh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Es&&Zs(Es,r)||(Es=r,r=Za(jh,"onSelect"),0<r.length&&(t=new Md("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zr)))}Pd("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Pd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Pd(nN,2);for(var cg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),fc=0;fc<cg.length;fc++)$d.set(cg[fc],0);gi("onMouseEnter",["mouseout","mouseover"]);gi("onMouseLeave",["mouseout","mouseover"]);gi("onPointerEnter",["pointerout","pointerover"]);gi("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cw=new Set("cancel close invalid load scroll toggle".split(" ").concat(is));function hg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,XI(r,t,void 0,e),e.currentTarget=null}function hw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;hg(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;hg(i,a,u),s=l}}}if(Xa)throw e=Dh,Xa=!1,Dh=null,e}function fe(e,t){var n=gw(t),r=e+"__bubble";n.has(r)||(dw(t,e,2,!1),n.add(r))}var fg="_reactListening"+Math.random().toString(36).slice(2);function fw(e){e[fg]||(e[fg]=!0,N1.forEach(function(t){cw.has(t)||dg(t,!1,e,null),dg(t,!0,e,null)}))}function dg(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(e==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!t&&cw.has(e)){if(e!=="scroll")return;i|=2,s=r}var o=gw(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),dw(s,e,i,t),o.add(a))}function dw(e,t,n,r){var i=$d.get(t);switch(i===void 0?2:i){case 0:i=hN;break;case 1:i=fN;break;default:i=Dd}n=i.bind(null,t,n,e),i=void 0,!Ph||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function pw(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}KI(function(){var u=s,c=Td(n),d=[];e:{var h=ew.get(e);if(h!==void 0){var v=Md,E=e;switch(e){case"keypress":if(da(n)===0)break e;case"keydown":case"keyup":v=_N;break;case"focusin":E="focus",v=uc;break;case"focusout":E="blur",v=uc;break;case"beforeblur":case"afterblur":v=uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Jm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=mN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=$N;break;case Y1:case X1:case J1:v=vN;break;case Z1:v=DN;break;case"scroll":v=dN;break;case"wheel":v=ON;break;case"copy":case"cut":case"paste":v=EN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=eg}var y=(t&4)!==0,f=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var g=u,w;g!==null;){w=g;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,m!==null&&(S=Qs(g,m),S!=null&&y.push(eo(g,S,w)))),f)break;g=g.return}0<y.length&&(h=new v(h,E,null,n,c),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&!(t&16)&&(E=n.relatedTarget||n.fromElement)&&(cr(E)||E[Di]))break e;if((v||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=u,E=E?cr(E):null,E!==null&&(f=$r(E),E!==f||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=u),v!==E)){if(y=Jm,S="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=eg,S="onPointerLeave",m="onPointerEnter",g="pointer"),f=v==null?h:Hr(v),w=E==null?h:Hr(E),h=new y(S,g+"leave",v,n,c),h.target=f,h.relatedTarget=w,S=null,cr(c)===u&&(y=new y(m,g+"enter",E,n,c),y.target=w,y.relatedTarget=f,S=y),f=S,v&&E)t:{for(y=v,m=E,g=0,w=y;w;w=Or(w))g++;for(w=0,S=m;S;S=Or(S))w++;for(;0<g-w;)y=Or(y),g--;for(;0<w-g;)m=Or(m),w--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=Or(y),m=Or(m)}y=null}else y=null;v!==null&&pg(d,h,v,y,!1),E!==null&&f!==null&&pg(d,f,E,y,!0)}}e:{if(h=u?Hr(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var D=BN;else if(rg(h))if(aw)D=WN;else{D=zN;var I=VN}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=HN);if(D&&(D=D(e,u))){ow(d,D,n,c);break e}I&&I(e,h,u),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Ch(h,"number",h.value)}switch(I=u?Hr(u):window,e){case"focusin":(rg(I)||I.contentEditable==="true")&&(zr=I,jh=u,Es=null);break;case"focusout":Es=jh=zr=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,ug(d,n,c);break;case"selectionchange":if(QN)break;case"keydown":case"keyup":ug(d,n,c)}var R;if(Rd)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Vr?iw(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(rw&&n.locale!=="ko"&&(Vr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Vr&&(R=nw()):(Cn=c,Od="value"in Cn?Cn.value:Cn.textContent,Vr=!0)),I=Za(u,L),0<I.length&&(L=new Zm(L,e,null,n,c),d.push({event:L,listeners:I}),R?L.data=R:(R=sw(n),R!==null&&(L.data=R)))),(R=jN?RN(e,n):LN(e,n))&&(u=Za(u,"onBeforeInput"),0<u.length&&(c=new Zm("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}hw(d,t)})}function eo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Za(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qs(e,n),s!=null&&r.unshift(eo(e,s,i)),s=Qs(e,t),s!=null&&r.push(eo(e,s,i))),e=e.return}return r}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pg(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Qs(n,s),l!=null&&o.unshift(eo(n,l,a))):i||(l=Qs(n,s),l!=null&&o.push(eo(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}function el(){}var dc=null,pc=null;function mw(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Lh(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,qN=typeof clearTimeout=="function"?clearTimeout:void 0;function Ld(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function gg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mc=0;function YN(e){return{$$typeof:Cd,toString:e,valueOf:e}}var Su=Math.random().toString(36).slice(2),kn="__reactFiber$"+Su,tl="__reactProps$"+Su,Di="__reactContainer$"+Su,yg="__reactEvents$"+Su;function cr(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Di]||n[kn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gg(e);e!==null;){if(n=e[kn])return n;e=gg(e)}return t}e=n,n=e.parentNode}return null}function _o(e){return e=e[kn]||e[Di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function xu(e){return e[tl]||null}function gw(e){var t=e[yg];return t===void 0&&(t=e[yg]=new Set),t}var Fh=[],Wr=-1;function Jn(e){return{current:e}}function pe(e){0>Wr||(e.current=Fh[Wr],Fh[Wr]=null,Wr--)}function xe(e,t){Wr++,Fh[Wr]=e.current,e.current=t}var Gn={},ot=Jn(Gn),mt=Jn(!1),xr=Gn;function yi(e,t){var n=e.type.contextTypes;if(!n)return Gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gt(e){return e=e.childContextTypes,e!=null}function nl(){pe(mt),pe(ot)}function vg(e,t,n){if(ot.current!==Gn)throw Error($(168));xe(ot,t),xe(mt,n)}function yw(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,Xr(t)||"Unknown",i));return ge({},n,r)}function pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,xr=ot.current,xe(ot,e),xe(mt,mt.current),!0}function wg(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=yw(e,t,xr),r.__reactInternalMemoizedMergedChildContext=e,pe(mt),pe(ot),xe(ot,e)):pe(mt),xe(mt,n)}var Fd=null,gr=null,XN=Re.unstable_runWithPriority,Ud=Re.unstable_scheduleCallback,Uh=Re.unstable_cancelCallback,JN=Re.unstable_shouldYield,Eg=Re.unstable_requestPaint,Bh=Re.unstable_now,ZN=Re.unstable_getCurrentPriorityLevel,Cu=Re.unstable_ImmediatePriority,vw=Re.unstable_UserBlockingPriority,ww=Re.unstable_NormalPriority,Ew=Re.unstable_LowPriority,Sw=Re.unstable_IdlePriority,gc={},e$=Eg!==void 0?Eg:function(){},on=null,ma=null,yc=!1,Sg=Bh(),nt=1e4>Sg?Bh:function(){return Bh()-Sg};function vi(){switch(ZN()){case Cu:return 99;case vw:return 98;case ww:return 97;case Ew:return 96;case Sw:return 95;default:throw Error($(332))}}function xw(e){switch(e){case 99:return Cu;case 98:return vw;case 97:return ww;case 96:return Ew;case 95:return Sw;default:throw Error($(332))}}function Cr(e,t){return e=xw(e),XN(e,t)}function to(e,t,n){return e=xw(e),Ud(e,t,n)}function nn(){if(ma!==null){var e=ma;ma=null,Uh(e)}Cw()}function Cw(){if(!yc&&on!==null){yc=!0;var e=0;try{var t=on;Cr(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),on=null}catch(n){throw on!==null&&(on=on.slice(e+1)),Ud(Cu,nn),n}finally{yc=!1}}}var t$=Nr.ReactCurrentBatchConfig;function Lt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var rl=Jn(null),il=null,Gr=null,sl=null;function Bd(){sl=Gr=il=null}function Vd(e){var t=rl.current;pe(rl),e.type._context._currentValue=t}function kw(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function ni(e,t){il=e,sl=Gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function Nt(e,t){if(sl!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(sl=e,t=1073741823),t={context:e,observedBits:t,next:null},Gr===null){if(il===null)throw Error($(308));Gr=t,il.dependencies={lanes:0,firstContext:t,responders:null}}else Gr=Gr.next=t;return e._currentValue}var En=!1;function zd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Tw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jn(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function xg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function no(e,t,n,r){var i=e.updateQueue;En=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;if(c!==null){c=c.updateQueue;var d=c.lastBaseUpdate;d!==o&&(d===null?c.firstBaseUpdate=u:d.next=u,c.lastBaseUpdate=l)}}if(s!==null){d=i.baseState,o=0,c=u=l=null;do{a=s.lane;var h=s.eventTime;if((r&a)===a){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,E=s;switch(a=t,h=n,E.tag){case 1:if(v=E.payload,typeof v=="function"){d=v.call(h,d,a);break e}d=v;break e;case 3:v.flags=v.flags&-4097|64;case 0:if(v=E.payload,a=typeof v=="function"?v.call(h,d,a):v,a==null)break e;d=ge({},d,a);break e;case 2:En=!0}}s.callback!==null&&(e.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else h={eventTime:h,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,No|=o,e.lanes=o,e.memoizedState=d}}function Cg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Aw=new pu.Component().refs;function ol(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ku={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wt(),i=Rn(e),s=Mn(r,i);s.payload=t,n!=null&&(s.callback=n),jn(e,s),Ln(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wt(),i=Rn(e),s=Mn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),jn(e,s),Ln(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),r=Rn(e),i=Mn(n,r);i.tag=2,t!=null&&(i.callback=t),jn(e,i),Ln(e,r,n)}};function kg(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Zs(n,r)||!Zs(i,s):!0}function _w(e,t,n){var r=!1,i=Gn,s=t.contextType;return typeof s=="object"&&s!==null?s=Nt(s):(i=gt(t)?xr:ot.current,r=t.contextTypes,s=(r=r!=null)?yi(e,i):Gn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ku,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Tg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ku.enqueueReplaceState(t,t.state,null)}function Vh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Aw,zd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Nt(s):(s=gt(t)?xr:ot.current,i.context=yi(e,s)),no(e,n,i,r),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ol(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ku.enqueueReplaceState(i,i.state,null),no(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Zo=Array.isArray;function Ki(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=r.refs;o===Aw&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function ea(e,t){if(e.type!=="textarea")throw Error($(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Iw(e){function t(f,m){if(e){var g=f.lastEffect;g!==null?(g.nextEffect=m,f.lastEffect=m):f.firstEffect=f.lastEffect=m,m.nextEffect=null,m.flags=8}}function n(f,m){if(!e)return null;for(;m!==null;)t(f,m),m=m.sibling;return null}function r(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function i(f,m){return f=Qn(f,m),f.index=0,f.sibling=null,f}function s(f,m,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<m?(f.flags=2,m):g):(f.flags=2,m)):m}function o(f){return e&&f.alternate===null&&(f.flags=2),f}function a(f,m,g,w){return m===null||m.tag!==6?(m=xc(g,f.mode,w),m.return=f,m):(m=i(m,g),m.return=f,m)}function l(f,m,g,w){return m!==null&&m.elementType===g.type?(w=i(m,g.props),w.ref=Ki(f,m,g),w.return=f,w):(w=wa(g.type,g.key,g.props,null,f.mode,w),w.ref=Ki(f,m,g),w.return=f,w)}function u(f,m,g,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Cc(g,f.mode,w),m.return=f,m):(m=i(m,g.children||[]),m.return=f,m)}function c(f,m,g,w,S){return m===null||m.tag!==7?(m=oi(g,f.mode,w,S),m.return=f,m):(m=i(m,g),m.return=f,m)}function d(f,m,g){if(typeof m=="string"||typeof m=="number")return m=xc(""+m,f.mode,g),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ns:return g=wa(m.type,m.key,m.props,null,f.mode,g),g.ref=Ki(f,null,m),g.return=f,g;case lr:return m=Cc(m,f.mode,g),m.return=f,m}if(Zo(m)||Bi(m))return m=oi(m,f.mode,g,null),m.return=f,m;ea(f,m)}return null}function h(f,m,g,w){var S=m!==null?m.key:null;if(typeof g=="string"||typeof g=="number")return S!==null?null:a(f,m,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ns:return g.key===S?g.type===Sn?c(f,m,g.props.children,w,S):l(f,m,g,w):null;case lr:return g.key===S?u(f,m,g,w):null}if(Zo(g)||Bi(g))return S!==null?null:c(f,m,g,w,null);ea(f,g)}return null}function v(f,m,g,w,S){if(typeof w=="string"||typeof w=="number")return f=f.get(g)||null,a(m,f,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ns:return f=f.get(w.key===null?g:w.key)||null,w.type===Sn?c(m,f,w.props.children,S,w.key):l(m,f,w,S);case lr:return f=f.get(w.key===null?g:w.key)||null,u(m,f,w,S)}if(Zo(w)||Bi(w))return f=f.get(g)||null,c(m,f,w,S,null);ea(m,w)}return null}function E(f,m,g,w){for(var S=null,D=null,I=m,R=m=0,L=null;I!==null&&R<g.length;R++){I.index>R?(L=I,I=null):L=I.sibling;var A=h(f,I,g[R],w);if(A===null){I===null&&(I=L);break}e&&I&&A.alternate===null&&t(f,I),m=s(A,m,R),D===null?S=A:D.sibling=A,D=A,I=L}if(R===g.length)return n(f,I),S;if(I===null){for(;R<g.length;R++)I=d(f,g[R],w),I!==null&&(m=s(I,m,R),D===null?S=I:D.sibling=I,D=I);return S}for(I=r(f,I);R<g.length;R++)L=v(I,f,R,g[R],w),L!==null&&(e&&L.alternate!==null&&I.delete(L.key===null?R:L.key),m=s(L,m,R),D===null?S=L:D.sibling=L,D=L);return e&&I.forEach(function(Q){return t(f,Q)}),S}function y(f,m,g,w){var S=Bi(g);if(typeof S!="function")throw Error($(150));if(g=S.call(g),g==null)throw Error($(151));for(var D=S=null,I=m,R=m=0,L=null,A=g.next();I!==null&&!A.done;R++,A=g.next()){I.index>R?(L=I,I=null):L=I.sibling;var Q=h(f,I,A.value,w);if(Q===null){I===null&&(I=L);break}e&&I&&Q.alternate===null&&t(f,I),m=s(Q,m,R),D===null?S=Q:D.sibling=Q,D=Q,I=L}if(A.done)return n(f,I),S;if(I===null){for(;!A.done;R++,A=g.next())A=d(f,A.value,w),A!==null&&(m=s(A,m,R),D===null?S=A:D.sibling=A,D=A);return S}for(I=r(f,I);!A.done;R++,A=g.next())A=v(I,f,R,A.value,w),A!==null&&(e&&A.alternate!==null&&I.delete(A.key===null?R:A.key),m=s(A,m,R),D===null?S=A:D.sibling=A,D=A);return e&&I.forEach(function(Ot){return t(f,Ot)}),S}return function(f,m,g,w){var S=typeof g=="object"&&g!==null&&g.type===Sn&&g.key===null;S&&(g=g.props.children);var D=typeof g=="object"&&g!==null;if(D)switch(g.$$typeof){case ns:e:{for(D=g.key,S=m;S!==null;){if(S.key===D){switch(S.tag){case 7:if(g.type===Sn){n(f,S.sibling),m=i(S,g.props.children),m.return=f,f=m;break e}break;default:if(S.elementType===g.type){n(f,S.sibling),m=i(S,g.props),m.ref=Ki(f,S,g),m.return=f,f=m;break e}}n(f,S);break}else t(f,S);S=S.sibling}g.type===Sn?(m=oi(g.props.children,f.mode,w,g.key),m.return=f,f=m):(w=wa(g.type,g.key,g.props,null,f.mode,w),w.ref=Ki(f,m,g),w.return=f,f=w)}return o(f);case lr:e:{for(S=g.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(f,m.sibling),m=i(m,g.children||[]),m.return=f,f=m;break e}else{n(f,m);break}else t(f,m);m=m.sibling}m=Cc(g,f.mode,w),m.return=f,f=m}return o(f)}if(typeof g=="string"||typeof g=="number")return g=""+g,m!==null&&m.tag===6?(n(f,m.sibling),m=i(m,g),m.return=f,f=m):(n(f,m),m=xc(g,f.mode,w),m.return=f,f=m),o(f);if(Zo(g))return E(f,m,g,w);if(Bi(g))return y(f,m,g,w);if(D&&ea(f,g),typeof g>"u"&&!S)switch(f.tag){case 1:case 22:case 0:case 11:case 15:throw Error($(152,Xr(f.type)||"Component"))}return n(f,m)}}var al=Iw(!0),Nw=Iw(!1),Io={},Jt=Jn(Io),ro=Jn(Io),io=Jn(Io);function hr(e){if(e===Io)throw Error($(174));return e}function zh(e,t){switch(xe(io,t),xe(ro,e),xe(Jt,Io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_h(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_h(t,e)}pe(Jt),xe(Jt,t)}function wi(){pe(Jt),pe(ro),pe(io)}function Ag(e){hr(io.current);var t=hr(Jt.current),n=_h(t,e.type);t!==n&&(xe(ro,e),xe(Jt,n))}function Hd(e){ro.current===e&&(pe(Jt),pe(ro))}var Se=Jn(0);function ll(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cn=null,Tn=null,Zt=!1;function $w(e,t){var n=At(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function _g(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Hh(e){if(Zt){var t=Tn;if(t){var n=t;if(!_g(e,t)){if(t=ti(n.nextSibling),!t||!_g(e,t)){e.flags=e.flags&-1025|2,Zt=!1,cn=e;return}$w(cn,n)}cn=e,Tn=ti(t.firstChild)}else e.flags=e.flags&-1025|2,Zt=!1,cn=e}}function Ig(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cn=e}function ta(e){if(e!==cn)return!1;if(!Zt)return Ig(e),Zt=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Lh(t,e.memoizedProps))for(t=Tn;t;)$w(e,t),t=ti(t.nextSibling);if(Ig(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tn=ti(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tn=null}}else Tn=cn?ti(e.stateNode.nextSibling):null;return!0}function vc(){Tn=cn=null,Zt=!1}var ri=[];function Wd(){for(var e=0;e<ri.length;e++)ri[e]._workInProgressVersionPrimary=null;ri.length=0}var Ss=Nr.ReactCurrentDispatcher,It=Nr.ReactCurrentBatchConfig,so=0,Te=null,Ze=null,He=null,ul=!1,xs=!1;function dt(){throw Error($(321))}function Gd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Kd(e,t,n,r,i,s){if(so=s,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ss.current=e===null||e.memoizedState===null?r$:i$,e=n(r,i),xs){s=0;do{if(xs=!1,!(25>s))throw Error($(301));s+=1,He=Ze=null,t.updateQueue=null,Ss.current=s$,e=n(r,i)}while(xs)}if(Ss.current=dl,t=Ze!==null&&Ze.next!==null,so=0,He=Ze=Te=null,ul=!1,t)throw Error($(300));return e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Te.memoizedState=He=e:He=He.next=e,He}function Pr(){if(Ze===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=He===null?Te.memoizedState:He.next;if(t!==null)He=t,Ze=e;else{if(e===null)throw Error($(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},He===null?Te.memoizedState=He=e:He=He.next=e}return He}function qt(e,t){return typeof t=="function"?t(e):t}function Qi(e){var t=Pr(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=Ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var u=l.lane;if((so&u)===u)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=c,s=r):a=a.next=c,Te.lanes|=u,No|=u}l=l.next}while(l!==null&&l!==i);a===null?s=r:a.next=o,Tt(r,t.memoizedState)||(Bt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function qi(e){var t=Pr(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Tt(s,t.memoizedState)||(Bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ng(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(so&e)===e)&&(t._workInProgressVersionPrimary=r,ri.push(t))),e)return n(t._source);throw ri.push(t),Error($(350))}function Pw(e,t,n,r){var i=ct;if(i===null)throw Error($(349));var s=t._getVersion,o=s(t._source),a=Ss.current,l=a.useState(function(){return Ng(i,t,n)}),u=l[1],c=l[0];l=He;var d=e.memoizedState,h=d.refs,v=h.getSnapshot,E=d.source;d=d.subscribe;var y=Te;return e.memoizedState={refs:h,source:t,subscribe:r},a.useEffect(function(){h.getSnapshot=n,h.setSnapshot=u;var f=s(t._source);if(!Tt(o,f)){f=n(t._source),Tt(c,f)||(u(f),f=Rn(y),i.mutableReadLanes|=f&i.pendingLanes),f=i.mutableReadLanes,i.entangledLanes|=f;for(var m=i.entanglements,g=f;0<g;){var w=31-Wn(g),S=1<<w;m[w]|=f,g&=~S}}},[n,t,r]),a.useEffect(function(){return r(t._source,function(){var f=h.getSnapshot,m=h.setSnapshot;try{m(f(t._source));var g=Rn(y);i.mutableReadLanes|=g&i.pendingLanes}catch(w){m(function(){throw w})}})},[t,r]),Tt(v,n)&&Tt(E,t)&&Tt(d,r)||(e={pending:null,dispatch:null,lastRenderedReducer:qt,lastRenderedState:c},e.dispatch=u=Yd.bind(null,Te,e),l.queue=e,l.baseQueue=null,c=Ng(i,t,n),l.memoizedState=l.baseState=c),c}function Dw(e,t,n){var r=Pr();return Pw(r,e,t,n)}function Yi(e){var t=fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:qt,lastRenderedState:e},e=e.dispatch=Yd.bind(null,Te,e),[t.memoizedState,e]}function cl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $g(e){var t=fr();return e={current:e},t.memoizedState=e}function hl(){return Pr().memoizedState}function Wh(e,t,n,r){var i=fr();Te.flags|=e,i.memoizedState=cl(1|t,n,void 0,r===void 0?null:r)}function Qd(e,t,n,r){var i=Pr();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,r!==null&&Gd(r,o.deps)){cl(t,n,s,r);return}}Te.flags|=e,i.memoizedState=cl(1|t,n,s,r)}function Pg(e,t){return Wh(516,4,e,t)}function fl(e,t){return Qd(516,4,e,t)}function bw(e,t){return Qd(4,2,e,t)}function Ow(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mw(e,t,n){return n=n!=null?n.concat([e]):null,Qd(4,2,Ow.bind(null,t,e),n)}function qd(){}function jw(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Rw(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function n$(e,t){var n=vi();Cr(98>n?98:n,function(){e(!0)}),Cr(97<n?97:n,function(){var r=It.transition;It.transition=1;try{e(!1),t()}finally{It.transition=r}})}function Yd(e,t,n){var r=wt(),i=Rn(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Te||o!==null&&o===Te)xs=ul=!0;else{if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,Tt(l,a))return}catch{}finally{}Ln(e,i,r)}}var dl={readContext:Nt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useOpaqueIdentifier:dt,unstable_isNewReconciler:!1},r$={readContext:Nt,useCallback:function(e,t){return fr().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:Pg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wh(4,2,Ow.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wh(4,2,e,t)},useMemo:function(e,t){var n=fr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Yd.bind(null,Te,e),[r.memoizedState,e]},useRef:$g,useState:Yi,useDebugValue:qd,useDeferredValue:function(e){var t=Yi(e),n=t[0],r=t[1];return Pg(function(){var i=It.transition;It.transition=1;try{r(e)}finally{It.transition=i}},[e]),n},useTransition:function(){var e=Yi(!1),t=e[0];return e=n$.bind(null,e[1]),$g(e),[e,t]},useMutableSource:function(e,t,n){var r=fr();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Pw(r,e,t,n)},useOpaqueIdentifier:function(){if(Zt){var e=!1,t=YN(function(){throw e||(e=!0,n("r:"+(mc++).toString(36))),Error($(355))}),n=Yi(t)[1];return!(Te.mode&2)&&(Te.flags|=516,cl(5,function(){n("r:"+(mc++).toString(36))},void 0,null)),t}return t="r:"+(mc++).toString(36),Yi(t),t},unstable_isNewReconciler:!1},i$={readContext:Nt,useCallback:jw,useContext:Nt,useEffect:fl,useImperativeHandle:Mw,useLayoutEffect:bw,useMemo:Rw,useReducer:Qi,useRef:hl,useState:function(){return Qi(qt)},useDebugValue:qd,useDeferredValue:function(e){var t=Qi(qt),n=t[0],r=t[1];return fl(function(){var i=It.transition;It.transition=1;try{r(e)}finally{It.transition=i}},[e]),n},useTransition:function(){var e=Qi(qt)[0];return[hl().current,e]},useMutableSource:Dw,useOpaqueIdentifier:function(){return Qi(qt)[0]},unstable_isNewReconciler:!1},s$={readContext:Nt,useCallback:jw,useContext:Nt,useEffect:fl,useImperativeHandle:Mw,useLayoutEffect:bw,useMemo:Rw,useReducer:qi,useRef:hl,useState:function(){return qi(qt)},useDebugValue:qd,useDeferredValue:function(e){var t=qi(qt),n=t[0],r=t[1];return fl(function(){var i=It.transition;It.transition=1;try{r(e)}finally{It.transition=i}},[e]),n},useTransition:function(){var e=qi(qt)[0];return[hl().current,e]},useMutableSource:Dw,useOpaqueIdentifier:function(){return qi(qt)[0]},unstable_isNewReconciler:!1},o$=Nr.ReactCurrentOwner,Bt=!1;function pt(e,t,n,r){t.child=e===null?Nw(t,null,n,r):al(t,e.child,n,r)}function Dg(e,t,n,r,i){n=n.render;var s=t.ref;return ni(t,i),r=Kd(e,t,n,r,s,i),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hn(e,t,i)):(t.flags|=1,pt(e,t,r,i),t.child)}function bg(e,t,n,r,i,s){if(e===null){var o=n.type;return typeof o=="function"&&!np(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Lw(e,t,o,r,i,s)):(e=wa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}return o=e.child,!(i&s)&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:Zs,n(i,r)&&e.ref===t.ref)?hn(e,t,s):(t.flags|=1,e=Qn(o,r),e.ref=t.ref,e.return=t,t.child=e)}function Lw(e,t,n,r,i,s){if(e!==null&&Zs(e.memoizedProps,r)&&e.ref===t.ref)if(Bt=!1,(s&i)!==0)e.flags&16384&&(Bt=!0);else return t.lanes=e.lanes,hn(e,t,s);return Gh(e,t,n,r,s)}function wc(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(t.mode&4))t.memoizedState={baseLanes:0},ra(t,n);else if(n&1073741824)t.memoizedState={baseLanes:0},ra(t,s!==null?s.baseLanes:n);else return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ra(t,e),null;else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ra(t,r);return pt(e,t,i,n),t.child}function Fw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function Gh(e,t,n,r,i){var s=gt(n)?xr:ot.current;return s=yi(t,s),ni(t,i),n=Kd(e,t,n,r,s,i),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,hn(e,t,i)):(t.flags|=1,pt(e,t,n,i),t.child)}function Og(e,t,n,r,i){if(gt(n)){var s=!0;pa(t)}else s=!1;if(ni(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),_w(t,n,r),Vh(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=gt(n)?xr:ot.current,u=yi(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Tg(t,o,r,u),En=!1;var h=t.memoizedState;o.state=h,no(t,r,o,i),l=t.memoizedState,a!==r||h!==l||mt.current||En?(typeof c=="function"&&(ol(t,n,c,r),l=t.memoizedState),(a=En||kg(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4)):(typeof o.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{o=t.stateNode,Tw(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Lt(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nt(l):(l=gt(n)?xr:ot.current,l=yi(t,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Tg(t,o,r,l),En=!1,h=t.memoizedState,o.state=h,no(t,r,o,i);var E=t.memoizedState;a!==d||h!==E||mt.current||En?(typeof v=="function"&&(ol(t,n,v,r),E=t.memoizedState),(u=En||kg(t,n,u,r,h,E,l))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Kh(e,t,n,r,s,i)}function Kh(e,t,n,r,i,s){Fw(e,t);var o=(t.flags&64)!==0;if(!r&&!o)return i&&wg(t,n,!1),hn(e,t,s);r=t.stateNode,o$.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=al(t,e.child,null,s),t.child=al(t,null,a,s)):pt(e,t,a,s),t.memoizedState=r.state,i&&wg(t,n,!0),t.child}function Mg(e){var t=e.stateNode;t.pendingContext?vg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vg(e,t.context,!1),zh(e,t.containerInfo)}var na={dehydrated:null,retryLane:0};function jg(e,t,n){var r=t.pendingProps,i=Se.current,s=!1,o;return(o=(t.flags&64)!==0)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),xe(Se,i&1),e===null?(r.fallback!==void 0&&Hh(t),e=r.children,i=r.fallback,s?(e=Rg(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=na,e):typeof r.unstable_expectedLoadTime=="number"?(e=Rg(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=na,t.lanes=33554432,e):(n=rp({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?s?(r=Fg(e,t,r.children,r.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=na,r):(n=Lg(e,t,r.children,n),t.memoizedState=null,n):s?(r=Fg(e,t,r.children,r.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=na,r):(n=Lg(e,t,r.children,n),t.memoizedState=null,n)}function Rg(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=t):s=rp(t,i,0,null),n=oi(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function Lg(e,t,n,r){var i=e.child;return e=i.sibling,n=Qn(i,{mode:"visible",children:n}),!(t.mode&2)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Fg(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return!(s&2)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=a,o=n.lastEffect,o!==null?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Qn(o,a),e!==null?r=Qn(e,r):(r=oi(r,s,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ug(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kw(e.return,t)}function Ec(e,t,n,r,i,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function Bg(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(pt(e,t,r.children,n),r=Se.current,r&2)r=r&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ug(e,n);else if(e.tag===19)Ug(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Se,r),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ll(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ec(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ll(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ec(t,!0,n,null,s,t.lastEffect);break;case"together":Ec(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),No|=t.lanes,n&t.childLanes){if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var Uw,Qh,Bw,Vw;Uw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qh=function(){};Bw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,hr(Jt.current);var s=null;switch(n){case"input":i=Sh(e,i),r=Sh(e,r),s=[];break;case"option":i=kh(e,i),r=kh(e,r),s=[];break;case"select":i=ge({},i,{value:void 0}),r=ge({},r,{value:void 0}),s=[];break;case"textarea":i=Th(e,i),r=Th(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=el)}Ih(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fe("scroll",e),s||a===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===Cd?l.toString():(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Vw=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xi(e,t){if(!Zt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function a$(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gt(t.type)&&nl(),null;case 3:return wi(),pe(mt),pe(ot),Wd(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ta(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qh(t),null;case 5:Hd(t);var i=hr(io.current);if(n=t.type,e!==null&&t.stateNode!=null)Bw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error($(166));return null}if(e=hr(Jt.current),ta(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[kn]=t,r[tl]=s,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(e=0;e<is.length;e++)fe(is[e],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Bm(r,s),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fe("invalid",r);break;case"textarea":zm(r,s),fe("invalid",r)}Ih(n,s),e=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):Gs.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&fe("scroll",r));switch(n){case"input":qo(r),Vm(r,s,!0);break;case"textarea":qo(r),Hm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=el)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,e===Ah.html&&(e=M1(n)),e===Ah.html?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[kn]=t,e[tl]=r,Uw(e,t,!1,!1),t.stateNode=e,o=Nh(n,r),n){case"dialog":fe("cancel",e),fe("close",e),i=r;break;case"iframe":case"object":case"embed":fe("load",e),i=r;break;case"video":case"audio":for(i=0;i<is.length;i++)fe(is[i],e);i=r;break;case"source":fe("error",e),i=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),i=r;break;case"details":fe("toggle",e),i=r;break;case"input":Bm(e,r),i=Sh(e,r),fe("invalid",e);break;case"option":i=kh(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ge({},r,{value:void 0}),fe("invalid",e);break;case"textarea":zm(e,r),i=Th(e,r),fe("invalid",e);break;default:i=r}Ih(n,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?L1(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j1(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ks(e,l):typeof l=="number"&&Ks(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gs.hasOwnProperty(s)?l!=null&&s==="onScroll"&&fe("scroll",e):l!=null&&yd(e,s,l,o))}switch(n){case"input":qo(e),Vm(e,r,!1);break;case"textarea":qo(e),Hm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Jr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=el)}mw(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)Vw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));n=hr(io.current),hr(Jt.current),ta(t)?(r=t.stateNode,n=t.memoizedProps,r[kn]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=t,t.stateNode=r)}return null;case 13:return pe(Se),r=t.memoizedState,t.flags&64?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&ta(t):n=e.memoizedState!==null,r&&!n&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||Se.current&1?Ge===0&&(Ge=3):((Ge===0||Ge===3)&&(Ge=4),ct===null||!(No&134217727)&&!(Oi&134217727)||ii(ct,st))),(r||n)&&(t.flags|=4),null);case 4:return wi(),Qh(t),e===null&&fw(t.stateNode.containerInfo),null;case 10:return Vd(t),null;case 17:return gt(t.type)&&nl(),null;case 19:if(pe(Se),r=t.memoizedState,r===null)return null;if(s=(t.flags&64)!==0,o=r.rendering,o===null)if(s)Xi(r,!1);else{if(Ge!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(o=ll(e),o!==null){for(t.flags|=64,Xi(r,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Se,Se.current&1|2),t.child}e=e.sibling}r.tail!==null&&nt()>ef&&(t.flags|=64,s=!0,Xi(r,!1),t.lanes=33554432)}else{if(!s)if(e=ll(o),e!==null){if(t.flags|=64,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Zt)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*nt()-r.renderingStartTime>ef&&n!==1073741824&&(t.flags|=64,s=!0,Xi(r,!1),t.lanes=33554432);r.isBackwards?(o.sibling=t.child,t.child=o):(n=r.last,n!==null?n.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=nt(),n.sibling=null,t=Se.current,xe(Se,s?t&1|2:t&1),n):null;case 23:case 24:return tp(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error($(156,t.tag))}function l$(e){switch(e.tag){case 1:gt(e.type)&&nl();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(wi(),pe(mt),pe(ot),Wd(),t=e.flags,t&64)throw Error($(285));return e.flags=t&-4097|64,e;case 5:return Hd(e),null;case 13:return pe(Se),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return pe(Se),null;case 4:return wi(),null;case 10:return Vd(e),null;case 23:case 24:return tp(),null;default:return null}}function Xd(e,t){try{var n="",r=t;do n+=VI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i}}function qh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var u$=typeof WeakMap=="function"?WeakMap:Map;function zw(e,t,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ml||(ml=!0,tf=r),qh(e,t)},n}function Hw(e,t,n){n=Mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return qh(e,t),r(i)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this),qh(e,t));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}var c$=typeof WeakSet=="function"?WeakSet:Set;function Vg(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Fn(e,n)}else t.current=null}function h$(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Lt(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&Ld(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error($(163))}function f$(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,i&4&&i&1&&(Zw(n,e),E$(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Lt(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&Cg(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Cg(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&mw(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Q1(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error($(163))}function zg(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=R1("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Hg(e,t){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Fd,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)Zw(t,n);else{r=t;try{i()}catch(s){Fn(r,s)}}n=n.next}while(n!==e)}break;case 1:if(Vg(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){Fn(t,s)}break;case 5:Vg(t);break;case 4:Ww(e,t)}}function Wg(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Gg(e){return e.tag===5||e.tag===3||e.tag===4}function Kg(e){e:{for(var t=e.return;t!==null;){if(Gg(t))break e;t=t.return}throw Error($(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error($(161))}n.flags&16&&(Ks(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||Gg(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Yh(e,n,t):Xh(e,n,t)}function Yh(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=el));else if(r!==4&&(e=e.child,e!==null))for(Yh(e,t,n),e=e.sibling;e!==null;)Yh(e,t,n),e=e.sibling}function Xh(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xh(e,t,n),e=e.sibling;e!==null;)Xh(e,t,n),e=e.sibling}function Ww(e,t){for(var n=t,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error($(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=e,a=n,l=a;;)if(Hg(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,a=n.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(Hg(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Sc(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,s!==null){for(n[tl]=r,e==="input"&&r.type==="radio"&&r.name!=null&&b1(n,r),Nh(e,i),t=Nh(e,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?L1(n,a):o==="dangerouslySetInnerHTML"?j1(n,a):o==="children"?Ks(n,a):yd(n,o,a,t)}switch(e){case"input":xh(n,r);break;case"textarea":O1(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Jr(n,!!r.multiple,s,!1):e!==!!r.multiple&&(r.defaultValue!=null?Jr(n,!!r.multiple,r.defaultValue,!0):Jr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error($(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,Q1(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(ep=nt(),zg(t.child,!0)),Qg(t);return;case 19:Qg(t);return;case 17:return;case 23:case 24:zg(t,t.memoizedState!==null);return}throw Error($(163))}function Qg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new c$),t.forEach(function(r){var i=C$.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function d$(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var p$=Math.ceil,pl=Nr.ReactCurrentDispatcher,Jd=Nr.ReactCurrentOwner,V=0,ct=null,$e=null,st=0,kr=0,Jh=Jn(0),Ge=0,Tu=null,bi=0,No=0,Oi=0,Zd=0,Zh=null,ep=0,ef=1/0;function Mi(){ef=nt()+500}var j=null,ml=!1,tf=null,Yt=null,Kn=!1,Cs=null,ss=90,nf=[],rf=[],fn=null,ks=0,sf=null,ga=-1,an=0,ya=0,Ts=null,va=!1;function wt(){return V&48?nt():ga!==-1?ga:ga=nt()}function Rn(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return vi()===99?1:2;if(an===0&&(an=bi),t$.transition!==0){ya!==0&&(ya=Zh!==null?Zh.pendingLanes:0),e=an;var t=4186112&~ya;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=vi(),V&4&&e===98?e=Ja(12,an):(e=iN(e),e=Ja(e,an)),e}function Ln(e,t,n){if(50<ks)throw ks=0,sf=null,Error($(185));if(e=Au(e,t),e===null)return null;vu(e,t,n),e===ct&&(Oi|=t,Ge===4&&ii(e,st));var r=vi();t===1?V&8&&!(V&48)?of(e):($t(e,n),V===0&&(Mi(),nn())):(!(V&4)||r!==98&&r!==99||(fn===null?fn=new Set([e]):fn.add(e)),$t(e,n)),Zh=e}function Au(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function $t(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Wn(o),l=1<<a,u=s[a];if(u===-1){if(!(l&r)||l&i){u=t,jr(l);var c=ce;s[a]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);o&=~l}if(r=Xs(e,e===ct?st:0),t=ce,r===0)n!==null&&(n!==gc&&Uh(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==gc&&Uh(n)}t===15?(n=of.bind(null,e),on===null?(on=[n],ma=Ud(Cu,Cw)):on.push(n),n=gc):t===14?n=to(99,of.bind(null,e)):(n=sN(t),n=to(n,Gw.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Gw(e){if(ga=-1,ya=an=0,V&48)throw Error($(327));var t=e.callbackNode;if(Zn()&&e.callbackNode!==t)return null;var n=Xs(e,e===ct?st:0);if(n===0)return null;var r=n,i=V;V|=16;var s=Yw();(ct!==e||st!==r)&&(Mi(),si(e,r));do try{y$();break}catch(a){qw(e,a)}while(1);if(Bd(),pl.current=s,V=i,$e!==null?r=0:(ct=null,st=0,r=Ge),bi&Oi)si(e,0);else if(r!==0){if(r===2&&(V|=64,e.hydrate&&(e.hydrate=!1,Ld(e.containerInfo)),n=tw(e),n!==0&&(r=os(e,n))),r===1)throw t=Tu,si(e,0),ii(e,n),$t(e,nt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error($(345));case 2:rr(e);break;case 3:if(ii(e,n),(n&62914560)===n&&(r=ep+500-nt(),10<r)){if(Xs(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){wt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mg(rr.bind(null,e),r);break}rr(e);break;case 4:if(ii(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var o=31-Wn(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*p$(n/1960))-n,10<n){e.timeoutHandle=mg(rr.bind(null,e),n);break}rr(e);break;case 5:rr(e);break;default:throw Error($(329))}}return $t(e,nt()),e.callbackNode===t?Gw.bind(null,e):null}function ii(e,t){for(t&=~Zd,t&=~Oi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wn(t),r=1<<n;e[n]=-1,t&=~r}}function of(e){if(V&48)throw Error($(327));if(Zn(),e===ct&&e.expiredLanes&st){var t=st,n=os(e,t);bi&Oi&&(t=Xs(e,t),n=os(e,t))}else t=Xs(e,0),n=os(e,t);if(e.tag!==0&&n===2&&(V|=64,e.hydrate&&(e.hydrate=!1,Ld(e.containerInfo)),t=tw(e),t!==0&&(n=os(e,t))),n===1)throw n=Tu,si(e,0),ii(e,t),$t(e,nt()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e),$t(e,nt()),null}function m$(){if(fn!==null){var e=fn;fn=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,$t(t,nt())})}nn()}function Kw(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(Mi(),nn())}}function Qw(e,t){var n=V;V&=-2,V|=8;try{return e(t)}finally{V=n,V===0&&(Mi(),nn())}}function ra(e,t){xe(Jh,kr),kr|=t,bi|=t}function tp(){kr=Jh.current,pe(Jh)}function si(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qN(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&nl();break;case 3:wi(),pe(mt),pe(ot),Wd();break;case 5:Hd(r);break;case 4:wi();break;case 13:pe(Se);break;case 19:pe(Se);break;case 10:Vd(r);break;case 23:case 24:tp()}n=n.return}ct=e,$e=Qn(e.current,null),st=kr=bi=t,Ge=0,Tu=null,Zd=Oi=No=0}function qw(e,t){do{var n=$e;try{if(Bd(),Ss.current=dl,ul){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ul=!1}if(so=0,He=Ze=Te=null,xs=!1,Jd.current=null,n===null||n.return===null){Ge=1,Tu=t,$e=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=st,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l;if(!(a.mode&2)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=(Se.current&1)!==0,h=o;do{var v;if(v=h.tag===13){var E=h.memoizedState;if(E!==null)v=E.dehydrated!==null;else{var y=h.memoizedProps;v=y.fallback===void 0?!1:y.unstable_avoidThisFallback!==!0?!0:!d}}if(v){var f=h.updateQueue;if(f===null){var m=new Set;m.add(u),h.updateQueue=m}else f.add(u);if(!(h.mode&2)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var g=Mn(-1,1);g.tag=2,jn(a,g)}a.lanes|=1;break e}l=void 0,a=t;var w=s.pingCache;if(w===null?(w=s.pingCache=new u$,l=new Set,w.set(u,l)):(l=w.get(u),l===void 0&&(l=new Set,w.set(u,l))),!l.has(a)){l.add(a);var S=x$.bind(null,s,u,a);u.then(S,S)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(h!==null);l=Error((Xr(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ge!==5&&(Ge=2),l=Xd(l,a),h=o;do{switch(h.tag){case 3:s=l,h.flags|=4096,t&=-t,h.lanes|=t;var D=zw(h,s,t);xg(h,D);break e;case 1:s=l;var I=h.type,R=h.stateNode;if(!(h.flags&64)&&(typeof I.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Yt===null||!Yt.has(R)))){h.flags|=4096,t&=-t,h.lanes|=t;var L=Hw(h,s,t);xg(h,L);break e}}h=h.return}while(h!==null)}Jw(n)}catch(A){t=A,$e===n&&n!==null&&($e=n=n.return);continue}break}while(1)}function Yw(){var e=pl.current;return pl.current=dl,e===null?dl:e}function os(e,t){var n=V;V|=16;var r=Yw();ct===e&&st===t||si(e,t);do try{g$();break}catch(i){qw(e,i)}while(1);if(Bd(),V=n,pl.current=r,$e!==null)throw Error($(261));return ct=null,st=0,Ge}function g$(){for(;$e!==null;)Xw($e)}function y$(){for(;$e!==null&&!JN();)Xw($e)}function Xw(e){var t=eE(e.alternate,e,kr);e.memoizedProps=e.pendingProps,t===null?Jw(e):$e=t,Jd.current=null}function Jw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&2048){if(n=l$(t),n!==null){n.flags&=2047,$e=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(n=a$(n,t,kr),n!==null){$e=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||kr&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ge===0&&(Ge=5)}function rr(e){var t=vi();return Cr(99,v$.bind(null,e,t)),null}function v$(e,t){do Zn();while(Cs!==null);if(V&48)throw Error($(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,a=e.expirationTimes;0<s;){var l=31-Wn(s),u=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~u}if(fn!==null&&!(r&24)&&fn.has(e)&&fn.delete(e),e===ct&&($e=ct=null,st=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=V,V|=32,Jd.current=null,dc=ha,o=lg(),Mh(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(u=a.getSelection&&a.getSelection())&&u.rangeCount!==0){a=u.anchorNode,s=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var c=0,d=-1,h=-1,v=0,E=0,y=o,f=null;t:for(;;){for(var m;y!==a||s!==0&&y.nodeType!==3||(d=c+s),y!==l||u!==0&&y.nodeType!==3||(h=c+u),y.nodeType===3&&(c+=y.nodeValue.length),(m=y.firstChild)!==null;)f=y,y=m;for(;;){if(y===o)break t;if(f===a&&++v===s&&(d=c),f===l&&++E===u&&(h=c),(m=y.nextSibling)!==null)break;y=f,f=y.parentNode}y=m}a=d===-1||h===-1?null:{start:d,end:h}}else a=null;a=a||{start:0,end:0}}else a=null;pc={focusedElem:o,selectionRange:a},ha=!1,Ts=null,va=!1,j=r;do try{w$()}catch(A){if(j===null)throw Error($(330));Fn(j,A),j=j.nextEffect}while(j!==null);Ts=null,j=r;do try{for(o=e;j!==null;){var g=j.flags;if(g&16&&Ks(j.stateNode,""),g&128){var w=j.alternate;if(w!==null){var S=w.ref;S!==null&&(typeof S=="function"?S(null):S.current=null)}}switch(g&1038){case 2:Kg(j),j.flags&=-3;break;case 6:Kg(j),j.flags&=-3,Sc(j.alternate,j);break;case 1024:j.flags&=-1025;break;case 1028:j.flags&=-1025,Sc(j.alternate,j);break;case 4:Sc(j.alternate,j);break;case 8:a=j,Ww(o,a);var D=a.alternate;Wg(a),D!==null&&Wg(D)}j=j.nextEffect}}catch(A){if(j===null)throw Error($(330));Fn(j,A),j=j.nextEffect}while(j!==null);if(S=pc,w=lg(),g=S.focusedElem,o=S.selectionRange,w!==g&&g&&g.ownerDocument&&uw(g.ownerDocument.documentElement,g)){for(o!==null&&Mh(g)&&(w=o.start,S=o.end,S===void 0&&(S=w),"selectionStart"in g?(g.selectionStart=w,g.selectionEnd=Math.min(S,g.value.length)):(S=(w=g.ownerDocument||document)&&w.defaultView||window,S.getSelection&&(S=S.getSelection(),a=g.textContent.length,D=Math.min(o.start,a),o=o.end===void 0?D:Math.min(o.end,a),!S.extend&&D>o&&(a=o,o=D,D=a),a=ag(g,D),s=ag(g,o),a&&s&&(S.rangeCount!==1||S.anchorNode!==a.node||S.anchorOffset!==a.offset||S.focusNode!==s.node||S.focusOffset!==s.offset)&&(w=w.createRange(),w.setStart(a.node,a.offset),S.removeAllRanges(),D>o?(S.addRange(w),S.extend(s.node,s.offset)):(w.setEnd(s.node,s.offset),S.addRange(w)))))),w=[],S=g;S=S.parentNode;)S.nodeType===1&&w.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<w.length;g++)S=w[g],S.element.scrollLeft=S.left,S.element.scrollTop=S.top}ha=!!dc,pc=dc=null,e.current=n,j=r;do try{for(g=e;j!==null;){var I=j.flags;if(I&36&&f$(g,j.alternate,j),I&128){w=void 0;var R=j.ref;if(R!==null){var L=j.stateNode;switch(j.tag){case 5:w=L;break;default:w=L}typeof R=="function"?R(w):R.current=w}}j=j.nextEffect}}catch(A){if(j===null)throw Error($(330));Fn(j,A),j=j.nextEffect}while(j!==null);j=null,e$(),V=i}else e.current=n;if(Kn)Kn=!1,Cs=e,ss=t;else for(j=r;j!==null;)t=j.nextEffect,j.nextEffect=null,j.flags&8&&(I=j,I.sibling=null,I.stateNode=null),j=t;if(r=e.pendingLanes,r===0&&(Yt=null),r===1?e===sf?ks++:(ks=0,sf=e):ks=0,n=n.stateNode,gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Fd,n,void 0,(n.current.flags&64)===64)}catch{}if($t(e,nt()),ml)throw ml=!1,e=tf,tf=null,e;return V&8||nn(),null}function w$(){for(;j!==null;){var e=j.alternate;va||Ts===null||(j.flags&8?Km(j,Ts)&&(va=!0):j.tag===13&&d$(e,j)&&Km(j,Ts)&&(va=!0));var t=j.flags;t&256&&h$(e,j),!(t&512)||Kn||(Kn=!0,to(97,function(){return Zn(),null})),j=j.nextEffect}}function Zn(){if(ss!==90){var e=97<ss?97:ss;return ss=90,Cr(e,S$)}return!1}function E$(e,t){nf.push(t,e),Kn||(Kn=!0,to(97,function(){return Zn(),null}))}function Zw(e,t){rf.push(t,e),Kn||(Kn=!0,to(97,function(){return Zn(),null}))}function S$(){if(Cs===null)return!1;var e=Cs;if(Cs=null,V&48)throw Error($(331));var t=V;V|=32;var n=rf;rf=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error($(330));Fn(s,l)}}for(n=nf,nf=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(s===null)throw Error($(330));Fn(s,l)}}for(a=e.current.firstEffect;a!==null;)e=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=e;return V=t,nn(),!0}function qg(e,t,n){t=Xd(n,t),t=zw(e,t,1),jn(e,t),t=wt(),e=Au(e,1),e!==null&&(vu(e,1,t),$t(e,t))}function Fn(e,t){if(e.tag===3)qg(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){qg(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yt===null||!Yt.has(r))){e=Xd(t,e);var i=Hw(n,e,1);if(jn(n,i),i=wt(),n=Au(n,1),n!==null)vu(n,1,i),$t(n,i);else if(typeof r.componentDidCatch=="function"&&(Yt===null||!Yt.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function x$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&n,ct===e&&(st&n)===n&&(Ge===4||Ge===3&&(st&62914560)===st&&500>nt()-ep?si(e,0):Zd|=n),$t(e,t)}function C$(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(an===0&&(an=bi),t=Rr(62914560&~an),t===0&&(t=4194304)):t=vi()===99?1:2:t=1),n=wt(),e=Au(e,t),e!==null&&(vu(e,t,n),$t(e,n))}var eE;eE=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)Bt=!0;else if(n&r)Bt=!!(e.flags&16384);else{switch(Bt=!1,t.tag){case 3:Mg(t),vc();break;case 5:Ag(t);break;case 1:gt(t.type)&&pa(t);break;case 4:zh(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;xe(rl,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return n&t.child.childLanes?jg(e,t,n):(xe(Se,Se.current&1),t=hn(e,t,n),t!==null?t.sibling:null);xe(Se,Se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&64){if(r)return Bg(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Se,Se.current),r)break;return null;case 23:case 24:return t.lanes=0,wc(e,t,n)}return hn(e,t,n)}else Bt=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,ot.current),ni(t,n),i=Kd(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(r)){var s=!0;pa(t)}else s=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zd(t);var o=r.getDerivedStateFromProps;typeof o=="function"&&ol(t,r,o,e),i.updater=ku,t.stateNode=i,i._reactInternals=t,Vh(t,r,e,n),t=Kh(null,t,r,!0,s,n)}else t.tag=0,pt(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=T$(i),e=Lt(i,e),s){case 0:t=Gh(null,t,i,e,n);break e;case 1:t=Og(null,t,i,e,n);break e;case 11:t=Dg(null,t,i,e,n);break e;case 14:t=bg(null,t,i,Lt(i.type,e),r,n);break e}throw Error($(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),Gh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),Og(e,t,r,i,n);case 3:if(Mg(t),r=t.updateQueue,e===null||r===null)throw Error($(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,Tw(e,t),no(t,r,null,n),r=t.memoizedState.element,r===i)vc(),t=hn(e,t,n);else{if(i=t.stateNode,(s=i.hydrate)&&(Tn=ti(t.stateNode.containerInfo.firstChild),cn=t,s=Zt=!0),s){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)s=e[i],s._workInProgressVersionPrimary=e[i+1],ri.push(s);for(n=Nw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else pt(e,t,r,n),vc();t=t.child}return t;case 5:return Ag(t),e===null&&Hh(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Lh(r,i)?o=null:s!==null&&Lh(r,s)&&(t.flags|=16),Fw(e,t),pt(e,t,o,n),t.child;case 6:return e===null&&Hh(t),null;case 13:return jg(e,t,n);case 4:return zh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=al(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),Dg(e,t,r,i,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value;var a=t.type._context;if(xe(rl,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=Tt(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!mt.current){t=hn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var u=l.firstContext;u!==null;){if(u.context===r&&u.observedBits&s){a.tag===1&&(u=Mn(-1,n&-n),u.tag=2,jn(a,u)),a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),kw(a.return,n),l.lanes|=n;break}u=u.next}}else o=a.tag===10&&a.type===t.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}pt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps,r=s.children,ni(t,n),i=Nt(i,s.unstable_observedBits),r=r(i),t.flags|=1,pt(e,t,r,n),t.child;case 14:return i=t.type,s=Lt(i,t.pendingProps),s=Lt(i.type,s),bg(e,t,i,s,r,n);case 15:return Lw(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gt(r)?(e=!0,pa(t)):e=!1,ni(t,n),_w(t,r,i),Vh(t,r,i,n),Kh(null,t,r,!0,e,n);case 19:return Bg(e,t,n);case 23:return wc(e,t,n);case 24:return wc(e,t,n)}throw Error($(156,t.tag))};function k$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,n,r){return new k$(e,t,n,r)}function np(e){return e=e.prototype,!(!e||!e.isReactComponent)}function T$(e){if(typeof e=="function")return np(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mu)return 11;if(e===gu)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=At(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wa(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")np(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Sn:return oi(n.children,i,s,t);case $1:o=8,i|=16;break;case vd:o=8,i|=1;break;case ps:return e=At(12,n,t,i|8),e.elementType=ps,e.type=ps,e.lanes=s,e;case ms:return e=At(13,n,t,i),e.type=ms,e.elementType=ms,e.lanes=s,e;case Qa:return e=At(19,n,t,i),e.elementType=Qa,e.lanes=s,e;case kd:return rp(n,i,s,t);case Eh:return e=At(24,n,t,i),e.elementType=Eh,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wd:o=10;break e;case Ed:o=9;break e;case mu:o=11;break e;case gu:o=14;break e;case Sd:o=16,r=null;break e;case xd:o=22;break e}throw Error($(130,e==null?e:typeof e,""))}return t=At(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function oi(e,t,n,r){return e=At(7,e,r,t),e.lanes=n,e}function rp(e,t,n,r){return e=At(23,e,r,t),e.elementType=kd,e.lanes=n,e}function xc(e,t,n){return e=At(6,e,null,t),e.lanes=n,e}function Cc(e,t,n){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function A$(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=oc(0),this.expirationTimes=oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.mutableSourceEagerHydrationData=null}function _$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gl(e,t,n,r){var i=t.current,s=wt(),o=Rn(i);e:if(n){n=n._reactInternals;t:{if($r(n)!==n||n.tag!==1)throw Error($(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(gt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error($(171))}if(n.tag===1){var l=n.type;if(gt(l)){n=yw(n,l,a);break e}}n=a}else n=Gn;return t.context===null?t.context=n:t.pendingContext=n,t=Mn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),jn(i,t),Ln(i,o,s),o}function kc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ip(e,t){Yg(e,t),(e=e.alternate)&&Yg(e,t)}function I$(){return null}function sp(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new A$(e,t,n!=null&&n.hydrate===!0),t=At(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,zd(t),e[Di]=n.current,fw(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}sp.prototype.render=function(e){gl(e,this._internalRoot,null,null)};sp.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;gl(null,e,null,function(){t[Di]=null})};function $o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function N$(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new sp(e,0,t?{hydrate:!0}:void 0)}function _u(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var u=kc(o);a.call(u)}}gl(t,o,e,i)}else{if(s=n._reactRootContainer=N$(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var u=kc(o);l.call(u)}}Qw(function(){gl(t,o,e,i)})}return kc(o)}W1=function(e){if(e.tag===13){var t=wt();Ln(e,4,t),ip(e,4)}};Nd=function(e){if(e.tag===13){var t=wt();Ln(e,67108864,t),ip(e,67108864)}};G1=function(e){if(e.tag===13){var t=wt(),n=Rn(e);Ln(e,n,t),ip(e,n)}};K1=function(e,t){return t()};$h=function(e,t,n){switch(t){case"input":if(xh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xu(r);if(!i)throw Error($(90));D1(r),xh(r,i)}}}break;case"textarea":O1(e,n);break;case"select":t=n.value,t!=null&&Jr(e,!!n.multiple,t,!1)}};Ad=Kw;B1=function(e,t,n,r,i){var s=V;V|=4;try{return Cr(98,e.bind(null,t,n,r,i))}finally{V=s,V===0&&(Mi(),nn())}};_d=function(){!(V&49)&&(m$(),Zn())};V1=function(e,t){var n=V;V|=2;try{return e(t)}finally{V=n,V===0&&(Mi(),nn())}};function tE(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$o(t))throw Error($(200));return _$(e,t,null,n)}var $$={Events:[_o,Hr,xu,F1,U1,Zn,{current:!1}]},Ji={findFiberByHostInstance:cr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},P$={bundleType:Ji.bundleType,version:Ji.version,rendererPackageName:Ji.rendererPackageName,rendererConfig:Ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=H1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ji.findFiberByHostInstance||I$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{Fd=ia.inject(P$),gr=ia}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$$;bt.createPortal=tE;bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):Error($(268,Object.keys(e)));return e=H1(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e,t){var n=V;if(n&48)return e(t);V|=1;try{if(e)return Cr(99,e.bind(null,t))}finally{V=n,nn()}};bt.hydrate=function(e,t,n){if(!$o(t))throw Error($(200));return _u(null,e,t,!0,n)};bt.render=function(e,t,n){if(!$o(t))throw Error($(200));return _u(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!$o(e))throw Error($(40));return e._reactRootContainer?(Qw(function(){_u(null,null,e,!1,function(){e._reactRootContainer=null,e[Di]=null})}),!0):!1};bt.unstable_batchedUpdates=Kw;bt.unstable_createPortal=function(e,t){return tE(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$o(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return _u(e,t,n,!1,r)};bt.version="17.0.2";function nE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nE)}catch(e){console.error(e)}}nE(),A1.exports=bt;var D$=A1.exports;const b$=af(D$),O$="modulepreload",M$=function(e){return"/expenses-form/"+e},Xg={},j$=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=M$(s),s in Xg)return;Xg[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":O$,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function R$(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e;let a,l,u;const c=async(h=!0)=>{await l,await(u==null?void 0:u())};async function d(){if("serviceWorker"in navigator){const{Workbox:h}=await j$(()=>import("./workbox-window.prod.es5-a7b12eab.js"),[]);a=new h("/expenses-form/sw.js",{scope:"/expenses-form/",type:"classic"}),u=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let v=!1;const E=()=>{v=!0,a==null||a.addEventListener("controlling",y=>{y.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",y=>{typeof y.isUpdate>"u"?typeof y.isExternal<"u"?y.isExternal?E():!v&&(r==null||r()):y.isExternal?window.location.reload():!v&&(r==null||r()):y.isUpdate||r==null||r()}),a.addEventListener("waiting",E),a.addEventListener("externalwaiting",E)}a.register({immediate:t}).then(v=>{s?s("/expenses-form/sw.js",v):i==null||i(v)}).catch(v=>{o==null||o(v)})}}return l=d(),c}const L$=window.location.hostname==="localhost",F$=R$({onNeedRefresh:function(){(L$||confirm("There is an newer version of this app. Do you want to update?"))&&F$(!0)}}),rE=new pd,iE=new ar,U$=new Ur({expenseManager:rE,paymentAccountsManager:iE,client:new ev}),B$=new DI,V$=new $I({browserStorage:U$,expenseManager:rE,paymentAccountsManager:iE,currencyManager:B$});b$.render(p.jsxs(Tr.StrictMode,{children:[p.jsx(jI,{}),p.jsx(NI,{app:V$})]}),document.getElementById("root"));OI();
